{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6b22\u8fce","text":"<p>\u8fd9\u91cc\u662f\u54c8\u54c8\u5c31\u770b\u89c1\u7684\u4e2a\u4eba\u7f51\u7ad9 https://hahajiukanjian.github.io</p> <ul> <li>\u901a\u8fc7\u4e3b\u9898\u548c\u76ee\u5f55\u4ee5\u6253\u5f00\u6587\u7ae0<ul> <li>PC\u7aef \u5728\u4e0a\u65b9\u6807\u7b7e\u680f\u9009\u62e9\u4e3b\u9898 \u5728\u5de6\u4fa7\u76ee\u5f55\u9009\u62e9\u6587\u7ae0</li> <li>\u79fb\u52a8\u7aef \u70b9\u51fb\u5de6\u4e0a\u89d2\u56fe\u6807\u9009\u62e9\u4e3b\u9898\u548c\u6587\u7ae0</li> </ul> </li> <li>\u641c\u7d22\u5173\u952e\u8bcd\u4ee5\u6253\u5f00\u6587\u7ae0</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/","title":"\u5f00\u53d1","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u6587\u7ae0\u6807\u9898\u4ee5\u67e5\u770b\u6587\u7ae0</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/10%E7%AB%A0/10-2-%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86/","title":"10-2-\u6570\u636e\u6e05\u7406","text":"<ul> <li>\u6839\u636e\u6e05\u7406\u6570\u636e\u7684\u6761\u4ef6\uff0c\u628a\u8868\u4e2d\u7684\u552f\u4e00\u952e\u5b57\u6bb5\u67e5\u8be2\u51fa\u6765</li> <li>\u4ee5\u552f\u4e00\u952e\u4e3a\u6761\u4ef6\uff0c\u5220\u9664\u8868\u4e2d\u8bb0\u5f55</li> </ul> <p>select keyid from T_ZHOBTMIND1 where ddatetime&gt;xxx(xxx); delete from T_ZHOBTMIND1 where keyid in (...);  // \u4e00\u6279\u4e00\u6279\u5220\u9664\uff0c\u4e00\u822c\u4ee5MAXPARAMS\u4e3a\u6807\u51c6</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/10%E7%AB%A0/10-3-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/","title":"10-3-\u6570\u636e\u8fc1\u79fb","text":"<ul> <li>\u6839\u636e\u6e05\u7406\u6570\u636e\u7684\u6761\u4ef6\uff0c\u628a\u8868\u4e2d\u7684\u552f\u4e00\u952e\u5b57\u6bb5\u67e5\u8be2\u51fa\u6765</li> <li>\u4ee5\u552f\u4e00\u952e\u5b57\u6bb5\u4e3a\u6761\u4ef6\uff0c\u628a\u6e90\u8868\u4e2d\u7684\u8bb0\u5f55\u63d2\u5165\u5230\u76ee\u7684\u8868</li> <li>\u4ee5\u552f\u4e00\u952e\u5b57\u6bb5\u4e3a\u6761\u4ef6\uff0c\u5220\u9664\u8868\u4e2d\u8bb0\u5f55</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/10%E7%AB%A0/10-3-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/#maxcountmaxparms256","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528maxcount\u6765\u9650\u5236\u5206\u6279\u8fc1\u79fb\u6570\u636e\u7684\u6570\u636e\u91cf\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5b9a\u4f4dMAXPARMS(256)\uff1f","text":"<ul> <li>\u5982\u679c\u8868\u4e2d\u6709BLOB\u5b57\u6bb5\uff0c\u6bcf\u6279\u8fc1\u79fb\u7684\u6570\u636e\u91cf\u4e0d\u5b9c\u8fc7\u591a</li> <li>\u5982\u679c\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u552f\u4e00\u952e\u51b2\u7a81\uff0c\u4e00\u6761\u8bb0\u5f55\u7684\u5931\u8d25\u4f1a\u5bfc\u81f4\u6574\u6279\u5931\u8d25</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/10%E7%AB%A0/tips-%E6%89%A7%E8%A1%8Cselect/","title":"tips-\u6267\u884cselect","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-4-Oracle-MySQL%E7%9A%84%E5%8C%BA%E5%88%AB/","title":"11-4-Oracle-MySQL\u7684\u533a\u522b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-4-Oracle-MySQL%E7%9A%84%E5%8C%BA%E5%88%AB/#mysql","title":"mysql","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-4-Oracle-MySQL%E7%9A%84%E5%8C%BA%E5%88%AB/#oracle","title":"oracle","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-5-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/","title":"11-5-Oracle\u6570\u636e\u5e93\u5f00\u53d1\u57fa\u7840","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-5-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/#oracle","title":"Oracle \u6570\u636e\u5e93\u5f00\u53d1\u57fa\u7840","text":"<ul> <li>connection \u548c sqlstatement \u7c7b\u7684\u4f7f\u7528\u548c\u7f16\u8bd1</li> <li>Oracle\u9519\u8bef\u4ee3\u7801\uff1b \u52a8\u624b\u5b9e\u8df5\u67e5\u770b\u548cMySQL\u9519\u8bef\u4ee3\u7801\u7684\u533a\u522b</li> <li>\u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\uff08\u67e5\u8be2\u8bed\u53e5\u7684\u7ed3\u679c\u96c6\u3001\u6570\u636e\u5e93\u51fd\u6570\u7684\u4f7f\u7528\uff09</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-5-Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/#mysqloracle","title":"MySQL\u4e0eOracle \u6570\u636e\u5e93\u51fd\u6570\u7684\u517c\u5bb9\u6027\u95ee\u9898\u7684\u89e3\u51b3","text":"<ul> <li>\u5404\u79cd\u6570\u636e\u5e93\u7684\u51fd\u6570\u4e0d\u4e00\u6837\uff0c\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u6570\u636e\u5e93\u63d0\u4f9b\u7684\u51fd\u6570<ul> <li>\u5206\u7ec4\u51fd\u6570\u6ca1\u6709\u533a\u522b  count() max() min() agv() sum()</li> </ul> </li> <li>\u7528\u7f16\u7a0b\u8bed\u8a00\u5b9e\u73b0\u51fd\u6570\u7684\u529f\u80fd\uff08\u6027\u80fd\u548c\u517c\u5bb9\u6027\uff09<ul> <li></li> <li>\u5982 MySQL \u4e2d\u65e5\u671f\u7684\u8868\u793a\u4e3a '%Y-%m-%d %H:%i:%s'  Oracle \u4e2d\u65e5\u671f\u7684\u8868\u793a\u4e3a 'yyyy-mm-dd hh24:mi:ss'</li> <li>\u5bf9\u4e8eC\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u4f7f\u7528%\u4f5c\u4e3a\u65e5\u671f\u7684\u683c\u5f0f\u5316\u8868\u793a\u662f\u975e\u5e38\u75db\u82e6\u7684\u3002 C++<pre><code>    // \u4e3a\u4e86\u548coracle\u517c\u5bb9\n    // \u628ato_date\u89c4\u5236\u6210str_to_date\u3002\n    if (strstr(m_sql,\"str_to_date\")==0) MY__UpdateStr(m_sql,\"to_date\",\"str_to_date\",false);\n    // \u628ato_char\u66ff\u6362\u6210date_format\u3002\n    MY__UpdateStr(m_sql,\"to_char\",\"date_format\",false);\n    // \u628a\"yyyy-mm-dd hh24:mi:ss\"\u66ff\u6362\u6210\"%Y-%m-%d %H:%i:%s\"\n    MY__UpdateStr(m_sql,\"yyyy-mm-dd hh24:mi:ss\",\"%Y-%m-%d %H:%i:%s\",false);\n    // \u628a\"yyyymmddhh24miss\"\u66ff\u6362\u6210\"%Y%m%d%H%i%s\"\n    MY__UpdateStr(m_sql,\"yyyymmddhh24miss\",\"%Y%m%d%H%i%s\",false);\n    // \u5982\u679c\u60f3\u517c\u5bb9oracle\u548cmysql\u66f4\u591a\u7684\u65f6\u95f4\u683c\u5f0f\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u52a0\u4ee3\u7801\u3002\n    // \u4e00\u5b9a\u8981\u628a\u683c\u5f0f\u4e00\u4e00\u5217\u51fa\u6765\uff0c\u4e0d\u80fd\u7528\"yyyy\"\u66ff\u6362\"%Y\"\uff0c\u56e0\u4e3a\u5728SQL\u8bed\u53e5\u7684\u5176\u5b83\u5730\u65b9\u4e5f\u53ef\u80fd\u5b58\u5728\"yyyy\"\u3002\n</code></pre></li> </ul> </li> <li>\u7528\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u51fd\u6570\u89e3\u51b3\u6570\u636e\u5e93\u4e4b\u95f4\u4e0d\u517c\u5bb9\u7684\u95ee\u9898<ul> <li>\u5982oracle\u4e2d\u6ca1\u6709now()\u51fd\u6570\uff0c\u4f46\u662f\u6709sysdate\u51fd\u6570\u3002\u4e3a\u4e86\u517c\u5bb9mysql\u6211\u4eec\u53ef\u4ee5 SQL<pre><code>SQL&gt; create or replace function now return date\n  2  as\n  3  begin\n  4  return sysdate;\n  5  end;\n  6  /\n\n\u51fd\u6570\u5df2\u521b\u5efa\u3002\n</code></pre> \u81ea\u5b9a\u4e49\u4e00\u4e2anow()\u51fd\u6570</li> </ul> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/11%E7%AB%A0/11-9-Oracle%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81%E5%88%A4%E6%96%AD/","title":"11-9-Oracle\u9519\u8bef\u4ee3\u7801\u5224\u65ad","text":"<p>Oracle \u5728 prepare sql \u8bed\u53e5\u4e4b\u540e\uff0cstmt.m_cda.rpc \u4e0d\u4f1a\u8bb0\u5f55\u9519\u8bef\u4ee3\u7801\uff0c\u800c mysql \u4f1a\u8bb0\u5f55\u9519\u8bef\u4ee3\u7801</p> <p>\u56e0\u6b64\u5224\u65ad\u9519\u8bef\u4ee3\u7801\u7684\u6d41\u7a0b\u9700\u8981\u653e\u5728\u6267\u884c(execute)Oracle\u7684sql\u8bed\u53e5\u4e4b\u540e</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/","title":"12-10-\u7ebf\u7a0b\u5b89\u5168-\u7ebf\u7a0b\u540c\u6b65-\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_1","title":"\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<ul> <li>\u4e86\u89e3\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\u6982\u5ff5</li> <li>\u4f7f\u7528 \u4e92\u65a5\u9501 + \u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> <li>\u4f7f\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_2","title":"\u4e86\u89e3\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\u6982\u5ff5","text":"<p>\u591a\u7ebf\u7a0b\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0a\u4e24\u79cd\u65b9\u6cd5\u6765\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b \u591a\u8fdb\u7a0b\u53ea\u80fd\u4f7f\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</p> <p> \u8fd9\u5f20\u56fe\u91cc\u7684\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u5bf9\u5e94\u4e3a\u8fdb\u7a0b/\u7ebf\u7a0b \u5982\u679c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u662f\u4e0d\u540c\u7684\u8fdb\u7a0b\uff0c\u9700\u8981\u4f7f\u7528\u5171\u4eab\u5185\u5b58\u4f5c\u4e3a\u7f13\u5b58 \u5982\u679c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u662f\u540c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u4e0d\u540c\u7ebf\u7a0b\uff0c\u76f4\u63a5\u52a8\u6001\u7684\u5206\u914d\u4e00\u5757\u5185\u5b58\u51fa\u6765\u5c31\u884c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_3","title":"\u4f7f\u7528 \u4e92\u65a5\u9501 + \u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<p>C++<pre><code>// \u6761\u4ef6\u53d8\u91cf\u7684wait\u51fd\u6570\npthread_cond_wait(&amp;cond, &amp;mutex)\n</code></pre> - \u628a\u4e92\u65a5\u9501\u89e3\u9501  \u5f53\u7ebf\u7a0b\u4e00\u5f00\u59cb\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\uff08\u91ca\u653e\u4e92\u65a5\u9501\uff09\u540e\uff0c\u7ebf\u7a0b\u4e8c\u624d\u80fd\u591f\u7533\u8bf7\u4e92\u65a5\u9501\u6210\u529f - \u963b\u585e\uff0c\u7b49\u5f85\u6761\u4ef6\uff08\u88ab\u5524\u9192\uff09  \u5f53\u7ebf\u7a0b\u4e00\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u6210\u529f\uff08\u9501\u4f4f\u4e92\u65a5\u9501\uff09\u540e\uff0c\u7ebf\u7a0b\u4e00\u548c\u7ebf\u7a0b\u4e8c\u90fd\u65e0\u6cd5\u6210\u529f\u7533\u8bf7\u4e92\u65a5\u9501 - \u6761\u4ef6\u89e6\u53d1+\u7ed9\u4e92\u65a5\u9501\u52a0\u9501\uff08\u8fd9\u91cc\u867d\u7136\u662f\u4e24\u6b65\u64cd\u4f5c\uff0c\u4f46\u8fd9\u4e24\u6b65\u5408\u8d77\u6765\u4e3a\u539f\u5b50\u64cd\u4f5c\uff09  \u4e0a\u9762\u7684\u793a\u4f8b\u8bf4\u660e\u8fd9\u4e24\u6b65\u64cd\u4f5c\u662f\u539f\u5b50\u64cd\u4f5c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_4","title":"\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\u5b9e\u73b0","text":"<p>\u91c7\u7528\u6761\u4ef6\u53d8\u91cf\u548c\u4e92\u65a5\u9501\u6765\u5b9e\u73b0\uff08\u6761\u4ef6\u53d8\u91cf\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\uff09 \u6709 \u751f\u4ea7\u8005 \u548c \u6d88\u8d39\u8005 \u7f13\u51b2\u533a</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_5","title":"\u751f\u4ea7\u8005","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_6","title":"\u6d88\u8d39\u8005","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_7","title":"\u7f13\u51b2\u533a","text":"<p> \u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528\u5bb9\u5668\u6765\u4f5c\u4e3a\u7f13\u51b2\u533a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u94fe\u8868...\u53ea\u8981\u662f\u8fdb\u7a0b\u4e2d\u7684\u516c\u5171\u8d44\u6e90\u5c31\u53ef\u4ee5</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_8","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728\u4e0a\u9762\u7684\u5b9e\u73b0\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e09\u4e2a\u7ebf\u7a0b\uff0c\u5e76\u4e14\u751f\u4ea7\u8005\u6bcf\u6b21\u751f\u4ea7\u6570\u636e\u65f6\uff0c\u4e00\u6b21\u751f\u4ea7\u4e09\u4efd\uff0c\u6bcf\u6b21\u53ea\u5524\u9192\u4e00\u4e2a\u7ebf\u7a0b  \u8fd9\u6837\u505a\u5e76\u4e0d\u9ad8\u6548\uff0c\u6211\u4eec\u5e0c\u671b\u7ebf\u7a0b\u80fd\u591f\u5e76\u53d1\u7684\u6267\u884c\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4e00\u6b21\u5524\u9192\u6240\u6709\u7ebf\u7a0b</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_9","title":"\u4e00\u6b21\u5524\u9192\u6240\u6709\u7ebf\u7a0b","text":"<p> \u5f53\u6211\u4eec\u5c1d\u8bd5\u4e00\u6b21\u5524\u9192\u6240\u6709\u7ebf\u7a0b\u4e4b\u540e\uff0c\u53d1\u73b0\uff0c\u7ebf\u7a0b\u80fd\u591f\u5e76\u53d1\u7684\u6267\u884c\u4e86\u3002 \u4e0d\u8fc7\u5728\u4e0b\u9762\u9047\u5230\u4e86\u4e00\u4e2a\u9519\u8bef\u3002\u8fd9\u4e2a\u9519\u8bef\u5728\u6211\u4eec\u5c06\u6539\u4e3a\u751f\u4ea7\u8005\u4e00\u6b21\u53ea\u751f\u4ea7\u4e24\u6761\u6570\u636e\u4e4b\u540e\u66f4\u4e3a\u660e\u663e  \u89e3\u51b3\u529e\u6cd5\u662f\u5c06\u6d88\u8d39\u8005\u7684\u5224\u65ad\u7f13\u51b2\u533a\u662f\u5426\u4e3a\u7a7a\u7684\u4ee3\u7801\u6709if \u6539\u4e3a while \u56e0\u4e3a\uff0c\u5982\u679c\u662fif\uff0c\u7ebf\u7a0b\u88ab\u5524\u9192\u4e4b\u540e\uff0c\u53ef\u80fd\u4f1a\u8bfb\u4e0d\u5230\u6570\u636e\uff0c\u5728<code>memcpy</code>\u6b65\u9aa4\u51fa\u9519 </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_10","title":"\u6d88\u8d39\u51fd\u6570\u7684\u7406\u89e3","text":"<p>\u4e00\u4e2a\u7ed3\u6784\u4f53\u7528\u4e8e\u5b58\u653e\u4ece\u7f13\u5b58\u4e2d\u51fa\u961f\u7684\u6d88\u606f\uff0c\u6d88\u8d39\u8005\u7684\u529f\u80fd\u662f\u4e0d\u65ad\u7684\u5904\u7406\u7f13\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u6240\u4ee5\u3002\u5b83\u7684\u4e3b\u6d41\u7a0b\u662f\u4e00\u4e2a\u6b7b\u5faa\u73af\u3002\u5faa\u73af\u7684\u5f00\u59cb\uff0c\u5148\u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\u7136\u540e\u518d\u5224\u65ad\u7f13\u5b58\u4e2d\u662f\u5426\u6709\u6570\u636e\uff0c\u5982\u679c\u6709\u6570\u636e\u5c31\u4e0d\u8fdb\u5165\u8fd9\u4e2awhile\u5faa\u73af\u4e86\u3002\u7ee7\u7eed\u4e0b\u9762\u7684\u6d41\u7a0b\u3002\u56e0\u4e3a\u73b0\u5728\u662f\u6301\u6709\u9501\u7684\uff0c\u6240\u4ee5\u8fd9\u4e24\u884c\u64cd\u4f5c\u7f13\u5b58\u7684\u4ee3\u7801\u662f\u5b89\u5168\u7684\u3002\u4ece\u7f13\u5b58\u4e2d\u53d6\u51fa\u4e00\u6761\u6570\u636e\u5e93\uff0c\u518d\u7ed9\u7f13\u5b58\u89e3\u9501\u3002\u4e0b\u9762\u662f\u5904\u7406\u4e1a\u52a1\u7684\u4ee3\u7801\uff0c</p> <p>\u628a\u4ece\u7f13\u5b58\u4e2d\u62ff\u51fa\u6765\u7684\u6570\u636e\u5904\u7406\u6389\u3002\u521a\u624d\u8bf4\u7684\u662f\u7f13\u5b58\u4e2d\u6709\u6570\u636e\u7684\u60c5\u51b5\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u3002\u8fd9\u4e9b\u4ee3\u7801\u7684\u903b\u8f91\u6ca1\u6709\u95ee\u9898\uff0c\u5bf9\u5427\uff1f\u518d\u6765\u770b\u7f13\u5b58\u4e2d\u6ca1\u6709\u6570\u636e\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\uff0c\u5c31\u8c03\u7528wait\u51fd\u6570\uff0cwait\u51fd\u6570\u4f1a\u5148\u89e3\u5f00\u4e92\u65a5\u9501\uff0c\u7136\u540e\u518d\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u3002\u56e0\u4e3a\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u7684\u65f6\u5019\uff0c\u4e92\u65a5\u9501\u5df2\u7ecf\u89e3\u5f00\u4e86\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u7ebf\u7a0b\u64cd\u4f5c\u7f13\u5b58\u3002\u5bf9\u5427\uff0c\u5982\u679c\u6709\u6761\u4ef6\u4fe1\u53f7\u5230\u4e86wait\u51fd\u6570\u5c06\u8fd4\u56de\uff0c\u6ce8\u610f\u4e86wait\u51fd\u6570\u8fd4\u56de\u7684\u65f6\u5019\u4f1a\u6301\u6709\u9501\u3002\u5728\u6301\u6709\u9501\u7684\u60c5\u51b5\u4e0b\uff0c\u7ee7\u7eed\u4e0b\u9762\u7684\u6d41\u7a0b\u4e5f\u662f\u5b89\u5168\u7684\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u641e\u660e\u767d</p> <p>\u8fd9\u5c31\u660e\u767d\u4e86\u6761\u4ef6\u53d8\u91cf\u7684wait\u51fd\u6570\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8bbe\u8ba1</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_11","title":"\u7ebf\u7a0b\u9000\u51fa\u65f6\u9700\u8981\u6ce8\u610f","text":"<p>\u5728\u6e05\u7406\u51fd\u6570\u4e2d\u91ca\u653e\u9501\uff0c\u8fd9\u4e2a\u7ec6\u8282\u975e\u5e38\u91cd\u8981\uff0c\u4e0d\u7136\u7ebf\u7a0b\u65e0\u6cd5\u6b63\u5e38\u7684\u9000\u51fa</p> <p>\u5728pthread_cond_wait\u65f6\u6267\u884cpthread_cancel\u540e\uff0c \u8981\u5148\u5728\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u4e2d\u8981\u5148\u89e3\u9501\u5df2\u4e0e\u76f8\u5e94\u6761\u4ef6\u53d8\u91cf\u7ed1\u5b9a\u7684mutex\uff0c\u8fd9\u6837\u662f\u4e3a\u4e86\u4fdd\u8bc1pthread_cond_wait\u53ef\u4ee5\u8fd4\u56de\u5230\u8c03\u7528\u7ebf\u7a0b\u3002 </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_12","title":"\u4f7f\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-10-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/#_13","title":"\u6ce8\u610f","text":"<p>\u6761\u4ef6\u53d8\u91cf\u7684\u89e6\u53d1\u6761\u4ef6\u548c\u7ed9\u4e92\u65a5\u9501\u52a0\u9501\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5982\u679c\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\uff0c\u5b83\u662f\u4e24\u4e2a\u6b65\u9aa4\u4e0d\u662f\u539f\u59cb\u64cd\u4f5c</p> <p>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u7684\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u4e0d\u5982\u6761\u4ef6\u53d8\u91cf\u65b9\u4fbf\uff0c\u4f46\u662f\u5728\u591a\u8fdb\u7a0b\u4e2d\u53ea\u80fd\u7528\u4fe1\u53f7\u91cf\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u91cc\u4e5f\u662f\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\uff0c\u6ca1\u6709\u6761\u4ef6\u53d8\u91cf\uff0c</p> <p>\u7ebf\u7a0b\u91cc\u9762\u4fe1\u53f7\u91cf\u7684pv\u64cd\u4f5c\uff0c\u53ea\u80fd\u628a\u4fe1\u53f7\u91cf\u7684\u503c\u51cf\u4e00\u6216\u8005\u52a0\u4e00\u3002\u4f46\u662f\u5728\u8fdb\u7a0b\u91cc\u9762\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u5728\u7ebf\u7a0b\u91cc\u9762\uff0c\u5982\u679c\u751f\u4ea7\u4e86\u591a\u6761\u6570\u636e\uff0c\u5c31\u8981\u6267\u884c\u591a\u6b21\u7684\u52a01\u64cd\u4f5c\u3002\u5728\u8fdb\u7a0b\u4e2d\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4e00\u6b21v\u64cd\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002 C++<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;semaphore.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nstruct st_args\n{\n    int  mesgid;\n    char message[1024];\n};\n\nvector&lt;struct st_args&gt; vcache;\n\nsem_t sem, lock;\n\nvoid  incache(int sig);         // \u751f\u4ea7\u8005\u51fd\u6570\nvoid *outcache(void *arg);      // \u6d88\u8d39\u8005\u51fd\u6570\n\nint main(int argc, char *argv[])\n{\n    signal(15, incache);\n\n    sem_init(&amp;sem, 0, 0);       // \u521d\u59cb\u5316\u901a\u77e5\u4fe1\u53f7\u91cf\n    sem_init(&amp;lock, 0, 1);      // \u521d\u59cb\u5316\u52a0\u9501\u4fe1\u53f7\u91cf\n\n    pthread_t thid1 = 0, thid2 = 0, thid3 = 0;\n\n    pthread_create(&amp;thid1,  NULL, outcache,  NULL);\n    pthread_create(&amp;thid2,  NULL, outcache,  NULL);\n    pthread_create(&amp;thid3,  NULL, outcache,  NULL);\n\n    pthread_join(thid1, NULL);\n    pthread_join(thid2, NULL);\n    pthread_join(thid3, NULL);\n\n    sem_destroy(&amp;sem);\n    sem_destroy(&amp;lock);\n\n    return 0;\n}\n\nvoid incache(int sig)\n{\n    static int id = 1;\n    struct st_args stargs;\n    memset(&amp;stargs, 0, sizeof(struct st_args));\n\n    // \u9501\u4f4f\u52a0\u9501\u4fe1\u53f7\u91cf\n    sem_wait(&amp;lock);\n\n    // \u751f\u4ea7\u6570\u636e\uff0c\u653e\u5165\u7f13\u51b2\u961f\u5217\n    stargs.mesgid = id++; vcache.push_back(stargs);\n    stargs.mesgid = id++; vcache.push_back(stargs);\n    stargs.mesgid = id++; vcache.push_back(stargs);\n    stargs.mesgid = id++; vcache.push_back(stargs);\n\n    // \u589e\u52a0\u901a\u77e5\u4fe1\u53f7\u91cf\uff0c\u89e3\u9501\u52a0\u9501\u4fe1\u53f7\u91cf\n    sem_post(&amp;lock);\n\n    // \u628a\u4fe1\u53f7\u91cf\u7684\u503c+1\uff0c\u751f\u4ea7\u4e86\u591a\u5c11\u6570\u636e\uff0c\u5c31+\u591a\u5c11\u6b21\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\n    sem_post(&amp;sem);\n    sem_post(&amp;sem);\n    sem_post(&amp;sem);\n    sem_post(&amp;sem);\n}\n\nvoid *outcache(void *arg)\n{\n    struct st_args stargs;\n    memset(&amp;stargs, 0, sizeof(struct st_args));\n\n    while (true)\n    {\n        sem_wait(&amp;lock);\n\n        // \u5224\u65ad\u662f\u5426\u6709\u4ea7\u54c1\u53ef\u4f9b\u6d88\u8d39\n        while (vcache.size() == 0)\n        {\n            // \u6ca1\u6709\u4ea7\u54c1\u53ef\u4f9b\u6d88\u8d39\uff0c\u89e3\u9501\u4e92\u65a5\u9501\uff0c\u4f9b\u751f\u4ea7\u8005\u8bbf\u95ee\u4e92\u65a5\u9501\uff0c\u5e76\u751f\u4ea7\u4ea7\u54c1\n            sem_post(&amp;lock);\n            sem_wait(&amp;sem);\n            sem_wait(&amp;lock);\n        }\n\n        // \u6d88\u8d39\n        // \u4ece\u7f13\u51b2\u6c60\u4e2d\u53d6\u51fa\u4e00\u6761\u4fe1\u606f\n        memcpy(&amp;stargs, &amp;vcache[0], sizeof(struct st_args));\n        vcache.erase(vcache.begin());\n\n        sem_post(&amp;lock);\n\n        printf(\"thid = %lu, mesgid = %d\\n\", pthread_self(), stargs.mesgid);\n        usleep(100);\n    }\n}\n</code></pre></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-12-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AB%AF/","title":"12-12-\u591a\u7ebf\u7a0b\u7f51\u7edc\u670d\u52a1\u7aef","text":"<p>\u5c06\u591a\u8fdb\u7a0b\u7684\u7f51\u7edc\u670d\u52a1\u7aef\u6539\u4e3a\u591a\u7ebf\u7a0b\u7684\u7f51\u7edc\u670d\u52a1\u7aef</p> <p>\u7531\u539f\u672c\u7684 \u7236\u8fdb\u7a0baccept\u5ba2\u6237\u7aef\uff0c\u5b50\u8fdb\u7a0b\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u62a5\u6587\u5e76\u53d1\u9001\u62a5\u6587\u7ed9\u5ba2\u6237\u7aef \u53d8\u4e3a \u4e3b\u7ebf\u7a0baccept\u5ba2\u6237\u7aef\uff0c\u5b50\u7ebf\u7a0b\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u62a5\u6587\u5e76\u53d1\u9001\u62a5\u6587\u7ed9\u5ba2\u6237\u7aef</p> <p></p> <p> \u8fd9\u91cc\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u811a\u672c\uff0c\u4e00\u6b21\u6267\u884c3000\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u3002 \u5728\u811a\u672c\u6267\u884c\u7ed3\u675f\u4e4b\u540e\uff0cvthid.size()\u7684\u503c\u7406\u5e94\u4e3a0\u3002\u8fd9\u91cc\u5374\u662f8 \u8fd9\u662f\u56e0\u4e3a\u591a\u7ebf\u7a0b\u7684\u670d\u52a1\u7aef\u64cd\u4f5cvthid\u65f6\uff0c\u6ca1\u6709\u52a0\u9501</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-2-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E7%BB%88%E6%AD%A2/","title":"12-2-\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u7ec8\u6b62","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-2-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E7%BB%88%E6%AD%A2/#_1","title":"\u7ebf\u7a0b\u975e\u6b63\u5e38\u9000\u51fa\u7684\u51e0\u79cd\u53ef\u80fd","text":"<ul> <li>\u4e3b\u7ebf\u7a0b\u9000\u51fa\uff0c\u6240\u6709\u7ebf\u7a0b\u90fd\u4f1a\u9000\u51fa</li> <li>\u4f17\u591a\u5b50\u7ebf\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5b50\u7ebf\u7a0b\u8c03\u7528\u4e86exit()\u51fd\u6570\uff0c\u5c06\u7ec8\u6b62\u6574\u4e2a\u8fdb\u7a0b</li> <li>\u7f3a\u7701\u884c\u4e3a\u662f\u7ec8\u6b62\u7a0b\u5e8f\u7684\u4fe1\u53f7\u5c06\u7ec8\u6b62\u6240\u6709\u7684\u7ebf\u7a0b</li> </ul> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5982\u679c\u4e3b\u8fdb\u7a0b\u9000\u51fa\uff0c\u5b50\u8fdb\u7a0b\u5c06\u7ee7\u7eed\u8fdb\u884c</p> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c06\u7ee7\u7eed\u8fdb\u884c</p> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0bCore dump\u6389\u4e0d\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b</p> <p>\u5982\u679c\u662f\u591a\u7ebf\u7a0b\uff0c\u5b50\u8fdb\u7a0bCore dump\u6389\uff0c\u6574\u4e2a\u8fdb\u7a0b\u73a9\u5b8c</p> <p>\u5982\u679c\u67d0\u4e2a\u5b57\u7ebf\u7a0b\u7684\u4ee3\u7801\u6709bug\uff0c\u51fa\u73b0\u5185\u5b58\u6ea2\u51fa\u7684\u60c5\u51b5\uff0ccore dump\u6389\u4e86\u6574\u4e2a\u7a0b\u5e8f\u4f1a\u600e\u4e48\u6837\uff1f</p> <p>\u6574\u4e2a\u7a0b\u5e8f\u6302\u6389\u4e86</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-2-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E7%BB%88%E6%AD%A2/#_2","title":"\u7ec8\u6b62\u7ebf\u7a0b\u7684\u6b63\u786e\u505a\u6cd5","text":"<ul> <li> <p>\u7ebf\u7a0b\u53ef\u4ee5\u7b80\u5355\u7684\u4ece\u7ebf\u7a0b\u51fd\u6570\u4e2d\u8fd4\u56de\uff0c\u8fd4\u56de\u503c\u662f\u7ebf\u7a0b\u7684\u9000\u51fa\u7801</p> </li> <li> <p>\u7ebf\u7a0b\u53ef\u4ee5\u88ab\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528pthread_cancel()\u53d6\u6d88</p> </li> <li>\u5728\u7ebf\u7a0b\u51fd\u6570\u4e2d\uff0c\u8c03\u7528pthread_exit()\u9000\u51fa</li> <li>\u5982\u679c\u7ebf\u7a0b\u4e3b\u51fd\u6570\u8c03\u7528\u4e86\u5176\u4ed6\u7684\u51fd\u6570\uff0c\u5728\u5176\u4ed6\u7684\u51fd\u6570\u4e2d\u7528return\u53ea\u80fd\u56de\u5230\u7ebf\u7a0b\u4e3b\u51fd\u6570\uff0c\u4e0d\u80fd\u7ec8\u6b62\u7ebf\u7a0b\uff0c\u5982\u679c\u5728\u5176\u4ed6\u7684\u51fd\u6570\u4e2d\u7528exit\u4e5f\u53ef\u4ee5\u7ec8\u6b62\u7ebf\u7a0b</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/","title":"12-3-\u7ebf\u7a0b\u53c2\u6570\u4f20\u9012","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_1","title":"\u7ebf\u7a0b\u53c2\u6570\u4f20\u9012","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_2","title":"\u521b\u5efa\u7684\u591a\u4e2a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u54ea\u4e2a\u7ebf\u7a0b\u5148\u8fd0\u884c","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_3","title":"\u4e0d\u80fd\u7528\u5168\u5c40\u53d8\u91cf\u4ee3\u66ff\u7ebf\u7a0b\u51fd\u6570\u7684\u53c2\u6570","text":"<p>\u5728\u5355\u8fdb\u7a0b\u548c\u591a\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u6765\u4ee3\u66ff\u591a\u8fdb\u7a0b\u4e2d\u8fdb\u7a0b\u7684\u53c2\u6570\u3002 \u800c\u7531\u4e8e\u591a\u7ebf\u7a0b\u4e0d\u80fd\u4fdd\u8bc1\u54ea\u4e2a\u7ebf\u7a0b\u5148\u8fd0\u884c\uff0c\u5bf9\u4e8e\u5168\u5c40\u53d8\u91cf\u7684\u66f4\u6539\u53ef\u80fd\u65e0\u6cd5\u4f5c\u7528\u5230\u60f3\u8981\u4f5c\u7528\u7684\u5730\u65b9  \u5982\u679c\u6211\u4eec\u5728\u521b\u5efa\u7ebf\u7a0b\u4e4b\u540e\uff0c<code>usleep(10)</code> \u5f88\u77ed\u7684\u65f6\u95f4\uff0c\u65e0\u6cd5\u907f\u514d\u4e0a\u8ff0\u60c5\u51b5\uff0c\u53ea\u6709sleep\u6bd4\u8f83\u957f\u7684\u65f6\u95f4\u624d\u53ef\u4ee5\u907f\u514d  \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u4e0d\u4f1a\u4f7f\u7528sleep\u6765\u63a7\u5236\u7ebf\u7a0b\u53c2\u6570\u7684\u4f20\u9012</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_4","title":"\u6570\u636e\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362","text":"<p> \u5c06ii\u5f3a\u5236\u8f6c\u6362\u4e3avoid * \u7c7b\u578b\uff0c\u5c31\u53ef\u4ee5\u5c06ii\u7684\u503c\u8d4b\u4e88pv\u3002\u4f46\u662f\u6b64\u65f6\u4f1a\u51fa\u73b0<code>\u635f\u5931\u7cbe\u5ea6</code>\u7684\u8b66\u544a\uff0c\u9700\u8981\u5c06ii\u8f6c\u6362\u6210long(8\u5b57\u8282 \u4e0e pv\u7684\u5927\u5c0f\u76f8\u540c) </p> <p>\u5982\u679c\u4f7f\u7528\u4f20\u9012\u5730\u5740\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48\u4e0e\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u662f\u4e00\u6837\u7684 </p> <p>\u6b63\u786e\u7684\u65b9\u6cd5\u662f\u4f20\u9012\u5168\u5c40\u53d8\u91cf\u7684\u503c\uff0c\u800c\u4e0d\u662f\u5730\u5740 \u5728create\u51fd\u6570\u4e2d\uff0c\u9700\u8981\u5c06int\u7c7b\u578b\u7684\u5168\u5c40\u53d8\u91cf\u7684\u503c\u8d4b\u503c\u7ed9void \u7c7b\u578b\uff0c\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362  \u5728\u8f93\u51faarg\u7684\u503c\u65f6\uff0c\u9700\u8981\u5c06void \u7c7b\u578b\u7684\u53d8\u91cf\uff0c\u5f3a\u5236\u8f6c\u6362\u4e3aint\u7c7b\u578b </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_5","title":"\u5982\u4f55\u4f20\u9012\u5730\u5740\u53c2\u6570(\u53ef\u4ee5\u4f20\u591a\u4e2a\u6574\u578b\u53c2\u6570)","text":"<p>\u7ed9\u591a\u4e2a\u7ebf\u7a0b\u4f20\u540c\u4e00\u4e2a\u5730\u5740\u662f\u4e0d\u884c\u7684\uff0c\u8981\u7ed9\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u4f20\u4e00\u4e2a\u5730\u5740\uff0c\u5168\u5c40\u53d8\u91cf\u662f\u540c\u4e00\u4e2a\u5730\u5740\uff0c\u4e0d\u80fd\u8fd9\u6837\uff0c\u9700\u8981\u6bcf\u6b21\u521b\u5efa\u7ebf\u7a0b\u7684\u65f6\u5019\uff0c\u4e34\u65f6\u7684\u5206\u914d\u4e00\u5757\u5185\u5b58\u51fa\u6765</p> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5 </p> <p>\u26a0\ufe0f\u6ce8\u610f\uff1a\u4f46\u662f\u6b64\u65f6\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4e2d\u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\uff0c\u800c\u4e0d\u80fd\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u91ca\u653e\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u3002\u5982\u679c\u8fd9\u6837\u505a\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u7ebf\u7a0b\u8fd8\u6ca1\u5f00\u59cb\u8fd0\u884c\uff0c\u7ed9\u5176\u5206\u914d\u7684\u53c2\u6570\u7684\u5185\u5b58\u5c31\u5df2\u7ecf\u88ab\u91ca\u653e\u4e86 </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-3-%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_6","title":"\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c","text":"<p> \u7ebf\u7a0b\u7684\u8fd4\u56de\u51fd\u6570\u8fd9\u6837\u5199\u4e5f\u53ef\u4ee5<code>pthread_exit((void*)stargs);</code></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/","title":"12-5-\u7ebf\u7a0b\u8d44\u6e90\u7684\u56de\u6536","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_1","title":"\u7ebf\u7a0b\u8d44\u6e90\u7684\u56de\u6536","text":"<p>\u6211\u4eec\u5148\u56de\u987e\u4e00\u4e0b <code>\u8fdb\u7a0b\u8d44\u6e90\u7684\u56de\u6536</code> - \u5b50\u8fdb\u7a0b\u9000\u51fa\u65f6\uff0c\u5411\u7236\u8fdb\u7a0b\u53d1\u9001SIGCHLD\u4fe1\u53f7\uff0c\u5982\u679c\u7236\u8fdb\u7a0b\u4e0d\u5bf9SIGCHLD\u4fe1\u53f7\u8fdb\u884c\u5904\u7406\uff0c\u4f1a\u4ea7\u751f\u50f5\u5c38\u8fdb\u7a0b - 1.\u7236\u8fdb\u7a0b\u8c03\u7528wait()\u51fd\u6570\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa || 2.\u5ffd\u7565SIGCHLD\u4fe1\u53f7 - \u5728\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4e2d\u91ca\u653e\u8d44\u6e90</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_2","title":"\u7ebf\u7a0b\u7684\u5206\u79bb","text":"<ul> <li>\u7ebf\u7a0b\u6709\u975e\u5206\u79bb(joinable) \u548c \u5206\u79bb(unjoinable)\u4e24\u79cd\u72b6\u6001</li> <li>\u7ebf\u7a0b\u7f3a\u7701\u72b6\u6001\u662f\u975e\u5206\u79bb\uff0c\u6216\u8005\u79f0\u4e3a\u53ef\u8fde\u63a5\u7684(\u53ef join)</li> <li> <p>\u975e\u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u7ec8\u6b62\u65f6\uff0c\u4e0d\u4f1a\u91ca\u653e\u7ebf\u7a0b\u5168\u90e8\u7684\u8d44\u6e90 </p> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u793a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u7ebf\u7a0b\u5728\u6267\u884c\u5b8c\u4e3b\u51fd\u6570(\u9000\u51fa\u4e86)\u4e4b\u540e\uff0c\u5e76\u4e0d\u662f\u5168\u90e8\u7684\u8d44\u6e90\u90fd\u91ca\u653e\u4e86 \u5982\u679c\u7ebf\u7a0b\u6267\u884c\u5b8c\u4e3b\u51fd\u6570\u4e4b\u540e\uff0c\u5c31\u91ca\u653e\u4e86\u8d44\u6e90\uff0c\u90a3\u4e48\u6211\u4eec\u5728sleep(10)\u79d2\u4e4b\u540e\uff0c\u901a\u8fc7join\u51fd\u6570\u65e0\u6cd5\u83b7\u53d6\u5230\u4efb\u4f55\u5185\u5bb9\u3002</p> </li> <li> <p>\u628a\u7ebf\u7a0b\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u5206\u79bb\uff0c\u7ebf\u7a0b\u7ed3\u675f\u540e\uff0c\u7531\u7cfb\u7edf\u56de\u6536\u8d44\u6e90</p> </li> <li>\u8c03\u7528pthread_detach()\u51fd\u6570\u5206\u79bb\u7ebf\u7a0b  </li> <li>\u521b\u5efa\u7ebf\u7a0b\u524d\uff0c\u8c03\u7528pthread_attr_setdetachstate()\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u5c5e\u6027 </li> </ul> <p>\u9664\u4e86pthread_join()\u51fd\u6570\u5916\uff0c\u8fd8\u6709\u4e24\u4e2ajoin\u51fd\u6570 pthread_tryjoin_np()\uff0c\u7528\u6cd5\u4e0ejoin\u51fd\u6570\u4e00\u6837\uff0c\u4e0d\u8fc7\u662f\u975e\u963b\u585e\u7684\u51fd\u6570 pthread_timejoin_np()\uff0c\u4e0ejoin\u76f8\u6bd4\uff0c\u591a\u51fa\u4e86\u8d85\u5e02\u65f6\u95f4\uff0ctimespec\u7ed3\u6784\u4f53</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_3","title":"\u7528\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u91ca\u653e\u8d44\u6e90","text":"<ul> <li>\u7ebf\u7a0b\u7ec8\u6b62\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8c03\u7528\u6e05\u7406\u51fd\u6570\u91ca\u653e\u8d44\u6e90</li> <li>\u6e05\u7406\u51fd\u6570\u5165\u6808\uff1apthread_cleanup_push();</li> <li>\u6e05\u7406\u51fd\u6570\u51fa\u6808\uff1apthread_cleanup_pop(); pop\u51fd\u6570\u53c2\u6570\u53d6\u503c\u4e3a0\uff0c\u8868\u793a\u6e05\u7406\u51fd\u6570\u51fa\u6808\uff0c\u4f46\u4e0d\u6267\u884c\uff0c \u53d6\u503c\u4e0d\u4e3a0\uff0c\u8868\u793a\u6e05\u7406\u51fd\u6570\u51fa\u6808\uff0c\u4e14\u6267\u884c C++<pre><code>// void\n// pthread_cleanup_push(void (*cleanup_routine)(void *), void *arg);\n\n// void\n// pthread_cleanup_pop(int execute);\n\nvoid thcleanup(void *arg)\n{\n    // \u5728\u8fd9\u91cc\u91ca\u653e \u5173\u95ed\u6587\u4ef6\u3001\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5\u3001\u56de\u6eda\u6570\u636e\u5e93\u4e8b\u52a1\u3001\u91ca\u653e\u9501\u7b49\n    printf(\"clean ok\\n\");\n}\n\nvoid * thmain(void *arg)\n{\n    pthread_cleanup_push(thcleanup, NULL);\n\n    ...\n\n    pthread_cleanup_pop(1);\n}\n</code></pre></li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_4","title":"\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570","text":"<ul> <li>\u7ebf\u7a0b\u53ef\u4ee5\u6709\u591a\u4e2a\u6e05\u7406\u51fd\u6570\uff0c\u4f46\u662f push \u548c pop \u5fc5\u987b\u6210\u5bf9\u51fa\u73b0</li> <li>\u7ebf\u7a0b\u7ec8\u6b62(return \u3001 pthread_exit() \u3001 pthread_cancel())\u3001\u8bed\u53e5\u5757\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u6e05\u7406\u51fd\u6570\u5c06\u88ab\u6267\u884c</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-5-%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#ask-chatgpt","title":"ask chatgpt","text":"<p>\u5728\u6b63\u5e38\u7ebf\u7a0b\u9000\u51fa\u3001\u8c03\u7528pthread_exit\u51fd\u6570\u4ee5\u53ca\u7531\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528pthread_cancel\u51fd\u6570\u53d6\u6d88\u7ebf\u7a0b\u65f6\uff0c\u6e05\u7406\u51fd\u6570\u4f1a\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\u88ab\u52a8\u51fa\u6808\u6267\u884c\u3002\u8fd9\u662f\u7531\u7cfb\u7edf\u81ea\u52a8\u7ba1\u7406\u7684\uff0c\u786e\u4fdd\u6e05\u7406\u51fd\u6570\u5728\u9002\u5f53\u7684\u65f6\u673a\u6267\u884c\u3002</p> <p>\u800cpthread_cleanup_pop\u51fd\u6570\u662f\u7528\u4e8e\u5728\u9700\u8981\u53d6\u6d88\u6ce8\u518c\u6e05\u7406\u51fd\u6570\u65f6\uff0c\u624b\u52a8\u8fdb\u884c\u4e3b\u52a8\u51fa\u6808\u64cd\u4f5c\u3002\u5f53\u6211\u4eec\u8c03\u7528pthread_cleanup_pop\u65f6\uff0c\u4f1a\u4ece\u6e05\u7406\u51fd\u6570\u6808\u4e2d\u5f39\u51fa\u4e00\u4e2a\u6216\u591a\u4e2a\u6e05\u7406\u51fd\u6570\uff0c\u4ee5\u786e\u4fdd\u6b63\u786e\u7684\u6267\u884c\u987a\u5e8f\u548c\u4e0b\u4e00\u4e2a\u6e05\u7406\u51fd\u6570\u7684\u6267\u884c\u3002</p> <p>\u56e0\u6b64\uff0c\u88ab\u52a8\u51fa\u6808\u662f\u7531\u7ebf\u7a0b\u9000\u51fa\u6216\u53d6\u6d88\u89e6\u53d1\u7684\uff0c\u800c\u4e3b\u52a8\u51fa\u6808\u662f\u7531\u5f00\u53d1\u8005\u624b\u52a8\u8c03\u7528pthread_cleanup_pop\u89e6\u53d1\u7684\u3002\u4e24\u8005\u90fd\u8d77\u5230\u4e86\u7ba1\u7406\u6e05\u7406\u51fd\u6570\u6808\u7684\u4f5c\u7528\uff0c\u4ee5\u786e\u4fdd\u6e05\u7406\u51fd\u6570\u7684\u6b63\u786e\u6267\u884c\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-6-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/","title":"12-6-\u7ebf\u7a0b\u7684\u53d6\u6d88","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-6-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#_1","title":"\u7ebf\u7a0b\u7684\u53d6\u6d88","text":"<ul> <li> <p>\u7ebf\u7a0b\u5728\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528pthread_cancel()\u53d6\u6d88\u5b83</p> </li> <li> <p>\u7ebf\u7a0b\u88ab\u53d6\u6d88\u540e,\u8fd4\u56de\u72b6\u6001PTHREAD_CANCELED,\u5373-1</p> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-6-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#-pthread_setcancelstate","title":"- \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u53d6\u6d88\u72b6\u6001pthread_setcancelstate()","text":"<p>[] ../../\u6c14\u8c61\u4e2d\u5fc3\u590d\u76d8/12\u3001Linux\u7ebf\u7a0b/4.\u7ebf\u7a0b\u7684\u53d6\u6d88.md</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-7-%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/","title":"12-7-\u7ebf\u7a0b\u548c\u4fe1\u53f7","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-7-%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#_1","title":"\u7ebf\u7a0b\u548c\u4fe1\u53f7","text":"<ul> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u4e0d\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528  <p>\u5728\u591a(\u5355)\u8fdb\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528  \u5f53\u6211\u4eec\u5411book1\u8fdb\u7a0b\u53d1\u9001<code>killall -2 book1</code>\u4fe1\u53f72\u65f6\uff0c\u7cfb\u7edf\u4e2d\u65ad\u4e86\u6b63\u5728<code>sleep</code>\u4e2d\u7684\u8fdb\u7a0b\u3002</p> </li> </ul> <ul> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684  \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5b50\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4f7f\u7528\u4fe1\u53f7\u5904\u7406\u51fd\u6570func2\uff0c\u4e3b\u7ebf\u7a0b\u4f7f\u7528\u4fe1\u53f7\u5904\u7406\u51fd\u6570func1\u3002 \u6700\u7ec8\u53ea\u63a5\u6536\u5230\u4e86func2\u7684\u5904\u7406\u7ed3\u679c\uff0cfunc1\u5374\u6ca1\u6709\u3002 \u539f\u56e0\u662f\uff1a\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u5171\u4eab\u7684\uff0c\u4ee5\u6700\u540e\u7684\u4fe1\u53f7\u63a5\u6536\u4e3a\u51c6</li> </ul> <ul> <li>\u8fdb\u7a0b\u4e2d\u7684\u4fe1\u53f7\u53ef\u4ee5\u9001\u8fbe\u5355\u4e2a\u7ebf\u7a0b\uff0c\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528 </li> </ul> <ul> <li>\u5982\u679c\u67d0\u4e2a\u7ebf\u7a0b\u56e0\u4e3a\u4fe1\u53f7\u800c\u7ec8\u6b62\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5c06\u7ec8\u6b62  \u8fd9\u4e2a\u7a0b\u5e8f\u6ca1\u6709\u5bf9\u4fe1\u53f72\u7684\u5904\u7406\uff0c\u56e0\u6b64\u9ed8\u8ba4\u4e3a\u7ec8\u7aef\u7a0b\u5e8f\u3002 \u901a\u8fc7\u8fd0\u884c\u7ed3\u679c\u53ef\u4ee5\u770b\u7c97\uff0c\u4e3b\u7ebf\u7a0b\u5411\u5b50\u7ebf\u7a0b\u53d1\u9001\u4fe1\u53f72\u4e4b\u540e\uff0c\u6574\u4e2a\u8fdb\u7a0b\u90fd\u7ec8\u6b62\u4e86</li> </ul> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-7-%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#_2","title":"\u5185\u5bb9","text":"<ul> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u4e0d\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528</li> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684</li> <li>\u8fdb\u7a0b\u4e2d\u7684\u4fe1\u53f7\u53ef\u4ee5\u9001\u8fbe\u5355\u4e2a\u7ebf\u7a0b\uff0c\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528</li> <li>\u5982\u679c\u67d0\u4e2a\u7ebf\u7a0b\u56e0\u4e3a\u4fe1\u53f7\u800c\u7ec8\u6b62\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5c06\u7ec8\u6b62</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/","title":"12-8-\u7ebf\u7a0b\u5b89\u5168","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_1","title":"\u7ebf\u7a0b\u5b89\u5168","text":"<ul> <li>\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff08\u5168\u5c40\u548c\u9759\u6001\uff09\u7684\u65f6\u5019\u4f1a\u51b2\u7a81</li> <li>\u4e09\u4e2a\u6982\u5ff5\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u3001\u987a\u5e8f\u6027</li> <li>\u5982\u4f55\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168</li> <li>volatile\u5173\u952e\u5b57</li> <li>\u539f\u5b50\u64cd\u4f5c\uff08\u539f\u5b50\u7c7b\u578b\uff09</li> <li>\u7ebf\u7a0b\u540c\u6b65</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_2","title":"\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff08\u5168\u5c40\u548c\u9759\u6001\uff09\u7684\u65f6\u5019\u4f1a\u51b2\u7a81","text":"<p> \u4e24\u4e2a\u5b50\u7ebf\u7a0b\u516c\u7528\u4e00\u4e2a\u7ebf\u7a0b\u4e3b\u51fd\u6570\uff0c\u540c\u65f6\u5bf9\u5168\u5c40\u53d8\u91cf\u8fdb\u884c++\u64cd\u4f5c \u9884\u671f\u7684\u7ed3\u679c\u5e94\u8be5\u4e3a<code>var = 2000000</code> \u4f46\u662f\u5b9e\u9645\u7ed3\u679c\u5374\u4e0d\u4e00\u5b9a</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_3","title":"\u4e09\u4e2a\u6982\u5ff5\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u3001\u987a\u5e8f\u6027","text":"<p> \u56e0\u6b64i++\u64cd\u4f5c\u5e76\u4e0d\u80fd\u6210\u4e3a\u539f\u5b50\u6027\u64cd\u4f5c</p> <p></p> <p> \u6bd4\u5982  \u7ecf\u8fc7\u4f18\u5316\u540e\u53ef\u80fd\u76f4\u63a5\u5199\u4e3a </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_4","title":"\u5982\u4f55\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#volatile","title":"volatile\u5173\u952e\u5b57","text":"<ul> <li>\u4fdd\u8bc1\u4e86\u53d8\u91cf\u7684\u5185\u5b58\u53ef\u89c1\u6027 <p>\u544a\u8bc9CPU\u6bcf\u6b21\u76f4\u63a5\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4e0d\u8981\u653e\u5728\u7f13\u5b58\u91cc</p> </li> <li>\u7981\u6b62\u4ee3\u7801\u91cd\u6392\u5e8f</li> <li>\u4e0d\u5177\u6709\u539f\u5b50\u6027  volatile\u5173\u952e\u5b57\u5e76\u4e0d\u5177\u6709\u539f\u5b50\u6027\uff0c\u65e0\u6cd5\u4fdd\u8bc1var\u7684\u503c</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_5","title":"\u539f\u5b50\u64cd\u4f5c\uff08\u539f\u5b50\u7c7b\u578b\uff09","text":"<p> \u603b\u7ebf\u9501\u53ef\u4ee5\u7406\u89e3\u4e3a\u786c\u4ef6\u7ea7\u522b\u7684\u9501\uff0c\u5b83\u7684\u6548\u7387\u975e\u5e38\u9ad8\u3002\u6bd4\u7ebf\u7a0b\u5e93\u63d0\u4f9b\u7684\u9501\u8981\u5feb10\u500d\u5de6\u53f3   \u4ee5\u4e0a\u662fC\u8bed\u8a00\u63d0\u4f9b\u7684\u539f\u5b50\u64cd\u4f5c\u7684\u51fd\u6570  \u867d\u7136\u603b\u7ebf\u9501\u7684\u6548\u7387\u5f88\u9ad8\uff0c\u4f46\u662f\u5b83\u53ea\u80fd\u4f5c\u7528\u4e8e\u6574\u5f62\u53d8\u91cf</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-8-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_6","title":"\u7ebf\u7a0b\u540c\u6b65","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/","title":"12-9-\u7ebf\u7a0b\u5b89\u5168-\u7ebf\u7a0b\u540c\u6b65","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_1","title":"\u7ebf\u7a0b\u540c\u6b65","text":"<ul> <li>\u4e92\u65a5\u9501</li> <li>\u8bfb\u5199\u9501</li> <li>\u4fe1\u53f7\u91cf</li> <li>\u81ea\u65cb\u9501</li> <li>\u6761\u4ef6\u53d8\u91cf</li> <li>\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_2","title":"\u4e92\u65a5\u9501","text":"<p> C++<pre><code>pthread_mutex_t mutex;  // \u58f0\u660e\u4e92\u65a5\u9501\npthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;  //\u521d\u59cb\u5316\u9501\n// \u4e5f\u53ef\u4ee5\u8fd9\u6837\u521d\u59cb\u5316\npthread_mutex_init(&amp;mutex, NULL);   // \u521d\u59cb\u5316\u9501\npthread_mutex_destory(&amp;mutex);\n</code></pre> </p> <p> </p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_3","title":"\u81ea\u65cb\u9501","text":"<p>\u4e0e\u4e92\u65a5\u9501\u7c7b\u4f3c\u3002\u4e92\u65a5\u9501\u5728\u7b49\u5f85\u9501\u7684\u65f6\u5019\uff0c\u7ebf\u7a0b\u4f1a\u4f11\u7720\u4e0d\u6d88\u8017CPU\u3002 \u800c\u81ea\u65cb\u9501\u7528\u4e00\u4e2a\u5faa\u73af\uff0c\u4e0d\u65ad\u7684\u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528 \u9002\u7528\u4e8e\u7b49\u5f85\u65f6\u95f4\u5f88\u77ed\u7684\u573a\u666f \u81ea\u65cb\u9501\u6ca1\u6709\u5e26\u8d85\u65f6\u673a\u5236\u7684\u52a0\u9501\u51fd\u6570\u3002\u56e0\u4e3a\u4f7f\u7528\u81ea\u65cb\u9501\u6709\u4e00\u4e2a\u524d\u63d0\u6761\u4ef6\uff0c\u5c31\u662f\u5047\u8bbe\u7b49\u5f85\u7684\u65f6\u95f4\u4f1a\u5f88\u77ed\uff0c\u4e0d\u5e94\u8be5\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\uff0c\u5982\u679c\u7b49\u5f85\u7684\u65f6\u95f4\u6bd4\u8f83\u957f\u5c31\u7528\u4e92\u65a5\u9501 Text Only<pre><code>  pthread_spin_init();\n  //\u5b83\u7684\u7b2c\u4e8c\u4e2a\u6807\u5fd7\u662f\u5171\u4eab\u6807\u5fd7\n\n  //PTHREAD_PROCESS_SHARED\u8868\u793a\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u7ebf\u7a0b\u4e4b\u95f4\u53ef\u4ee5\u5171\u4eab\n\n  //PTHREAD_PROCESS_PRIVATE\u53ea\u5728\u521d\u59cb\u5316\u672c\u81ea\u65cb\u9501\u7684\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u624d\u80fd\u4f7f\u7528\u8be5\u81ea\u65cb\u9501\n\n  //\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u7684\u670d\u52a1\u7a0b\u5e8f\u8981\u4e48\u662f\u591a\u7ebf\u7a0b\uff0c\u8981\u4e48\u662f\u591a\u8fdb\u7a0b\uff0c\u5176\u5b9e\u53ef\u4ee5\u5728\u591a\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u4e2d\u521b\u5efa\u7ebf\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ebf\u7a0b\u7684fork\u521b\u5efa\u8fdb\u7a0b\uff0c\u4f46\u51e0\u4e4e\u4e0d\u7528\n\n  ///PTHREAD_PROCESS_PRIVATE\u5b83\u7684\u610f\u601d\u662f\u5728\u591a\u8fdb\u7a0b\u4e2d\u521b\u5efa\u4e86\u591a\u7ebf\u7a0b\uff0c\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7ebf\u7a0b\u662f\u5426\u53ef\u4ee5\u5171\u4eab\u81ea\u65cb\u9501\uff0c\u4e00\u822c\u586b\u79c1\u6709\u7684\n</code></pre> </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_4","title":"\u8bfb\u5199\u9501","text":"<p>  \u997f\u6b7b\u5199\u9501\u7684\u793a\u4f8b  \u4f7f\u7528\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u6765\u7533\u8bf7\u5199\u9501\uff0c\u4e09\u4e2a\u7ebf\u7a0b\u4e3b\u51fd\u6570\u6765\u7533\u8bf7\u8bfb\u9501 \u5728\u7b2c50\u884c\u52a0\u5165<code>if (ii == 3) sleep(7);</code> \u8ba9\u6240\u6709\u7ebf\u7a0b\u5faa\u73af\u5230\u7b2c\u56db\u6b21\u7684\u65f6\u5019\u4f11\u77207\u79d2\uff0c\u5199\u9501\u53ef\u4ee5\u88ab\u6267\u884c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_5","title":"\u6761\u4ef6\u53d8\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_6","title":"\u4fe1\u53f7\u91cf","text":"<p>\u7b2c\u4e8c\u7ae0\u8bb2\u8fdb\u7a0b\u901a\u8baf\u7684\u65f6\u5019\u4ecb\u7ecd\u8fc7\u4fe1\u53f7\u91cf\uff0c\u7528\u4fe1\u53f7\u91cf\u7ed9\u5171\u4eab\u5185\u5b58\u52a0\u9501\uff0c\u5efa\u8bae\u518d\u770b\u4e00\u904d\uff0c\u8fdb\u7a0b\u7684\u4fe1\u53f7\u91cf\u662f\u5168\u5c40\u7684\u6709\u4e00\u4e2akey\uff0c\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u662f\u533f\u540d\u7684\uff0c\u53ea\u80fd\u5728\u540c\u4e00\u4e2a\u7a0b\u5e8f\u4e2d\u7684\u591a\u4e2a\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u4e2d\u4f7f\u7528\uff0c\u4ed6\u4eec\u7684\u4fe1\u53f7\u91cf\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u5728\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u7528\u8fdb\u7a0b\u7684\u4fe1\u53f7\u91cf\uff0c\u4e5f\u53ef\u4ee5\u7528\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\uff0c\u4f46\u662f\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u66f4\u52a0\u65b9\u4fbf\uff0c\u4f46\u662f\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u4e0d\u80fd\u7528\u5728\u591a\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u4e2d  </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/12%E7%AB%A0/12-9-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_7","title":"\u7ebf\u7a0b\u540c\u6b65\u7684\u7ec6\u8282","text":"<p>\u4e92\u65a5\u9501\u3001\u81ea\u65cb\u9501\u3001\u8bfb\u5199\u9501\u3001\u6761\u4ef6\u53d8\u91cf\u3001\u4fe1\u53f7\u91cf\u7684\u7ade\u4e89\u673a\u5236 \u4e00\u4e2a\u7ebf\u7a0b\u5728\u91ca\u653e\u9501\u4e4b\u540e\uff0c\u53ef\u80fd\u4f1a\u8fde\u7eed\u5f88\u591a\u6b21\u83b7\u5f97\u9501</p> <p>\u4e92\u65a5\u9501\u6709\u4e24\u79cd\u7ade\u4e89\u673a\u5236\uff0c\u4e00\u79cd\u662f\u5f62\u6210\u7b49\u5f85\u673a\u5236(\u4e0d\u662f\u7edd\u5bf9\u516c\u5e73\u7684\uff0c\u5bf9\u5e94\u7528\u5f00\u53d1\u6ca1\u6709\u5f71\u54cd)\uff0c\u53e6\u4e00\u79cd\u662f\u91cd\u65b0\u7ade\u4e89</p> <p>\u81ea\u65cb\u9501\u3001\u6761\u4ef6\u53d8\u91cf\u3001\u4fe1\u53f7\u91cf\u90fd\u662f\u5f62\u6210\u7b49\u5f85\u961f\u5217</p> <p>\u8bfb\u5199\u9501\u7684\u5199\u9501\u9965\u997f\u95ee\u9898\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u662f\u997f\u4e0d\u6b7b\u7684 \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u7528\u5176\u4ed6\u7684\u65b9\u6cd5\u5b9e\u73b0\u516c\u5e73\u9501\u548c\u5199\u4f18\u5148\u9501</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/13%E7%AB%A0/13-11-%E7%BA%BF%E7%A8%8B%E6%B1%A0/","title":"13-11-\u7ebf\u7a0b\u6c60","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/13%E7%AB%A0/13-11-%E7%BA%BF%E7%A8%8B%E6%B1%A0/#_1","title":"\u7ebf\u7a0b\u6c60\u7684\u5b9e\u73b0","text":"<ul> <li>\u5728\u4e3b\u8fdb\u7a0b\u4e2d\uff0c\u9884\u5148\u521b\u5efan\u4e2a\u7ebf\u7a0b</li> <li>\u4e3b\u8fdb\u7a0b\u76d1\u542c\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u5f53\u6709\u65b0\u5ba2\u6237\u7aef\u8fde\u4e0a\u6765\u7684\u65f6\u5019\uff0c\u628a\u5b83\u653e\u5165\u5f85\u5904\u7406\u961f\u5217</li> <li>\u5de5\u4f5c\u7ebf\u7a0b\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u5904\u7406\u5ba2\u6237\u7aef\u7684\u4e1a\u52a1\u8bf7\u6c42</li> <li>\u5728\u961f\u5217\u4e2d\uff0c\u5b58\u653e\u7684\u662f\u5ba2\u6237\u7aef\u7684socket</li> <li>\u91c7\u7528\u6761\u4ef6\u53d8\u91cf+\u4e92\u65a5\u9501\uff08\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff09\u5b9e\u73b0\u961f\u5217\u529f\u80fd</li> </ul> <p>Q: \u4e3a\u4ec0\u4e48\u7ebf\u7a0b\u6570\u4f1a\u6bd4cpu\u6838\u6570\u7565\u591a A: \u7ebf\u7a0b\u5e76\u4e0d\u662f\u4e00\u76f4\u5728\u8fd0\u884c\uff0c\u4f1a\u5b58\u5728\u963b\u585e\u7684\u60c5\u51b5\uff0c\u5982\u679c\u7ebf\u7a0b\u6570\u7b49\u4e8ecpu\u6838\u6570\uff0c\u90a3\u4e48cpu\u4f1a\u5b58\u5728\u7a7a\u95f2\u7684\u60c5\u51b5\uff0c\u6216\u9020\u6210\u8d44\u6e90\u6d6a\u8d39\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/13%E7%AB%A0/13-2-HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/","title":"13-2-HTTP\u534f\u8bae\u7684\u672c\u8d28","text":"<p>\u539f\u6587\u94fe\u63a5 HTTP\u534f\u8bae\u6982\u8ff0 HTTP\u662f\u4e00\u4e2a\u5ba2\u6237\u7aef\u7ec8\u7aef\uff08\u7528\u6237\uff09\u548c\u670d\u52a1\u5668\u7aef\uff08\u7f51\u7ad9\uff09\u8bf7\u6c42\u548c\u5e94\u7b54\u7684\u6807\u51c6\uff08TCP\uff09\u3002\u901a\u8fc7\u4f7f\u7528\u7f51\u9875\u6d4f\u89c8\u5668\u3001\u7f51\u7edc\u722c\u866b\u6216\u8005\u5176\u5b83\u7684\u5de5\u5177\uff0c\u5ba2\u6237\u7aef\u53d1\u8d77\u4e00\u4e2aHTTP\u8bf7\u6c42\u5230\u670d\u52a1\u5668\u4e0a\u6307\u5b9a\u7aef\u53e3\uff08\u9ed8\u8ba4\u7aef\u53e3\u4e3a80\uff09\u3002\u6211\u4eec\u79f0\u8fd9\u4e2a\u5ba2\u6237\u7aef\u4e3a\u7528\u6237\u4ee3\u7406\u7a0b\u5e8f\uff08user agent\uff09\u3002\u5e94\u7b54\u7684\u670d\u52a1\u5668\u4e0a\u5b58\u50a8\u7740\u4e00\u4e9b\u8d44\u6e90\uff0c\u6bd4\u5982HTML\u6587\u4ef6\u548c\u56fe\u50cf\u3002\u6211\u4eec\u79f0\u8fd9\u4e2a\u5e94\u7b54\u670d\u52a1\u5668\u4e3a\u6e90\u670d\u52a1\u5668\uff08origin server\uff09\u3002\u5728\u7528\u6237\u4ee3\u7406\u548c\u6e90\u670d\u52a1\u5668\u4e2d\u95f4\u53ef\u80fd\u5b58\u5728\u591a\u4e2a\u201c\u4e2d\u95f4\u5c42\u201d\uff0c\u6bd4\u5982\u4ee3\u7406\u670d\u52a1\u5668\u3001\u7f51\u5173\u6216\u8005\u96a7\u9053\uff08tunnel\uff09\u3002</p> <p>\u5c3d\u7ba1TCP/IP\u534f\u8bae\u662f\u4e92\u8054\u7f51\u4e0a\u6700\u6d41\u884c\u7684\u5e94\u7528\uff0cHTTP\u534f\u8bae\u4e2d\uff0c\u5e76\u6ca1\u6709\u89c4\u5b9a\u5fc5\u987b\u4f7f\u7528\u5b83\u6216\u5b83\u652f\u6301\u7684\u5c42\u3002\u4e8b\u5b9e\u4e0a\uff0cHTTP\u53ef\u4ee5\u5728\u4efb\u4f55\u4e92\u8054\u7f51\u534f\u8bae\u4e0a\uff0c\u6216\u5176\u4ed6\u7f51\u7edc\u4e0a\u5b9e\u73b0\u3002HTTP\u5047\u5b9a\u5176\u4e0b\u5c42\u534f\u8bae\u63d0\u4f9b\u53ef\u9760\u7684\u4f20\u8f93\u3002\u56e0\u6b64\uff0c\u4efb\u4f55\u80fd\u591f\u63d0\u4f9b\u8fd9\u79cd\u4fdd\u8bc1\u7684\u534f\u8bae\u90fd\u53ef\u4ee5\u88ab\u5176\u4f7f\u7528\u3002\u56e0\u6b64\u4e5f\u5c31\u662f\u5176\u5728TCP/IP\u534f\u8bae\u65cf\u4f7f\u7528TCP\u4f5c\u4e3a\u5176\u4f20\u8f93\u5c42\u3002</p> <p>\u901a\u5e38\uff0c\u7531HTTP\u5ba2\u6237\u7aef\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\uff0c\u521b\u5efa\u4e00\u4e2a\u5230\u670d\u52a1\u5668\u6307\u5b9a\u7aef\u53e3\uff08\u9ed8\u8ba4\u662f80\u7aef\u53e3\uff09\u7684TCP\u8fde\u63a5\u3002HTTP\u670d\u52a1\u5668\u5219\u5728\u90a3\u4e2a\u7aef\u53e3\u76d1\u542c\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002\u4e00\u65e6\u6536\u5230\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u4f1a\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u4e00\u4e2a\u72b6\u6001\uff0c\u6bd4\u5982\"HTTP/1.1 200 OK\"\uff0c\u4ee5\u53ca\u8fd4\u56de\u7684\u5185\u5bb9\uff0c\u5982\u8bf7\u6c42\u7684\u6587\u4ef6\u3001\u9519\u8bef\u6d88\u606f\u3001\u6216\u8005\u5176\u5b83\u4fe1\u606f\u3002</p> <p>HTTP\u5de5\u4f5c\u539f\u7406 HTTP\u534f\u8bae\u5b9a\u4e49Web\u5ba2\u6237\u7aef\u5982\u4f55\u4eceWeb\u670d\u52a1\u5668\u8bf7\u6c42Web\u9875\u9762\uff0c\u4ee5\u53ca\u670d\u52a1\u5668\u5982\u4f55\u628aWeb\u9875\u9762\u4f20\u9001\u7ed9\u5ba2\u6237\u7aef\u3002HTTP\u534f\u8bae\u91c7\u7528\u4e86\u8bf7\u6c42/\u54cd\u5e94\u6a21\u578b\u3002\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\u62a5\u6587\uff0c\u8bf7\u6c42\u62a5\u6587\u5305\u542b\u8bf7\u6c42\u7684\u65b9\u6cd5\u3001URL\u3001\u534f\u8bae\u7248\u672c\u3001\u8bf7\u6c42\u5934\u90e8\u548c\u8bf7\u6c42\u6570\u636e\u3002\u670d\u52a1\u5668\u4ee5\u4e00\u4e2a\u72b6\u6001\u884c\u4f5c\u4e3a\u54cd\u5e94\uff0c\u54cd\u5e94\u7684\u5185\u5bb9\u5305\u62ec\u534f\u8bae\u7684\u7248\u672c\u3001\u6210\u529f\u6216\u8005\u9519\u8bef\u4ee3\u7801\u3001\u670d\u52a1\u5668\u4fe1\u606f\u3001\u54cd\u5e94\u5934\u90e8\u548c\u54cd\u5e94\u6570\u636e\u3002</p> <p>\u4ee5\u4e0b\u662f HTTP \u8bf7\u6c42/\u54cd\u5e94\u7684\u6b65\u9aa4\uff1a</p> <p>\\1. \u5ba2\u6237\u7aef\u8fde\u63a5\u5230Web\u670d\u52a1\u5668 \u4e00\u4e2aHTTP\u5ba2\u6237\u7aef\uff0c\u901a\u5e38\u662f\u6d4f\u89c8\u5668\uff0c\u4e0eWeb\u670d\u52a1\u5668\u7684HTTP\u7aef\u53e3\uff08\u9ed8\u8ba4\u4e3a80\uff09\u5efa\u7acb\u4e00\u4e2aTCP\u5957\u63a5\u5b57\u8fde\u63a5\u3002\u4f8b\u5982\uff0chttp://www.baidu.com\u3002</p> <p>\\2. \u53d1\u9001HTTP\u8bf7\u6c42 \u901a\u8fc7TCP\u5957\u63a5\u5b57\uff0c\u5ba2\u6237\u7aef\u5411Web\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u6587\u672c\u7684\u8bf7\u6c42\u62a5\u6587\uff0c\u4e00\u4e2a\u8bf7\u6c42\u62a5\u6587\u7531\u8bf7\u6c42\u884c\u3001\u8bf7\u6c42\u5934\u90e8\u3001\u7a7a\u884c\u548c\u8bf7\u6c42\u6570\u636e4\u90e8\u5206\u7ec4\u6210\u3002</p> <p>\\3. \u670d\u52a1\u5668\u63a5\u53d7\u8bf7\u6c42\u5e76\u8fd4\u56deHTTP\u54cd\u5e94 Web\u670d\u52a1\u5668\u89e3\u6790\u8bf7\u6c42\uff0c\u5b9a\u4f4d\u8bf7\u6c42\u8d44\u6e90\u3002\u670d\u52a1\u5668\u5c06\u8d44\u6e90\u590d\u672c\u5199\u5230TCP\u5957\u63a5\u5b57\uff0c\u7531\u5ba2\u6237\u7aef\u8bfb\u53d6\u3002\u4e00\u4e2a\u54cd\u5e94\u7531\u72b6\u6001\u884c\u3001\u54cd\u5e94\u5934\u90e8\u3001\u7a7a\u884c\u548c\u54cd\u5e94\u6570\u636e4\u90e8\u5206\u7ec4\u6210\u3002</p> <p>\\4. \u91ca\u653e\u8fde\u63a5TCP\u8fde\u63a5 \u82e5connection \u6a21\u5f0f\u4e3aclose\uff0c\u5219\u670d\u52a1\u5668\u4e3b\u52a8\u5173\u95edTCP\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u88ab\u52a8\u5173\u95ed\u8fde\u63a5\uff0c\u91ca\u653eTCP\u8fde\u63a5;\u82e5connection \u6a21\u5f0f\u4e3akeepalive\uff0c\u5219\u8be5\u8fde\u63a5\u4f1a\u4fdd\u6301\u4e00\u6bb5\u65f6\u95f4\uff0c\u5728\u8be5\u65f6\u95f4\u5185\u53ef\u4ee5\u7ee7\u7eed\u63a5\u6536\u8bf7\u6c42;</p> <p>\\5. \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u89e3\u6790HTML\u5185\u5bb9 \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u9996\u5148\u89e3\u6790\u72b6\u6001\u884c\uff0c\u67e5\u770b\u8868\u660e\u8bf7\u6c42\u662f\u5426\u6210\u529f\u7684\u72b6\u6001\u4ee3\u7801\u3002\u7136\u540e\u89e3\u6790\u6bcf\u4e00\u4e2a\u54cd\u5e94\u5934\uff0c\u54cd\u5e94\u5934\u544a\u77e5\u4ee5\u4e0b\u4e3a\u82e5\u5e72\u5b57\u8282\u7684HTML\u6587\u6863\u548c\u6587\u6863\u7684\u5b57\u7b26\u96c6\u3002\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u8bfb\u53d6\u54cd\u5e94\u6570\u636eHTML\uff0c\u6839\u636eHTML\u7684\u8bed\u6cd5\u5bf9\u5176\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u5e76\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u663e\u793a\u3002</p> <p>\u4f8b\u5982\uff1a\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u952e\u5165URL\uff0c\u6309\u4e0b\u56de\u8f66\u4e4b\u540e\u4f1a\u7ecf\u5386\u4ee5\u4e0b\u6d41\u7a0b\uff1a</p> <p>\u6d4f\u89c8\u5668\u5411 DNS \u670d\u52a1\u5668\u8bf7\u6c42\u89e3\u6790\u8be5 URL \u4e2d\u7684\u57df\u540d\u6240\u5bf9\u5e94\u7684 IP \u5730\u5740; \u89e3\u6790\u51fa IP \u5730\u5740\u540e\uff0c\u6839\u636e\u8be5 IP \u5730\u5740\u548c\u9ed8\u8ba4\u7aef\u53e3 80\uff0c\u548c\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5; \u6d4f\u89c8\u5668\u53d1\u51fa\u8bfb\u53d6\u6587\u4ef6(URL \u4e2d\u57df\u540d\u540e\u9762\u90e8\u5206\u5bf9\u5e94\u7684\u6587\u4ef6)\u7684HTTP \u8bf7\u6c42\uff0c\u8be5\u8bf7\u6c42\u62a5\u6587\u4f5c\u4e3a TCP \u4e09\u6b21\u63e1\u624b\u7684\u7b2c\u4e09\u4e2a\u62a5\u6587\u7684\u6570\u636e\u53d1\u9001\u7ed9\u670d\u52a1\u5668; \u670d\u52a1\u5668\u5bf9\u6d4f\u89c8\u5668\u8bf7\u6c42\u4f5c\u51fa\u54cd\u5e94\uff0c\u5e76\u628a\u5bf9\u5e94\u7684 html \u6587\u672c\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668; \u91ca\u653e TCP\u8fde\u63a5; \u6d4f\u89c8\u5668\u5c06\u8be5 html \u6587\u672c\u5e76\u663e\u793a\u5185\u5bb9; \u3000</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/13%E7%AB%A0/13-5-%E4%B8%9A%E5%8A%A1%E9%9C%80%E6%B1%82%E5%92%8C%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1/","title":"13-5-\u4e1a\u52a1\u9700\u6c42\u548c\u8868\u7684\u8bbe\u8ba1","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/13%E7%AB%A0/13-5-%E4%B8%9A%E5%8A%A1%E9%9C%80%E6%B1%82%E5%92%8C%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1/#_1","title":"\u529f\u80fd\u9700\u6c42","text":"<ul> <li>\u901a\u8fc7\u914d\u7f6e\u53c2\u6570\uff0c\u5b9e\u73b0\u4e0d\u540c\u7684\u6570\u636e\u63a5\u53e3</li> <li>\u6743\u9650\u63a7\u5236\uff08\u7528\u6237\u540d/\u5bc6\u7801/ip\u9650\u5236\uff09</li> <li> <p>\u8bbf\u95ee\u65e5\u5fd7\uff08\u63a5\u53e3\u540d/\u65f6\u95f4/\u6570\u636e\u91cf\uff09</p> </li> <li> <p>\u5ba2\u6237\u7aef\u8c03\u7528\u63a5\u53e3\u7684\u65f6\u95f4\u95f4\u9694\u6bd4\u8f83\u957f\uff0c\u901a\u8baf\u65b9\u5f0f\u91c7\u7528\u77ed\u8fde\u63a5</p> </li> <li>\u670d\u52a1\u7aef\u91c7\u7528\u6bcf\u8fde\u63a5\u6bcf\u7ebf\u7a0b  \u7ebf\u7a0b\u8dd1\u7684\u592a\u5feb\uff0c\u5bfc\u81f4\u4e3b\u8fdb\u7a0b\u8fd8\u6ca1\u6709\u628a\u7ebf\u7a0bid\u52a0\u5165\u5230\u5bb9\u5668\u4e2d\u65f6\uff0c\u7ebf\u7a0b\u5c31\u5df2\u7ecf\u7ec8\u6b62\u4e86\uff0c\u8fd9\u6837\u7ebf\u7a0b\u5728\u9000\u51fa\u4e4b\u524d\uff0c\u6ca1\u529e\u6cd5\u4ece\u5bb9\u5668\u4e2d\u627e\u5230\u81ea\u5df1\u7684id\u5e76\u628a\u5b83\u4ece\u5bb9\u5668\u4e2d\u6e05\u7406\u6389\uff0c\u5bfc\u81f4\u5bb9\u5668\u4e2d\u59cb\u7ec8\u4fdd\u7559\u7740\u67d0\u4e2a\u7ebf\u7a0b\u7684id\uff08\u5b9e\u9645\u4e0a\u8fd9\u4e2aid\u662f\u5728\u7ebf\u7a0b\u5df2\u7ecf\u9000\u51fa\u4e4b\u540e\uff0c\u4e3b\u8fdb\u7a0b\u5c06\u5176\u52a0\u5165\u5230\u5bb9\u5668\u5f53\u4e2d\u7684\uff09\uff0c\u5728\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u53d6\u6d88\u7ebf\u7a0b\u51fa\u9519\uff0c\u51fa\u73b0\u6bb5\u9519\u8bef \u8fd9\u79cd\u9519\u8bef\u662f\u56e0\u4e3a\u67d0\u4e2a\u7ebf\u7a0b\u8fd0\u884c\u7684\u592a\u5feb\u5bfc\u81f4\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4e2d\uff0c\u67d0\u4e2a\u53ef\u80fd\u4f1a\u8ba9\u7ebf\u7a0b\u5f88\u5feb\u7ed3\u675f\u7684\u5730\u70b9usleep\u4e00\u4e0b\uff0c\u8ba9\u5b83\u6162\u70b9\u9000\u51fa</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/1%20select%E6%A8%A1%E5%9E%8B/","title":"1 select\u6a21\u578b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/1%20select%E6%A8%A1%E5%9E%8B/#_1","title":"\u53ef\u8bfb\u4e8b\u4ef6  \u53ef\u5199\u4e8b\u4ef6","text":"<p>\u4e8b\u4ef6\uff1a   1\uff09\u65b0\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u8bf7\u6c42accept\uff1b         2\uff09\u5ba2\u6237\u7aef\u8fde\u63a5\u5df2\u65ad\u5f00         3\uff09\u5ba2\u6237\u7aef\u6709\u62a5\u6587\u5230\u8fberecv\uff0c\u53ef\u4ee5\u8bfb         4\uff09\u53ef\u4ee5\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u62a5\u6587send\uff0c\u53ef\u4ee5\u5199 select() \u7b49\u5f85\u4e8b\u4ef6\u7684\u53d1\u751f\uff08\u76d1\u89c6naxiesocket\u53d1\u751f\u4e86\u4e8b\u4ef6\uff09</p> <p>\u53ef\u8bfb\u4e8b\u4ef6\u5f88\u597d\u7406\u89e3\uff0c\u670d\u52a1\u7aef\u4f1a\u7b49\u5f85\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u8bf7\u6c42\u3001\u53d1\u9001\u62a5\u6587\u3001\u65ad\u5f00\u4fe1\u606f</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/1%20select%E6%A8%A1%E5%9E%8B/#_2","title":"\u53ef\u5199\u4e8b\u4ef6\u8bc1\u5b9e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/1%20select%E6%A8%A1%E5%9E%8B/#tcp","title":"TCP\u77e5\u8bc6\u70b9","text":"<ul> <li>TCP\u6709\u7f13\u51b2\u533a\uff0c\u5982\u679c\u7f13\u51b2\u533a\u5df2\u6ee1\uff0csend\u51fd\u6570\u4f1a\u963b\u585e</li> <li>\u5373\u4f7f\u53d1\u9001\u7aef\u7684sockfd\u5df2\u5173\u95ed\uff0c\u7f13\u51b2\u533a\u4ecd\u7136\u4f1a\u5c06\u6570\u636e\u53d1\u9001\u7ed9\u5bf9\u7aef</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/","title":"IO\u590d\u7528","text":"<ul> <li>\u4f20\u7edf\u65b9\u6cd5\uff1a\u6bcf\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u53ea\u80fd\u7ba1\u7406\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5</li> <li>\u7ebf\u7a0b\u6c60\uff1a\u6bcf\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u4e5f\u53ea\u80fd\u7ba1\u7406\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\u4e0d\u7528\u9891\u7e41\u7684\u521b\u5efa\u8fdb\u7a0b/\u7ebf\u7a0b</li> <li>IO\u590d\u7528\uff1a\u5728\u5355\u8fdb\u7a0b/\u7ebf\u7a0b\u4e2d\u540c\u65f6\u76d1\u89c6\u591a\u4e2a\u8fde\u63a5(\u76d1\u542c\u3001\u8bfb\u3001\u5199)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/#io_1","title":"IO\u590d\u7528\u7684\u4e09\u79cd\u6a21\u578b","text":"<ul> <li>select\u6a21\u578b\uff1a\u53ea\u80fd\u7ba1\u74061024\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5</li> <li>poll\u6a21\u578b\uff1a\u53ef\u4ee5\u7ba1\u7406\u66f4\u591a\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\uff0c\u8fde\u63a5\u8d8a\u591a\uff0c\u6027\u80fd\u7ebf\u6027\u4e0b\u964d</li> <li>epoll\u6a21\u578b\uff1a\u53ea\u8981\u5185\u5b58\u8db3\u591f\uff0c\u7ba1\u7406\u7684\u8fde\u63a5\u6570\u6ca1\u6709\u4e0a\u9650\uff0c\u6027\u80fd\u4e0d\u4f1a\u4e0b\u964d</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/#_1","title":"\u6b63\u5411\u4ee3\u7406&amp;\u53cd\u5411\u4ee3\u7406","text":"<ul> <li>\u6b63\u5411\u4ee3\u7406\uff1aA-&gt;B-&gt;C-&gt;D,     A-&gt;D;</li> <li>\u53cd\u5411\u4ee3\u7406\uff1aA-&gt;B&lt;-C.           A-&gt;C;</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/","title":"7-11 \u6570\u636e\u4f18\u5316","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#_1","title":"\u6570\u636e\u5165\u5e93\u4f18\u5316","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#_xmltodbwhilesleep","title":"\u5bf9\u4e8e_XmlToDb()\u51fd\u6570\u6574\u4f53\u7684while\u5faa\u73af\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u4f18\u5316\u8fdb\u7a0bsleep\u7684\u6d41\u7a0b","text":"C++<pre><code>    // \u5982\u679c\u521a\u624d\u626b\u63cf\u5230\u4e86\u6709\u6587\u4ef6\uff0c\u8bf4\u660e\u6b64\u65f6\u4e0d\u7a7a\u95f2\uff0c\u53ef\u80fd\u4e0d\u65ad\u7684\u6709\u6587\u4ef6\u751f\u6210\uff0c\u5c31\u4e0dsleep\u4e86\u3002\n    // \u662f\u5426\u626b\u63cf\u5230\u4e86\u6587\u4ef6\uff0c\u53ef\u4ee5\u7531Dir\u7c7b\u4e2d\u7684\u5bb9\u5668\u6210\u5458\u6765\u5224\u65ad\n    if (Dir.m_vFileName.size() == 0) sleep(starg.timetvl)\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#_2","title":"\u65e5\u5fd7\u7684\u8bb0\u5f55\u8981\u8be6\u7ec6\uff0c","text":"C++<pre><code>    // \u8981\u6709\u603b\u8bb0\u5f55\u6570\u3001\u63d2\u5165\u6570\u3001\u66f4\u65b0\u6570\n    // \u603b\u8bb0\u5f55\u6570\uff1a\u53ea\u8981\u6210\u529f\u7684\u8bfb\u53d6\u5230\u4e86\u4e00\u884c\u5f85\u5165\u5e93\u7684xml\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5c31\u52a0\u4e00\n    // \u63d2\u5165\u6570\uff1a\u5f53stmtins.execute() == 0 \u65f6\u52a0\u4e00\n    // \u66f4\u65b0\u6570\uff1a\u5f53stmtupt.execute() == 0 \u65f6\u52a0\u4e00\n    logfile.WriteEx(\"\u6210\u529f(%s, total=%d, ins=%d, upt=%d)\\n\", stxmltotable.tname, totalcount, inscount, uptcount);\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#_3","title":"\u8fde\u63a5\u6570\u636e\u5e93\u7684\u64cd\u4f5c","text":"C++<pre><code>    // \u5224\u8bfb\u662f\u5426\u5df2\u7ecf\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u5982\u679c\u5df2\u7ecf\u8fde\u63a5\uff0c\u5c31\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u8fde\u63a5\u4e86\n    // \u8fd9\u662f\u4e3a\u4e86\u591a\u4e2a\u8fdb\u7a0b\u8fd0\u884c\u65f6\uff0c\u9632\u6b62\u91cd\u590d\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u63d0\u9ad8\u6548\u7387\n    if (conn.m_state == 0)\n    {\n        // \u8fde\u63a5\u6570\u636e\u5e93\n        if (conn.connecttodb(starg.connstr, starg.charaset) != 0)\n        { logfile.Write(\"\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25\\n\"); return false; }\n        logfile.Write(\"\u8fde\u63a5\u6570\u636e\u5e93%s\u6210\u529f\\n\", starg.connstr);\n    }\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#char","title":"\u7ed1\u5b9a\u7684\u53d8\u91cf(\u5b57\u7b26\u4e32\u7c7b\u578bchar *)\u7684\u957f\u5ea6","text":"C++<pre><code>\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\n#define MAXCOLCOUNT 300     // \u8868\u7684\u6700\u5927\u5b57\u6bb5\u7684\u6570\u91cf\n// #define MAXCOLLEN   100      // \u5b57\u6bb5\u7684\u5b58\u5165\u7684\u6700\u5927\u503c\n// char strcolvalue[MAXCOLCOUNT][MAXCOLLEN+1];  // \u5f85\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cf\nchar *strcolvalue[MAXCOLCOUNT]; // \u5f85\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cf\n\n\u5728\u5c06\u8981\u7528\u5230\u7684\u65f6\u5019\n// \u5728\u6b64\u5904\u52a8\u6001\u7684\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u7ed1\u5b9a\u7684\u53d8\u91cf\u80fd\u591f\u5b58\u50a8\u5f85\u5165\u5e93\u7684\u6570\u636e\nfor (int ii = 0; ii &lt; TABCOLS.m_vallcols.size(); ii++)\n    strcolvalue[ii] = new char[TABCOLS.m_vallcols[ii].collen+1];\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/7%E7%AB%A0/7-11%20%E6%95%B0%E6%8D%AE%E4%BC%98%E5%8C%96/#_4","title":"\u53d8\u91cf\u52a8\u6001\u5185\u5b58\u91ca\u653e\u95ee\u9898","text":"<p>\u7ed9\u7ed1\u5b9a\u7684\u53d8\u91cf\u52a8\u6001\u5206\u914d\u5185\u5b58\u4e86\u4e4b\u540e\uff0c\u5e94\u8be5\u5982\u4f55\u8fdb\u884c\u91ca\u653e\uff1f - \u53ef\u4ee5\u653e\u5728\u51fd\u6570\u7684\u6bcf\u4e00\u4e2a <code>return</code> \u540e\u9762 - \u53ef\u4ee5\u653e\u5728\u51fd\u6570\u7684\u5f00\u5934\u3002     - \u8fd9\u6837\u5f53<code>\u8bfb\u53d6\u76ee\u5f55\u4e2d\u6587\u4ef6\u7684\u51fd\u6570(_XmlToDb())</code> \u5faa\u73af\u8c03\u7528 <code>\u5c06\u4e00\u4e2axml\u6587\u4ef6\u5165\u5e93\u7684\u51fd\u6570(_xmltodb(char*, char*))</code>\u65f6\uff0c\u6bcf\u6b21\u90fd\u4f1a\u5224\u65ad\uff0c\u662f\u5426\u5df2\u7ecf\u91ca\u653e\u4e86\u52a8\u6001\u5185\u5b58\u3002     - \u4e5f\u4f1a\u4f7f\u7a0b\u5e8f\u66f4\u52a0\u7b80\u6d01     - \u5b9e\u73b0\uff1a C++<pre><code>    for (int ii = 0; ii &lt; TABCOLS.m_vallcols.size(); ii++)\n        if (strcolvalue[ii] != 0) delete strcolvalue[ii]; strcolvalue[ii] = 0;\n</code></pre></p> C++<pre><code>// xml\u7ad9\u70b9\u6570\u636e\u548c\u89c2\u6d4b\u6570\u636e\u5165\u5e93\u7684\u5b50\u51fd\u6570\u90e8\u5206\u3002\n// \u4ec5\u5904\u7406\u4e00\u4e2axml\u6587\u4ef6\u7684\u5165\u5e93\u64cd\u4f5c\nint  _xmltodb(char *fullname, char *filename)\n{\n    // \u5224\u65ad\u4ece\u76ee\u5f55\u4e2d\u8bfb\u53d6\u5230\u7684\u6587\u4ef6\u540d\u7684\u89c4\u5219\uff0c\u662f\u5426\u7b26\u5408xml\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684filename\u7684\u5339\u914d\u89c4\u5219\u3002\u5982\u679c\u4e0d\u7b26\u5408\uff0c\u8fd4\u56de1\n    // \u4f8b\u5982\uff1a\u4ece\u76ee\u5f55\u4e2d\u8bfb\u5230\u4e86ZHOBTMIND_20230421203036_HYCZ_1.xml\uff0c\u800c\u6b64\u65f6\u4ecexml\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684filename\u7684\u5185\u5bb9\u662fZHOBTCODE_*.XML\uff0c\u8fd9\u662f\u6b63\u786e\u7684\u5339\u914d\n    if (_findXmlFromTable(filename) == false)\n        return 1;\n\n\n\n\u653e\u5165\u51fd\u6570\u4e2d\n    // \u6e05\u7a7a\u4e0a\u4e00\u6b21\u5c06xml\u6587\u4ef6\u5165\u5e93\u540e\u672a\u91ca\u653e\u7684\u5185\u5b58\u7a7a\u95f4\n    for (int ii = 0; ii &lt; TABCOLS.m_vallcols.size(); ii++)\n        if (strcolvalue[ii] != 0) delete strcolvalue[ii]; strcolvalue[ii] = 0;\n\n\n\n\n    // \u4ece\u6570\u636e\u5b57\u5178\u4e2d\u8bfb\u53d6 `\u8bfb\u53d6\u5f85\u5165\u5e93\u7684\u8868` \u4e2d\u7684 \u5b57\u6bb5\u540d\u3001\u5b57\u6bb5\u957f\u3001\u5b57\u6bb5\u7c7b\u578b\u7b49\u4fe1\u606f\n    // \u83b7\u53d6\u8868\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f\uff0c\u5982\u679c\u83b7\u53d6\u5931\u8d25\uff0c\u5e94\u8be5\u662f\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5df2\u5931\u6548\n    // \u5728\u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6570\u636e\u5e93\u51fa\u73b0\u5f02\u5e38\uff0c\u4e00\u5b9a\u4f1a\u5728\u8fd9\u91cc\u53d1\u751f\n    if (TABCOLS.allcols(&amp;conn, stxmltotable.tname) == false) return 4;\n    if (TABCOLS.pkcols(&amp;conn, stxmltotable.tname)  == false) return 4;\n\n    // \u5982\u679cTABCOLS.m_allcount == 0\uff0c\u8bf4\u660e\u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de2\n    if (TABCOLS.m_allcount == 0) return 2;\n\n    // \u62fc\u63a5\u66f4\u65b0update \u6216\u8005 \u63d2\u5165insert \u7684sql\u8bed\u53e5\n    _crtSql();\n\n\n\n\n\n\u5728\u8fd9\u91cc\u8fdb\u884c\u4e86\u52a8\u6001\u5185\u5b58\u5206\u914d\u3002\n// \u5728\u6b64\u5904\u52a8\u6001\u7684\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u4ee5\u4fbf\u7ed1\u5b9a\u7684\u53d8\u91cf\u80fd\u591f\u5b58\u50a8\u5f85\u5165\u5e93\u7684\u6570\u636e\nfor (int ii = 0; ii &lt; TABCOLS.m_vallcols.size(); ii++)\n    strcolvalue[ii] = new char[TABCOLS.m_vallcols[ii].collen+1];\n\n\n\n\n    // \u51c6\u5907\u66f4\u65b0update \u6216\u8005 \u63d2\u5165insert \u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\n    _prepareSql();\n\n    // \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cvstxmltotable\u4e2d\u7684\u67d0\u4e2a\u7ed3\u6784\u4f53\u4e2d\u6709execsql\uff0c\u5219\u5148\u6267\u884c\u5b83\n    if (_execSql() == false) return 6;\n\n    CFile File;\n    // \u6253\u5f00xml\u6587\u4ef6\n    if (File.Open(fullname, \"r\") == false)\n    { conn.rollback(); return 3; } // \u56de\u6eda\u4e8b\u52a1\n\n    char strBuffer[10241];\n    while (true)\n    {\n        // \u8bfb\u53d6xml\u6587\u4ef6\u5185\u5bb9\n        if (File.FFGETS(strBuffer, sizeof(strBuffer)-1, \"&lt;/endl&gt;\") == false) break;\n\n        // \u89e3\u6790xml \u8d4b\u503c\u7ed9\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cf\n        _splitBuffer(strBuffer);\n\n        // \u6267\u884csql\u8bed\u53e5\n        if (stmtins.execute() != 0)\n        {\n            // \u5982\u679c\u8fd4\u56de1062\uff0c\u8bf4\u660e\u8868\u4e2d\u5df2\u7ecf\u5b58\u5728\u5f85\u63d2\u5165\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u8fdb\u884c\u63d2\u5165\uff0c\u8fdb\u884c\u66f4\u65b0\u64cd\u4f5c\n            if (stmtins.m_cda.rc == 1062)\n            {\n                // \u5224\u65ad\u662f\u5426\u9700\u8981\u8fdb\u884c\u66f4\u65b0\u64cd\u4f5c\n                if (stxmltotable.uptbz == 1)\n                {\n                    if (stmtupt.execute() != 0)\n                    {\n                        // \u8bb0\u5f55\u51fa\u9519\u4fe1\u606f\uff0c\u4f46\u4e0d\u7ec8\u6b62\u7a0b\u5e8f\n                        logfile.Write(\"%s\\n\", strBuffer);\n                        logfile.Write(\"stmtupt.execute() \u5931\u8d25\\n%s\\n%s\\n\", stmtupt.m_sql, stmtupt.m_cda.message);\n\n                        // \u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u7ee7\u7eed\uff0c\u53ea\u80fd\u8fd4\u56de\u3002\n                        // 1053-\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u670d\u52a1\u5668\u5173\u95ed\u30022013-\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4e22\u5931\u4e86\u4e0eMySQL\u670d\u52a1\u5668\u7684\u8fde\u63a5\u3002\n                        if ((stmtupt.m_cda.rc == 1053) || (stmtupt.m_cda.rc==2013)) return 4;\n                    }\n                }\n            }\n            else\n            {\n                // \u8bb0\u5f55\u51fa\u9519\u4fe1\u606f\uff0c\u4f46\u4e0d\u7ec8\u6b62\u7a0b\u5e8f\n                logfile.Write(\"%s\\n\", strBuffer);\n                logfile.Write(\"stmtins.execute() \u5931\u8d25\\n%s\\n%s\\n\", stmtins.m_sql, stmtins.m_cda.message);\n\n                // \u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u7ee7\u7eed\uff0c\u53ea\u80fd\u8fd4\u56de\u3002\n                // 1053-\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u670d\u52a1\u5668\u5173\u95ed\u30022013-\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4e22\u5931\u4e86\u4e0eMySQL\u670d\u52a1\u5668\u7684\u8fde\u63a5\u3002\n                if ((stmtins.m_cda.rc == 1053) || (stmtins.m_cda.rc==2013)) return 4;\n            }\n        }\n    }\n    // \u63d0\u4ea4\n    return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-2-Federated%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/","title":"9-2-Federated\u5b58\u50a8\u5f15\u64ce","text":"<p>Federated\u5f15\u64ce\u4ece\u8fdc\u7a0b\u670d\u52a1\u5668\u83b7\u53d6\u6240\u6709\u884c\uff0c\u7136\u540e\u5728\u672c\u5730\u8fdb\u884c\u8fc7\u6ee4\u3002</p> <p>Federated\u5f15\u64ce\u4ec5\u652f\u6301\u4e3b\u952e\u548c\u552f\u4e00\u952e\u7d22\u5f15\uff0c\u4e0d\u652f\u6301\u666e\u901a\u7d22\u5f15</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-2-Federated%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/#_1","title":"\u4f7f\u7528<code>\u4e3b\u952e\u548c\u666e\u901a\u7d22\u5f15</code>\u5728<code>\u8fdc\u7a0b\u4e0e\u672c\u5730</code>\u8fdb\u884c\u67e5\u8be2\u5bf9\u6bd4","text":"<ul> <li> <p>\u4e0b\u9762\u793a\u4f8b\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u8868<code>T_ZHOBTMIND1</code>\u4e0a\u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u7528\u5230\u4e3b\u952e\u548c\u7528\u5230\u666e\u901a\u7d22\u5f15\u7684\u60c5\u51b5 obtid\u4e3a\u4e3b\u952e t \u4e3a\u666e\u901a\u7d22\u5f15 SQL<pre><code>mysql&gt; EXPLAIN select * from T_ZHOBTMIND1 where obtid='59493';\n+----+-------------+--------------+------------+------+--------------------------+---------+---------+-------+------+----------+-------+\n| id | select_type | table        | partitions | type | possible_keys            | key     | key_len | ref   | rows | filtered | Extra |\n+----+-------------+--------------+------------+------+--------------------------+---------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | T_ZHOBTMIND1 | NULL       | ref  | PRIMARY,IDX_ZHOBTMIND1_3 | PRIMARY | 42      | const |    3 |   100.00 | NULL  |\n+----+-------------+--------------+------------+------+--------------------------+---------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\nmysql&gt; EXPLAIN select * from T_ZHOBTMIND1 where t&gt;100;\n+----+-------------+--------------+------------+------+------------------+------+---------+------+------+----------+-------------+\n| id | select_type | table        | partitions | type | possible_keys    | key  | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+--------------+------------+------+------------------+------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | T_ZHOBTMIND1 | NULL       | ALL  | IDX_ZHOBTMIND1_4 | NULL | NULL    | NULL | 2517 |    71.12 | Using where |\n+----+-------------+--------------+------------+------+------------------+------+---------+------+------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> \u5176\u4e2d \u4f7f\u7528\u4f7f\u7528\u666e\u901a\u7d22\u5f15 t \u8fdb\u884c\u67e5\u8be2\u65f6\uff0c <code>possible_keys</code>\u7684\u503c\u4e3a<code>IDX_ZHOBTMIND1_4</code></p> </li> <li> <p>\u4e0b\u9762\u793a\u4f8b\u5728\u672c\u5730\u7684\u8868<code>LK_ZHOBTMIND1</code>\u4e0a\u8fdb\u884c\u67e5\u8be2\u65f6\uff0c\u7528\u5230\u4e3b\u952e\u548c\u7528\u5230\u666e\u901a\u7d22\u5f15\u7684\u60c5\u51b5 obtid\u4e3a\u4e3b\u952e t \u4e3a\u666e\u901a\u7d22\u5f15 SQL<pre><code>mysql&gt; EXPLAIN select * from LK_ZHOBTMIND1 where obtid='59493';\n+----+-------------+---------------+------------+------+---------------+---------+---------+-------+------+----------+-------+\n| id | select_type | table         | partitions | type | possible_keys | key     | key_len | ref   | rows | filtered | Extra |\n+----+-------------+---------------+------------+------+---------------+---------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | LK_ZHOBTMIND1 | NULL       | ref  | PRIMARY       | PRIMARY | 32      | const |    2 |   100.00 | NULL  |\n+----+-------------+---------------+------------+------+---------------+---------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.01 sec)\n\nmysql&gt; EXPLAIN select * from LK_ZHOBTMIND1 where t&gt;100;\n+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n| id | select_type | table         | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | LK_ZHOBTMIND1 | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 2517 |    33.33 | Using where |\n+----+-------------+---------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> \u5176\u4e2d \u4f7f\u7528\u4f7f\u7528\u666e\u901a\u7d22\u5f15 t \u8fdb\u884c\u67e5\u8be2\u65f6\uff0c <code>possible_keys</code>\u7684\u503c\u4e3a<code>\u7a7a</code></p> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-2-Federated%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/#_2","title":"\u4f7f\u7528<code>\u552f\u4e00\u952e</code>\u5728<code>\u8fdc\u7a0b\u4e0e\u672c\u5730</code>\u8fdb\u884c\u67e5\u8be2\u5bf9\u6bd4","text":"<p>\u53ef\u4ee5\u770b\u5230\uff0c\u5b83\u4eec\u4f7f\u7528\u7684possible_keys\u90fd\u662f\u552f\u4e00\u952e SQL<pre><code>mysql&gt; EXPLAIN select * from T_ZHOBTMIND1 where keyid=12200761;\n+----+-------------+--------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n| id | select_type | table        | partitions | type  | possible_keys    | key              | key_len | ref   | rows | filtered | Extra |\n+----+-------------+--------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | T_ZHOBTMIND1 | NULL       | const | ZHOBTMIND1_KEYID | ZHOBTMIND1_KEYID | 8       | const |    1 |   100.00 | NULL  |\n+----+-------------+--------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre></p> <p>SQL<pre><code>mysql&gt; EXPLAIN select * from LK_ZHOBTMIND1 where keyid=12200761;;\n+----+-------------+---------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n| id | select_type | table         | partitions | type  | possible_keys    | key              | key_len | ref   | rows | filtered | Extra |\n+----+-------------+---------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | LK_ZHOBTMIND1 | NULL       | const | ZHOBTMIND1_KEYID | ZHOBTMIND1_KEYID | 8       | const |    1 |   100.00 | NULL  |\n+----+-------------+---------------+------------+-------+------------------+------------------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> </p> <p>\u521b\u5efaFederated\u8868\u65f6\uff0c\u5fc5\u987b\u8981\u6307\u5b9a\u4e3b\u952e\u548c\u552f\u4e00\u952e\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u67e5\u8be2\u7684\u6027\u80fd\u5927\u5e45\u4e0b\u964d - \u8981\u8fd9\u6837 SQL<pre><code>CREATE TABLE `LK_ZHOBTMIND1`\n(\n  `obtid`           varchar(10) NOT NULL               COMMENT '\u7ad9\u70b9\u4ee3\u7801\u3002',\n  `ddatetime`       datetime NOT NULL                  COMMENT '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002',\n  `t`               int(11) DEFAULT NULL               COMMENT '\u6e7f\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002',\n  `p`               int(11) DEFAULT NULL               COMMENT '\u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002',\n  `u`               int(11) DEFAULT NULL               COMMENT '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002',\n  `wd`              int(11) DEFAULT NULL               COMMENT '\u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002',\n  `wf`              int(11) DEFAULT NULL               COMMENT '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002',\n  `r`               int(11) DEFAULT NULL               COMMENT '\u964d\u96e8\u91cf\uff1a0.1mm\u3002',\n  `vis`             int(11) DEFAULT NULL               COMMENT '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002',\n  `upttime`         timestamp NOT NULL                 COMMENT '\u66f4\u65b0\u65f6\u95f4\u3002',\n  `keyid`           bigint(20) NOT NULL AUTO_INCREMENT COMMENT '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n  PRIMARY KEY (`obtid`,`ddatetime`),\n  UNIQUE KEY `ZHOBTMIND1_KEYID` (`keyid`)\n) ENGINE=FEDERATED CONNECTION='mysql://root:DYT.9525ing@127.0.0.1:3306/TestDB/T_ZHOBTMIND1';\n</code></pre> - \u4e0d\u80fd\u8fd9\u6837 SQL<pre><code>CREATE TABLE `LK_ZHOBTMIND1`\n(\n  `obtid`           varchar(10) NOT NULL               COMMENT '\u7ad9\u70b9\u4ee3\u7801\u3002',\n  `ddatetime`       datetime NOT NULL                  COMMENT '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002',\n  `t`               int(11) DEFAULT NULL               COMMENT '\u6e7f\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002',\n  `p`               int(11) DEFAULT NULL               COMMENT '\u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002',\n  `u`               int(11) DEFAULT NULL               COMMENT '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002',\n  `wd`              int(11) DEFAULT NULL               COMMENT '\u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002',\n  `wf`              int(11) DEFAULT NULL               COMMENT '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002',\n  `r`               int(11) DEFAULT NULL               COMMENT '\u964d\u96e8\u91cf\uff1a0.1mm\u3002',\n  `vis`             int(11) DEFAULT NULL               COMMENT '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002',\n  `upttime`         timestamp NOT NULL                 COMMENT '\u66f4\u65b0\u65f6\u95f4\u3002',\n  `keyid`           bigint(20) NOT NULL                COMMENT '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002'\n) ENGINE=FEDERATED CONNECTION='mysql://root:DYT.9525ing@127.0.0.1:3306/TestDB/T_ZHOBTMIND1';\n</code></pre></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-3-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5/","title":"9-3-\u5237\u65b0\u540c\u6b65","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-3-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5/#_1","title":"\u5206\u6279\u5237\u65b0\u7684\u603b\u4f53\u7f16\u5199\u601d\u8def","text":"<ul> <li>\u76f4\u63a5\u8fde\u63a5\u8fdc\u7a0b\u8868\uff0c\u67e5\u8be2\u8868\u4e2d\u7684\u5185\u5bb9\uff0c</li> <li>select <code>starg.remotekeycol</code> from <code>starg.remotetname</code> <code>starg.where</code>;</li> <li>\u83b7\u53d6\u8fdc\u7a0b\u8868\u7684\u8f93\u51fa\u7ed3\u679c\u96c6</li> <li>\u5148\u8fdb\u884c\u5220\u9664\u672c\u5730\u8868\u7b26\u5408 <code>starg.remotekeycol</code> \u7684 <code>starg.localkeycol</code> \u5b57\u6bb5\u7684\u5185\u5bb9\u3002<ul> <li>delete from <code>starg.localtname</code> where <code>starg.localkeycol</code> in (:1,:2,...,:maxcount);</li> </ul> </li> <li>\u518d\u5c06\u6570\u636e\u4eceFederated\u8868\u4e2d\u53d6\u51fa\u6765\uff0c\u63d2\u5165\u5230\u672c\u5730\u8868\u4e2d<ul> <li>insert into <code>starg.localtname</code>(<code>starg.localcols</code>) select <code>starg.remotecols</code> from <code>starg.fedtname</code> where <code>remotekeycol</code> in (:1,:2,...,:maxcount);</li> </ul> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-3-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5/#_2","title":"\u5168\u8868\u5237\u65b0\uff0c\u9002\u7528\u4e8e\u6570\u636e\u91cf\u4e0d\u5927\u7684\u8868\uff0c\u80fd\u591f\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027","text":"<p>\u65b9\u6cd5 - \u5148\u5220\u9664\u672c\u5730\u8868\u4e2d\u5168\u90e8\u7684\u8bb0\u5f55 - \u5c06Federated\u8868\u4e2d\u5168\u90e8\u7684\u8bb0\u5f55\u63d2\u5165\u672c\u5730\u8868 SQL<pre><code>delete from T_ZHOBTCODE2;\ninsert into T_ZHOBTCODE2(stid,cityname,provname,lat,lon,altitude,upttime,id)\n                  select obtid,cityname,provname,lat,lon,height/10,upttime,keyid from LK_ZHOBTCODE1;\n</code></pre></p> <p>\u5176\u4e2d<code>LK_ZHOBTCODE1</code>\u662ffederated\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u8868<code>T_ZHOBTCODE1</code>\u7684\u8868  <code>T_ZHOBTCODE2</code>\u662f\u672c\u5730\u7684\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u8868<code>T_ZHOBTCODE1</code>\u7684\u7ed3\u6784\u7565\u6709\u4e0d\u540c\u7684\u8868</p> <p> </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-3-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5/#_3","title":"\u5206\u6279\u5237\u65b0\uff0c\u9002\u7528\u4e8e\u6570\u636e\u91cf\u8f83\u5927\u7684\u8868\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027","text":"<p>\u65b9\u6cd5 - \u4ece\u8fdc\u7a0b\u8868\u4e2d\u67e5\u8be2\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\uff0c\u628a\u7ed3\u679c\u96c6\u5206\u6210\u82e5\u5e72\u6279\uff0c\u6bcf\u6279\u7684\u8bb0\u5f55\u6570\u572850-256\u4e4b\u95f4</p> <ul> <li>\u6211\u4eec\u9700\u8981\u4ece\u8fdc\u7a0b\u8868\u67e5\u8be2\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4ece\u672c\u5730\u7684Federated\u8868\u4e2d\u8fdb\u884c\u67e5\u8be2\u3002\u539f\u56e0\u6709\u4e8c<ul> <li>Federated\u8868\u4e0d\u652f\u6301\u666e\u901a\u7d22\u5f15\u7684\u67e5\u8be2</li> <li>\u5c31\u7b97\u67e5\u8be2\u7684\u6761\u4ef6\u662f\u4e3b\u952e\u6216\u8005\u552f\u4e00\u952e\uff0c\u67e5\u8be2\u7684\u987a\u5e8f\u4e5f\u662f\u4ece<code>\u8fdc\u7a0b\u8868---&gt;Federated\u8868---&gt;\u5f85\u5206\u6279\u5237\u65b0\u7684\u8868</code>\uff0c\u4e0d\u5982\u76f4\u63a5<code>\u8fdc\u7a0b\u8868---&gt;\u5f85\u5206\u6279\u5237\u65b0\u7684\u8868</code>\u5feb</li> </ul> </li> <li>\u5220\u9664\u672c\u5730\u8868\u4e2d\u6307\u5b9a\u6279\u7684\u8bb0\u5f55</li> <li>\u628aFederated\u8868\u4e2d\u6307\u5b9a\u6279\u7684\u8bb0\u5f55\u63d2\u5165\u672c\u5730\u8868</li> </ul> <p>\u5047\u8bbe\u5f85\u5206\u6279\u5237\u65b0\u7684\u6570\u636e\u67098\u6761\uff0c\u6bcf\u6b21\u6700\u591a\u5237\u65b03\u6761\u6570\u636e SQL<pre><code>-- \u4ece\u8fdc\u7a0b\u8868\u67e5\u8be2\u7684sql\u548c\u7ed3\u679c\nSELECT obtid FROM T_ZHOBTCODE1 WHERE provname='\u5e7f\u4e1c' and obtid like '592%'\nobtid\n59271\n59278\n59280\n59287\n59289\n59293\n59294\n59298\n</code></pre> SQL<pre><code>-- \u8fd9\u91cc\u6682\u65f6\u4f7f\u7528\u7684\u662fFederated\u8868\n-- \u5237\u65b0\u81f3\u672c\u5730\u8868\n-- \u7b2c\u4e00\u6279 3\ndelete from T_ZHOBTCODE3 WHERE stid in ('59271','59278','59280');\ninsert into T_ZHOBTCODE3(stid,cityname,provname,lat,lon,altitude,upttime,id)\n                  select obtid,cityname,provname,lat,lon,height/10,upttime,keyid from LK_ZHOBTCODE1\n                    where obtid in ('59271','59278','59280');\n\n-- \u7b2c\u4e8c\u6279 3\ndelete from T_ZHOBTCODE3 WHERE stid in ('59287','59289','59293');\ninsert into T_ZHOBTCODE3(stid,cityname,provname,lat,lon,altitude,upttime,id)\n                  select obtid,cityname,provname,lat,lon,height/10,upttime,keyid from LK_ZHOBTCODE1\n                    where obtid in ('59287','59289','59293');\n\n-- \u7b2c\u4e09\u6279 2\ndelete from T_ZHOBTCODE3 WHERE stid in ('59294','59298');\ninsert into T_ZHOBTCODE3(stid,cityname,provname,lat,lon,altitude,upttime,id)\n                  select obtid,cityname,provname,lat,lon,height/10,upttime,keyid from LK_ZHOBTCODE1\n                    where obtid in ('59294','59298');\n</code></pre></p> C++<pre><code>\u6ce8\u610f\uff1a\n    1\uff09remotekrycol\u548clocalkeycol\u5b57\u6bb5\u7684\u9009\u53d6\u5f88\u91cd\u8981\uff0c\u5982\u679c\u7528\u4e86mysql\u7684\u81ea\u589e\u5b57\u6bb5\uff0c\u90a3\u4e48\u5728\u8fdc\u7a0b\u8868\u4e2d\u6570\u636e\u751f\u6210\u540e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u4e0d\u53ef\u6539\u8868\uff0c\u5426\u5219\u540c\u6b65\u4f1a\u5931\u8d25\uff1b\n        - keyid\u662f\u81ea\u589e\u5b57\u6bb5\uff0c\u5373\u4f7f\u662f\u540c\u4e00\u4e2aobtid\u7684\u6570\u636e\uff0c\u4ed6\u4eec\u7684keyid\u7684\u503c\u53ef\u80fd\u4e5f\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\uff0c\u4e0d\u80fd\u4f7f\u7528keyid\u4f5c\u4e3a\u540c\u6b65\u6761\u4ef6\n    2\uff09\u5f53\u8fdc\u7a0b\u8868\u4e2d\u5b58\u5728delete\u64cd\u4f5c\u65f6\uff0c\u65e0\u6cd5\u5206\u6279\u540c\u6b65\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u8868\u7684\u8bb0\u5f55\u88abdelete\u540e\u5c31\u627e\u4e0d\u5230\u4e86\uff0c\u65e0\u6cd5\u4ece\u672c\u5730\u8868\u4e2d\u6267\u884cdelete\u64cd\u4f5c\u3002\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-4-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/","title":"9-4-\u5237\u65b0\u540c\u6b65-\u5168\u8868\u5237\u65b0","text":"<p>C++<pre><code>where  \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u672c\u53c2\u6570\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u8868\u793a\u540c\u6b65\u5168\u90e8\u7684\u8bb0\u5f55\u3002\u586b\u5145\u5728delete\u672c\u5730\u8868\u548cselect Federated\u8868\u4e4b\u540e\u3002\n       \u6ce8\u610f\uff1a\n        1\uff09where\u4e2d\u7684\u5b57\u6bb5\u5fc5\u987b\u540c\u65f6\u5728\u672c\u5730\u8868\u548cFederated\u8868\u4e2d\uff1b\n        2\uff09\u4e0d\u8981\u7528\u7cfb\u7edf\u65f6\u95f4\u4f5c\u4e3a\u6761\u4ef6\n</code></pre> 1 where\u4e2d\u7684\u5b57\u6bb5\u5fc5\u987b\u540c\u65f6\u5728\u672c\u5730\u8868\u548cFederated\u8868\u4e2d\uff1b</p> <p>\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u672c\u5730\u8868\u548cFederated\u7684\u5b57\u6bb5\u90fd\u662f\u76f8\u540c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2awhere\u6765\u8fdb\u884c\u6761\u4ef6\u8fc7\u6ee4 SQL<pre><code>delete from \u672c\u5730\u8868 where ...;\ninsert into \u672c\u5730\u8868(\u672c\u5730\u8868\u5b57\u6bb5)\n    select Federated\u8868\u5b57\u6bb5 from Federated\u8868 where ...;\n</code></pre> \u5982\u679c\u8fd9\u4e24\u5f20\u8868\u7684\u5b57\u6bb5\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2awhere\u6765\u8fdb\u884c\u6761\u4ef6\u8fc7\u6ee4</p> <p></p> <p>2 \u4e0d\u8981\u7528\u7cfb\u7edf\u65f6\u95f4\u4f5c\u4e3a\u6761\u4ef6</p> <p>\u53ef\u80fd\u5728\u6267\u884cdelete\u8bed\u53e5\u65f6\u7684\u65f6\u95f4\u4e0e\u6267\u884cinsert\u8bed\u53e5\u65f6\u7684\u65f6\u95f4\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4delete\u8bed\u53e5\u5220\u591a\u4e86\uff08\u6216\u8005\u5220\u7684\u521a\u521a\u597d\uff09\uff0c\u800cinsert\u8bed\u53e5\u63d2\u5165\u5c11\u4e86</p> <p></p> <p>\u89e3\u51b3 \u6539\u6210\u4e00\u4e2a\u5177\u4f53\u7684\u65f6\u95f4 </p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-6-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E%E7%9A%84%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5/","title":"9-6-\u57fa\u4e8eFederated\u5f15\u64ce\u7684\u589e\u91cf\u540c\u6b65","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/9-6-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E%E7%9A%84%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5/#_1","title":"\u589e\u91cf\u540c\u6b65\u603b\u4f53\u601d\u8def","text":"<ul> <li>\u83b7\u53d6\u672c\u5730\u8868\u7684<code>\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503cx</code></li> <li>\u4ece\u8fdc\u7a0b\u8868\u4e2d\u83b7\u53d6\u5927\u4e8ex\u7684\u5b57\u6bb5\uff0c\u540c\u6b65\u5230\u672c\u5730\u8868\u4e2d</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/FEDERATED%E5%BC%95%E6%93%8E/","title":"FEDERATED\u5f15\u64ce","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/FEDERATED%E5%BC%95%E6%93%8E/#federated","title":"FEDERATED \u5b58\u50a8\u5f15\u64ce\u67b6\u6784","text":"<p>FEDERATED\u5b58\u50a8\u5f15\u64ce\u80fd\u8ba9\u4f60\u8bbf\u95ee\u8fdc\u7a0b\u7684MySQL\u6570\u636e\u5e93\u800c\u4e0d\u4f7f\u7528replication\u6216cluster\u6280\u672f(\u7c7b\u4f3c\u4e8eOracle\u7684dblink),\u4f7f\u7528FEDERATED\u5b58\u50a8\u5f15\u64ce\u7684\u8868,\u672c\u5730\u53ea\u5b58\u50a8\u8868\u7684\u7ed3\u6784\u4fe1\u606f,\u6570\u636e\u90fd\u5b58\u653e\u5728\u8fdc\u7a0b\u6570\u636e\u5e93\u4e0a,\u67e5\u8be2\u65f6\u901a\u8fc7\u5efa\u8868\u65f6\u6307\u5b9a\u7684\u8fde\u63a5\u7b26\u53bb\u83b7\u53d6\u8fdc\u7a0b\u5e93\u7684\u6570\u636e\u8fd4\u56de\u5230\u672c\u5730\u3002  </p> <p>1 \u672c\u5730\u670d\u52a1\u5668 FEDERATED \u5b58\u50a8\u5f15\u64ce\u7684\u8868\u53ea\u5b58\u653e\u8868\u7684.frm\u7ed3\u6784\u6587\u4ef6 2 \u8fdc\u7a0b\u670d\u52a1\u5668 \u5b58\u653e\u4e86.frm\u548c\u6570\u636e\u6587\u4ef6 3 \u589e\u5220\u6539\u67e5\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7\u5efa\u7acb\u7684\u8fde\u63a5\u6765\u8bbf\u95ee\u8fdc\u7a0b\u6570\u636e\u5e93\u8fdb\u884c\u64cd\u4f5c,\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u672c\u5730\u3002 4 \u8fdc\u7a0b\u6570\u636e\u8868\u7684\u5b58\u50a8\u5f15\u64ce\u4e3aMySQL\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce,\u5982MyISAM,InnoDB\u7b49</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/tips-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E7%9A%84%E8%BF%90%E8%A1%8C%E5%91%A8%E6%9C%9F/","title":"tips-\u5237\u65b0\u540c\u6b65\u4e0e\u589e\u91cf\u540c\u6b65\u7684\u8fd0\u884c\u5468\u671f","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/tips-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E7%9A%84%E8%BF%90%E8%A1%8C%E5%91%A8%E6%9C%9F/#_1","title":"\u5237\u65b0\u540c\u6b65","text":"<p>\u7a0b\u5e8f\u8fd0\u884c\u540c\u6b65\u4e00\u6b21\u6570\u636e\u540e\uff0c\u5c31\u9000\u51fa\uff0c\u4e0b\u4e00\u6b21\u7684\u6267\u884c\u7531\u8c03\u5ea6\u7a0b\u5e8f\u6765\u8c03\u5ea6\u3002\u4e0d\u4f1a\u8ba9\u5237\u65b0\u540c\u6b65\u7a0b\u5e8f\u5e38\u9a7b\u5185\u5b58\u3002\u56e0\u4e3a\u5237\u65b0\u540c\u6b65\u6570\u636e\u7684\u5468\u671f\u4e00\u822c\u6bd4\u8f83\u957f \u4e0d\u9700\u8981\u8bbe\u7f6exmlbuffer\u4e2d\u7684timetvl\u53c2\u6570\uff0c\u76f4\u63a5\u7531<code>\u8c03\u5ea6\u7a0b\u5e8f</code>\u6309\u7167<code>\u5468\u671f</code>\u542f\u52a8</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/9%E7%AB%A0/tips-%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5%E7%9A%84%E8%BF%90%E8%A1%8C%E5%91%A8%E6%9C%9F/#_2","title":"\u589e\u91cf\u540c\u6b65","text":"<p>\u7a0b\u5e8f\u4f1a\u5e38\u9a7b\u5185\u5b58\u3002 \u9700\u8981\u8bbe\u7f6exmlbuffer\u4e2d\u7684timetvl\u53c2\u6570\u3002 \u5faa\u73af\u5f53\u4e2d\uff0c\u5982\u679c\u4e0a\u6b21\u5faa\u73af\u6267\u884c\u8fc7\u540c\u6b65\u64cd\u4f5c\uff0c\u5219\u8bf4\u660e\u6b64\u65f6\u6570\u636e\u5e93\u8fd8\u662f\u9700\u8981\u8fdb\u884c\u589e\u91cf\u540c\u6b65\uff0c\u4e0d\u505atimetvl\u79d2\u7684\u7b49\u5f85\uff0c\u76f4\u63a5\u8fdb\u884c\u4e0b\u4e00\u6b21\u7684\u6570\u636e\u540c\u6b65\u3002 \u5faa\u73af\u5f53\u4e2d\uff0c\u5982\u679c\u4e0a\u6b21\u5faa\u73af\u672a\u6267\u884c\u8fc7\u540c\u6b65\u64cd\u4f5c\uff0c\u5219\u8bf4\u660e\u6b64\u65f6\u6570\u636e\u5e93\u8fd8\u662f\u6682\u65f6\u4e0d\u9700\u8981\u8fdb\u884c\u540c\u6b65\uff0c\u505atimetvl\u79d2\u7684\u7b49\u5f85\uff0c\u518d\u8fdb\u884c\u4e0b\u4e00\u6b21\u7684\u6570\u636e\u540c\u6b65\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/10%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E6%B8%85%E7%90%86/","title":"\u6570\u636e\u6e05\u7406","text":"<ul> <li>\u6839\u636e\u6e05\u7406\u6570\u636e\u7684\u6761\u4ef6\uff0c\u628a\u8868\u4e2d\u7684\u552f\u4e00\u952e\u5b57\u6bb5\u67e5\u8be2\u51fa\u6765</li> <li>\u4ee5\u552f\u4e00\u952e\u5b57\u6bb5\u4e3a\u6761\u4ef6\uff0c\u5220\u9664\u8868\u4e2d\u7684\u8bb0\u5f55</li> <li>\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u6bcf\u6267\u884c\u4e00\u6b21SQL\u8bed\u53e5\u5220\u9664100\u6216\u8005200\u6761\u8bb0\u5f55</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/","title":"\u7ebf\u7a0b\u7684\u521b\u5efa\u4e0e\u7ec8\u6b62","text":"<ul> <li>\u7ebf\u7a0b\u521b\u5efa\u3001\u7b49\u5f85\u7ebf\u7a0b\u9000\u51fa\u3001\u67e5\u770b\u7ebf\u7a0b</li> <li>\u7ebf\u7a0b\u975e\u6b63\u5e38\u7ec8\u6b62</li> <li>\u7ec8\u6b62\u7ebf\u7a0b\u7684\u4e09\u79cd\u65b9\u6cd5</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/#_2","title":"\u7ebf\u7a0b\u521b\u5efa\u3001\u7b49\u5f85\u7ebf\u7a0b\u9000\u51fa\u3001\u67e5\u770b\u7ebf\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/#_3","title":"\u7ebf\u7a0b\u7684\u975e\u6b63\u5e38\u7ec8\u6b62","text":"<ul> <li>\u5982\u679c\u4e3b\u7ebf\u7a0b\u9000\u51fa\uff0c\u5168\u90e8\u7ebf\u7a0b\u5c06\u5f3a\u884c\u7ec8\u6b62</li> <li>\u5728\u5b50\u7ebf\u7a0b\u8c03\u7528exit()\u5c06\u7ec8\u6b62\u6574\u4e2a\u8fdb\u7a0b</li> <li>\u7f3a\u7701\u884c\u4e3a\u4f7f\u7ec8\u6b62\u7a0b\u5e8f\u7684\u4fe1\u53f7\u5c06\u5bfc\u81f4\u6574\u4e2a\u8fdb\u7a0b\u7ec8\u6b62</li> </ul> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5982\u679c\u4e3b\u8fdb\u7a0b\u9000\u51fa\uff0c\u5b50\u8fdb\u7a0b\u5c06\u7ee7\u7eed\u8fdb\u884c</p> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5982\u679c\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u5176\u4ed6\u8fdb\u7a0b\u5c06\u7ee7\u7eed\u8fdb\u884c</p> <p>\u5982\u679c\u662f\u591a\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0bCore dump\u6389\u4e0d\u5f71\u54cd\u5176\u4ed6\u8fdb\u7a0b</p> <p>\u5982\u679c\u662f\u591a\u7ebf\u7a0b\uff0c\u5b50\u8fdb\u7a0bCore dump\u6389\uff0c\u6574\u4e2a\u8fdb\u7a0b\u73a9\u5b8c</p> <p>\u5982\u679c\u67d0\u4e2a\u5b57\u7ebf\u7a0b\u7684\u4ee3\u7801\u6709bug\uff0c\u51fa\u73b0\u5185\u5b58\u6ea2\u51fa\u7684\u60c5\u51b5\uff0ccore dump\u6389\u4e86\u6574\u4e2a\u7a0b\u5e8f\u4f1a\u600e\u4e48\u6837\uff1f</p> <p></p> <p>\u6574\u4e2a\u7a0b\u5e8f\u6302\u6389\u4e86</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/#_4","title":"\u7ebf\u7a0b\u7ec8\u6b62\u7684\u4e09\u79cd\u65b9\u6cd5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/#returnexit","title":"return\u4e0eexit\u7ec8\u6b62\u7ebf\u7a0b\u7684\u533a\u522b","text":"<ul> <li> <p>\u7ebf\u7a0b\u53ef\u4ee5\u7b80\u5355\u7684\u4ece\u7ebf\u7a0b\u51fd\u6570\u4e2d\u8fd4\u56de\uff0c\u8fd4\u56de\u503c\u662f\u7ebf\u7a0b\u7684\u9000\u51fa\u7801</p> </li> <li> <p>\u7ebf\u7a0b\u53ef\u4ee5\u88ab\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u5176\u4ed6\u7ebf\u7a0b\u8c03\u7528pthread_cancel()\u53d6\u6d88</p> </li> <li>\u5728\u7ebf\u7a0b\u51fd\u6570\u4e2d\uff0c\u8c03\u7528pthread_exit()\u9000\u51fa</li> <li>\u5982\u679c\u7ebf\u7a0b\u4e3b\u51fd\u6570\u8c03\u7528\u4e86\u5176\u4ed6\u7684\u51fd\u6570\uff0c\u5728\u5176\u4ed6\u7684\u51fd\u6570\u4e2d\u7528return\u53ea\u80fd\u56de\u5230\u7ebf\u7a0b\u4e3b\u51fd\u6570\uff0c\u4e0d\u80fd\u7ec8\u6b62\u7ebf\u7a0b\uff0c\u5982\u679c\u5728\u5176\u4ed6\u7684\u51fd\u6570\u4e2d\u7528exit\u4e5f\u53ef\u4ee5\u7ec8\u6b62\u7ebf\u7a0b</li> </ul> <p></p> <p>\u7b2c\u4e00\u79cd \u8fd9\u6837\u5c31\u884c\uff0c\u8fd4\u56de\u503c\u5c31\u662f0</p> <p>\u7b2c\u4e8c\u79cd \u5728\u7ebf\u7a0b1\u91cc\u9762\u53d6\u6d88\u7ebf\u7a0b2</p> <p></p> <p></p> <p>\u7b2c\u4e09\u79cd\uff1a \u4e09\u79d2\u540e\u7ebf\u7a0b1\u9000\u51fa\u4e86</p> <p></p> <p></p> <p>\u7b2c\u56db\u79cd\uff1a\u7ebf\u7a0b2\u7ec8\u6b62\u4e86\uff0c\u7ebf\u7a0b1\u6ca1\u6709\u7ec8\u6b62</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/1%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%BB%88%E6%AD%A2/#_5","title":"\u77e5\u8bc6\u70b9","text":"<p>\u26a0\ufe0f\uff1a\u8fd4\u56de\u503c\u4e3a\u4e0d\u4e3a0\u7684\u6570\u5b57\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u9700\u8981\u8fdb\u884c\u8f6c\u6362</p> <p>\u8fd9\u91cc\u76f4\u63a5\u8fd4\u56de\u6570\u5b571\u4f1a\u62a5\u9519\uff0c\u6839\u636evoid *thmain1\u8bf4\u660e\u9700\u8981\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362\uff0c\u8fd4\u56de0\u7684\u539f\u56e0\u53ef\u4ee5\u7684\u539f\u56e0\u662f0\u8868\u793a\u4e3anull\uff0c\u800c\u4e0d\u662f\u6570\u5b57\u76840</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/","title":"\u4fe1\u53f7\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<p>\u4fe1\u53f7\u91cf\u9700\u8981\u5305\u62ec\u5934\u6587\u4ef6</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_2","title":"\u8fc7\u7a0b","text":"<p>\u5206\u4e24\u6b65\u6539\u8fd9\u4e2a\u7a0b\u5e8f</p> <ol> <li>\u5148\u628a\u6761\u4ef6\u53d8\u91cf\u6539\u4e3a\u4fe1\u53f7\u91cf</li> <li>\u518d\u628a\u4e92\u65a5\u9501\u6539\u4e3a\u4fe1\u53f7\u91cf</li> </ol>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#1","title":"1 \u7528\u4fe1\u53f7\u91cf\u4ee3\u66ff\u6761\u4ef6\u53d8\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_3","title":"\u4e00\u3001\u58f0\u660e\u7528\u4e8e\u901a\u77e5\u7684\u4fe1\u53f7\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_4","title":"\u4e8c\u3001\u521d\u59cb\u5316\u901a\u77e5\u548c\u52a0\u9501\u7684\u4fe1\u53f7\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_5","title":"\u4e09\u3001\u5728\u751f\u4ea7\u8005\u51fd\u6570\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_6","title":"\u56db\u3001\u5728\u6d88\u8d39\u8005\u51fd\u6570\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#2","title":"2 \u518d\u628a\u4e92\u65a5\u9501\u6539\u4e3a\u4fe1\u53f7\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_7","title":"\u4e3b\u51fd\u6570\u4e2d","text":"<p>\u589e\u52a0\u9500\u6bc1\u4fe1\u53f7\u91cf\u7684\u4ee3\u7801</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_8","title":"\u5728\u751f\u4ea7\u8005\u51fd\u6570\u4e2d","text":"<p>\u53bb\u9664\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u7684\u4ee3\u7801\uff0c\u4fe1\u53f7\u91cf\u4e0d\u5b58\u5728\u6761\u4ef6\u53d8\u91cf\u8fd9\u4e2a\u95ee\u9898</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_9","title":"\u5728\u6d88\u8d39\u8005\u51fd\u6570\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_10","title":"\u7ec6\u8282","text":"<p>\u6761\u4ef6\u53d8\u91cf\u7684\u89e6\u53d1\u6761\u4ef6\u548c\u7ed9\u4e92\u65a5\u9501\u52a0\u9501\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5982\u679c\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\uff0c\u5b83\u662f\u4e24\u4e2a\u6b65\u9aa4\u4e0d\u662f\u539f\u59cb\u64cd\u4f5c</p> <p>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u7684\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u4e0d\u5982\u6761\u4ef6\u53d8\u91cf\u65b9\u4fbf\uff0c\u4f46\u662f\u5728\u591a\u8fdb\u7a0b\u4e2d\u53ea\u80fd\u7528\u4fe1\u53f7\u91cf\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u91cc\u4e5f\u662f\u7528\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\uff0c\u6ca1\u6709\u6761\u4ef6\u53d8\u91cf\uff0c</p> <p>\u7ebf\u7a0b\u91cc\u9762\u4fe1\u53f7\u91cf\u7684pv\u64cd\u4f5c\uff0c\u53ea\u80fd\u628a\u4fe1\u53f7\u91cf\u7684\u503c\u51cf\u4e00\u6216\u8005\u52a0\u4e00\u3002\u4f46\u662f\u5728\u8fdb\u7a0b\u91cc\u9762\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u5728\u7ebf\u7a0b\u91cc\u9762\uff0c\u5982\u679c\u751f\u4ea7\u4e86\u591a\u6761\u6570\u636e\uff0c\u5c31\u8981\u6267\u884c\u591a\u6b21\u7684\u52a01\u64cd\u4f5c\u3002\u5728\u8fdb\u7a0b\u4e2d\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4e00\u6b21v\u64cd\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/10%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BF%A1%E5%8F%B7%E9%87%8F/#_11","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u53ea\u7528\u4fe1\u53f7\u91cf\u5b9e\u73b0\u9ad8\u901f\u7f13\u5b58\u3002\n#include &lt;stdio.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;string.h&gt;\n#include &lt;semaphore.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n// \u7f13\u5b58\u961f\u5217\u6d88\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_message\n{\n  int  mesgid;          // \u6d88\u606f\u7684id\u3002\n  char message[1024];   // \u6d88\u606f\u7684\u5185\u5bb9\u3002\n}stmesg;\n\nvector&lt;struct st_message&gt; vcache;  // \u7528vector\u5bb9\u5668\u505a\u7f13\u5b58\u3002\n\n// pthread_cond_t  cond=PTHREAD_COND_INITIALIZER;     // \u58f0\u660e\u5e76\u521d\u59cb\u5316\u6761\u4ef6\u53d8\u91cf\u3002\n// pthread_mutex_t mutex=PTHREAD_MUTEX_INITIALIZER;   // \u58f0\u660e\u5e76\u521d\u59cb\u5316\u4e92\u65a5\u9501\u3002\nsem_t notify,lock;     // \u58f0\u660e\u4fe1\u53f7\u91cf\u3002\n\nvoid  incache(int sig);      // \u751f\u4ea7\u8005\u3001\u6570\u636e\u5165\u961f\u3002\nvoid *outcache(void *arg);   // \u6d88\u8d39\u8005\u3001\u6570\u636e\u51fa\u961f\u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n\nint main()\n{\n  signal(15,incache);  // \u63a5\u653615\u7684\u4fe1\u53f7\uff0c\u8c03\u7528\u751f\u4ea7\u8005\u51fd\u6570\u3002\n\n  sem_init(&amp;notify,0,0);   // \u521d\u59cb\u5316\u901a\u77e5\u7684\u4fe1\u53f7\u91cf\uff0c\u7b2c3\u4e2a\u53c2\u6570\u4e3a0\u3002\n  sem_init(&amp;lock,0,1);     // \u521d\u59cb\u5316\u52a0\u9501\u7684\u4fe1\u53f7\u91cf\uff0c\u7b2c3\u4e2a\u53c2\u6570\u4e3a1\u3002\n\n  // \u521b\u5efa\u4e09\u4e2a\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n  pthread_t thid1,thid2,thid3;\n  pthread_create(&amp;thid1,NULL,outcache,NULL);\n  pthread_create(&amp;thid2,NULL,outcache,NULL);\n  pthread_create(&amp;thid3,NULL,outcache,NULL);\n\n  pthread_join(thid1,NULL);\n  pthread_join(thid2,NULL);\n  pthread_join(thid3,NULL);\n\n  sem_destroy(&amp;notify);\n  sem_destroy(&amp;lock);\n\n  return 0;\n}\n\nvoid incache(int sig)       // \u751f\u4ea7\u8005\u3001\u6570\u636e\u5165\u961f\u3002\n{\n  static int mesgid=1;  // \u6d88\u606f\u7684\u8ba1\u6570\u5668\u3002\n\n  struct st_message stmesg;      // \u6d88\u606f\u5185\u5bb9\u3002\n  memset(&amp;stmesg,0,sizeof(struct st_message));\n\n  // pthread_mutex_lock(&amp;mutex);    // \u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\n  sem_wait(&amp;lock);\n\n  // \u751f\u4ea7\u6570\u636e\uff0c\u653e\u5165\u7f13\u5b58\u961f\u5217\u3002\n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n\n  // pthread_mutex_unlock(&amp;mutex);  // \u7ed9\u7f13\u5b58\u961f\u5217\u89e3\u9501\u3002\n  sem_post(&amp;lock);\n\n  // pthread_cond_signal(&amp;cond);    // \u53d1\u9001\u6761\u4ef6\u4fe1\u53f7\uff0c\u6fc0\u6d3b\u4e00\u4e2a\u7ebf\u7a0b\u3002\n  // pthread_cond_broadcast(&amp;cond); // \u53d1\u9001\u6761\u4ef6\u4fe1\u53f7\uff0c\u6fc0\u6d3b\u5168\u90e8\u7684\u7ebf\u7a0b\u3002\n\n  sem_post(&amp;notify);    // \u628a\u4fe1\u53f7\u91cf\u7684\u503c\u52a01\uff0c\u5c06\u5524\u9192\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n  sem_post(&amp;notify);    // \u628a\u4fe1\u53f7\u91cf\u7684\u503c\u52a01\uff0c\u5c06\u5524\u9192\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n  sem_post(&amp;notify);    // \u628a\u4fe1\u53f7\u91cf\u7684\u503c\u52a01\uff0c\u5c06\u5524\u9192\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n  sem_post(&amp;notify);    // \u628a\u4fe1\u53f7\u91cf\u7684\u503c\u52a01\uff0c\u5c06\u5524\u9192\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n}\n\nvoid *outcache(void *arg)    // \u6d88\u8d39\u8005\u3001\u6570\u636e\u51fa\u961f\u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n{\n  struct st_message stmesg;  // \u7528\u4e8e\u5b58\u653e\u51fa\u961f\u7684\u6d88\u606f\u3002\n\n  while (true)\n  {\n    sem_wait(&amp;lock);    // \u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\n\n    // \u5982\u679c\u7f13\u5b58\u961f\u5217\u4e3a\u7a7a\uff0c\u7b49\u5f85\uff0c\u7528while\u9632\u6b62\u865a\u5047\u5524\u9192\u3002\n    while (vcache.size()==0)\n    {\n      // pthread_cond_wait(&amp;cond,&amp;mutex);\n\n      sem_post(&amp;lock);              // \u7ed9\u7f13\u5b58\u961f\u5217\u89e3\u9501\u3002\n      sem_wait(&amp;notify);            // \u7b49\u5f85\u4fe1\u53f7\u91cf\u7684\u503c\u5927\u4e8e0\u3002\n      sem_wait(&amp;lock);              // \u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\n    }\n\n    // \u4ece\u7f13\u5b58\u961f\u5217\u4e2d\u83b7\u53d6\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u7136\u540e\u5220\u9664\u8be5\u8bb0\u5f55\u3002\n    memcpy(&amp;stmesg,&amp;vcache[0],sizeof(struct st_message)); // \u5185\u5b58\u62f7\u8d1d\u3002\n    vcache.erase(vcache.begin());\n\n    sem_post(&amp;lock);              // \u7ed9\u7f13\u5b58\u961f\u5217\u89e3\u9501\u3002\n\n    // \u4ee5\u4e0b\u662f\u5904\u7406\u4e1a\u52a1\u7684\u4ee3\u7801\u3002\n    printf(\"phid=%ld,mesgid=%d\\n\",pthread_self(),stmesg.mesgid);\n    usleep(100);\n  }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/11%20%E5%BC%80%E5%8F%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AB%AF/","title":"\u591a\u7ebf\u7a0b\u7684\u7f51\u7edc\u670d\u52a1\u7aef","text":"<ul> <li>\u628a\u591a\u8fdb\u7a0b\u7684\u7f51\u7edc\u670d\u52a1\u7aef\u7a0b\u5e8f\u6539\u4e3a\u591a\u8fdb\u7a0b</li> <li>\u628a\u7ebf\u7a0b\u7684\u90e8\u5206\u77e5\u8bc6\u6574\u5408\uff0c\u878d\u5408\u8d2f\u901a</li> </ul> <p>\u4e00\u4e2aselect\u65e2\u53ef\u4ee5\u76d1\u542c\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u8fd8\u53ef\u4ee5\u63a5\u53d7\u5ba2\u6237\u7aef\u7684\u62a5\u6587\uff0c\u5728IO\u590d\u7528\u6a21\u578b\u4e2d\uff0cselect\u51fd\u6570\u7684\u529f\u80fd\u662f\u7b49\u5f85\u4e8b\u4ef6\u7684\u53d1\u751f\uff0c\u5305\u62ec\u53ef\u8bfb\u4e8b\u4ef6\u548c\u53ef\u5199\u4e8b\u4ef6\uff0c\u53ef\u5199\u4e8b\u4ef6\u6709\u4e9b\u4e0d\u597d\u7406\u89e3</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/11%20%E5%BC%80%E5%8F%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AB%AF/#_2","title":"\u4e8b\u4ef6","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/11%20%E5%BC%80%E5%8F%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AB%AF/#_3","title":"\u53ef\u8bfb\u4e8b\u4ef6","text":"<p>1)\u65b0\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u8bf7\u6c42accept\uff1b2)\u5ba2\u6237\u7aef\u6709\u62a5\u6587\u5230\u8fberecv\uff0c\u53ef\u4ee5\u8bfb\uff1b3)\u5ba2\u6237\u7aef\u8fde\u63a5\u5df2\u65ad\u5f00\uff1b</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/11%20%E5%BC%80%E5%8F%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%AB%AF/#_4","title":"\u53ef\u5199\u4e8b\u4ef6","text":"<p>4)\u53ef\u4ee5\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u62a5\u6587send\uff0c\u53ef\u4ee5\u5199\u3002(\u4f1a\u7b49\u5f85)</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/","title":"\u7ebf\u7a0b\u53c2\u6570\u7684\u4f20\u9012","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#1","title":"1\u3001\u521b\u5efa\u7684\u591a\u4e2a\u7ebf\u7a0b\u5e76\u4e0d\u4fdd\u8bc1\u54ea\u4e2a\u7ebf\u7a0b\u5148\u8fd0\u884c","text":"<p>\u8981\u6709\u5e8f\u7684\u8fdb\u884c\u7684\u8bdd\uff0c\u5982\u679c\u6bcf\u6b21\u521b\u5efa\u7ebf\u7a0b\u4e4b\u540esleep\u5f88\u77ed\u7684\u65f6\u95f4\uff0c\u987a\u5e8f\u5c31\u6ca1\u95ee\u9898\u4e86(\u5b9e\u9645\u5f88\u5c11\u7528)</p> <p></p> <p></p> <p>\u4e0b\u9762\u7684\u7ebf\u7a0b\u8fd0\u884c\u987a\u5e8f\u90fd\u6709\u4e0d\u540c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#2","title":"2\u3001\u4e0d\u80fd\u7528\u5168\u5c40\u53d8\u91cf\u4ee3\u66ff\u7ebf\u7a0b\u51fd\u6570\u7684\u53c2\u6570","text":"<p>\u4f46\u5728\u5355\u8fdb\u7a0b\u548c\u591a\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u7528\u5168\u5c40\u53d8\u91cf\u4ee3\u66ff\u51fd\u6570\u7684\u53c2\u6570</p> <p></p> <p>\u8fd0\u884c\u4e24\u6b21\u53d1\u73b0var\u5bf9\u5e94\u4e0d\u4e0a\uff0c\u5f97\u51fa\u7ed3\u8bba</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#3","title":"3\u3001\u26a0\ufe0f\u6570\u636e\u7c7b\u578b\u7684\u5f3a\u5236\u8f6c\u6362(\u7ecf\u5e38\u4f7f\u7528)","text":"Text Only<pre><code>int main(int argc,char *argv[])\n{\n  int ii =10;\n  void *pv=0;               //\u6307\u9488\u53608\u5b57\u8282\uff0c\u7528\u4e8e\u5b58\u653e\u53d8\u91cf\u7684\u5730\u5740\n  pv= (void *)(long)ii;     //\u5148\u628aii\u8f6c\u6362\u6210long\uff0c\u518d\u8f6c\u6362\u6210void *\n  printf(\"pv=%p\\n\",pv);     //pv\u5b58\u653e\u7684\u4e0d\u662f\u53d8\u91cf\u7684\u5730\u5740\uff0c\u800c\u662f\u53d8\u91cfii\u7684\u503c\n\n  int jj=0;\n  jj=(int)(long)pv;                 //\u628apv\u5b58\u653e\u7684\u5185\u5bb9\u5148\u8f6c\u6362\u6210long\uff0c\u518d\u8f6c\u6362\u6210int\n  printf(\"jj=%d\\n\",jj); \n\n  return 0;\n }\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c</p> <p></p> <p>\u8fd0\u884c\u7ed3\u679c\uff0c\u62a5\u9519\u7684\u539f\u56e0\u662f\u56e0\u4e3aint\u53604\u5b57\u8282\uff0c\u6307\u9488\u53608\u5b57\u8282\uff0c\u4ed6\u4eec\u7684\u957f\u5ea6\u4e0d\u540c\uff0c\u8fd8\u9700\u8981\u8fdb\u884c\u4e00\u6b21\u8f6c\u6362</p> <p></p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#4","title":"4\u3001\u5982\u4f55\u4f20\u9012\u6574\u578b\u53c2\u6570(\u6574\u578b\u53c2\u6570\u53ea\u80fd\u4f20\u4e00\u4e2a)","text":"<p>\u5728\u521b\u5efa\u7ebf\u7a0b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u628a\u6574\u6570\u5f3a\u5236\u8f6c\u6362\u6210\u4e86\u5730\u5740\uff0c\u90a3\u4e48\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4e2d\uff0c\u8981\u5c06\u5730\u5740\u5f3a\u884c\u8f6c\u5316\u4e3a\u6574\u6570</p> <p></p> <p>/root/project/pthread/book2.cpp</p> Text Only<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u53c2\u6570\u7684\u4f20\u9012\uff08\u7528\u5f3a\u5236\u8f6c\u6362\u7684\u65b9\u6cd5\u4f20\u53d8\u91cf\u7684\u503c\uff09\u3002\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n\nvoid *thmain1(void *arg);    // \u7ebf\u7a0b1\u7684\u4e3b\u51fd\u6570\u3002\nvoid *thmain2(void *arg);    // \u7ebf\u7a0b2\u7684\u4e3b\u51fd\u6570\u3002\nvoid *thmain3(void *arg);    // \u7ebf\u7a0b3\u7684\u4e3b\u51fd\u6570\u3002\nvoid *thmain4(void *arg);    // \u7ebf\u7a0b4\u7684\u4e3b\u51fd\u6570\u3002\nvoid *thmain5(void *arg);    // \u7ebf\u7a0b5\u7684\u4e3b\u51fd\u6570\u3002\nint var;\nint main(int argc,char *argv[])\n{\n  pthread_t thid1=0,thid2=0,thid3=0,thid4=0,thid5=0;   // \u7ebf\u7a0bid typedef unsigned long pthread_t\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  var=1;\n  if (pthread_create(&amp;thid1,NULL,thmain1,(void *)(long)var)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  var=2;\n  if (pthread_create(&amp;thid2,NULL,thmain2,(void *)(long)var)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  var=3;\n  if (pthread_create(&amp;thid3,NULL,thmain3,(void *)(long)var)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  var=4;\n  if (pthread_create(&amp;thid4,NULL,thmain4,(void *)(long)var)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  var=5;\n  if (pthread_create(&amp;thid5,NULL,thmain5,(void *)(long)var)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  printf(\"join...\\n\");\n  pthread_join(thid1,NULL);  \n  pthread_join(thid2,NULL);  \n  pthread_join(thid3,NULL);  \n  pthread_join(thid4,NULL);  \n  pthread_join(thid5,NULL);  \n  printf(\"join ok.\\n\");\n}\n\nvoid *thmain1(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"var1=%d\\n\",(int)(long)arg);\n  printf(\"\u7ebf\u7a0b1\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n\nvoid *thmain2(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"var2=%d\\n\",(int)(long)arg);\n  printf(\"\u7ebf\u7a0b2\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n\nvoid *thmain3(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"var3=%d\\n\",(int)(long)arg);\n  printf(\"\u7ebf\u7a0b3\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n\nvoid *thmain4(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"var4=%d\\n\",(int)(long)arg);\n  printf(\"\u7ebf\u7a0b4\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n\nvoid *thmain5(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"var5=%d\\n\",(int)(long)arg);\n  printf(\"\u7ebf\u7a0b5\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#5","title":"5\u3001\u5982\u4f55\u4f20\u9012\u5730\u5740\u53c2\u6570(\u53ef\u4ee5\u4f20\u591a\u4e2a\u6574\u578b\u53c2\u6570)","text":"<p>\u7ed9\u591a\u4e2a\u7ebf\u7a0b\u4f20\u540c\u4e00\u4e2a\u5730\u5740\u662f\u4e0d\u884c\u7684\uff0c\u8981\u7ed9\u6bcf\u4e00\u4e2a\u7ebf\u7a0b\u4f20\u4e00\u4e2a\u5730\u5740\uff0c\u5168\u5c40\u53d8\u91cf\u662f\u540c\u4e00\u4e2a\u5730\u5740\uff0c\u4e0d\u80fd\u8fd9\u6837\uff0c\u9700\u8981\u6bcf\u6b21\u521b\u5efa\u7ebf\u7a0b\u7684\u65f6\u5019\uff0c\u4e34\u65f6\u7684\u5206\u914d\u4e00\u5757\u5185\u5b58\u51fa\u6765</p> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#bug","title":"\u26a0\ufe0f\u8fd9\u4e2a\u7a0b\u5e8f\u7684bug","text":"<p>\u5728\u4e3b\u8fdb\u7a0b\u4e2d\u521b\u5efa\u7ebf\u7a0b\u7684\u65f6\u5019\u52a8\u6001\u5206\u914d\u4e86\u5185\u5b58\uff0c\u90a3\u4e48\u5728\u7ebf\u7a0b\u5b50\u51fd\u6570\u4e2d\u5e94\u8be5\u628a\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u5220\u9664\u6389\uff0c\u4e0d\u80fd\u76f4\u63a5\u5220\u9664\uff0c\u8981\u50cf\u4e0b\u9762\u90a3\u6837</p> <p></p> <p>\u73b0\u5728\u53ea\u80fd\u4f20\u5355\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u4f20\u5730\u5740\u5c31\u53ef\u4ee5\u4f20\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u662f\u901a\u8fc7\u628a\u591a\u4e2a\u53c2\u6570\u653e\u5728\u4e00\u4e2a\u7ed3\u6784\u4f53\u4e2d\uff0c\u518d\u628a\u7ed3\u6784\u4f53\u7684\u5730\u5740\u4f20\u8fdb\u53bb\uff0c\u6765\u4f20\u591a\u4e2a\u53c2\u6570 book4.cpp</p> Text Only<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u53c2\u6570\u7684\u4f20\u9012\uff08\u7528\u7ed3\u6784\u4f53\u7684\u5730\u5740\u4f20\u9012\u591a\u4e2a\u53c2\u6570\uff09\u3002\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n\nvoid *thmain(void *arg);    // \u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n\nstruct st_args\n{\n  int  no;        // \u7ebf\u7a0b\u7f16\u53f7\u3002\n  char name[51];  // \u7ebf\u7a0b\u540d\u3002\n};\n\nint main(int argc,char *argv[])\n{\n  pthread_t thid=0;\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  struct st_args *stargs=new struct st_args;\n  stargs-&gt;no=15;   strcpy(stargs-&gt;name,\"\u6d4b\u8bd5\u7ebf\u7a0b\");\n  if (pthread_create(&amp;thid,NULL,thmain,stargs)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  printf(\"join...\\n\");\n  pthread_join(thid,NULL);  \n  printf(\"join ok.\\n\");\n}\n\nvoid *thmain(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  struct st_args *pst=(struct st_args *)arg;\n  printf(\"no=%d,name=%s\\n\",pst-&gt;no,pst-&gt;name);\n  delete pst;\n  printf(\"\u7ebf\u7a0b\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n}\n</code></pre> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/2%20%E7%BA%BF%E7%A8%8B%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92/#6","title":"6\u3001\u7ebf\u7a0b\u9000\u51fa\u72b6\u6001","text":"<p>\u26a0\ufe0f\uff1a\u5982\u679c\u7528\u7ed3\u6784\u4f53\u7684\u5730\u5740\u4f5c\u4e3a\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c\uff0c\u5fc5\u987b\u4fdd\u5b58\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u7ed3\u675f\u540e\u5730\u5740\u4ecd\u7136\u662f\u6709\u6548\u7684\uff0c\u6240\u4ee5\uff0c\u8981\u91c7\u7528\u52a8\u6001\u5206\u914d\u5185\u5b58\u7684\u65b9\u6cd5\uff0c\u4e0d\u80fd\u7528\u5c40\u90e8\u53d8\u91cf</p> <p></p> Text Only<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u7ebf\u7a0b\u9000\u51fa\uff08\u7ec8\u6b62\uff09\u7684\u72b6\u6001\u3002\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n\nvoid *thmain(void *arg);    // \u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n\nstruct st_ret\n{\n  int  retcode;          // \u8fd4\u56de\u4ee3\u7801\u3002\n  char message[1024];    // \u8fd4\u56de\u5185\u5bb9\u3002\n};\n\nint main(int argc,char *argv[])\n{\n  pthread_t thid=0;\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  if (pthread_create(&amp;thid,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  printf(\"join...\\n\");\n  struct st_ret *pst=0;\n  pthread_join(thid,(void **)&amp;pst);  \n  printf(\"retcode=%d,message=%s\\n\",pst-&gt;retcode,pst-&gt;message);\n  delete pst;\n  printf(\"join ok.\\n\");\n}\n\nvoid *thmain(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  printf(\"\u7ebf\u7a0b\u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n\n  // \u6ce8\u610f\uff0c\u5982\u679c\u7528\u7ed3\u6784\u4f53\u7684\u5730\u5740\u4f5c\u4e3a\u7ebf\u7a0b\u7684\u8fd4\u56de\u503c\uff0c\u5fc5\u987b\u4fdd\u5b58\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u7ed3\u675f\u540e\u5730\u5740\u4ecd\u662f\u6709\u6548\u7684\u3002\n  // \u6240\u4ee5\uff0c\u8981\u91c7\u7528\u52a8\u6001\u5206\u914d\u5185\u5b58\u7684\u65b9\u6cd5\uff0c\u4e0d\u80fd\u7528\u5c40\u90e8\u53d8\u91cf\u3002\n  struct st_ret *ret=new struct st_ret;\n  ret-&gt;retcode=1121;\n  strcpy(ret-&gt;message,\"\u6d4b\u8bd5\u5185\u5bb9\u3002\");\n  pthread_exit((void *)ret);\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/","title":"\u7ebf\u7a0b\u8d44\u6e90\u7684\u56de\u6536","text":"<ul> <li>\u7ebf\u7a0b\u7684\u5206\u79bb</li> <li>\u7528\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u91ca\u653e\u8d44\u6e90</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_2","title":"\u8fdb\u7a0b\u8d44\u6e90\u7684\u56de\u6536","text":"<ul> <li>\u5b50\u8fdb\u7a0b\u9000\u51fa\u65f6\uff0c\u5411\u7236\u8fdb\u7a0b\u53d1\u9001SIGCHLD\u4fe1\u53f7</li> </ul> <p>\u5982\u679c\u7236\u8fdb\u7a0b\u6ca1\u6709\u5904\u7406\u8fd9\u4e2a\u4fe1\u53f7\u5c31\u4f1a\u4ea7\u751f\u50f5\u5c38\u8fdb\u7a0b\uff0c\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u79cd\u95ee\u9898</p> <p>1\u3001\u7236\u8fdb\u7a0b\u8c03\u7528wait()\u51fd\u6570\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\uff0c</p> <p>2\u3001\u5ffd\u7565\u5b50\u8fdb\u7a0b\u7684SIGCHLD\u4fe1\u53f7</p> <ul> <li>\u5728\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4e2d\u91ca\u653e\u8d44\u6e90</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_3","title":"\u4e00\u3001\u7ebf\u7a0b\u7684\u5206\u79bb","text":"<ul> <li>\u7ebf\u7a0b\u6709\u975e\u5206\u79bb(joinable)\u548c\u5206\u79bb(unjoinable)\u4e24\u79cd\u72b6\u6001</li> <li>\u7ebf\u7a0b\u7f3a\u7701\u72b6\u6001\u662f\u975e\u5206\u79bb\u7684\uff0c\u6216\u8005\u79f0\u4e3a\u53ef\u8fde\u63a5\u7684(joinable)\uff0c\u53ef\u4ee5join\u7684</li> <li>\u975e\u5206\u79bb\u72b6\u6001\u7684\u7ebf\u7a0b\u7ec8\u6b62\u65f6\uff0c\u4e0d\u4f1a\u91ca\u653e\u7ebf\u7a0b\u5168\u90e8\u7684\u8d44\u6e90\uff0c\u4ed6\u4e00\u76f4\u5728\u7b49\u5f85\u88abjoin</li> <li>\u628a\u7ebf\u7a0b\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u5206\u79bb\uff0c\u7ebf\u7a0b\u7ed3\u675f\u540e\uff0c\u7531\u7cfb\u7edf\u56de\u6536\u8d44\u6e90</li> <li>\u8c03\u7528pthread_detach()\u51fd\u6570\u5206\u79bb\u7ebf\u7a0b</li> <li>\u521b\u5efa\u7ebf\u7a0b\u524d\uff0c\u8c03\u7528pthread_attr_setdetatachstate()\u8bbe\u7f6e\u4e3a\u7ebf\u7a0b\u7684\u5c5e\u6027</li> <li>\u975e\u963b\u585e\uff1apthread_tryjoin_np()</li> </ul> <p>\u5982\u679c\u5b50\u7ebf\u7a0b\u6ca1\u6709\u7ec8\u6b62\uff0c\u4ed6\u4e0d\u4f1a\u7b49\u5f85\u7acb\u5373\u8fd4\u56de</p> <ul> <li>\u9650\u65f6\u963b\u585e\u7b49\u5f85\uff1apthread_timedjoin_np()</li> </ul> <p>\u591a\u4e86\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\u7684\u51fd\u6570\uff0c\u610f\u601d\u662f\u7b49\u5f85\u82e5\u5e72\u79d2\u540e\uff0c\u5982\u679c\u5b50\u7ebf\u7a0b\u8fd8\u6ca1\u6709\u7ec8\u6b62\u51fd\u6570\u5c31\u8fd4\u56de</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#1join","title":"1\uff09\u4ee5\u4e0b\u6f14\u793a\u672a\u5206\u79bb\u7684\u8fdb\u7a0b\u9000\u51fa\u4e4b\u540e\uff0c\u53ef\u4ee5\u7528join\u5f97\u5230\u5b83\u9000\u51fa\u7684\u72b6\u6001\uff0c\u5e76\u4e14\u91ca\u653e\u8d44\u6e90","text":"<p>\u5982\u679c\u4e0d\u5173\u5fc3\u7ebf\u7a0b\u7684\u9000\u51fa\u72b6\u6001\uff0c\u53ef\u4ee5\u628a\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5206\u79bb\uff0c\u8ba9\u64cd\u4f5c\u7cfb\u7edf\u5728\u7ebf\u7a0b\u9000\u51fa\u540e\u56de\u6536\u5b83\u7684\u8d44\u6e90</p> <p>\u4e24\u4e2a\u8fdb\u7a0b\u5728\u8fd0\u884c\u7ed3\u675f\u4e86\u51e0\u79d2\u4e4b\u540e\u3002\u4e3b\u8fdb\u7a0b\u6210\u529fjoin\u5230\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u9000\u51fa\u72b6\u6001\u3002\u8bf4\u660e\u7ebf\u7a0b\u5728\u9000\u51fa\u4e4b\u540e\u5e76\u4e0d\u662f\u5168\u90e8\u7684\u8d44\u6e90\u90fd\u91ca\u653e\u4e86\uff0c\u7ebf\u7a0b\u9000\u51fa\u7684\u72b6\u6001\u53ea\u6709join\u4e4b\u540e\u624d\u4f1a\u88ab\u91ca\u653e\uff0c</p> <p></p> <p></p> <p>\u7ebf\u7a0b\u9000\u51fa\u4e4b\u540e\u53ea\u80fdjoin\u4e00\u6b21\uff0cjoin\u591a\u6b21\u5c31\u4f1a\u62a5\u9519\u56e0\u4e3a\u8d44\u6e90\u4ee5\u53ca\u91ca\u653e\u6389\u4e86</p> <p>join\u7b2c\u4e8c\u6b21\u7684\u65f6\u5019\u51fd\u6570\u8fd4\u56de\u5931\u8d25</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#2pthread_detach","title":"2\uff09\u8c03\u7528pthread_detach()\u51fd\u6570\u5206\u79bb\u7ebf\u7a0b","text":"<p>\u8fd9\u91cc\u662f\u672a\u5206\u79bb\u7684\u4ee3\u7801\uff0c\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#1","title":"1.\u653e\u5728\u4e3b\u8fdb\u7a0b\u51fd\u6570\u4e2d","text":"<p>\u628a\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5206\u79bb\u4e4b\u540e\u5c31\u4e0d\u80fd\u88abjoin\u4e86\uff0cjoin\u51fd\u6570\u4e0d\u4f1a\u963b\u585e\uff0c\u7acb\u5373\u8fd4\u56de\u5931\u8d25\uff0c\u4e3b\u8fdb\u7a0b\u7ed3\u675f\u7684\u8bdd\u5b50\u7ebf\u7a0b\u5c31\u4e0d\u80fd\u8fd0\u884c\uff0c\u8fd9\u91cc\u7684\u95ee\u9898\u662f\u65e2\u7136\u628a\u7ebf\u7a0b\u8bbe\u7f6e\u6210\u4e86\u5206\u79bb\u72b6\u6001\uff0c\u90a3\u4e48\u5c31\u4e0d\u7528\u53bbjoin\u5b83\uff0c\u5e76\u4e14\u5e94\u8be5\u7559\u4e0b\u65f6\u95f4\uff0c\u8ba9\u5b50\u7ebf\u7a0b\u53ef\u4ee5\u8fd0\u884c</p> <p></p> <p></p> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#2","title":"2\u3001\u653e\u5728\u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u4e2d(\u503e\u5411\u4e8e\u8fd9\u79cd)","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#3pthread_attr_setdetachstate","title":"3\uff09\u8c03\u7528pthread_attr_setdetachstate()(\u4e86\u89e3\u5c31\u884c)","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#_4","title":"\u4e8c\u3001\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u91ca\u653e\u8d44\u6e90","text":"<ul> <li>\u7ebf\u7a0b\u7ec8\u6b62\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8c03\u7528\u6e05\u7406\u51fd\u6570\u91ca\u653e\u7a7a\u95f4</li> </ul> <p>\u6bd4\u5982\u8bf4\u5173\u95ed\u6587\u4ef6\uff0c\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5\uff0c\u56de\u6eda\u6570\u636e\u5e93\u4e8b\u52a1\uff0c\u91ca\u653e\u9501</p> <ul> <li>\u6e05\u7406\u51fd\u6570\u5165\u6808\uff1apthread_cleanup_push();</li> <li>\u6e05\u7406\u51fd\u6570\u51fa\u6808\uff1apthread_cleanup_pop();</li> <li>pthread_cleanup_push()\u3001pthread_cleanup_pop()\u5fc5\u987b\u6210\u5bf9\u5199\u5728\u540c\u4e00\u8bed\u53e5\u4e2d</li> <li>\u7ebf\u7a0b\u7ec8\u6b62(return\u3001pthread_exit()\u3001pthread_cancel() )\u3001\u8bed\u53e5\u5757\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u6e05\u7406\u51fd\u6570\u5c06\u88ab\u6267\u884c</li> </ul> <p></p> <p></p> <p>\u521a\u597d\u662f\u540e\u8fdb\u5148\u51fa</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#2-returnpthread_exitpthread_cancel","title":"2 \u7ebf\u7a0b\u7ec8\u6b62(return\u3001pthread_exit()\u3001pthread_cancel() )\u3001\u8bed\u53e5\u5757\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u6e05\u7406\u51fd\u6570\u5c06\u88ab\u6267\u884c","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#3-exitreturn","title":"3 \u653e\u5728\u5b50\u51fd\u6570\u91cc\u9762,\u53ea\u80fd\u7528exit\u4e0d\u80fd\u7528return","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#4","title":"4 \u7ebf\u7a0b\u6e05\u7406\u51fd\u6570","text":"<p>\u5728\u5b9e\u9645\u7684\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u589e\u52a0\u7a0b\u5e8f\u7684\u53ef\u8bfb\u6027</p> <p>pthread_cleanup_pop(0)\u5982\u679c\u53d6\u503c\u4e0d\u4e3a0\u6e05\u7406\u51fd\u6570\u51fa\u6808\u5e76\u4e14\u6267\u884c\uff0c\u5982\u679c\u53d6\u503c\u4e3a0\u6e05\u7406\u51fd\u6570\u51fa\u6808\u4f46\u662f\u4e0d\u6267\u884c</p> <p>\u7ebf\u7a0b\u9000\u51fa\u7684\u65f6\u5019\u9700\u8981\u5173\u95ed\u6587\u4ef6\u6307\u9488\uff0c\u5173\u95edsocket\u3002\u548c\u56de\u6eda\u6570\u636e\u5e93\uff0c\u628a\u8fd9\u4e09\u4ef6\u4e8b\u60c5\u7528\u4e09\u4e2a\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u53bb\u505a\uff0c\u5206\u522b\u628a\u6587\u4ef6\u6307\u9488socker\u548c\u6570\u636e\u5e93\u8fde\u63a5\u4f20\u8fdb\u53bb</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/3%20%E7%BA%BF%E7%A8%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%9B%9E%E6%94%B6/#5","title":"5 \u8fdb\u7a0b\u6e05\u7406\u51fd\u6570(\u6269\u5c55\u5b66\u4e60)","text":"<p>atexit()</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/","title":"\u7ebf\u7a0b\u7684\u53d6\u6d88","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#1pthread_cancel","title":"1\u3001\u7ebf\u7a0b\u5728\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528pthread_cancel()\u53d6\u6d88\u5b83","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#2-pthread_canceled-1","title":"2 \u7ebf\u7a0b\u88ab\u53d6\u6d88\u540e,\u8fd4\u56de\u72b6\u6001PTHREAD_CANCELED,\u5373-1","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#3-pthread_setcancelstate","title":"3  \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u53d6\u6d88\u72b6\u6001pthread_setcancelstate()","text":"<p>int pthread_setcancelstate(int state, int *oldstate);</p> <p>\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u53d6\u6d88\u72b6\u6001\u7684\u4ee3\u7801\u53ea\u80fd\u653e\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4e2d</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#4-pthread_setcanceltype","title":"4 \u8bbe\u7f6e\u7ebf\u7a0b\u7684\u53d6\u6d88\u65b9\u5f0fpthread_setcanceltype()","text":"<p>int pthread_setcanceltype(int type, int *oldtype);</p> <p>\u7ebf\u7a0b\u7684\u7ec8\u6b62\u72b6\u6001\u662f1\u8bf4\u660e\u7ebf\u7a0b\u6ca1\u6709\u88ab\u53d6\u6d88\u6389\uff0c\u53d8\u91cf\u7684\u503c\u56db\u4e2a\u4ebf\uff0c\u4e5f\u8bf4\u660e\u5b50\u7ebf\u7a0b\u5df2\u7ecf\u8dd1\u5b8c\u4e86\u5faa\u73af\uff0c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u7ebf\u7a0b\u6ca1\u6709\u88abcancel\u6389\uff0c\u6216\u8005\u5728cancel\u4e4b\u524d\uff0c\u5b50\u8fdb\u7a0b\u5df2\u8fd0\u884c\u7ed3\u675f</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#_2","title":"\u662f\u54ea\u79cd\u60c5\u51b5\uff1f","text":"<p>\u7ebf\u7a0b\u7f3a\u7701\u7684\u65b9\u5f0f\u662f\u5ef6\u8fdf\u53d6\u6d88\u8fd0\u884c\u5230\u4e0b\u4e00\u4e2a\u53d6\u6d88\u70b9\u624d\u9000\uff0c\u8fd9\u6b21\u6539\u4e3a\u7acb\u5373\u53d6\u6d88</p> <p>\u7ebf\u7a0b\u7684\u8fd4\u56de\u72b6\u6001\u662f-1\uff0c\u8868\u793a\u662f\u88ab\u53d6\u6d88\u7684\uff0cvar\u6ca1\u6709\u52304\u4e2a\u4ebf</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#_3","title":"\u4ec0\u4e48\u662f\u53d6\u6d88\u70b9\uff1f","text":"<p>\u8fd9\u91cc\u8bbe\u4e3a\u7f3a\u7701\u72b6\u6001\u5c31\u662f\u5ef6\u8fdf\u53d6\u6d88\uff0cclose\u5c31\u662f\u53d6\u6d88\u70b9\uff0c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e2a\u7ebf\u7a0b\u4e3b\u51fd\u6570\u53d6\u6d88\u6389\u4e86</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/4%20%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8F%96%E6%B6%88/#5pthread_testcancel","title":"5\u3001\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u53d6\u6d88\u70b9pthread_testcancel()","text":"<p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u5982\u679c\u7ebf\u7a0b\u4e2d\u7684\u4ee3\u7801\u6ca1\u6709\u53d6\u6d88\u70b9\uff0c\u53ef\u4ee5\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u8bbe\u7f6e\u53d6\u6d88\u70b9\uff0c\u8fd9\u662f\u89c4\u8303\u7684\u505a\u6cd5</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/","title":"\u7ebf\u7a0b\u548c\u4fe1\u53f7","text":"<ul> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u4e0d\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528</li> <li>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684</li> <li>\u8fdb\u7a0b\u4e2d\u7684\u4fe1\u53f7\u53ef\u4ee5\u9001\u8fbe\u5355\u4e2a\u7ebf\u7a0b\uff0c\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528</li> <li>\u5982\u679c\u67d0\u7ebf\u7a0b\u56e0\u4e3a\u4fe1\u53f7\u800c\u7ec8\u6b62\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5c06\u7ec8\u6b62</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#_2","title":"\u8865\u5145\u77e5\u8bc6","text":"<ul> <li> <p>\u6bd4signal()\u66f4\u5f3a\u5927\u7684sigaction()\u51fd\u6570</p> </li> <li> <p>\u8fdb\u7a0b\u4fe1\u53f7\u5c4f\u853dsigprocmask(), \u7ebf\u7a0bpthread_sigmask()</p> </li> <li> <p>\u5176\u4ed6\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff1asigwait() \u3001sigwaitinfo()\u3001sigtimedwait()</p> </li> </ul> <p>\u5728\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u6bd4\u8f83\u590d\u6742\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u4e2d\u7528\u5230\u7684\u6bd4\u8f83\u7b80\u5355\uff0c</p> <p>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u66f4\u52a0\u590d\u6742\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u4e2d\u7528\u5230\u7684\u4e5f\u6bd4\u8f83\u7b80\u5355\uff0c\u4e0b\u9762\u53ea\u4ecb\u7ecd\u6211\u4eec\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\u91cd\u70b9\u5173\u5fc3\u7684\u5185\u5bb9\uff0c\u4e0d\u6df1\u5165\u8ba8\u8bba</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#1","title":"1 \u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u4e0d\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528","text":"<p>book10</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#_3","title":"\u800c\u5728\u5728\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5916\u90e8\u5411\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\u5c06\u4f1a\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528","text":"Text Only<pre><code>void func(int sig)\n{\n  printf(\"catch signal %d\\n\",sig);\n}\n\nint main(int argc,char *argv[])\n{\nsignal(2,func);\n\nfork();\nprintf(\"sleep ...\\n\");\nsleep(100);\nprintf(\"sleep ok.\\n\");\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#2","title":"2 \u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684","text":"<p>\u7ed3\u8bba\uff1a\u5728\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u4e2d\uff0c\u60f3\u5bf9\u4e0d\u540c\u7684\u7ebf\u7a0b\u8bbe\u7f6e\u4e0d\u540c\u7684\u4fe1\u53f7\u662f\u4e0d\u53ef\u80fd\u7684</p> <p>\u8c03\u7528\u7684\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u662ffun2\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u6837\uff1f\u5728\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u4e2d\uff0c\u4fe1\u53f7\u7684\u5904\u7406\u662f\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684\uff0c\u5305\u62ec\u4e3b\u7ebf\u7a0b\u4fe1\u53f7\u5904\u7406\u7684\u4ee3\u7801\uff0c\u653e\u54ea\u91cc\u90fd\u4e00\u6837\uff0c\u4ee5\u6700\u540e\u88ab\u6267\u884c\u7684\u90a3\u884c\u4ee3\u7801\u4e3a\u51c6</p> <p></p> <p></p> <p>\u5982\u679c\u5728\u5b50\u7ebf\u7a0b\u4e2d\u5ffd\u7565\u4fe1\u53f7\uff0c\u4e5f\u5c06\u4f1a\u5f71\u54cd\u6574\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u4e2a\u4fe1\u53f7\u88ab\u5ffd\u7565\u6389\u4e86\uff0c\u6ca1\u6709\u4efb\u4f55\u5176\u4ed6\u7684</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#_4","title":"\u800c\u5728\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5982\u679c\u6709\u5fc5\u8981\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u8bbe\u7f6e\u4e0d\u540c\u7684\u4fe1\u53f7\u5904\u7406\u65b9\u5f0f","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#3","title":"3 \u8fdb\u7a0b\u4e2d\u7684\u4fe1\u53f7\u53ef\u4ee5\u9001\u8fbe\u5355\u4e2a\u7ebf\u7a0b\uff0c\u4f1a\u4e2d\u65ad\u7cfb\u7edf\u8c03\u7528","text":"<p>\u8fdb\u7a0b\u4e2d\u7684\u4fe1\u53f7\u6307\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\u67d0\u4e2a\u7ebf\u7a0b\u7ed9\u5176\u4ed6\u7684\u7ebf\u7a0b\u53d1\u9001\u4fe1\u53f7\uff0c\u5728\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u4e2d\u53ef\u4ee5\u7528pthread_kill\u51fd\u6570\u5411\u6307\u5b9a\u7684\u7ebf\u7a0b\u53d1\u9001\u4fe1\u53f7</p> <p>int pthread_kill(pthread_t thread, int sig);  //\u7ebf\u7a0b\u7684id\u3001\u4fe1\u53f7\u7684\u7f16\u53f7</p> <p>\u4fe1\u53f72\u4e2d\u65ad\u4e86sleep\u51fd\u6570\uff0c\u56e0\u4e3a\u663e\u793a\u4fe1\u53f72\u65f6\u91cc\u9762\u663e\u793asleep ok\uff0c\u6b63\u5e38\u60c5\u51b5\u5e94\u8be5\u5728\u6536\u5230\u4fe1\u53f7\u7684\u4e94\u79d2\u540e\u624d\u4f1a\u663e\u793a</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/5%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E4%BF%A1%E5%8F%B7/#4","title":"4 \u5982\u679c\u67d0\u7ebf\u7a0b\u56e0\u4e3a\u4fe1\u53f7\u800c\u7ec8\u6b62\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5c06\u7ec8\u6b62","text":"<p>\u5728\u591a\u8fdb\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u9000\u51fa\u662f\u81ea\u5df1\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u591a\u7ebf\u7a0b\u4e2d\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u88ab\u4fe1\u53f7\u7ec8\u6b62\uff0c\u6574\u4e2a\u8fdb\u7a0b\u73a9\u5b8c</p> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u6ca1\u6709\u5904\u740615\u7684\u4fe1\u53f7\uff0c\u73b0\u5728\u5411\u5b50\u7ebf\u7a0b\u53d1\u900115\u7684\u4fe1\u53f7\uff0c\u7f3a\u7701\u5c06\u7ec8\u6b62\u5b50\u7ebf\u7a0b</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/","title":"\u7ebf\u7a0b\u5b89\u5168","text":"<p>\u5728\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u4e2d\uff0c\u5730\u5740\u7a7a\u95f4\u662f\u5171\u4eab\u7684\uff0c\u6240\u4ee5\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\u4f1a\u51b2\u7a81</p> <p>\u5728\u7ebf\u7a0b\u4e2d\u9020\u6210\u6570\u636e\u4e0d\u540c\u6b65\u7684\u4e3b\u8981\u539f\u56e0\u662f\u975e\u539f\u5b50\u64cd\u4f5c\u548c\u4e0d\u53ef\u89c1\uff0c\u4ee3\u7801\u7684\u91cd\u6392\u5e8f\u5f88\u5c11\u88ab\u63d0\u5230</p> <ul> <li>\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90(\u5168\u5c40\u548c\u9759\u6001)\u7684\u65f6\u5019\u4f1a\u51b2\u7a81</li> <li>\u4e09\u4e2a\u6982\u5ff5\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u548c\u987a\u5e8f\u6027</li> <li>\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\uff1avolatile\u5173\u952e\u5b57 (\u274c\u4ed6\u4e0d\u662f\u539f\u5b50\u7684)\u3002\u539f\u5b50\u64cd\u4f5c(\u539f\u5b50\u7c7b\u578b)(\u274c\u53ea\u652f\u6301\u6574\u6570)\u3001\u7ebf\u7a0b\u540c\u6b65(\u9501)(\u2705)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#1","title":"1\u3001\u591a\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90(\u5168\u5c40\u548c\u9759\u6001)\u7684\u65f6\u5019\u4f1a\u51b2\u7a81","text":"<p>\u8fd9\u4e2a\u4ee3\u7801\u7684\u6700\u540evar\u5e94\u8be5\u662f1000000*2=2000000\uff0c\u4f46\u662f\u4ea7\u751f\u4e86\u7ade\u4e89\u6700\u540e\u7ed3\u679c\u4e0d\u786e\u5b9a\u591a\u5c11</p> <p></p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#2","title":"2\u3001\u4e09\u4e2a\u6982\u5ff5\uff1a\u539f\u5b50\u6027\u3001\u53ef\u89c1\u6027\u548c\u987a\u5e8f\u6027","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_2","title":"\u539f\u5b50\u6027","text":"<ul> <li>\u4e00\u4e2a\u64cd\u4f5c(\u6709\u53ef\u80fd\u5305\u542b\u6709\u591a\u4e2a\u5b50\u64cd\u4f5c)\uff0c\u8981\u4e48\u5168\u90e8\u6267\u884c(\u751f\u6548)\uff0c\u8981\u4e48\u5168\u90e8\u4e0d\u6267\u884c(\u90fd\u4e0d\u751f\u6548)</li> <li>CPU\u6267\u884c\u6307\u4ee4\uff1a\u8bfb\u53d6\u6307\u4ee4\u3001\u8bfb\u53d6\u5185\u5b58\u3001\u6267\u884c\u6307\u4ee4\u3001\u5199\u56de\u5185\u5b58</li> <li>i++   1\uff09\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6i\u7684\u503c      2\uff09\u628ai+1      3\uff09\u628a\u7ed3\u679c\u5199\u56de\u5185\u5b58</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_3","title":"\u53ef\u89c1\u6027","text":"<p>\u5f53\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee\u5171\u4eab\u53d8\u91cf\u65f6\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u5171\u4eab\u53d8\u91cf\u7684\u4fee\u6539\uff0c\u5176\u4ed6\u7ebf\u7a0b\u80fd\u591f\u7acb\u5373\u770b\u5230</p> <p>CPU\u6709\u9ad8\u901f\u7f13\u5b58\u3002\u6bcf\u4e2a\u7ebf\u7a0b\u8bfb\u53d6\u5171\u4eab\u53d8\u91cf\u65f6\uff0c\u4f1a\u5c06\u8be5\u53d8\u91cf\u4ece\u5185\u5b58\u52a0\u8f7d\u5230CPU\u7f13\u5b58\u4e2d\uff0c\u4fee\u6539\u8be5\u53d8\u91cf\u540e\uff0cCPU\u56de\u7acb\u5373\u66f4\u65b0\u7f13\u5b58\uff0c\u4f46\u4e0d\u4e00\u5b9a\u4f1a\u7acb\u5373\u5c06\u5b83\u5199\u56de\u5185\u5b58\u3002\u6b64\u65f6\u5176\u4ed6\u7ebf\u7a0b\u8bbf\u95ee\u8be5\u53d8\u91cf\uff0c\u4ece\u5185\u5b58\u4e2d\u8bfb\u5230\u7684\u662f\u65e7\u6570\u636e\uff0c\u800c\u975e\u7b2c\u4e00\u4e2a\u7ebf\u7a0b\u66f4\u65b0\u540e\u7684\u6570\u636e</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_4","title":"\u987a\u5e8f\u6027","text":"<p>\u7a0b\u5e8f\u6267\u884c\u7684\u987a\u5e8f\u6309\u7167\u4ee3\u7801\u7684\u5148\u540e\u987a\u5e8f\u6267\u884c</p> <p>CPU\u4e3a\u4e86\u63d0\u9ad8\u7a0b\u5e8f\u6574\u4f53\u7684\u6267\u884c\u6548\u7387\uff0c\u53ef\u80fd\u4f1a\u5bf9\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff0c\u6309\u7167\u66f4\u9ad8\u6548\u7684\u987a\u5e8f\u6267\u884c\u4ee3\u7801</p> <p></p> <p>CPU\u867d\u7136\u5e76\u4e0d\u4fdd\u8bc1\u5b8c\u5168\u6309\u7167\u4ee3\u7801\u987a\u5e8f\u6267\u884c\uff0c\u4f46\u4ed6\u4f1a\u4fdd\u8bc1\u7a0b\u5e8f\u6700\u7ec8\u7684\u6267\u884c\u7ed3\u679c\u548c\u4ee3\u7801\u987a\u5e8f\u6267\u884c\u65f6\u7684\u7ed3\u679c\u4e00\u81f4</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#3","title":"3\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#volatile","title":"volatile\u5173\u952e\u5b57","text":"<ul> <li>\u8ba9CPU\u6bcf\u6b21\u90fd\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u53d8\u91cf\u7684\u503c\uff0c\u4e0d\u8981\u653e\u5728\u7f13\u5b58\u91cc\uff0c\u4fdd\u8bc1\u4e86\u53d8\u91cf\u7684\u5185\u5b58\u53ef\u89c1\u6027</li> <li>\u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u4f18\u5316\u4ee3\u7801\uff0c\u4e0d\u8981\u91cd\u6392\u5e8f</li> <li>\u4f46\u4e0d\u662f\u539f\u5b50\u7684</li> </ul> <p>\u901a\u8fc7\u6d4b\u8bd5\u53d1\u73b0volatile\u89e3\u51b3\u4e0d\u4e86\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#_5","title":"\u539f\u5b50\u64cd\u4f5c","text":"<p>CPU\u4e0e\u5185\u5b58\u901a\u8fc7\u603b\u7ebf\u8fdb\u884c\u6570\u636e\u4ea4\u6362\uff0c\u5728\u64cd\u4f5c\u4e4b\u524d\u9501\u4f4f\u603b\u7ebf\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u4e09\u6761\u6c47\u7f16\u6307\u4ee4\uff0c\u603b\u7ebf\u9501\u53ef\u4ee5\u7406\u89e3\u4e3a\u786c\u4ef6\u7ea7\u522b\u7684\u9501\uff0c\u5b83\u7684\u6548\u7387\u975e\u5e38\u9ad8\uff0c\u6bd4\u7ebf\u7a0b\u5e93\u63d0\u4f9b\u7684\u9501\u8981\u5feb\u5341\u500d\u5de6\u53f3</p> <ul> <li> <p>\u672c\u8d28\u662f\u603b\u7ebf\u9501   </p> </li> <li> <p>\u4e09\u6761\u6c47\u7f16\u6307\u4ee4\uff1axadd\u3001cmpxchg\u6216xchg</p> </li> <li>\u786c\u4ef6\u7ea7\u522b\u7684\u9501</li> </ul> <p>c\u8bed\u8a00\u63d0\u4f9b\u4e86\u5bf9\u6574\u578b\u53d8\u91cf\u8fdb\u884c\u539f\u5b50\u64cd\u4f5c\u7684\u7cfb\u5217\u51fd\u6570\uff0c\u8fd9\u516d\u4e2a\u503c\u662f\u8fd4\u56de\u539f\u503c\u5e76\u64cd\u4f5c\uff0c\u7b2c\u4e00\u4e2afetch_and_add\u610f\u601d\u662f\u628a\u8fd9\u4e2a\u53d8\u91cf\u4ece\u5185\u5b58\u91cc\u9762\u62ff\u51fa\u6765\uff0c\u518d\u52a0\u4e0avalue\u76f8\u5f53\u4e8ei++\u7684\u610f\u601d\uff0c\u5b9e\u9a8c\u6210\u529f\uff01</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#1_1","title":"1 \u64cd\u4f5c\u5e76\u8fd4\u56de\u64cd\u4f5c\u540e\u7684\u503c","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#2-cascompare-and-swap","title":"2 CAS\u6307\u4ee4(compare and swap)","text":"<p>\u4ed6\u4eec\u662f\u539f\u5b50\u64cd\u4f5c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#3-c11","title":"3 C11\u539f\u5b50\u7c7b\u578b","text":"<p>std::atomic\u6a21\u7248\u7c7b\u5c01\u88c5\u4e86\u539f\u5b50\u64cd\u4f5c\uff0c\u652f\u6301\u5e03\u5c14\u3001\u6574\u6570\u548c\u5b57\u7b26\uff0c\u672c\u8d28\u4e0a\u90fd\u662f\u6574\u6570</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/6%20%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/#4","title":"4 \u7ebf\u7a0b\u540c\u6b65(\u9501)","text":"<p>\u539f\u5b50\u64cd\u4f5c\u53ea\u652f\u6301\u6574\u6570\uff0c\u5982\u679c\u8981\u9501\u4f4f\u4e00\u4e2a\u5bf9\u8c61\u6216\u8005\u4e00\u4e2a\u4ee3\u7801\uff0c\u539f\u5b50\u64cd\u4f5c\u662f\u505a\u4e0d\u5230\u7684\uff0c\u53ea\u80fd\u7528\u7ebf\u7a0b\u540c\u6b65\uff0c\u540c\u6b65\u662f\u534f\u540c\u5de5\u4f5c\u7684\u610f\u601d</p> <p>\u534f\u540c\u5982\u4f55\u4f7f\u7528\u5171\u4eab\u8d44\u6e90\uff1f\u4e3a\u5171\u4eab\u8d44\u6e90\u52a0\u9501</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/","title":"\u7ebf\u7a0b\u540c\u6b65","text":"<ul> <li> <p>\u4e92\u65a5\u9501</p> </li> <li> <p>\u81ea\u65cb\u9501</p> </li> <li> <p>\u8bfb\u5199\u9501</p> </li> <li> <p>\u6761\u4ef6\u53d8\u91cf</p> </li> <li> <p>\u4fe1\u53f7\u91cf</p> </li> <li> <p>\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</p> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_2","title":"\u7ebf\u7a0b\u540c\u6b65\u7684\u7ec6\u8282","text":"<ul> <li>\u4e92\u65a5\u9501\u3001\u81ea\u65cb\u9501\u3001\u8bfb\u5199\u9501\u3001\u6761\u4ef6\u53d8\u91cf\u3001\u4fe1\u53f7\u91cf\u7684\u7ade\u4e89\u673a\u5236</li> </ul> <p>\u4e00\u4e2a\u7ebf\u7a0b\u5728\u91ca\u653e\u9501\u4e4b\u540e\uff0c\u53ef\u80fd\u4f1a\u8fde\u7eed\u5f88\u591a\u6b21\u83b7\u5f97\u9501</p> <p>\u4e92\u65a5\u9501\u6709\u4e24\u79cd\u7ade\u4e89\u673a\u5236\uff0c\u4e00\u79cd\u662f\u5f62\u6210\u7b49\u5f85\u673a\u5236(\u4e0d\u662f\u7edd\u5bf9\u516c\u5e73\u7684\uff0c\u5bf9\u5e94\u7528\u5f00\u53d1\u6ca1\u6709\u5f71\u54cd)\uff0c\u53e6\u4e00\u79cd\u662f\u91cd\u65b0\u7ade\u4e89</p> <p>\u81ea\u65cb\u9501\u3001\u6761\u4ef6\u53d8\u91cf\u3001\u4fe1\u53f7\u91cf\u90fd\u662f\u5f62\u6210\u7b49\u5f85\u961f\u5217</p> <ul> <li>\u8bfb\u5199\u9501\u7684\u5199\u9501\u9965\u997f\u95ee\u9898\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u662f\u997f\u4e0d\u6b7b\u7684</li> <li>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u7528\u5176\u4ed6\u7684\u65b9\u6cd5\u5b9e\u73b0\u516c\u5e73\u9501\u548c\u5199\u4f18\u5148\u9501</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#-","title":"\u4e00\u3001\u7ebf\u7a0b\u540c\u6b65-\u4e92\u65a5\u9501","text":"<p>\u9002\u7528\u4e8e\u7b49\u5f85\u65f6\u95f4\u53ef\u80fd\u6bd4\u8f83\u957f\u7684\u573a\u666f</p> <ul> <li> <p>\u52a0\u9501\u548c\u89e3\u9501\uff0c\u786e\u4fdd\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90</p> </li> <li> <p>\u7ebf\u7a0b\u5728\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u4e4b\u524d\u52a0\u9501\uff0c\u8bbf\u95ee\u5b8c\u6210\u540e\u91ca\u653e\u9501</p> </li> <li> <p>\u5982\u679c\u67d0\u7ebf\u7a0b\u6301\u6709\u9501\uff0c\u5176\u4ed6\u7684\u7ebf\u7a0b\u5f62\u6210\u7b49\u5f85\u961f\u5217</p> </li> </ul> <p></p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_3","title":"\u4e92\u65a5\u9501\u7684\u5c5e\u6027","text":"<p>PTHREAD_MUTEX_TIMED_NP\uff0c\u8fd9\u662f\u7f3a\u7701\u503c\uff0c\u4e5f\u5c31\u662f\u666e\u901a\u9501\u3002\u5f53\u4e00\u4e2a\u7ebf\u7a0b\u52a0\u9501\u4ee5\u540e\uff0c\u5176\u4f59\u8bf7\u6c42\u9501\u7684\u7ebf\u7a0b\u5c06\u5f62\u6210\u4e00\u4e2a\u7b49\u5f85\u961f\u5217\uff0c\u5e76\u5728\u89e3\u9501\u540e\u6309\u4f18\u5148\u7ea7\u83b7\u5f97\u9501\u3002\u8fd9\u79cd\u9501\u7b56\u7565\u4fdd\u8bc1\u4e86\u8d44\u6e90\u5206\u914d\u7684\u516c\u5e73\u6027</p> <p>PTHREAD_MUTEX_RECURSIVE_NP\uff0c\u5d4c\u5957\u9501\uff0c\u5141\u8bb8\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5bf9\u540c\u4e00\u4e2a\u9501\u6210\u529f\u83b7\u5f97\u591a\u6b21\uff0c\u5e76\u901a\u8fc7\u591a\u6b21unlock\u89e3\u9501\u3002\u5982\u679c\u662f\u4e0d\u540c\u7ebf\u7a0b\u8bf7\u6c42\uff0c\u5219\u5728\u52a0\u9501\u7ebf\u7a0b\u89e3\u9501\u65f6\u91cd\u65b0\u7ade\u4e89</p> <p>PTHREAD_MUTEX_ADAPTIVE_NP\uff0c\u9002\u5e94\u9501\uff0c\u89e3\u9501\u540e\uff0c\u8bf7\u6c42\u9501\u7684\u7ebf\u7a0b\u91cd\u65b0\u7ade\u4e89</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#-_1","title":"\u4e8c\u3001\u7ebf\u7a0b\u540c\u6b65-\u81ea\u65cb\u9501","text":"<p>\u9002\u7528\u4e8e\u7b49\u5f85\u65f6\u95f4\u5f88\u77ed\u7684\u573a\u666f</p> <p>\u81ea\u65cb\u9501\u7684\u529f\u80fd\u548c\u4e92\u65a5\u9501\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u4e92\u65a5\u9501\u5728\u7b49\u5f85\u9501\u7684\u65f6\u5019\u7ebf\u7a0b\u4f1a\u4f11\u7720\uff0c\u4e0d\u6d88\u8017CPU\uff0c\u800c\u81ea\u65cb\u9501\u4e0d\u65ad\u7684\u68c0\u67e5\u9501\u662f\u5426\u53ef\u7528\uff0c\u4f1a\u6d88\u8017CPU</p> <p>\u81ea\u65cb\u9501\u6ca1\u6709\u5e26\u8d85\u65f6\u673a\u5236\u7684\u52a0\u9501\u51fd\u6570\u3002\u56e0\u4e3a\u4f7f\u7528\u81ea\u65cb\u9501\u6709\u4e00\u4e2a\u524d\u63d0\u6761\u4ef6\uff0c\u5c31\u662f\u5047\u8bbe\u7b49\u5f85\u7684\u65f6\u95f4\u4f1a\u5f88\u77ed\uff0c\u4e0d\u5e94\u8be5\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\uff0c\u5982\u679c\u7b49\u5f85\u7684\u65f6\u95f4\u6bd4\u8f83\u957f\u5c31\u7528\u4e92\u65a5\u9501</p> <p></p> <p></p> Text Only<pre><code>  //\u5b83\u7684\u7b2c\u4e8c\u4e2a\u6807\u5fd7\u662f\u5171\u4eab\u6807\u5fd7\n\n  //PTHREAD_PROCESS_SHARED\u8868\u793a\u5728\u591a\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u7ebf\u7a0b\u4e4b\u95f4\u53ef\u4ee5\u5171\u4eab\n\n  //PTHREAD_PROCESS_PRIVATE\u53ea\u5728\u521d\u59cb\u5316\u672c\u81ea\u65cb\u9501\u7684\u8fdb\u7a0b\u5185\u7684\u7ebf\u7a0b\u624d\u80fd\u4f7f\u7528\u8be5\u81ea\u65cb\u9501\n\n  //\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u7684\u670d\u52a1\u7a0b\u5e8f\u8981\u4e48\u662f\u591a\u7ebf\u7a0b\uff0c\u8981\u4e48\u662f\u591a\u8fdb\u7a0b\uff0c\u5176\u5b9e\u53ef\u4ee5\u5728\u591a\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u4e2d\u521b\u5efa\u7ebf\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ebf\u7a0b\u7684fork\u521b\u5efa\u8fdb\u7a0b\uff0c\u4f46\u51e0\u4e4e\u4e0d\u7528\n\n  ///PTHREAD_PROCESS_PRIVATE\u5b83\u7684\u610f\u601d\u662f\u5728\u591a\u8fdb\u7a0b\u4e2d\u521b\u5efa\u4e86\u591a\u7ebf\u7a0b\uff0c\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7ebf\u7a0b\u662f\u5426\u53ef\u4ee5\u5171\u4eab\u81ea\u65cb\u9501\uff0c\u4e00\u822c\u586b\u79c1\u6709\u7684\n</code></pre> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#-_2","title":"\u4e09\u3001\u7ebf\u7a0b\u540c\u6b65-\u8bfb\u5199\u9501","text":"<p>\u6ce8\u610f\u4e8b\u9879\uff1a\u26a0\ufe0f1\u3001\u8bfb\u5199\u9501\u9002\u5408\u4e8e\u5bf9\u8bfb\u7684\u6b21\u6570\u8fdc\u5927\u4e8e\u5199\u7684\u60c5\u51b5</p> <p>\u200b                       2\u3001Linux\u7cfb\u7edf\u4f18\u5148\u8003\u8651\u8bfb\u9501\uff0c\u8fd9\u79cd\u5b9e\u73b0\u65b9\u5f0f\u6709\u53ef\u80fd\u5bfc\u81f4\u5199\u5165\u7ebf\u7a0b\u997f\u6b7b\u7684\u60c5\u51b5</p> <ul> <li>\u4e0e\u4e92\u65a5\u9501\u7c7b\u4f3c\uff0c\u4e0d\u8fc7\u8bfb\u5199\u9501\u5141\u8bb8\u66f4\u9ad8\u7684\u5e76\u53d1\u6027</li> <li>\u4e09\u79cd\u72b6\u6001\uff1a\u8bfb\u6a21\u5f0f\u52a0\u9501\uff0c\u5199\u6a21\u5f0f\u52a0\u9501\u548c\u4e0d\u52a0\u9501</li> <li>\u53ea\u8981\u6ca1\u6709\u7ebf\u7a0b\u6301\u6709\u5199\u9501\uff0c\u4efb\u610f\u7ebf\u7a0b\u90fd\u53ef\u4ee5\u6210\u529f\u7533\u8bf7\u8bfb\u9501</li> <li>\u53ea\u6709\u5728\u4e0d\u52a0\u9501\u72b6\u6001\u65f6\uff0c\u624d\u80fd\u6210\u529f\u7533\u8bf7\u5199\u9501</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#api","title":"\u8bfb\u5199\u9501\u7684api","text":"<p>\u7533\u8bf7\u8bfb\u9501\u7684\u51fd\u6570</p> <p>\u7533\u8bf7\u5199\u9501\u7684\u51fd\u6570\u89e3\u9501\u7684\u51fd\u6570</p> <p>\u83b7\u53d6\u548c\u8bbe\u7f6e\u8bfb\u5199\u9501\u7684\u5c5e\u6027</p> <p>\u53ea\u6709\u7533\u8bf7\u5199\u9501\u7684\u4fe1\u53f7\uff0c\u6ca1\u6709\u7533\u8bf7\u6210\u529f\u7684\u4fe1\u53f7</p> <p></p> <p>\u4e0a\u9762\u7684\u7ed3\u679c\u662f\u53bb\u638939\u90a3\u4e00\u884c</p> <p></p> <p>\u52a0\u4e0a39\u90a3\u4e00\u884c\u540e\u7684\u610f\u601d\u4e3a\uff0c\u8ba9\u5168\u90e8\u7684\u7ebf\u7a0b\u628a\u8bfb\u9501\u91ca\u653e</p> <p></p> <p>\u63a5\u4e0a\u56fe</p> <p></p> Text Only<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u540c\u6b65-\u8bfb\u5199\u9501\u3002 book14\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;signal.h&gt;\n\npthread_rwlock_t rwlock=PTHREAD_RWLOCK_INITIALIZER;   // \u58f0\u660e\u8bfb\u5199\u9501\u5e76\u521d\u59cb\u5316\u3002\n\nvoid *thmain(void *arg);    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n\nvoid handle(int sig);       // \u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n\nint main(int argc,char *argv[])\n{\n  signal(15,handle);       // \u8bbe\u7f6e\u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n\n  pthread_t thid1,thid2,thid3;\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  if (pthread_create(&amp;thid1,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\nsleep(1);\n  if (pthread_create(&amp;thid2,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\nsleep(1);\n  if (pthread_create(&amp;thid3,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  pthread_join(thid1,NULL);  pthread_join(thid2,NULL);  pthread_join(thid3,NULL);\n\n  pthread_rwlock_destroy(&amp;rwlock);  // \u9500\u6bc1\u9501\u3002\n}\n\nvoid *thmain(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  for (int ii=0;ii&lt;100;ii++)\n  {\n    printf(\"\u7ebf\u7a0b%lu\u5f00\u59cb\u7533\u8bf7\u8bfb\u9501...\\n\",pthread_self());\n    pthread_rwlock_rdlock(&amp;rwlock);    // \u52a0\u9501\u3002\n    printf(\"\u7ebf\u7a0b%lu\u5f00\u59cb\u7533\u8bf7\u8bfb\u9501\u6210\u529f\u3002\\n\\n\",pthread_self());\n    sleep(5);\n    pthread_rwlock_unlock(&amp;rwlock);    // \u89e3\u9501\u3002\n    printf(\"\u7ebf\u7a0b%lu\u5df2\u91ca\u653e\u8bfb\u9501\u3002\\n\\n\",pthread_self());\n\n    if (ii==3) sleep(8);\n  }\n}\n\nvoid handle(int sig)       // \u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n{\n  printf(\"\u5f00\u59cb\u7533\u8bf7\u5199\u9501...\\n\");\n  pthread_rwlock_wrlock(&amp;rwlock);    // \u52a0\u9501\u3002\n  printf(\"\u7533\u8bf7\u5199\u9501\u6210\u529f\u3002\\n\\n\");\n  sleep(10);\n  pthread_rwlock_unlock(&amp;rwlock);    // \u89e3\u9501\u3002\n  printf(\"\u5199\u9501\u5df2\u91ca\u653e\u3002\\n\\n\");\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#-_3","title":"\u56db\u3001\u7ebf\u7a0b\u540c\u6b65-\u6761\u4ef6\u53d8\u91cf","text":"<p>\u6761\u4ef6\u53d8\u91cf\u7ed9\u591a\u7ebf\u7a0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6c47\u5408\u7684\u673a\u5236\uff0c\u9700\u8981\u4e0e\u4e92\u65a5\u9501\u7ed3\u5408\u4e00\u8d77\u4f7f\u7528\uff0c\u53ef\u4ee5\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7b80\u5355\u7684\u901a\u77e5\u529f\u80fd</p> <ul> <li>\u4e0e\u4e92\u65a5\u9501\u4e00\u8d77\u4f7f\u7528</li> <li>\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> <li>\u5b9e\u73b0\u901a\u77e5\u7684\u529f\u80fd</li> </ul> <p></p> <p>\u4e0b\u9762\u7684\u83b7\u53d6\u5171\u4eab\u5c5e\u6027\u5c31\u662f\u5728\u591a\u8fdb\u7a0b\u7684\u591a\u4e2a\u7ebf\u7a0b\u4e4b\u95f4\u662f\u5426\u53ef\u4ee5\u5171\u4eab\u6761\u4ef6\u53d8\u91cf\uff1f</p> <p></p> <p>\u4ee5\u4e0b\u662f\u4f7f\u7528\u5524\u9192\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u4e00\u4e2a\u7ebf\u7a0b(pthread_cond_signal(&amp;cond) ) \u53d1\u9001\u56db\u6b21\u4fe1\u53f7\u7684\u7ed3\u679c</p> <p></p> <p>\u4ee5\u4e0b\u662f\u4f7f\u7528\u5524\u9192\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u5168\u90e8\u7ebf\u7a0b\u3002(   pthread_cond_broadcast(&amp;cond);  ) \u53d1\u9001\u4e00\u6b21\u5c31\u6709\u8fd9\u4e2a\u7ed3\u679c</p> <p></p> <p></p> Text Only<pre><code>//book15\n// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u540c\u6b65-\u6761\u4ef6\u53d8\u91cf\u3002\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;signal.h&gt;\n\npthread_cond_t cond=PTHREAD_COND_INITIALIZER;     // \u58f0\u660e\u6761\u4ef6\u53d8\u91cf\u5e76\u521d\u59cb\u5316\u3002\npthread_mutex_t mutex=PTHREAD_MUTEX_INITIALIZER;  // \u58f0\u660e\u4e92\u65a5\u9501\u5e76\u521d\u59cb\u5316\u3002\n\nvoid *thmain(void *arg);    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n\nvoid handle(int sig);       // \u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n\nint main(int argc,char *argv[])\n{\n  signal(15,handle);       // \u8bbe\u7f6e\u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n\n  pthread_t thid1,thid2,thid3;\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  if (pthread_create(&amp;thid1,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n  if (pthread_create(&amp;thid2,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n  if (pthread_create(&amp;thid3,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  pthread_join(thid1,NULL);  pthread_join(thid2,NULL);  pthread_join(thid3,NULL);\n\n  pthread_cond_destroy(&amp;cond);    // \u9500\u6bc1\u6761\u4ef6\u53d8\u91cf\u3002\n  pthread_mutex_destroy(&amp;mutex);  // \u9500\u6bc1\u4e92\u65a5\u9501\u3002\n}\n\nvoid *thmain(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  while (true)\n  {\n    printf(\"\u7ebf\u7a0b%lu\u5f00\u59cb\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7...\\n\",pthread_self());\n    pthread_cond_wait(&amp;cond,&amp;mutex);    // \u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u3002\u4e92\u65a5\u9501\u867d\u7136\u5728\u8fd9\u91cc\u6ca1\u6709\u6d3e\u4e0a\u7528\u573a\uff0c\u4f46\u662f\u8fd9\u4e2a\u51fd\u6570\u9700\u8981\u8fd9\u4e2a\u53c2\u6570\uff0c\u5b50\u7ebf\u7a0b\u542f\u52a8\u540e\u4f1a\u963b\u585e\u5728\u8fd9\u884c\u4ee3\u7801\n    printf(\"\u7ebf\u7a0b%lu\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u6210\u529f\u3002\\n\\n\",pthread_self());\n  }\n}\n\nvoid handle(int sig)       // \u4fe1\u53f715\u7684\u5904\u7406\u51fd\u6570\u3002\n{\n  printf(\"\u53d1\u9001\u6761\u4ef6\u4fe1\u53f7...\\n\");\n  // pthread_cond_signal(&amp;cond);      // \u5524\u9192\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u4e00\u4e2a\u7ebf\u7a0b\u3002\n  pthread_cond_broadcast(&amp;cond);   // \u5524\u9192\u7b49\u5f85\u6761\u4ef6\u53d8\u91cf\u7684\u5168\u90e8\u7ebf\u7a0b\u3002\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#-_4","title":"\u4e94\u3001\u7ebf\u7a0b\u540c\u6b65-(\u533f\u540d)\u4fe1\u53f7\u91cf","text":"<p>\u7b2c\u4e8c\u7ae0\u8bb2\u8fdb\u7a0b\u901a\u8baf\u7684\u65f6\u5019\u4ecb\u7ecd\u8fc7\u4fe1\u53f7\u91cf\uff0c\u7528\u4fe1\u53f7\u91cf\u7ed9\u5171\u4eab\u5185\u5b58\u52a0\u9501\uff0c\u5efa\u8bae\u518d\u770b\u4e00\u904d\uff0c\u8fdb\u7a0b\u7684\u4fe1\u53f7\u91cf\u662f\u5168\u5c40\u7684\u6709\u4e00\u4e2akey\uff0c\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u662f\u533f\u540d\u7684\uff0c\u53ea\u80fd\u5728\u540c\u4e00\u4e2a\u7a0b\u5e8f\u4e2d\u7684\u591a\u4e2a\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u4e2d\u4f7f\u7528\uff0c\u4ed6\u4eec\u7684\u4fe1\u53f7\u91cf\u539f\u7406\u662f\u4e00\u6837\u7684\uff0c\u5728\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u7528\u8fdb\u7a0b\u7684\u4fe1\u53f7\u91cf\uff0c\u4e5f\u53ef\u4ee5\u7528\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\uff0c\u4f46\u662f\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u66f4\u52a0\u65b9\u4fbf\uff0c\u4f46\u662f\u7ebf\u7a0b\u7684\u4fe1\u53f7\u91cf\u4e0d\u80fd\u7528\u5728\u591a\u8fdb\u7a0b\u7684\u7a0b\u5e8f\u4e2d</p> <ul> <li>\u4e00\u4e2a\u6574\u6570\u8ba1\u6570\u5668\uff0c\u5176\u6570\u503c\u7528\u4e8e\u8868\u793a\u7a7a\u95f2\u4e34\u754c\u8d44\u6e90\u7684\u6570\u91cf</li> <li>\u7533\u8bf7\u8d44\u6e90\u65f6\uff0c\u4fe1\u53f7\u91cf\u51cf\u5c11\uff0c\u8868\u793a\u53ef\u7528\u8d44\u6e90\u6570\u51cf\u5c11</li> <li>\u91ca\u653e\u8d44\u6e90\u65f6\uff0c\u4fe1\u53f7\u91cf\u589e\u52a0\uff0c\u8868\u793a\u53ef\u7528\u8d44\u6e90\u6570\u589e\u52a0</li> </ul> <p></p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/7%20%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/#_4","title":"\u6f14\u793a\u5b9e\u73b0\u4e92\u65a5\u9501\u7684\u529f\u80fd","text":"Text Only<pre><code>book16\n// \u672c\u7a0b\u5e8f\u6f14\u793a\u7ebf\u7a0b\u540c\u6b65-\u4fe1\u53f7\u91cf\u3002\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;semaphore.h&gt;\n\nint var;\n\nsem_t sem;      // \u58f0\u660e\u4fe1\u53f7\u91cf\u3002\n\nvoid *thmain(void *arg);    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n\nint main(int argc,char *argv[])\n{\n  sem_init(&amp;sem,0,1);   // \u521d\u59cb\u5316\u4fe1\u53f7\u91cf\u3002\n\n  pthread_t thid1,thid2;\n\n  // \u521b\u5efa\u7ebf\u7a0b\u3002\n  if (pthread_create(&amp;thid1,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n  if (pthread_create(&amp;thid2,NULL,thmain,NULL)!=0) { printf(\"pthread_create failed.\\n\"); exit(-1); }\n\n  // \u7b49\u5f85\u5b50\u7ebf\u7a0b\u9000\u51fa\u3002\n  printf(\"join...\\n\");\n  pthread_join(thid1,NULL);\n  pthread_join(thid2,NULL);\n  printf(\"join ok.\\n\");\n\n  printf(\"var=%d\\n\",var);\n\n  sem_destroy(&amp;sem);  // \u9500\u6bc1\u4fe1\u53f7\u91cf\u3002\n}\n\nvoid *thmain(void *arg)    // \u7ebf\u7a0b\u4e3b\u51fd\u6570\u3002\n{\n  for (int ii=0;ii&lt;1000000;ii++)\n  {\n    sem_wait(&amp;sem);    // \u52a0\u9501\u3002\n    var++;\n    sem_post(&amp;sem);  // \u89e3\u9501\u3002\n  }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/","title":"\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<ul> <li>\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u7684\u57fa\u672c\u6982\u5ff5</li> <li>\u4e92\u65a5\u9501+\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> <li>\u4fe1\u53f7\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b</li> </ul> <p>\u591a\u4e2a\u751f\u4ea7\u8005\u751f\u4ea7\u6570\u636e\u653e\u5728\u5171\u4eab\u7684\u7f13\u5b58\u961f\u5217\u4e2d\u3002\u6d88\u8d39\u8005\u4ece\u7f13\u5b58\u961f\u5217\u4e2d\u83b7\u53d6\u6570\u636e\u3002\u5e76\u4e14\u5904\u7406\u6389\u8fd9\u4e2a\u56fe\u4e2d\u7684\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\uff0c\u5bf9\u5e94\u4e86\u6211\u4eec\u7684\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\u3002\u5982\u679c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u662f\u4e0d\u540c\u7a0b\u5e8f\u4e2d\u7684\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u7528\u5171\u4eab\u5185\u5b58\u6765\u505a\u7f13\u5b58\u3002\u5982\u679c\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u662f\u540c\u4e00\u4e2a\u7a0b\u5e8f\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\uff0c\u76f4\u63a5\u52a8\u6001\u7684\u5206\u914d\u4e00\u5757\u5185\u5b58\u51fa\u6765\u5c31\u884c\uff0c\u4e5f\u53ef\u4ee5\u7528\u6570\u7ec4\u94fe\u8868\u7b49\u7b49\u3002\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u90fd\u8981\u64cd\u4f5c\u5171\u4eab\u7684\u7f13\u5b58\u961f\u5217\uff0c\u80af\u5b9a\u4f1a\u6709\u7ade\u4e89\uff0c\u6240\u4ee5\u8981\u7ed9\u7f13\u5b58\u52a0\u9501\u3002\u8fd8\u6709\u751f\u4ea7\u8005\u751f\u4ea7\u6570\u636e\u4e4b\u540e\uff0c\u8981\u901a\u77e5\u6d88\u8d39\u8005\u53d6\u8d70\u6570\u636e\uff0c\u5927\u5bb6\u601d\u8003\u4e00\u4e0b\u6709\u4ec0\u4e48\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u60f3\u4e0d\u660e\u767d\u662f\u6b63\u5e38\u7684\uff0c\u5982\u679c\u80fd\u60f3\u660e\u767d\uff0c\u90a3\u4f60\u662f\u5929\u624d\u3002\u5728\u591a\u7ebf\u7a0b\u4e2d\uff0c\u6700\u5e38\u89c1\u7684\u662f\u7528\u590d\u5f0f\u9501\u52a0\u6761\u4ef6\u53d8\u91cf\uff0c\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u590d\u5f0f\u9501\uff0c\u7528\u4e8e\u7ed9\u7f13\u5b58\u52a0\u9501\u6761\u4ef6\u53d8\u91cf\uff0c\u7528\u4e8e\u901a\u77e5\u6d88\u8d39\u8005\u3002\u4e5f\u53ef\u4ee5\u7528\u4e24\u4e2a\u4fe1\u53f7\u91cf\u6765\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u4e00\u4e2a\u7528\u4e8e\u52a0\u9501\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u901a\u77e5</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/#pthread_con_waitcondmutex","title":"pthread_con_wait(&amp;cond,&amp;mutex)","text":"<p>\u8fd9\u662f\u6761\u4ef6\u53d8\u91cf\u7684wait\u51fd\u6570\uff0c\u6761\u4ef6\u53d8\u91cf\u9700\u8981\u4e00\u628a\u4e92\u65a5\u9501\uff0c\u8fd9\u662f\u7cfb\u7edf\u8bbe\u8ba1\u7684\u9700\u8981</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/#1","title":"1\uff09\u628a\u4e92\u65a5\u9501\u89e3\u9501","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/#2","title":"2\uff09\u963b\u585e\uff0c\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7(\u88ab\u5524\u9192)","text":"<p>\u8fd9\u4e2a\u8bf4\u660e\u7ebf\u7a0b1\u628a\u4e92\u65a5\u9501\u7ed9\u89e3\u9501\u4e86\uff0c\u4e0d\u7136\u7ebf\u7a0b2\u662f\u7533\u8bf7\u4e0d\u4e86\u4e92\u65a5\u9501\u7684</p> <p> </p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/#3","title":"3\uff09\u6761\u4ef6\u88ab\u89e6\u53d1+\u7ed9\u4e92\u65a5\u9501\u52a0\u9501\u3002\u7b2c\u4e09\u4e2a\u6b65\u9aa4\u7684\u4e24\u4e2a\u52a8\u4f5c\u662f\u539f\u5b50\u64cd\u4f5c","text":"<p>\u7ebf\u7a0b1\u6536\u5230\u4e86\u7ebf\u7a0b2\u7684\u4fe1\u53f7\uff0c\u4f46\u662f\u7ebf\u7a0b2\u7533\u8bf7\u4e92\u65a5\u9501\u4e00\u76f4\u6ca1\u6210\u529f\uff0c\u7ebf\u7a0b1\u5728\u6536\u5230\u4fe1\u53f7\u4e4b\u540e\uff0c\u628a\u4e92\u65a5\u9501\u52a0\u4e0a\u4e86\u9501</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/8%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E5%89%8D%E8%A8%80/#_2","title":"\u4e92\u65a5\u9501+\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<p>\u6761\u4ef6\u53d8\u91cf\u5c31\u662f\u4e3a\u4e86\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u8bbe\u8ba1\u7684\uff0c\u7528\u4e92\u65a5\u9501\u52a0\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u9ad8\u901f\u7f13\u5b58</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/","title":"\u4e92\u65a5\u9501+\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b","text":"<p>\u6761\u4ef6\u53d8\u91cf\u5c31\u662f\u4e3a\u4e86\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\u8bbe\u8ba1\u7684\uff0c\u7528\u4e92\u65a5\u9501\u52a0\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u9ad8\u901f\u7f13\u5b58</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#1","title":"1 \u58f0\u660e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#2","title":"2 \u4e3b\u51fd\u6570\u4e2d","text":"<p>\u5728\u8fdb\u7a0b\u7ec4\u51fd\u6570\u4e2d\u8bbe\u7f6e15\u7684\u4fe1\u53f7\uff0c\u4ece\u5916\u90e8\u5411\u8fd9\u4e2a\u7a0b\u5e8f\u53d1\u9001\u4e00\u6b21\u4fe1\u53f7\uff0c\u5c31\u8c03\u7528\u751f\u4ea7\u8005\u51fd\u6570\uff0c\u751f\u4ea7\u4e00\u6279\u6570\u636e\uff0c\u5e76\u4e14\u653e\u5165\u7f13\u5b58\u7684\u961f\u5217\u4e2d\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#3","title":"3 \u751f\u4ea7\u8005\u51fd\u6570\u4ee3\u7801","text":"<p>\u751f\u4ea7\u8005\u51fd\u6570\u7684\u4ee3\u7801\u903b\u8f91\u975e\u5e38\u7b80\u5355\uff0c\u9759\u6001\u53d8\u91cf\u6d88\u606f\u7684\u8ba1\u6570\u5668\u3002\u5728\u58f0\u660e\u7ed3\u6784\u4f53\u5b58\u653e\u6d88\u606f\u7684\u5185\u5bb9\u3002\u7ed9\u7f13\u5b58\u52a0\u9501\u751f\u4ea7\u6570\u636e\uff0c\u653e\u5165\u7f13\u5b58\u961f\u5217\uff0c\u7ed9\u7f13\u5b58\u89e3\u9501\uff0c\u7136\u540e\u3002\u53d1\u9001\u6761\u4ef6\u4fe1\u53f7\u6fc0\u6d3b \u5168\u90e8\u7684\u7ebf\u7a0b\uff0c\u7ebf\u7a0b\u6536\u5230\u6761\u4ef6\u4fe1\u53f7\u540e\u5c06\u4f1a\u5904\u7406\u7f13\u5b58\u961f\u5217\u4e2d\u7684\u6570\u636e\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#4","title":"4 \u6d88\u8d39\u8005\u51fd\u6570\u4ee3\u7801(\u4ed4\u7ec6\u7422\u78e8)","text":"<p>\u4e00\u4e2a\u7ed3\u6784\u4f53\u7528\u4e8e\u5b58\u653e\u4ece\u7f13\u5b58\u4e2d\u51fa\u961f\u7684\u6d88\u606f\uff0c\u6d88\u8d39\u8005\u7684\u529f\u80fd\u662f\u4e0d\u65ad\u7684\u5904\u7406\u7f13\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u6240\u4ee5\u3002\u5b83\u7684\u4e3b\u6d41\u7a0b\u662f\u4e00\u4e2a\u6b7b\u5faa\u73af\u3002\u5faa\u73af\u7684\u5f00\u59cb\uff0c\u5148\u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\u7136\u540e\u518d\u5224\u65ad\u7f13\u5b58\u4e2d\u662f\u5426\u6709\u6570\u636e\uff0c\u5982\u679c\u6709\u6570\u636e\u5c31\u4e0d\u8fdb\u5165\u8fd9\u4e2awhile\u5faa\u73af\u4e86\u3002\u7ee7\u7eed\u4e0b\u9762\u7684\u6d41\u7a0b\u3002\u56e0\u4e3a\u73b0\u5728\u662f\u6301\u6709\u9501\u7684\uff0c\u6240\u4ee5\u8fd9\u4e24\u884c\u64cd\u4f5c\u7f13\u5b58\u7684\u4ee3\u7801\u662f\u5b89\u5168\u7684\u3002\u4ece\u7f13\u5b58\u4e2d\u53d6\u51fa\u4e00\u6761\u6570\u636e\u5e93\uff0c\u518d\u7ed9\u7f13\u5b58\u89e3\u9501\u3002\u4e0b\u9762\u662f\u5904\u7406\u4e1a\u52a1\u7684\u4ee3\u7801\uff0c</p> <p>\u628a\u4ece\u7f13\u5b58\u4e2d\u62ff\u51fa\u6765\u7684\u6570\u636e\u5904\u7406\u6389\u3002\u521a\u624d\u8bf4\u7684\u662f\u7f13\u5b58\u4e2d\u6709\u6570\u636e\u7684\u60c5\u51b5\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u3002\u8fd9\u4e9b\u4ee3\u7801\u7684\u903b\u8f91\u6ca1\u6709\u95ee\u9898\uff0c\u5bf9\u5427\uff1f\u518d\u6765\u770b\u7f13\u5b58\u4e2d\u6ca1\u6709\u6570\u636e\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\uff0c\u5c31\u8c03\u7528wait\u51fd\u6570\uff0cwait\u51fd\u6570\u4f1a\u5148\u89e3\u5f00\u4e92\u65a5\u9501\uff0c\u7136\u540e\u518d\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u3002\u56e0\u4e3a\u7b49\u5f85\u6761\u4ef6\u4fe1\u53f7\u7684\u65f6\u5019\uff0c\u4e92\u65a5\u9501\u5df2\u7ecf\u89e3\u5f00\u4e86\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u7ebf\u7a0b\u64cd\u4f5c\u7f13\u5b58\u3002\u5bf9\u5427\uff0c\u5982\u679c\u6709\u6761\u4ef6\u4fe1\u53f7\u5230\u4e86wait\u51fd\u6570\u5c06\u8fd4\u56de\uff0c\u6ce8\u610f\u4e86wait\u51fd\u6570\u8fd4\u56de\u7684\u65f6\u5019\u4f1a\u6301\u6709\u9501\u3002\u5728\u6301\u6709\u9501\u7684\u60c5\u51b5\u4e0b\uff0c\u7ee7\u7eed\u4e0b\u9762\u7684\u6d41\u7a0b\u4e5f\u662f\u5b89\u5168\u7684\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u641e\u660e\u767d</p> <p>\u8fd9\u5c31\u660e\u767d\u4e86\u6761\u4ef6\u53d8\u91cf\u7684wait\u51fd\u6570\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8bbe\u8ba1</p> <p></p> <p>\u6211\u4eec\u5e0c\u671b\u751f\u4ea7\u4e00\u6279\u6570\u636e\u540e\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6d88\u8d39\u4e00\u70b9\uff0c\u8fd9\u6837\u624d\u80fd\u5145\u5206\u7684\u5229\u7528CPU\u8d44\u6e90\u63d0\u5347\u5904\u7406\u6548\u7387</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#_3","title":"\u7ec6\u8282","text":"<p>\u5728\u6e05\u7406\u51fd\u6570\u4e2d\u91ca\u653e\u9501\uff0c\u8fd9\u4e2a\u7ec6\u8282\u975e\u5e38\u91cd\u8981\uff0c\u4e0d\u7136\u7ebf\u7a0b\u65e0\u6cd5\u6b63\u5e38\u7684\u9000\u51fa</p> <p>\u5728pthread_cond_wait\u65f6\u6267\u884cpthread_cancel\u540e\uff0c  \u8981\u5148\u5728\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u4e2d\u8981\u5148\u89e3\u9501\u5df2\u4e0e\u76f8\u5e94\u6761\u4ef6\u53d8\u91cf\u7ed1\u5b9a\u7684mutex\uff0c\u8fd9\u6837\u662f\u4e3a\u4e86\u4fdd\u8bc1pthread_cond_wait\u53ef\u4ee5\u8fd4\u56de\u5230\u8c03\u7528\u7ebf\u7a0b\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/9%20%E7%94%9F%E4%BA%A7%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%E4%BA%92%E6%96%A5%E9%94%81%2B%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/#_4","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>// \u672c\u7a0b\u5e8f\u6f14\u793a\u7528\u4e92\u65a5\u9501\u548c\u6761\u4ef6\u53d8\u91cf\u5b9e\u73b0\u9ad8\u901f\u7f13\u5b58\u3002\n#include &lt;stdio.h&gt;\n#include &lt;pthread.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;string.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n// \u7f13\u5b58\u961f\u5217\u6d88\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_message\n{\n  int  mesgid;          // \u6d88\u606f\u7684id\u3002\n  char message[1024];   // \u6d88\u606f\u7684\u5185\u5bb9\u3002\n}stmesg;\n\nvector&lt;struct st_message&gt; vcache;  // \u7528vector\u5bb9\u5668\u505a\u7f13\u5b58\u3002\n\npthread_cond_t  cond=PTHREAD_COND_INITIALIZER;     // \u58f0\u660e\u5e76\u521d\u59cb\u5316\u6761\u4ef6\u53d8\u91cf\u3002\npthread_mutex_t mutex=PTHREAD_MUTEX_INITIALIZER;   // \u58f0\u660e\u5e76\u521d\u59cb\u5316\u4e92\u65a5\u9501\u3002\n\nvoid  incache(int sig);      // \u751f\u4ea7\u8005\u3001\u6570\u636e\u5165\u961f\u3002\nvoid *outcache(void *arg);   // \u6d88\u8d39\u8005\u3001\u6570\u636e\u51fa\u961f\u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n\nint main()\n{\n  signal(15,incache);  // \u63a5\u653615\u7684\u4fe1\u53f7\uff0c\u8c03\u7528\u751f\u4ea7\u8005\u51fd\u6570\u3002\n\n  // \u521b\u5efa\u4e09\u4e2a\u6d88\u8d39\u8005\u7ebf\u7a0b\u3002\n  pthread_t thid1,thid2,thid3;\n  pthread_create(&amp;thid1,NULL,outcache,NULL);\n  pthread_create(&amp;thid2,NULL,outcache,NULL);\n  pthread_create(&amp;thid3,NULL,outcache,NULL);\n\n  pthread_join(thid1,NULL);\n  pthread_join(thid2,NULL);\n  pthread_join(thid3,NULL);\n\n  pthread_cond_destroy(&amp;cond);\n  pthread_mutex_destroy(&amp;mutex);\n\n  return 0;\n}\n\nvoid incache(int sig)       // \u751f\u4ea7\u8005\u3001\u6570\u636e\u5165\u961f\u3002\n{\n  static int mesgid=1;  // \u6d88\u606f\u7684\u8ba1\u6570\u5668\u3002\n\n  struct st_message stmesg;      // \u6d88\u606f\u5185\u5bb9\u3002\n  memset(&amp;stmesg,0,sizeof(struct st_message));\n\n  pthread_mutex_lock(&amp;mutex);    // \u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\n\n  //  \u751f\u4ea7\u6570\u636e\uff0c\u653e\u5165\u7f13\u5b58\u961f\u5217\u3002\n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n  stmesg.mesgid=mesgid++; vcache.push_back(stmesg);  \n\n  pthread_mutex_unlock(&amp;mutex);  // \u7ed9\u7f13\u5b58\u961f\u5217\u89e3\u9501\u3002\n\n  //pthread_cond_signal(&amp;cond);    // \u53d1\u9001\u6761\u4ef6\u4fe1\u53f7\uff0c\u6fc0\u6d3b\u4e00\u4e2a\u7ebf\u7a0b\u3002\n  pthread_cond_broadcast(&amp;cond); // \u53d1\u9001\u6761\u4ef6\u4fe1\u53f7\uff0c\u6fc0\u6d3b\u5168\u90e8\u7684\u7ebf\u7a0b\u3002\n}\n\nvoid  thcleanup(void *arg)\n{\n  // \u5728\u8fd9\u91cc\u91ca\u653e\u5173\u95ed\u6587\u4ef6\u3001\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5\u3001\u56de\u6eda\u6570\u636e\u5e93\u4e8b\u52a1\u3001\u91ca\u653e\u9501\u7b49\u7b49\u3002\n  printf(\"cleanup ok.\\n\");\n\n  pthread_mutex_unlock(&amp;mutex);\n\n  /*\n  A condition  wait  (whether  timed  or  not)  is  a  cancellation  point. When the cancelability type of a thread is set to PTHREAD_CAN_CEL_DEFERRED, a side-effect of acting upon a cancellation request while in a condition wait is that the mutex is (in effect)  re-acquired before  calling the first cancellation cleanup handler. The effect is as if the thread were unblocked, allowed to execute up to the point of returning from the call to pthread_cond_timedwait() or pthread_cond_wait(), but at that point notices  the  cancellation  request  and instead  of  returning to the caller of pthread_cond_timedwait() or pthread_cond_wait(), starts the thread cancellation activities, which includes calling cancellation cleanup handlers.\n  \u610f\u601d\u5c31\u662f\u5728pthread_cond_wait\u65f6\u6267\u884cpthread_cancel\u540e\uff0c\n  \u8981\u5148\u5728\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u4e2d\u8981\u5148\u89e3\u9501\u5df2\u4e0e\u76f8\u5e94\u6761\u4ef6\u53d8\u91cf\u7ed1\u5b9a\u7684mutex\uff0c\n  \u8fd9\u6837\u662f\u4e3a\u4e86\u4fdd\u8bc1pthread_cond_wait\u53ef\u4ee5\u8fd4\u56de\u5230\u8c03\u7528\u7ebf\u7a0b\u3002\n  */\n};\n\nvoid *outcache(void *arg)    // \u6d88\u8d39\u8005\u3001\u6570\u636e\u51fa\u961f\u7ebf\u7a0b\u7684\u4e3b\u51fd\u6570\u3002\n{\n  pthread_cleanup_push(thcleanup,NULL);  // \u628a\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u5165\u6808\u3002\n\n  struct st_message stmesg;  // \u7528\u4e8e\u5b58\u653e\u51fa\u961f\u7684\u6d88\u606f\u3002\n\n  while (true)\n  {\n    pthread_mutex_lock(&amp;mutex);  // \u7ed9\u7f13\u5b58\u961f\u5217\u52a0\u9501\u3002\n\n    // \u5982\u679c\u7f13\u5b58\u961f\u5217\u4e3a\u7a7a\uff0c\u7b49\u5f85\uff0c\u7528while\u9632\u6b62\u6761\u4ef6\u53d8\u91cf\u865a\u5047\u5524\u9192\u3002\n    while (vcache.size()==0)\n    {\n      pthread_cond_wait(&amp;cond,&amp;mutex);\n    }\n\n    // \u4ece\u7f13\u5b58\u961f\u5217\u4e2d\u83b7\u53d6\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0c\u7136\u540e\u5220\u9664\u8be5\u8bb0\u5f55\u3002\n    memcpy(&amp;stmesg,&amp;vcache[0],sizeof(struct st_message)); // \u5185\u5b58\u62f7\u8d1d\u3002\n    vcache.erase(vcache.begin());\n\n    pthread_mutex_unlock(&amp;mutex);  // \u7ed9\u7f13\u5b58\u961f\u5217\u89e3\u9501\u3002\n\n    // \u4ee5\u4e0b\u662f\u5904\u7406\u4e1a\u52a1\u7684\u4ee3\u7801\u3002\n    printf(\"phid=%ld,mesgid=%d\\n\",pthread_self(),stmesg.mesgid);\n    usleep(100);\n  }\n\n  pthread_cleanup_pop(1);  // \u628a\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u51fa\u6808\u3002\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/%E5%89%8D%E8%A8%80/","title":"\u8fdb\u7a0b\u4e0e\u7ebf\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/%E5%89%8D%E8%A8%80/#_2","title":"\u8fdb\u7a0b","text":"<ul> <li> <p>\u6700\u5c0f\u7684\u5206\u914d\u8d44\u6e90\u5355\u4f4d\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u7684\u8d44\u6e90</p> </li> <li> <p>\u62e5\u6709PCB\uff0c\u6709\u72ec\u7acb\u5730\u5740\u7a7a\u95f4</p> </li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/%E5%89%8D%E8%A8%80/#_3","title":"\u7ebf\u7a0b\uff1a","text":"<ul> <li>CPU\u6700\u5c0f\u7684\u6267\u884c\u548c\u8c03\u5ea6\u5355\u4f4d</li> <li>light weight process \u8f7b\u91cf\u7ea7\u7684\u8fdb\u7a0b\uff0c\u672c\u8d28\u4ecd\u662f\u8fdb\u7a0b</li> <li>\u7ebf\u7a0b\uff1a\u62e5\u6709PCB\uff0c\u6ca1\u6709\u72ec\u7acb\u7684\u5730\u5740</li> </ul> <p>\u5728\u5171\u4eab\u5730\u5740\u7a7a\u95f4\u5c31\u662f\u7ebf\u7a0b(\u72ec\u5c45)\uff0c\u5426\u5219\u5c31\u662f\u8fdb\u7a0b(\u5408\u79df)</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/%E5%89%8D%E8%A8%80/#_4","title":"\u7ebf\u7a0b\u7684\u4f18\u7f3a\u70b9","text":"<ul> <li>\u53ef\u4ee5\u5728\u4e00\u4e2a\u8fdb\u7a0b\u5185\u5b9e\u73b0\u5e76\u53d1</li> <li>\u5f00\u9500\u5c11\uff0c\u521b\u5efa\u7ebf\u7a0b\u6bd4\u521b\u5efa\u8fdb\u7a0b\u8981\u5feb</li> <li>\u6570\u636e\u901a\u4fe1\u3001\u6570\u636e\u5171\u4eab\u65b9\u4fbf\u3001\u540c\u65f6\u4e5f\u589e\u52a0\u4e86\u5f00\u53d1\u7684\u96be\u5ea6</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/12%E3%80%81Linux%E7%BA%BF%E7%A8%8B/%E5%89%8D%E8%A8%80/#_5","title":"\u5b66\u4e60\u4efb\u52a1","text":"<ul> <li>\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u7ec8\u6b62</li> <li>\u7ebf\u7a0b\u53c2\u6570\u7684\u4f20\u9012(\u5947\u6280\u6deb\u5de7)</li> <li>\u7ebf\u7a0b\u8d44\u6e90\u7684\u56de\u6536\uff0c\u8ba9\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u6709\u8ba1\u5212\u7684\u9000\u51fa</li> <li>\u7ebf\u7a0b\u7684\u53d6\u6d88</li> <li>\u7ebf\u7a0b\u548c\u4fe1\u53f7\uff0c\u4e0e\u591a\u8fdb\u7a0b\u7684\u4fe1\u53f7\u5927\u6709\u4e0d\u540c</li> <li>\u7ebf\u7a0b\u5b89\u5168\uff0c\u4e00\u5207\u9ebb\u70e6\u4ece\u5171\u4eab\u8d44\u6e90\u5f00\u59cb</li> <li>\u7ebf\u7a0b\u540c\u6b65\uff0c\u5404\u79cd\u9501\u7684\u4f7f\u7528</li> <li>\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b\uff0c\u4ee3\u7801\u5f88\u7cbe\u5999</li> <li>\u5f00\u53d1\u591a\u7ebf\u7a0b\u7684\u7f51\u7edc\u670d\u52a1\u7a0b\u5e8f</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/1%20HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/","title":"HTTP\u534f\u8bae\u7684\u672c\u8d28","text":"<ul> <li>HTTP\u534f\u8bae\u7684\u57fa\u7840\u77e5\u8bc6</li> <li>HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u62a5\u6587\u7684\u683c\u5f0f</li> <li>HTTP\u534f\u8bae\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u548c\u5b57\u7b26\u96c6\u8f6c\u6362\u7684\u5de5\u5177</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/1%20HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/#1-http","title":"1 HTTP\u7684\u539f\u7406\u548c\u5de5\u4f5c\u8fc7\u7a0b","text":"<p>\u5982\u679c\u8981\u7528c\u8bed\u8a00\u5b9e\u73b0HTTP\u534f\u8bae\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5173\u5fc3\u4e09\u4e2a\u65b9\u9762\uff0c\u4e00\u662f\u901a\u4fe1\u7684\u65b9\u5f0f\uff0c\u4e8c\u662f\u8bf7\u6c42\u62a5\u6587\u7684\u683c\u5f0f\uff0c\u4e09\u662f\u54cd\u5e94\u62a5\u6587\u7684\u683c\u5f0f</p> <p>\u5b83\u7684\u610f\u601d\u662f\u8bf7\u6c42\u7684\u5185\u5bb9\u6309\u8fd9\u4e2a\u683c\u5f0f\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\u53d1\u9001\u7ed9\u670d\u52a1\u7aef\u5c31\u884c\u4e86\uff0chttps\u662f\u52a0\u5bc6\u7684\u4f20\u8f93\u901a\u9053\uff0c\u6bd4\u8f83\u5b89\u5168</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/1%20HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/#2-http","title":"2 HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u62a5\u6587\u7684\u683c\u5f0f","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/1%20HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/#http_1","title":"\u5ba2\u6237\u7aef\u5982\u4f55\u5224\u65adhttp\u54cd\u5e94\u6570\u636e\u7684\u7ed3\u675f","text":"<ul> <li>\u5224\u65ad\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u65ad\u5f00(\u5df2\u65ad\u5f00\uff0c\u901a\u4fe1\u7ed3\u675f)</li> <li>\u68c0\u67e5\u5934\u90e8Content-Length=x</li> <li>\u5982\u679cContent-Length=x\u4e0d\u5b58\u5728\uff0cTransfer-Encoding\uff1achunked\u8868\u793a\u54cd\u5e94\u5185\u5bb9\u7684\u957f\u5ea6\u4e0d\u56fa\u5b9a</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/1%20HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9C%AC%E8%B4%A8/#3-http","title":"3 HTTP\u534f\u8bae\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u548c\u5b57\u7b26\u96c6\u8f6c\u6362\u7684\u5de5\u5177","text":"<p>\u6211\u4eec\u7ecf\u5e38\u4f7f\u7528\u7684\u5de5\u5177\u662fwget\uff0c\u7528\u4e8e\u83b7\u53d6\u7f51\u9875\u7684\u5185\u5bb9\uff0c\u652f\u6301http\u3001https\u548cFTP\u534f\u8bae,\u9664\u4e86\u4e0d\u80fd\u628a\u7f51\u9875\u7684\u5185\u5bb9\u663e\u793a\u51fa\u6765\uff0c\u5176\u4ed6\u6d4f\u89c8\u5668\u6709\u7684\u529f\u80fd\u5b83\u90fd\u6709</p> <p>\u5b57\u7b26\u96c6\u8f6c\u6362\u7684\u5de5\u5177</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/","title":"2 HTTP\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u7684\u5b9e\u73b0","text":"<ul> <li>\u5b9e\u73b0\u7b80\u5355\u7684\u6570\u636e\u8bbf\u95ee\u63a5\u53e3</li> </ul> <p>\u8d77\u4e00\u4e2a\u9ad8\u5927\u4e0a\u7684\u540d\u5b57\u5c31\u53eb\u6570\u636e\u670d\u52a1\u603b\u7ebf</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#_1","title":"\u8fc7\u7a0b","text":"<ul> <li> <p>\u63a5\u53d7\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u62a5\u6587</p> </li> <li> <p>\u89e3\u6790URL\u4e2d\u7684\u53c2\u6570\uff0c\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86\u67e5\u8be2\u6570\u636e\u7684\u6761\u4ef6</p> </li> </ul> <p>\u6743\u9650\u63a7\u5236\uff1a\u7528\u6237\u540d\u548c\u5bc6\u7801</p> <p>\u63a5\u53e3\u540d\uff1a\u8bbf\u95ee\u6570\u636e\u7684\u79cd\u7c7b</p> <p>\u67e5\u8be2\u6761\u4ef6\uff1a\u8bbe\u8ba1\u63a5\u53e3\u7684\u65f6\u5019\u51b3\u5b9a</p> <p></p> <p>\u901a\u8fc7\u4e0b\u9762\u90a3\u4e00\u884c\u7ed9\u6bcf\u4e2a\u53c2\u6570\u8d77\u4e2a\u540d\u5b57\uff0c\u4f7f\u53ef\u8bfb\u6027\u6bd4\u8f83\u597d\uff0c\u53c2\u6570\u7684\u987a\u5e8f\u8c01\u5728\u524d\uff0c\u8c01\u5728\u540e\u90fd\u6ca1\u6709\u5173\u7cfb\uff0c\u5982\u679c\u67d0\u4e2a\u53c2\u6570\u6709\u7f3a\u7701\u503c\u53ef\u4ee5\u4e0d\u586b</p> <p>## 1\u3001\u5199\u89e3\u6790URL\u7684\u51fd\u6570</p> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u8bf7\u6c42\u62a5\u6587\u7684\u5185\u5bb9</p> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u53c2\u6570\u540d</p> <p>\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u7528\u4e8e\u5b58\u653e\u53c2\u6570\u7684\u503c</p> <p>\u7b2c\u56db\u4e2a\u53c2\u6570\uff1a\u53c2\u6570\u503c\u7684\u6700\u5927\u957f\u5ea6</p> <p>\u5148\u627e\u5230\u53c2\u6570\u540d\u7684\u4f4d\u7f6e\uff0c\u518d\u627e\u5230\u53c2\u6570\u503c\u7ed3\u675f\u7684\u4f4d\u7f6e(\u8981\u4e48\u662f&amp;\uff0c\u8981\u4e48\u662f\u7a7a\u683c)\uff0c\u56e0\u4e3aURL\u4e0d\u4f1a\u6709\u7a7a\u683c</p> <p></p> <ul> <li>\u4eceT_ZHOBTMIND\u8868\u4e2d\u67e5\u8be2\u6570\u636e\uff0c\u4ee5xml\u683c\u5f0f\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</li> </ul> <p>\u89e3\u6790GET\u8bf7\u6c42\u4e2d\u7684\u53c2\u6570\uff0c\u4eceT_ZHOBTMIND\u8868\u4e2d\u67e5\u8be2\u6570\u636e\uff0c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#2","title":"2\u3001\u58f0\u660e\u51e0\u4e2a\u53d8\u91cf\u7528\u4e8e\u5b58\u653e\u53c2\u6570\u7684\u503c\uff0c\u4ece\u8bf7\u6c42\u62a5\u544a\u4e2d\u89e3\u6790\u53c2\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#3","title":"3\u3001\u628a\u53c2\u6570\u7684\u503c\u663e\u793a\u51fa\u6765","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#4","title":"4\u3001\u89e3\u6790\u5b8c\u53c2\u6570\uff0c\u5e94\u8be5\u5224\u65ad\u7528\u6237\u540d/\u5bc6\u7801\u548c\u63a5\u53e3\u540d\u662f\u5426\u5408\u6cd5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#5","title":"5\u3001\u8fde\u63a5\u6570\u636e\u5e93","text":"<p>\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/2%20HTTP%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0/#6","title":"6","text":"<p>\u5148\u8fd0\u884c\u670d\u52a1\u7aef</p> <p></p> <p>\u518d\u8fd0\u884c\u5ba2\u6237\u7aef</p> <p>\u5728\u8fd9\u4e2a\u7ad9\u70b9\u548c\u65f6\u95f4\u6bb5\u5728\u8868\u4e2d\u4e00\u5b9a\u8981\u6709\u6570\u636e\uff0c\u5f97\u5230\u6570\u636e\u6587\u4ef6 data.csv</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/3%20%E4%B8%9A%E5%8A%A1%E9%9C%80%E6%B1%82%E5%92%8C%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1/","title":"\u529f\u80fd\u9700\u6c42","text":"<ul> <li>\u901a\u8fc7\u914d\u7f6e\u53c2\u6570\uff0c\u5b9e\u73b0\u4e0d\u540c\u7684\u6570\u636e\u63a5\u53e3</li> <li>\u6743\u9650\u63a7\u5236(\u5305\u62ec\u9a8c\u8bc1\u5ba2\u6237\u7aef\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u3001\u8fd8\u53ef\u4ee5\u6307\u5b9a\u5ba2\u6237\u7aef\u7684IP\u5730\u5740)</li> </ul> <p>\u4e5f\u5c31\u662f\u8bf4\u5ba2\u6237\u7aef\u53ea\u80fd\u901a\u8fc7\u67d0\u4e2aip\u5730\u5740\u8bbf\u95ee\u63a5\u53e3\uff0c\u5982\u679cip\u5730\u5740\u4e0d\u6b63\u786e\uff0c\u5c31\u7b97\u6709\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e5f\u4e0d\u80fd\u8bbf\u95ee</p> <ul> <li>\u670d\u52a1\u7aef\u5fc5\u987b\u8bb0\u5f55\u5ba2\u6237\u7aef\u7684\u8bbf\u95ee\u65e5\u5fd7(\u63a5\u53e3\u540d/\u65f6\u95f4/\u6570\u636e\u91cf)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/3%20%E4%B8%9A%E5%8A%A1%E9%9C%80%E6%B1%82%E5%92%8C%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1/#_2","title":"\u6709\u4e86\u8fd9\u4e2a\u65e5\u5fd7\u53ef\u4ee5\u7edf\u8ba1\u6bcf\u79cd\u6570\u636e\u88ab\u8bbf\u95ee\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u5f88\u91cd\u8981\uff01","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/","title":"4 \u529f\u80fd\u7684\u521d\u6b65\u5b9e\u73b0","text":"<p>\u4e5d\u5206\u534a\u4e4b\u540e\u653e\u5f03\u4e86</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#_1","title":"\u529f\u80fd\u5b9e\u73b0","text":"<ul> <li>\u5ba2\u6237\u7aef\u8c03\u7528\u63a5\u53e3\u7684\u65f6\u95f4\u95f4\u9694\u6bd4\u8f83\u957f\uff0c\u901a\u8baf\u65b9\u5f0f\u91c7\u7528\u77ed\u8fde\u63a5</li> <li>\u670d\u52a1\u7aef\u91c7\u7528\u6bcf\u8fde\u63a5\u6bcf\u7ebf\u7a0b(\u53ea\u8981\u6709\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u4e0a\u6765\uff0c\u670d\u52a1\u7aef\u5c31\u5148\u5f00\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u7528\u65b0\u5f00\u7684\u7ebf\u7a0b\u5904\u7406\u8fd9\u4e2a\u5ba2\u6237\u7aef\uff0c\u5904\u7406\u5b8c\u6210\u4e4b\u540e\u8fd9\u4e2a\u7ebf\u7a0b\u5c31\u7ed3\u675f\u4e86)</li> </ul> <p>webserver.cpp</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#_2","title":"\u8fc7\u7a0b","text":"<ul> <li> <p>\u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\uff0c\u5982\u679c\u8d85\u65f6\u6216\u5931\u8d25\uff0c\u7ebf\u7a0b\u9000\u51fa\u3002</p> </li> <li> <p>\u5982\u679c\u4e0d\u662fGET\u8bf7\u6c42\u62a5\u6587\u4e0d\u5904\u7406\uff0c\u7ebf\u7a0b\u9000\u51fa\u3002</p> </li> <li> <p>\u8fde\u63a5\u6570\u636e\u5e93</p> </li> <li> <p>\u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa</p> </li> <li> <p>\u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u5229\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa</p> </li> <li> <p>\u5148\u628a\u54cd\u5e94\u62a5\u6587\u5934\u90e8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef</p> </li> <li> <p>\u518d\u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef</p> </li> <li> <p>\u4ece\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u63a5\u53e3\u540d</p> </li> <li>\u4ece\u63a5\u53e3\u53c2\u6570\u914d\u7f6e\u8868T_INTERCFG\u4e2d\u52a0\u8f7d\u63a5\u53e3\u53c2\u6570</li> <li>\u51c6\u5907\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5</li> <li> <p>\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf</p> </li> <li> <p>\u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u53c2\u6570\u5217\u8868(bindin\u5b57\u6bb5)\uff0c\u4eceURL\u4e2d\u89e3\u6790\u51fa\u53c2\u6570\u7684\u503c\uff0c\u7ed1\u5b9a\u5230\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u4e2d</p> </li> </ul> <p>\u6700\u540e\u4e00\u53e5\u662f\u6839\u636ebinding\u5b57\u6bb5\uff0c\u4ecehttp\uff1a//192.168.174.132.8080?...\u4e2d\u89e3\u6790\u51fa\u53c2\u6570\u7684\u503c\uff0c\u7ed1\u5b9a\u5728sql\u8bed\u53e5\u4e2d\uff0c\u4e0b\u56fe</p> <p>## </p> <ul> <li>\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u51fa\u53d8\u91cf</li> <li>\u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u5217\u540d(colstr\u5b57\u6bb5)\uff0cbindout\u7ed3\u679c\u96c6</li> <li>\u6267\u884cSQL\u8bed\u53e5</li> <li>\u5728\u53d6\u7ed3\u679c\u96c6\u4e4b\u524d\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5934\u90e8\u6807\u7b7e <li>\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u6ca1\u83b7\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u62fc\u63a5xml\u62a5\u6587\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef</li> <li>\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5c3e\u90e8\u6807\u7b7e</li> <li>\u5199\u63a5\u53e3\u8c03\u7528\u65e5\u5fd7\u8868T_USERLOG</li>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#1","title":"1 \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\uff0c\u5982\u679c\u8d85\u65f6\u6216\u5931\u8d25\uff0c\u7ebf\u7a0b\u9000\u51fa\u3002","text":"<p>\u9700\u8981\u5199\u4e00\u4e2a\u6ca1\u6709\u62a5\u5934\u7684\u6709\u8d85\u65f6\u673a\u5236\u7684\u63a5\u6536\u51fd\u6570\uff0c\u8981\u5b9e\u73b0\u8d85\u65f6\u7684\u529f\u80fd\u9700\u8981\u7528\u5230\uff0c\u8981\u5b9e\u73b0\u8d85\u65f6\u7684\u529f\u80fd\uff0c\u9700\u8981\u7528\u5230IO\u590d\u7528\u7684poll\u51fd\u6570</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#2","title":"2","text":"<ul> <li>\u5982\u679c\u4e0d\u662fGET\u8bf7\u6c42\u62a5\u6587\u4e0d\u5904\u7406\uff0c\u7ebf\u7a0b\u9000\u51fa\u3002</li> <li>\u8fde\u63a5\u6570\u636e\u5e93</li> <li>\u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa</li> </ul> <p>\u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#3","title":"3 \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u5229\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#4","title":"4 \u628a\u54cd\u5e94\u62a5\u6587\u5934\u90e8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef","text":"<p>\u7528\u6237\u540d\uff0c\u5bc6\u7801\uff0c\u6743\u9650\u90fd\u6ca1\u6709\u95ee\u9898\u5f00\u59cb\u8c03\u7528\u63a5\u53e3\uff0c\u8c03\u7528\u63a5\u53e3\u4e4b\u524d\uff0c\u5148\u628a\u54cd\u5e94\u62a5\u6587\u5934\u90e8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#5-sql","title":"5 \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef","text":"<p>\u6d41\u7a0b\u6bd4\u8f83\u591a</p> <p></p> <ul> <li>\u4ece\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u63a5\u53e3\u540d</li> <li>\u4ece\u63a5\u53e3\u53c2\u6570\u914d\u7f6e\u8868T_INTERCFG\u4e2d\u52a0\u8f7d\u63a5\u53e3\u53c2\u6570</li> <li>\u51c6\u5907\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5</li> <li> <p>\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf</p> </li> <li> <p>\u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u53c2\u6570\u5217\u8868(bindin\u5b57\u6bb5)\uff0c\u4eceURL\u4e2d\u89e3\u6790\u51fa\u53c2\u6570\u7684\u503c\uff0c\u7ed1\u5b9a\u5230\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u4e2d</p> </li> </ul> <p>\u6700\u540e\u4e00\u53e5\u662f\u6839\u636ebinding\u5b57\u6bb5\uff0c\u4ecehttp\uff1a//192.168.174.132.8080?...\u4e2d\u89e3\u6790\u51fa\u53c2\u6570\u7684\u503c\uff0c\u7ed1\u5b9a\u5728sql\u8bed\u53e5\u4e2d\uff0c\u4e0b\u56fe</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/4%20%E5%8A%9F%E8%83%BD%E7%9A%84%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0/#_3","title":"4 \u529f\u80fd\u7684\u521d\u6b65\u5b9e\u73b0","text":"<ul> <li>\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u51fa\u53d8\u91cf</li> <li>\u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u5217\u540d(colstr\u5b57\u6bb5)\uff0cbindout\u7ed3\u679c\u96c6</li> <li>\u6267\u884cSQL\u8bed\u53e5</li> <li>\u5728\u53d6\u7ed3\u679c\u96c6\u4e4b\u524d\uff0c\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5934\u90e8\u6807\u7b7e <li>\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u6ca1\u83b7\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u62fc\u63a5xml\u62a5\u6587\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef</li> <li>\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5c3e\u90e8\u6807\u7b7e</li> <li>\u5199\u63a5\u53e3\u8c03\u7528\u65e5\u5fd7\u8868T_USERLOG</li> <p>\u4ee3\u7801</p> C++<pre><code>// \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002\nbool ExecSQL(connection *conn,const char *buffer,const int sockfd)\n{\n  //\u4ece\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u63a5\u53e3\u540d\n  char intername[30];\n  memset(intername,0,sizeof(intername));\n  getvalue(buffer,\"intername\",intername,30);  // \u83b7\u53d6\u63a5\u53e3\u540d\u3002\n\n\n  //\u4ece\u63a5\u53e3\u53c2\u6570\u914d\u7f6e\u8868T_INTERCFG\u4e2d\u52a0\u8f7d\u63a5\u53e3\u53c2\u6570\n  char selectsql[1001],colstr[301],bindin[301];\n  memset(selectsql,0,sizeof(selectsql)); // \u63a5\u53e3SQL\u3002\n  memset(colstr,0,sizeof(colstr));       // \u8f93\u51fa\u5217\u540d\u3002\n  memset(bindin,0,sizeof(bindin));       // \u63a5\u53e3\u53c2\u6570\u3002\n  // \u628a\u63a5\u53e3\u7684\u53c2\u6570\u53d6\u51fa\u6765\u3002\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select selectsql,colstr,bindin from T_INTERCFG where intername=:1\");\n  stmt.bindin(1,intername,30);     // \u63a5\u53e3\u540d\u3002\n  stmt.bindout(1,selectsql,1000);  // \u63a5\u53e3SQL\u3002\n  stmt.bindout(2,colstr,300);      // \u8f93\u51fa\u5217\u540d\u3002\n  stmt.bindout(3,bindin,300);      // \u63a5\u53e3\u53c2\u6570\u3002\n  stmt.execute();  // \u8fd9\u91cc\u57fa\u672c\u4e0a\u4e0d\u7528\u5224\u65ad\u8fd4\u56de\u503c\uff0c\u51fa\u9519\u7684\u53ef\u80fd\u51e0\u4e4e\u6ca1\u6709\u3002\n  stmt.next();\n\n\n  //\u51c6\u5907\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\n  stmt.prepare(selectsql);\n\n\n  CCmdStr CmdStr;\n  //\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\n  //////////////////////////////////////////////////////////////////////////\n    // \u62c6\u5206\u8f93\u5165\u53c2\u6570bindin\u3002\n  CmdStr.SplitToCmd(bindin,\",\");\n    // \u7528\u4e8e\u5b58\u653e\u8f93\u5165\u53c2\u6570\u7684\u6570\u7ec4\uff0c\u8f93\u5165\u53c2\u6570\u7684\u503c\u4e0d\u4f1a\u592a\u957f\uff0c100\u8db3\u591f\u3002\n  char invalue[CmdStr.CmdCount()][101];\n  memset(invalue,0,sizeof(invalue));\n    // \u4ecehttp\u7684GET\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u51fa\u8f93\u5165\u53c2\u6570\uff0c\u7ed1\u5b9a\u5230sql\u4e2d\u3002\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    getvalue(buffer,CmdStr.m_vCmdStr[ii].c_str(),invalue[ii],100); \n    stmt.bindin(ii+1,invalue[ii],100);\n  }\n\n////////////////////////////////////////////////////////////////////////////\n  //\u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u51fa\u53d8\u91cf\n    // \u62c6\u5206colstr\uff0c\u53ef\u4ee5\u5f97\u5230\u7ed3\u679c\u96c6\u7684\u5b57\u6bb5\u6570\u3002\n  CmdStr.SplitToCmd(colstr,\",\");\n    // \u7528\u4e8e\u5b58\u653e\u7ed3\u679c\u96c6\u7684\u6570\u7ec4\u3002\n  char colvalue[CmdStr.CmdCount()][2001];\n    // \u628a\u7ed3\u679c\u96c6\u7ed1\u5b9a\u5230colvalue\u6570\u7ec4\u3002\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    stmt.bindout(ii+1,colvalue[ii],2000);\n  }\n////////////////////////////////////////////////////////////////////////////\n\n  //\u7ed1\u5b9asql\u8bed\u53e5\n  if (stmt.execute() != 0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }\n\n\n  //\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5934\u90e8\u6807\u7b7e&lt;data&gt;\n    // logfile.WriteEx(\"&lt;data&gt;\\n\");\n  Writen(sockfd,\"&lt;data&gt;\\n\",strlen(\"&lt;data&gt;\\n\"));\n\n\n  //\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u6ca1\u83b7\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u62fc\u63a5xml\u62a5\u6587\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n    char strsendbuffer[4001];  //\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u7684xml\n    char strtemp[2001];        //\u7528\u4e8e\u51ed\u501fxml\u7684\u4e34\u65f6\u53d8\u91cf\n    // \u9010\u884c\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002\n  while (true)\n  {\n    memset(strsendbuffer,0,sizeof(strsendbuffer));\n    memset(colvalue,0,sizeof(colvalue));\n\n    if (stmt.next() != 0) break;         //\u4ece\u7ed3\u679c\u96c6\u4e2d\u53d6\u4e00\u6761\u8bb0\u5f55\n    //\u62fc\u63a5\u6bcf\u4e2a\u5b57\u6bb5\u7684xml\n    for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n    {\n      memset(strtemp,0,sizeof(strtemp));\n      snprintf(strtemp,2000,\"&lt;%s&gt;%s&lt;/%s&gt;\",CmdStr.m_vCmdStr[ii].c_str(),colvalue[ii],CmdStr.m_vCmdStr[ii].c_str());\n      strcat(strsendbuffer,strtemp);\n      // logfile.WriteEx(\"&lt;%s&gt;%s&lt;/%s&gt;\",CmdStr.m_vCmdStr[ii].c_str(),colvalue[ii],CmdStr.m_vCmdStr[ii].c_str());\n    }\n    // logfile.WriteEx(\"&lt;endl/&gt;\\n\");\n\n    strcat(strsendbuffer,\"&lt;endl/&gt;\\n\");      //xml\u6bcf\u884c\u7ed3\u675f\u7684\u6807\u5fd7\n\n    Writen(sockfd,strsendbuffer,strlen(strsendbuffer));   //\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u8fd9\u884c\u6570\u636e\n  }\n\n\n  //\u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5c3e\u90e8\u6807\u7b7e&lt;/data&gt;\n  Writen(sockfd,\"&lt;/data&gt;\\n\",strlen(\"&lt;/data&gt;\\n\"));\n\n\n  //\u5199\u63a5\u53e3\u8c03\u7528\u65e5\u5fd7\u8868T_USERLOG\n  logfile.Write(\"intername=%s,count=%d\\n\",intername,stmt.m_cda.rpc);\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/","title":"5 \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u5b9e\u73b0","text":"<p>\u91c7\u7528\u6bcf\u8fde\u63a5\u6bcf\u7ebf\u7a0b\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e86\u6570\u636e\u603b\u7ebf\u7684\u57fa\u672c\u529f\u80fd\uff0c\u4f46\u670d\u52a1\u7a0b\u5e8f\u6d88\u8017\u7684\u8d44\u6e90\u6bd4\u8f83\u591a\uff0c\u6027\u80fd\u6bd4\u8f83\u4f4e</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_1","title":"\u6bcf\u8fde\u63a5\u6bcf\u7ebf\u7a0b\u7684\u7f3a\u70b9","text":"<ul> <li>Oracle\u6570\u636e\u5e93\u8fde\u63a5\u5360\u7528\u7684\u5185\u5b58\u5f88\u591a\uff0c\u6bcf\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fde\u63a5\uff0c\u9700\u8981\u5ba2\u6237\u7aef3M\uff0c\u670d\u52a1\u7aef5M\u7684\u5185\u5b58</li> <li>Linux\u6bcf\u4e2a\u7ebf\u7a0b\u5360\u7528\u8d8a10M\u7684\u865a\u62df\u5185\u5b58\u548c\u5927\u4e8e10k\u7684\u56fa\u5b9a\u5185\u5b58\uff0c\u7ebf\u7a0b\u8d8a\u590d\u6742\uff0c\u5360\u7528\u7684\u5185\u5b58\u8d8a\u591a</li> <li>\u521b\u5efa\u7ebf\u7a0b(\u6d88\u8017\u65f6\u95f4\u975e\u5e38\u77ed\uff0c\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1)\u548c\u8fde\u63a5\u6570\u636e\u5e93\u9700\u8981\u65f6\u95f4</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_2","title":"\u4f18\u5316\u65b9\u6848","text":"<ul> <li>\u6570\u636e\u5e93\u8fde\u63a5\u6c60</li> <li>\u7ebf\u7a0b\u6c60</li> </ul> <p>\u6570\u636e\u5e93\u8fde\u63a5\u6c60</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_3","title":"\u6570\u636e\u5e93\u8fde\u63a5\u6c60(\u5c31\u8ddf\u516c\u5171\u536b\u751f\u95f4\u7684\u539f\u7406\u4e00\u6837)","text":"<ul> <li>\u5728\u4e3b\u8fdb\u7a0b\u4e2d\uff0c\u9884\u5148\u521b\u5efan\u4e2a\u6570\u636e\u5e93\u8fde\u63a5</li> <li>\u6bcf\u4e2a\u7ebf\u7a0b\u9700\u8981\u7528\u5230\u6570\u636e\u5e93\u7684\u65f6\u5019\uff0c\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u53d6\u4e00\u4e2a\u7a7a\u95f2\u7684\u8fde\u63a5\uff0c\u7528\u5b8c\u4e4b\u540e\u5f52\u8fd8</li> <li>\u6570\u636e\u5e93\u8fde\u63a5\u9700\u8981\u7528\u9501\u4fdd\u62a4</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_4","title":"\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6027\u80fd","text":"<ul> <li>CPU1\u68382G\uff0c\u6027\u80fd\u5728100\u6b21/\u79d2\u4ee5\u4e0a</li> <li>CPU16\u683832G\uff0c\u6027\u80fd\u53ef\u8fbe2000\u6b21/\u79d2</li> <li>\u53ef\u4ee5\u6ee1\u8db3\u666e\u901a\u4e1a\u52a1\u7684\u9700\u6c42\uff0c\u65e0\u6cd5\u6ee1\u8db3\u4e92\u8054\u7f51\u5927\u5382\u7684\u5e76\u53d1\u9700\u6c42</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_5","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#1","title":"1 \u58f0\u660e\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6570\u636e\u673a\u6784\u548c\u64cd\u4f5c\u7684\u51fd\u6570","text":"<p>\u8fd9\u91cc\u53ea\u80fd\u7528\u4e92\u65a5\u9501\uff0c\u4e0d\u80fd\u7528\u81ea\u65cb\u9501\uff0c\u56e0\u4e3a\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u8bdd\uff0c\u6570\u636e\u5e93\u8fde\u63a5\u5360\u7528\u7684\u65f6\u95f4\u53ef\u80fd\u4f1a\u6bd4\u8f83\u957f\uff0c\u81ea\u65cb\u9501\u4e0d\u5408\u9002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#2","title":"2 \u5b9e\u73b0\u529f\u80fd","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#1_1","title":"1\uff09\u521d\u59cb\u6570\u636e\u5e93\u8fde\u63a5\u6c60","text":"<p>\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u521d\u59cb\u5316\u4e92\u65a5\u9501</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#2_1","title":"2\uff09\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u7a7a\u95f2\u7684\u8fde\u63a5","text":"<p>usleep\u7684\u76ee\u7684\u662f\u5982\u679c\u5931\u8d25\u4e86\uff0c\u4e0d\u65ad\u7684\u5c1d\u8bd5\u4e00\u76f4\u5230\u6210\u529f\u4e3a\u6b62</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#3","title":"3\uff09\u91ca\u653e\u6570\u636e\u5e93\u8fde\u63a5","text":"<p>\u53d6\u5730\u5740\u4e4b\u540e\u5730\u5740\u76f8\u7b49\u5c31\u91ca\u653e\u9501</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#4","title":"4\uff09\u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#5main","title":"5\uff09\u5728main\u51fd\u6570\u4e2d","text":"<p>\u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#6","title":"6\uff09\u4fee\u6539\u7ebf\u7a0b\u4e3b\u51fd\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_6","title":"\u7ec6\u8282","text":"<p>\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/5%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_7","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n * \u7a0b\u5e8f\u540d\uff1ademo20.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u91c7\u7528\u5f00\u53d1\u6846\u67b6\u7684CTcpServer\u7c7b\u5b9e\u73b0socket\u901a\u4fe1\u591a\u7ebf\u7a0b\u7684\u670d\u52a1\u5668\u3002\n * \u4f5c\u8005\uff1agmc\n*/\n#include \"_public.h\"\n#include \"_ooci.h\"\n\nCLogFile logfile; // \u670d\u52a1\u7a0b\u5e8f\u7684\u8fd0\u884c\u65e5\u5fd7\nCTcpServer TcpServer; // \u521b\u5efa\u670d\u52a1\u7aef\u5bf9\u8c61\n\nvoid EXIT(int sig); // \u7236\u8fdb\u7a0b\u9000\u51fa\u51fd\u6570\n\nvector&lt;pthread_t&gt; vthid; //\u5b58\u653e\u5168\u90e8\u7ebf\u7a0bid\npthread_spinlock_t vthidlock; // \u7528\u4e8e\u9501\u5b9avthid\u7684\u81ea\u65cb\u9501\nvoid* thmain(void* arg); // \u7ebf\u7a0b\u4e3b\u51fd\u6570\n\nvoid thecleanup(void* arg); // \u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\n\n// \u4e3b\u8fdb\u7a0b\u53c2\u6570\u7684\u7ed3\u6784\u4f53\nstruct st_arg{\n  char connstr[101]; // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\n  char charset[51]; // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\n  int port; // web\u670d\u52a1\u76d1\u542c\u7684\u7aef\u53e3\n}starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char* argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char* strxmlbuffer);\n\n// \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\nint ReadT(const int sockfd, char* buffer, const int size, const int itimeout);\n\n// \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\nbool Login(connection* conn, const char* buffer, const int sockfd);\n\n// \u4eceGET\u8bf7\u6c42\u4e2d\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff1astrget-GET\u8bf7\u6c42\u62a5\u6587\u7684\u5185\u5bb9\uff1bname-\u53c2\u6570\u540d\uff1bvalue-\u53c2\u6570\u503c\uff1blen-\u53c2\u6570\u503c\u7684\u957f\u5ea6\u3002\nbool getvalue(const char* strget, const char* name, char* value, const int len);\n\n// \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\u3002\nbool CheckPerm(connection *conn,const char *buffer,const int sockfd);\n\n// \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\nbool ExecSQL(connection *conn,const char *buffer,const int sockfd);\n\n#define MAXCONNS 10 // \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u5927\u5c0f\nconnection conns[MAXCONNS]; // \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6570\u7ec4\npthread_mutex_t mutex[MAXCONNS]; // \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u9501\nbool initconns(); // \u521d\u59cb\u6570\u636e\u5e93\u8fde\u63a5\u6c60\nconnection* getconns(); // \u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u7a7a\u95f2\u7684\u8fde\u63a5\nbool freeconns(connection* conn); // \u91ca\u653e/\u5f52\u8fd8\u6570\u636e\u5e93\u8fde\u63a5\nbool destroyconns(); // \u91ca\u653e\u6570\u636e\u5e93\u8fde\u63a5\u5360\u7528\u7684\u8d44\u6e90\uff08\u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501\uff09\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3){\n    _help(argv); return -1;\n  }\n\n  CloseIOAndSignal(); signal(SIGINT, EXIT); signal(SIGTERM, EXIT);\n\n  if(logfile.Open(argv[1], \"a+\") == false){\n    printf(\"logfile.Open(%s) failed\\n\", argv[1]);\n    return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if(_xmltoarg(argv[2]) == false) EXIT(-1);\n\n  // \u670d\u52a1\u7aef\u521d\u59cb\u5316\n  if(TcpServer.InitServer(starg.port) == false){\n    logfile.Write(\"TcpServer.InitServer(%d) failed.\\n\", starg.port);\n    EXIT(-1);\n  }\n\n  if(initconns() == false){// \u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60\n    logfile.Write(\"initconns() failed.\\n\");\n    return -1;\n  }\n\n  pthread_spin_init(&amp;vthidlock, 0);\n\n  while(true){\n    // \u7b49\u5f85\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\n    if(TcpServer.Accept() == false){\n      logfile.Write(\"TcpServer.Accept() failed.\\n\");\n      EXIT(-1);\n    }\n\n    logfile.Write(\"\u5ba2\u6237\u7aef\uff08%s\uff09\u5df2\u8fde\u63a5\u3002\\n\", TcpServer.GetIP());\n\n    // \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8ba9\u5b83\u4e0e\u5ba2\u6237\u7aef\u901a\u8baf\n    pthread_t thid;\n    if(pthread_create(&amp;thid, NULL, thmain, (void*)(long)TcpServer.m_connfd) != 0){\n      logfile.Write(\"pthread_create() failed.\\n\"); TcpServer.CloseListen(); continue;\n    }\n    pthread_spin_lock(&amp;vthidlock);\n    vthid.push_back(thid); // \u628a\u7ebf\u7a0bid\u4fdd\u5b58\u5230\u5bb9\u5668\u4e2d\n    pthread_spin_unlock(&amp;vthidlock);\n  }\n}\n\nvoid* thmain(void* arg){ // \u7ebf\u7a0b\u4e3b\u51fd\u6570\n  pthread_cleanup_push(thecleanup, arg); // \u628a\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u5165\u6808\uff08\u5173\u95ed\u5ba2\u6237\u7aef\u7684socket\uff09\n  int connfd = (int)(long)arg;\n  pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);\n  pthread_detach(pthread_self());\n\n  char strrecvbuf[1024]; // \u63a5\u6536\u5ba2\u6237\u7aef\u8bf7\u6c42\u62a5\u6587\u7684buffer\n  memset(strrecvbuf, 0, sizeof(strrecvbuf));\n\n  // \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\uff0c\u5982\u679c\u8d85\u65f6\u6216\u8005\u5931\u8d25\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(ReadT(connfd, strrecvbuf, sizeof(strrecvbuf), 3) &lt;= 0) pthread_exit(0);\n\n  // \u5982\u679c\u4e0d\u662fGET\u8bf7\u6c42\u62a5\u6587\u4e0d\u5904\u7406\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(strncmp(strrecvbuf, \"GET\", 3) != 0) pthread_exit(0);\n\n  logfile.Write(\"%s\\n\", strrecvbuf);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93 \u83b7\u53d6\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\n  connection *conn = getconns();\n\n  // \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(Login(conn, strrecvbuf, connfd) == false) {\n    freeconns(conn);\n    pthread_exit(0);\n  }\n\n  // \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if (CheckPerm(conn,strrecvbuf,connfd)==false) {\n    freeconns(conn);\n    pthread_exit(0);\n  }\n\n  // \u5148\u628a\u54cd\u5e94\u62a5\u6587\u5934\u90e8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n  char strsendbuf[1024];\n  memset(strsendbuf, 0, sizeof(strsendbuf));\n  sprintf(strsendbuf, \\\n    \"HTTP/1.1 200 OK\\r\\n\"\\\n    \"Server:webserver\\r\\n\"\\\n    \"Content-Type:text/html;charset=utf-8\\r\\n\\r\\n\");\n  Writen(connfd, strsendbuf, strlen(strsendbuf));\n\n  // \u518d\u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\n  if (ExecSQL(conn,strrecvbuf,connfd)==false) {\n    freeconns(conn);\n    pthread_exit(0);\n  }\n\n  freeconns(conn);\n  pthread_cleanup_pop(1); //\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u51fa\u6808\n}\n\nvoid EXIT(int sig){// \u7236\u8fdb\u7a0b\u9000\u51fa\u51fd\u6570\n// \u4ee5\u4e0b\u4ee3\u7801\u662f\u4e3a\u4e86\u9632\u6b62\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u88ab\u4fe1\u53f7\u4e2d\u65ad\n  signal(SIGINT, SIG_IGN); signal(SIGTERM, SIG_IGN);\n  logfile.Write(\"\u7236\u8fdb\u7a0b\u9000\u51fa\u3002sig = %d.\\n\", sig);\n  TcpServer.CloseListen(); // \u5173\u95ed\u76d1\u542c\u7684socket\n  // \u53d6\u6d88\u7ebf\u7a0b\n  pthread_spin_lock(&amp;vthidlock);\n  for(int ii = 0; ii &lt; vthid.size(); ++ii){\n    pthread_cancel(vthid[ii]);\n  }\n  pthread_spin_unlock(&amp;vthidlock);\n\n  sleep(1);\n  pthread_spin_destroy(&amp;vthidlock);\n  exit(0);\n}\n\nvoid thecleanup(void* arg){ // \u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\n  close((int)(long)arg); // \u5173\u95ed\u5ba2\u6237\u7aef\u7684socket\n  // \u628a\u672c\u7ebf\u7a0b\u7684id\u4ece\u5bb9\u5668\u4e2d\u5220\u9664\n  pthread_spin_lock(&amp;vthidlock);\n  for(int ii = 0; ii &lt; vthid.size(); ++ii){\n    if(pthread_equal(pthread_self(), vthid[ii])){\n      vthid.erase(vthid.begin() + ii);\n      break;\n    }\n  }\n  pthread_spin_unlock(&amp;vthidlock);\n\n  logfile.Write(\"\u7ebf\u7a0b%lu\u9000\u51fa\u3002\\n\", pthread_self());\n  // delete (int*)arg;\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/webserver logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/webserver /log/idc/webserver.log \\\"&lt;connstr&gt;qxidc/qxidcpwd@snorcl11g_132&lt;/connstr&gt;&lt;charset&gt;Simplified Chinese_China.AL32UTF8&lt;/charset&gt;&lt;port&gt;8080&lt;/port&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u603b\u7ebf\u7684\u670d\u52a1\u7aef\u7a0b\u5e8f\uff0c\u4e3a\u6570\u636e\u4e2d\u5fc3\u63d0\u4f9bhttp\u534f\u8bae\u7684\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1ausername/password@tnsname\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"port        web\u670d\u52a1\u76d1\u542c\u7684\u7aef\u53e3\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"port\",&amp;starg.port);\n  if (starg.port==0) { logfile.Write(\"port is null.\\n\"); return false; }\n\n  return true;\n}\n\n// \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\nint ReadT(const int sockfd, char* buffer, const int size, const int itimeout){\n  if(itimeout &gt; 0){\n    struct pollfd fds;\n    fds.fd = sockfd;\n    fds.events = POLLIN;\n    int iret;\n    if((iret = poll(&amp;fds, 1, itimeout*1000)) &lt;= 0) return iret;\n  }\n  return recv(sockfd, buffer, size, 0);\n}\n\n// \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\nbool Login(connection* conn, const char* buffer, const int sockfd) {\n  char username[31], passwd[31];\n  getvalue(buffer, \"username\", username, 30); // \u83b7\u53d6\u7528\u6237\u540d\uff1b\n  getvalue(buffer, \"passwd\", passwd, 30); // \u83b7\u53d6\u5bc6\u7801\uff1b\n\n  // \u67e5\u8be2T_USERINFO\u8868\uff0c\u5224\u65ad\u7528\u6237\u540d\u548c\u5bc6\u7801\u662f\u5426\u5b58\u5728\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select count(*) from T_USERINFO where username = :1 and passwd = :2 and rsts = 1\");\n  stmt.bindin(1, username, 30);\n  stmt.bindin(2, passwd, 30);\n  int icount = 0;\n  stmt.bindout(1, &amp;icount);\n  stmt.execute();\n  stmt.next();\n\n  if(icount == 0) {// \u8ba4\u8bc1\u5931\u8d25\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n    char strbuffer[256];\n    memset(strbuffer, 0, sizeof(strbuffer));\n    sprintf(strbuffer,\\\n    \"HTTP/1.1 200 OK\\r\\n\"\\\n               \"Server: webserver_\\r\\n\"\\\n               \"Content-Type: text/html;charset=utf-8\\r\\n\\r\\n\"\\\n               \"&lt;retcode&gt;-1&lt;/retcode&gt;&lt;message&gt;username or passwd is invailed&lt;/message&gt;\");\n\n    Writen(sockfd, strbuffer, strlen(strbuffer));\n\n    return false;\n  }\n  return true;\n}\n\n// \u4eceGET\u8bf7\u6c42\u4e2d\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff1astrget-GET\u8bf7\u6c42\u62a5\u6587\u7684\u5185\u5bb9\uff1bname-\u53c2\u6570\u540d\uff1bvalue-\u53c2\u6570\u503c\uff1blen-\u53c2\u6570\u503c\u7684\u957f\u5ea6\u3002\nbool getvalue(const char* strget, const char* name, char* value, const int len){\n  value[0] = 0;\n  char *start, *end;\n  start = end = 0;\n  start = strstr((char*)strget, (char*)name);\n  if(start == 0) return false;\n  end = strstr(start, \"&amp;\");\n  if(end == 0) end = strstr(start, \" \");\n\n  if(end == 0) return false;\n\n  int ilen = end - start - strlen(name) - 1;\n  if(ilen &gt; len) ilen = len;\n  strncpy(value, start + strlen(name) + 1, ilen);\n\n  value[ilen] = 0;\n  return true;\n}\n\n// \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\u3002 \nbool CheckPerm(connection *conn,const char *buffer,const int sockfd)\n{\n  char username[31],intername[30];\n\n  getvalue(buffer,\"username\",username,30);    // \u83b7\u53d6\u7528\u6237\u540d\u3002\n  getvalue(buffer,\"intername\",intername,30);  // \u83b7\u53d6\u63a5\u53e3\u540d\u3002\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select count(*) from T_USERANDINTER where username=:1 and intername=:2 and intername in (select intername from T_INTERCFG where rsts=1)\");\n  stmt.bindin(1,username,30);\n  stmt.bindin(2,intername,30);\n  int icount=0;\n  stmt.bindout(1,&amp;icount);\n  stmt.execute();\n  stmt.next();\n\n  if (icount!=1)\n  {\n    char strbuffer[256];\n    memset(strbuffer,0,sizeof(strbuffer));\n\n    sprintf(strbuffer,\\\n           \"HTTP/1.1 200 OK\\r\\n\"\\\n           \"Server: webserver\\r\\n\"\\\n           \"Content-Type: text/html;charset=utf-8\\r\\n\\n\\n\"\\\n           \"&lt;retcode&gt;-1&lt;/retcode&gt;&lt;message&gt;permission denied&lt;/message&gt;\");\n\n    Writen(sockfd,strbuffer,strlen(strbuffer));\n\n    return false;\n  }\n\n  return true;\n}\n\n// \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\nbool ExecSQL(connection *conn,const char *buffer,const int sockfd){\n  // \u4ece\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u63a5\u53e3\u540d\n  char intername[30];\n  memset(intername, 0, sizeof(intername));\n  getvalue(buffer, \"intername\", intername, 30);\n\n  // \u4ece\u63a5\u53e3\u53c2\u6570\u914d\u7f6e\u8868T_INTERCFG\u4e2d\u52a0\u8f7d\u63a5\u53e3\u53c2\u6570\n  char selectsql[1001], colstr[301], bindin[301];\n  memset(selectsql, 0, sizeof(selectsql));\n  memset(colstr, 0, sizeof(colstr));\n  memset(bindin, 0, sizeof(bindin));\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select selectsql, colstr, bindin from T_INTERCFG where intername = :1\");\n  stmt.bindin(1, intername, 30);\n  stmt.bindout(1, selectsql, 1000);\n  stmt.bindout(2, colstr, 300);\n  stmt.bindout(3, bindin, 300);\n  stmt.execute();\n  stmt.next();\n\n  // \u51c6\u5907\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\n  stmt.prepare(selectsql);  \n\n  // \u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\n  // \u62c6\u5206\u8f93\u5165\u53c2\u6570bindin\n  CCmdStr CmdStr;\n  CmdStr.SplitToCmd(bindin, \",\");\n\n  // \u58f0\u660e\u7528\u4e8e\u5b58\u653e\u8f93\u5165\u53c2\u6570\u7684\u6570\u7ec4\n  char invalue[CmdStr.CmdCount()][101];\n  memset(invalue, 0, sizeof(invalue));\n\n  // \u4ecehttp\u7684GET\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u51fa\u8f93\u5165\u53c2\u6570\uff0c\u7ed1\u5b9a\u5230sql\u4e2d\n  for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n    getvalue(buffer, CmdStr.m_vCmdStr[ii].c_str(), invalue[ii], 100);\n    stmt.bindin(ii + 1, invalue[ii], 100);\n  }\n\n  // \u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u53c2\u6570\u5217\u8868\uff08bindin\u5b57\u6bb5\uff09\uff0c\u4eceURL\u4e2d\u89e3\u6790\u53c2\u6570\u7684\u503c\uff0cbindin\u5230\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u4e2d\n  // \u62c6\u5206colstr\uff0c\u53ef\u4ee5\u5f97\u5230\u7ed3\u679c\u96c6\u7684\u5b57\u6bb5\u6570\n  CmdStr.SplitToCmd(colstr, \",\");\n\n  // \u7528\u4e8e\u5b58\u653e\u7ed3\u679c\u96c6\u7684\u6570\u7ec4\n  char colvalue[CmdStr.CmdCount()][2001];\n\n  // \u628a\u7ed3\u679c\u96c6\u7ed1\u5b9a\u5230colvalue\u6570\u7ec4\n  for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n    stmt.bindout(ii + 1, colvalue[ii], 2000);\n  }\n\n  // \u6267\u884cSQL\u8bed\u53e5\n  char strsendbuf[4001]; // \u53d1\u9001\u7ed9\u5ba2\u6237\u7684xml\n  memset(strsendbuf, 0, sizeof(strsendbuf));\n\n  if(stmt.execute() != 0){\n    sprintf(strsendbuf, \"&lt;retcode&gt;%d&lt;/retcode&gt;&lt;message&gt;%s&lt;/message&gt;\\n\", stmt.m_cda.rc, stmt.m_cda.message);\n    Writen(sockfd, strsendbuf, strlen(strsendbuf));\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\", stmt.m_sql, stmt.m_cda.message);\n    return false;\n  }\n  strcpy(strsendbuf, \"&lt;retcode&gt;0&lt;/retcode&gt;&lt;message&gt;ok&lt;/message&gt;\\n\");\n  Writen(sockfd, strsendbuf, strlen(strsendbuf));\n\n  // \u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5934\u90e8\u6807\u7b7e&lt;data&gt;\n  Writen(sockfd, \"&lt;data&gt;\\n\", strlen(\"&lt;data&gt;\\n\"));\n\n  // \u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u83b7\u53d6\u6bcf\u4e00\u6761\u8bb0\u5f55\uff0c\u62fc\u63a5xml\u62a5\u6587\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n\n  char strtemp[2001]; // \u7528\u4e8e\u62fc\u63a5xml\u7684\u4e34\u65f6\u53d8\u91cf\n\n  // \u9010\u884c\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n  while(true){\n    memset(strsendbuf, 0, sizeof(strsendbuf));\n    memset(colvalue, 0, sizeof(colvalue));\n\n    if(stmt.next() != 0) break; // \u4ece\u7ed3\u679c\u96c6\u4e2d\u53d6\u51fa\u4e00\u6761\u8bb0\u5f55\n\n    for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n      memset(strtemp, 0, sizeof(strtemp));\n      snprintf(strtemp, 2000, \"&lt;%s&gt;%s&lt;/%s&gt;\", CmdStr.m_vCmdStr[ii].c_str(), colvalue[ii], CmdStr.m_vCmdStr[ii].c_str());\n      strcat(strsendbuf, strtemp);\n    }\n    strcat(strsendbuf, \"&lt;endl/&gt;\\n\"); // xml\u6bcf\u884c\u7ed3\u675f\u6807\u5fd7\n\n    Writen(sockfd, strsendbuf, strlen(strsendbuf)); // \u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u8fd9\u884c\u6570\u636e\n  }\n\n  // \u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5c3e\u90e8\u6807\u7b7e&lt;/data&gt;\n  Writen(sockfd, \"&lt;/data&gt;\\n\", strlen(\"&lt;/data&gt;\\n\"));\n\n  logfile.Write(\"intername = %s, count = %d\\n\", intername, stmt.m_cda.rpc);\n\n  // \u5199\u63a5\u53e3\u8c03\u7528\u65e5\u5fd7\u8868T_USERLOG\n\n  return true;\n}\n\nbool initconns() // \u521d\u59cb\u6570\u636e\u5e93\u8fde\u63a5\u6c60\n{\n  for(int ii = 0; ii &lt; MAXCONNS; ++ii){\n    // \u8fde\u63a5\u6570\u636e\u5e93\n    if(conns[ii].connecttodb(starg.connstr, starg.charset) != 0){\n      logfile.Write(\"connect database(%s) failed.\\n%s\\n\", starg.connstr, conns[ii].m_cda.message);\n      return false;\n    }\n\n    // \u521d\u59cb\u5316\u4e92\u65a5\u9501\n    pthread_mutex_init(&amp;mutex[ii], 0);\n  }\n  return true;\n}\n\nconnection* getconns() // \u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u7a7a\u95f2\u7684\u8fde\u63a5\n{\n  while(true){\n    for(int ii = 0; ii &lt; MAXCONNS; ++ii){\n      if(pthread_mutex_trylock(&amp;mutex[ii]) == 0){\n        logfile.Write(\"get conns is %d.\\n\", ii);\n        return &amp;conns[ii];\n      }\n    }\n    usleep(10000); // \u767e\u5206\u4e4b\u4e00\u79d2\u540e\u91cd\u8bd5\n  }\n}\n\nbool freeconns(connection* conn) // \u91ca\u653e/\u5f52\u8fd8\u6570\u636e\u5e93\u8fde\u63a5\n{\n  for(int ii = 0; ii &lt; MAXCONNS; ++ii){\n    if(&amp;conns[ii] == conn){\n      pthread_mutex_unlock(&amp;mutex[ii]);\n      conn = 0;\n      return true;\n    }  \n  }\n  return false;\n}\n\nbool destroyconns() // \u91ca\u653e\u6570\u636e\u5e93\u8fde\u63a5\u5360\u7528\u7684\u8d44\u6e90\uff08\u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501\uff09\n{\n  for(int ii = 0; ii &lt; MAXCONNS; ++ii){\n    conns[ii].disconnect();\n    pthread_mutex_destroy(&amp;mutex[ii]);\n  }\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/","title":"\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u4f18\u5316","text":"<ul> <li>\u8bbe\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6700\u5927\u8fde\u63a5\u6570</li> <li>\u8fde\u63a5\u6570\u4e0d\u591f\u65f6\uff0c\u81ea\u52a8\u6269\u5c55\uff0c\u5efa\u7acb\u65b0\u7684\u8fde\u63a5</li> <li>\u8fde\u63a5\u7a7a\u95f2\u65f6(n\u79d2\u672a\u4f7f\u7528)\uff0c\u81ea\u52a8\u65ad\u5f00\uff0c\u91ca\u653e\u8d44\u6e90</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#1","title":"1 \u628a\u6570\u636e\u7ed3\u6784\u548c\u51fd\u6570\u5c01\u88c5\u6210\u7c7b(\u91cd\u8981\u203c\ufe0f)","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#2","title":"2 \u5b9e\u73b0","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#1_1","title":"1\uff09\u6784\u9020\u51fd\u6570\u3001\u6790\u6784\u51fd\u6570\u3001\u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff0c\u521d\u59cb\u5316\u9501","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#2_1","title":"2\uff09\u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#3","title":"3\uff09","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#1connection","title":"1)\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u5bfb\u627e\u4e00\u4e2a\u7a7a\u95f2\u7684\u3001\u5df2\u8fde\u63a5\u597d\u7684connection\uff0c\u5982\u679c\u627e\u5230\u4e86\uff0c\u8fd4\u56de\u5b83\u7684\u5730\u5740\u3002","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#2connectionconnection","title":"2)\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5728\u8fde\u63a5\u6c60\u4e2d\u627e\u4e00\u4e2a\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u5982\u679c\u6210\u529f\uff0c\u8fd4\u56deconnection\u7684\u5730\u5740\u3002","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#32connection","title":"3)\u5982\u679c\u7b2c2)\u6b65\u627e\u5230\u4e86\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u4f46\u662f\uff0c\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\uff0c\u8fd4\u56de\u7a7a\u3002","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#42connection","title":"4)\u5982\u679c\u7b2c2)\u6b65\u6ca1\u6709\u627e\u5230\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u8868\u793a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u5df2\u7528\u5b8c\uff0c\u4e5f\u8fd4\u56de\u7a7a\u3002","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#4-iiii-ii","title":"4\uff09\u5f52\u8fd8\u6570\u636e\u5e93\u8fde\u63a5\u3002 ii\u4e0d\u77e5\u9053\u662f++ii \u8fd8\u662fii++","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#5-iiii-ii","title":"5\uff09\u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff0c\u65ad\u5f00\u7a7a\u95f2\u7684\u8fde\u63a5\uff0c\u5728\u670d\u52a1\u7a0b\u5e8f\u4e2d\uff0c\u7528\u4e00\u4e2a\u4e13\u7528\u7684\u5b50\u7ebf\u7a0b\u8c03\u7528\u6b64\u51fd\u6570\u3002      ii\u4e0d\u77e5\u9053\u662f++ii \u8fd8\u662fii++","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#6","title":"6\uff09\u58f0\u660e\u8fde\u63a5\u6c60\u5bf9\u8c61","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#7","title":"7\uff09\u4fee\u6539\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4ee3\u7801","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#8","title":"8\uff09\u8fde\u63a5\u8bcd\u7684\u68c0\u67e5","text":"<p>\u5728\u521d\u59cb\u5316\u8fde\u63a5\u8bcd\u4e4b\u540e\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e13\u95e8\u8d1f\u8d23\u8fde\u63a5\u8bcd\u7684\u68c0\u67e5</p> <p></p> <p>\u5199\u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u7684\u51fd\u6570</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#_3","title":"\u77e5\u8bc6\u70b9","text":"<p>\u8fde\u63a5\u8bcd\u7684\u6d4b\u8bd5\u6280\u5de7</p> <p>\u8fde\u63a5\u8bcd\u7528\u4e8e\u591a\u7ebf\u7a0b\u7684\u670d\u52a1\u7a0b\u5e8f\uff0c\u4f46\u662f\uff0c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u7528\u4e00\u4e2a\u591a\u7ebf\u7a0b\u7684\u670d\u52a1\u7a0b\u5e8f\u6765\u6d4b\u8bd5\u5b83</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#_4","title":"\u6bb5\u9519\u8bef\u203c\ufe0f","text":"<p>\u8fd9\u662f\u591a\u7ebf\u7a0b\u4e2d\u5f88\u5bb9\u6613\u9047\u5230\u7684\u4e00\u4e2a\u5751\uff0c</p> <p></p> <p>\u6211\u4eec\u5148\u6765\u770b\u8fdb\u7a0b\u4e3b\u51fd\u6570\u3002\u5728\u4e3b\u8fdb\u7a0b\u4e2d\uff0c\u521b\u5efa\u7ebf\u7a0b\u4e4b\u540e\u3002\u4f1a\u628a\u73b0\u6210\u7684ID\u653e\u5165\u5bb9\u5668\u4e2d\u3002</p> <p></p> <p>\u5728\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u4e2d\u3002\u7ebf\u7a0b\u9000\u51fa\u7684\u65f6\u5019\uff0c\u8c03\u7528\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\uff0c\u5728\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u4e2d\u628a\u81ea\u5df1\u7684ID\u4ece\u5bb9\u5668\u4e2d\u5220\u9664\u3002\u6ce8\u610f\u7279\u522b\u6ce8\u610f\uff0c\u5982\u679c\u7ebf\u7a0b\u8dd1\u7684\u592a\u5feb\uff0c\u4e3b\u8fdb\u7a0b\u53ef\u80fd\u8fd8\u6765\u4e0d\u53ca\u628a\u7ebf\u7a0b\u7684ID\u653e\u5165\u5bb9\u5668\u3002\u90a3\u4e48\uff0c\u8fd9\u91cc\u5c31\u4f1a\u51fa\u73b0\u627e\u4e0d\u5230\u73b0\u6210ID\u7684\u60c5\u51b5\u3002</p> <p></p> <p>\u5728\u8fdb\u7a0b\u9000\u51fa\u7684\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u4e2d\u3002\u5982\u679c\u7ebf\u7a0b\u9000\u51fa\u7684\u65f6\u5019\u6ca1\u6709\u628a\u81ea\u5df1\u4ece\u5bb9\u5668\u4e2d\u5220\u6389\uff0c\u90a3\u4e48\u8fd9\u884c\u4ee3\u7801\u5c31\u4f1a\u51fa\u95ee\u9898\u3002\u56e0\u4e3a\u5bb9\u5668\u4e2d\u7684\u8fd9\u4e2a\u7ebf\u7a0b\u6839\u672c\u5df2\u7ecf\u4e0d\u5b58\u5728\u4e86\u3002</p> <p>\u90a3\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u561e\uff1f\u8fd9\u4e2a\u4e8b\u60c5\u8fd8\u771f\u7684\u4e0d\u592a\u597d\u529e\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u7ebf\u7a0b\u4e0d\u4f1a\u8fd9\u4e48\u5feb\u9000\u51fa\u7684\uff0c\u5728\u6211\u4eec\u8fd9\u4e2a\u7a0b\u5e8f\u4e2d\uff0c\u5982\u679c\u7ebf\u7a0b\u53d6\u6570\u636e\u5e93\u8fde\u63a5\u65f6\u5931\u8d25\u3002\u5c31\u4f1a\u5f88\u5feb\u9000\u51fa\u3002\u5728\u7ebf\u7a0b\u4e3b\u51fd\u6570\u4e2d\u52a0\u4e0a\u8fd9\u884c\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u4e86</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/6%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BC%98%E5%8C%96/#_5","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n * \u7a0b\u5e8f\u540d\uff1ademo20.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u91c7\u7528\u5f00\u53d1\u6846\u67b6\u7684CTcpServer\u7c7b\u5b9e\u73b0socket\u901a\u4fe1\u591a\u7ebf\u7a0b\u7684\u670d\u52a1\u5668\u3002\n * \u4f5c\u8005\uff1agmc\n*/\n#include \"_public.h\"\n#include \"_ooci.h\"\n\nCLogFile logfile; // \u670d\u52a1\u7a0b\u5e8f\u7684\u8fd0\u884c\u65e5\u5fd7\nCTcpServer TcpServer; // \u521b\u5efa\u670d\u52a1\u7aef\u5bf9\u8c61\n\nvoid EXIT(int sig); // \u7236\u8fdb\u7a0b\u9000\u51fa\u51fd\u6570\n\nvector&lt;pthread_t&gt; vthid; //\u5b58\u653e\u5168\u90e8\u7ebf\u7a0bid\npthread_spinlock_t vthidlock; // \u7528\u4e8e\u9501\u5b9avthid\u7684\u81ea\u65cb\u9501\nvoid* thmain(void* arg); // \u7ebf\u7a0b\u4e3b\u51fd\u6570\n\nvoid thecleanup(void* arg); // \u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\n\nvoid* checkpool(void* arg); // \u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u7ebf\u7a0b\u51fd\u6570\n\n// \u4e3b\u8fdb\u7a0b\u53c2\u6570\u7684\u7ed3\u6784\u4f53\nstruct st_arg{\n  char connstr[101]; // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\n  char charset[51]; // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\n  int port; // web\u670d\u52a1\u76d1\u542c\u7684\u7aef\u53e3\n}starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char* argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char* strxmlbuffer);\n\n// \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\nint ReadT(const int sockfd, char* buffer, const int size, const int itimeout);\n\n// \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\nbool Login(connection* conn, const char* buffer, const int sockfd);\n\n// \u4eceGET\u8bf7\u6c42\u4e2d\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff1astrget-GET\u8bf7\u6c42\u62a5\u6587\u7684\u5185\u5bb9\uff1bname-\u53c2\u6570\u540d\uff1bvalue-\u53c2\u6570\u503c\uff1blen-\u53c2\u6570\u503c\u7684\u957f\u5ea6\u3002\nbool getvalue(const char* strget, const char* name, char* value, const int len);\n\n// \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\u3002\nbool CheckPerm(connection *conn,const char *buffer,const int sockfd);\n\n// \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\nbool ExecSQL(connection *conn,const char *buffer,const int sockfd);\n\n// \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7c7b\nclass connpool{\nprivate:\n  //\u58f0\u660e\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6570\u636e\u7ed3\u6784\n  struct st_conn{\n    connection conn; // \u6570\u636e\u5e93\u8fde\u63a5\n    pthread_mutex_t mutex; // \u7528\u4e8e\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4e92\u65a5\u9501\n    time_t atime; // \u6570\u636e\u5e93\u8fde\u63a5\u4e0a\u6b21\u4f7f\u7528\u7684\u65f6\u95f4\uff0c\u5982\u679c\u672a\u8fde\u63a5\u6570\u636e\u5e93\u5219\u53d6\u503c0\uff1b\n  }*m_conns; // \u6570\u636e\u5e93\u8fde\u63a5\u6c60\n\n  int m_maxconns; // \u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u6700\u5927\u503c\n  int m_timeout; // \u6570\u636e\u5e93\u8fde\u63a5\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\n  char m_connstr[101]; // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\n  char m_charset[101]; // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff1a\u7528\u6237\u540d/\u5bc6\u7801@\u8fde\u63a5\u540d\npublic:\n  connpool(); // \u6784\u9020\u51fd\u6570\n  ~connpool(); // \u6790\u6784\u51fd\u6570\n\n  // \u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60, \u521d\u59cb\u5316\u9501\n  bool init(const char* connstr, const char* charset, int maxconns, int timeout);\n\n  // \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501\n  void destroy();\n\n  // \u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u4e00\u4e2a\u7a7a\u95f2\u7684\u8fde\u63a5\uff0c\u6210\u529f\u8fd4\u56de\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5730\u5740\u3002\n  // \u5982\u679c\u8fde\u63a5\u6c60\u5df2\u7528\u5b8c\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\uff0c\u8fd4\u56de\u7a7a\n  connection* get();\n\n  // \u5f52\u8fd8\u6570\u636e\u5e93\u8fde\u63a5\n  bool free(connection* conn);\n\n  // \u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff0c\u65ad\u5f00\u7a7a\u95f2\u7684\u8fde\u63a5\uff0c\u5728\u670d\u52a1\u7a0b\u5e8f\u4e2d\uff0c\u7528\u4e00\u4e2a\u4e13\u7528\u7684\u5b50\u7ebf\u7a0b\u8c03\u7528\u6b64\u51fd\u6570\n  void checkpool();\n};\n\nconnpool oraconnpool; // \u58f0\u660e\u8fde\u63a5\u6c60\u5bf9\u8c61\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3){\n    _help(argv); return -1;\n  }\n\n  CloseIOAndSignal(); signal(SIGINT, EXIT); signal(SIGTERM, EXIT);\n\n  if(logfile.Open(argv[1], \"a+\") == false){\n    printf(\"logfile.Open(%s) failed\\n\", argv[1]);\n    return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if(_xmltoarg(argv[2]) == false) EXIT(-1);\n\n  // \u670d\u52a1\u7aef\u521d\u59cb\u5316\n  if(TcpServer.InitServer(starg.port) == false){\n    logfile.Write(\"TcpServer.InitServer(%d) failed.\\n\", starg.port);\n    EXIT(-1);\n  }\n\n  if(oraconnpool.init(starg.connstr, starg.charset, 10 ,50)  == false){// \u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60\n    logfile.Write(\"oraconnpool.init() failed.\\n\");\n    return -1;\n  }\n  else\n  {\n  //\u5728\u521d\u59cb\u5316\u8fde\u63a5\u8bcd\u4e4b\u540e\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e13\u95e8\u8d1f\u8d23\u8fde\u63a5\u8bcd\u7684\u68c0\u67e5\n    pthread_t thid;\n    if(pthread_create(&amp;thid, NULL, checkpool, 0) != 0){\n      logfile.Write(\"pthread_create() failed.\\n\");\n      return -1;\n    }\n  }\n\n  pthread_spin_init(&amp;vthidlock, 0);\n\n  while(true)\n  {\n    // \u7b49\u5f85\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\n    if(TcpServer.Accept() == false){\n      logfile.Write(\"TcpServer.Accept() failed.\\n\");\n      EXIT(-1);\n    }\n\n    logfile.Write(\"\u5ba2\u6237\u7aef\uff08%s\uff09\u5df2\u8fde\u63a5\u3002\\n\", TcpServer.GetIP());\n\n    // \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u8ba9\u5b83\u4e0e\u5ba2\u6237\u7aef\u901a\u8baf\n    pthread_t thid;\n    if(pthread_create(&amp;thid, NULL, thmain, (void*)(long)TcpServer.m_connfd) != 0)\n    {\n      logfile.Write(\"pthread_create() failed.\\n\"); TcpServer.CloseListen(); continue;\n    }\n\n    pthread_spin_lock(&amp;vthidlock);\n    vthid.push_back(thid); // \u628a\u7ebf\u7a0bid\u4fdd\u5b58\u5230\u5bb9\u5668\u4e2d\n    pthread_spin_unlock(&amp;vthidlock);\n  }\n}\n\nvoid* thmain(void* arg){ // \u7ebf\u7a0b\u4e3b\u51fd\u6570\n  pthread_cleanup_push(thecleanup, arg); // \u628a\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u5165\u6808\uff08\u5173\u95ed\u5ba2\u6237\u7aef\u7684socket\uff09\n  int connfd = (int)(long)arg;\n  pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);\n  pthread_detach(pthread_self());\n\n  char strrecvbuf[1024]; // \u63a5\u6536\u5ba2\u6237\u7aef\u8bf7\u6c42\u62a5\u6587\u7684buffer\n  memset(strrecvbuf, 0, sizeof(strrecvbuf));\n\n  // \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\uff0c\u5982\u679c\u8d85\u65f6\u6216\u8005\u5931\u8d25\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(ReadT(connfd, strrecvbuf, sizeof(strrecvbuf), 3) &lt;= 0) pthread_exit(0);\n\n  // \u5982\u679c\u4e0d\u662fGET\u8bf7\u6c42\u62a5\u6587\u4e0d\u5904\u7406\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(strncmp(strrecvbuf, \"GET\", 3) != 0) pthread_exit(0);\n\n  logfile.Write(\"%s\\n\", strrecvbuf);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93 \u4ece\u8fde\u63a5\u6c60\u4e2d\uff0c\u83b7\u53d6\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\n  connection *conn = oraconnpool.get();\n\n  // \u8fde\u63a5\u6c60\u7684get\u51fd\u6570\u53ef\u80fd\u8fd4\u56de\u7a7a\u5730\u5740\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\u52a0\u4e2a\u5224\u65ad\n  // \u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u4e3a\u7a7a\uff0c\u76f4\u63a5\u5411\u7528\u6237\u7aef\u8fd4\u56de\u5185\u90e8\u9519\u8bef\uff0c\u7136\u540e\u7ebf\u7a0b\u9000\u51fa\n  if(conn == 0){\n    usleep(100000); // \u9632\u6b62\u8fdb\u7a0b\u9000\u51fa\u592a\u5feb\n    char strsendbuf[1024];\n    memset(strsendbuf, 0, sizeof(strsendbuf));\n    sprintf(strsendbuf, \\\n      \"HTTP/1.1 200 OK\\r\\n\"\\\n      \"Server:webserver\\r\\n\"\\\n      \"Content-Type:text/html;charset=utf-8\\r\\n\\r\\n\"\\\n      \"&lt;retcode&gt;-1&lt;/retcode&gt;&lt;message&gt;internal error.&lt;/message&gt;\");\n    Writen(connfd, strsendbuf, strlen(strsendbuf));\n    pthread_exit(0);\n  }\n\n  // \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if(Login(conn, strrecvbuf, connfd) == false) {\n    oraconnpool.free(conn);   //\n    pthread_exit(0);\n  }\n\n  // \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n  if (CheckPerm(conn,strrecvbuf,connfd)==false) {\n    oraconnpool.free(conn);  //\u91ca\u653e\u8fde\u63a5\n    pthread_exit(0);\n  }\n\n  // \u5148\u628a\u54cd\u5e94\u62a5\u6587\u5934\u90e8\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n  char strsendbuf[1024];\n  memset(strsendbuf, 0, sizeof(strsendbuf));\n  sprintf(strsendbuf, \\\n    \"HTTP/1.1 200 OK\\r\\n\"\\\n    \"Server:webserver\\r\\n\"\\\n    \"Content-Type:text/html;charset=utf-8\\r\\n\\r\\n\");\n  Writen(connfd, strsendbuf, strlen(strsendbuf));\n\n  // \u518d\u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\n  if (ExecSQL(conn,strrecvbuf,connfd)==false) {\n    oraconnpool.free(conn);    //\u91ca\u653e\u8fde\u63a5\n    pthread_exit(0);        \n  }\n\n  oraconnpool.free(conn); //\u91ca\u653e\u8fde\u63a5\n  pthread_cleanup_pop(1); //\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u51fa\u6808\n}\n\nvoid EXIT(int sig){// \u7236\u8fdb\u7a0b\u9000\u51fa\u51fd\u6570\n// \u4ee5\u4e0b\u4ee3\u7801\u662f\u4e3a\u4e86\u9632\u6b62\u4fe1\u53f7\u5904\u7406\u51fd\u6570\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u88ab\u4fe1\u53f7\u4e2d\u65ad\n  signal(SIGINT, SIG_IGN); signal(SIGTERM, SIG_IGN);\n  logfile.Write(\"\u7236\u8fdb\u7a0b\u9000\u51fa\u3002sig = %d.\\n\", sig);\n  TcpServer.CloseListen(); // \u5173\u95ed\u76d1\u542c\u7684socket\n  // \u53d6\u6d88\u7ebf\u7a0b\n  pthread_spin_lock(&amp;vthidlock);\n  for(int ii = 0; ii &lt; vthid.size(); ++ii){\n  //\u6ce8\u610f\uff0c\u7279\u522b\u6ce8\u610f\uff0c\u5982\u679c\u7ebf\u7a0b\u6015\u5f97\u592a\u5feb\uff0c\u4e3b\u7a0b\u5e8f\u8fd8\u6765\u4e0d\u53ca\u628a\u7ebf\u7a0b\u7684id\u653e\u5165\u5bb9\u5668\n  //\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\u53ef\u80fd\u6ca1\u6709\u6765\u5f97\u53ca\u4ece\u5bb9\u5668\u4e2d\u5220\u9664\u81ea\u5df1\u7684id\n  //\u6240\u4ee5\uff0c\u4ee5\u4e0b\u4ee3\u7801\u53ef\u80fd\u4f1a\u51fa\u73b0\u6bb5\u9519\u8bef\n    pthread_cancel(vthid[ii]);\n  }\n  pthread_spin_unlock(&amp;vthidlock);\n\n  sleep(1);\n  pthread_spin_destroy(&amp;vthidlock);\n  exit(0);\n}\n\nvoid thecleanup(void* arg){ // \u7ebf\u7a0b\u6e05\u7406\u51fd\u6570\n  close((int)(long)arg); // \u5173\u95ed\u5ba2\u6237\u7aef\u7684socket\n  // \u628a\u672c\u7ebf\u7a0b\u7684id\u4ece\u5bb9\u5668\u4e2d\u5220\u9664\n  //\u6ce8\u610f\uff0c\u7279\u522b\u6ce8\u610f\uff0c\u5982\u679c\u7ebf\u7a0b\u6015\u5f97\u592a\u5feb\uff0c\u4e3b\u7a0b\u5e8f\u8fd8\u6765\u4e0d\u53ca\u628a\u7ebf\u7a0b\u7684id\u653e\u5165\u5bb9\u5668\n  //\u6240\u4ee5\u8fd9\u91cc\u53ef\u80fd\u4f1a\u51fa\u73b0\u627e\u4e0d\u5230\u7ebf\u7a0bid\u7684\u60c5\u51b5\n  pthread_spin_lock(&amp;vthidlock);\n  for(int ii = 0; ii &lt; vthid.size(); ++ii)\n  {\n    if(pthread_equal(pthread_self(), vthid[ii])){ vthid.erase(vthid.begin() + ii);  break;}\n  }\n  pthread_spin_unlock(&amp;vthidlock);\n\n  logfile.Write(\"\u7ebf\u7a0b%lu\u9000\u51fa\u3002\\n\", pthread_self());\n  // delete (int*)arg;\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/webserver logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/webserver /log/idc/webserver.log \\\"&lt;connstr&gt;qxidc/qxidcpwd@snorcl11g_132&lt;/connstr&gt;&lt;charset&gt;Simplified Chinese_China.AL32UTF8&lt;/charset&gt;&lt;port&gt;8080&lt;/port&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u603b\u7ebf\u7684\u670d\u52a1\u7aef\u7a0b\u5e8f\uff0c\u4e3a\u6570\u636e\u4e2d\u5fc3\u63d0\u4f9bhttp\u534f\u8bae\u7684\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1ausername/password@tnsname\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"port        web\u670d\u52a1\u76d1\u542c\u7684\u7aef\u53e3\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"port\",&amp;starg.port);\n  if (starg.port==0) { logfile.Write(\"port is null.\\n\"); return false; }\n\n  return true;\n}\n\n// \u8bfb\u53d6\u5ba2\u6237\u7aef\u7684\u62a5\u6587\nint ReadT(const int sockfd, char* buffer, const int size, const int itimeout){\n  if(itimeout &gt; 0){\n    struct pollfd fds;\n    fds.fd = sockfd;\n    fds.events = POLLIN;\n    int iret;\n    if((iret = poll(&amp;fds, 1, itimeout*1000)) &lt;= 0) return iret;\n  }\n  return recv(sockfd, buffer, size, 0);\n}\n\n// \u5224\u65adURL\u4e2d\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u4e0d\u6b63\u786e\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\nbool Login(connection* conn, const char* buffer, const int sockfd) {\n  char username[31], passwd[31];\n  getvalue(buffer, \"username\", username, 30); // \u83b7\u53d6\u7528\u6237\u540d\uff1b\n  getvalue(buffer, \"passwd\", passwd, 30); // \u83b7\u53d6\u5bc6\u7801\uff1b\n\n  // \u67e5\u8be2T_USERINFO\u8868\uff0c\u5224\u65ad\u7528\u6237\u540d\u548c\u5bc6\u7801\u662f\u5426\u5b58\u5728\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select count(*) from T_USERINFO where username = :1 and passwd = :2 and rsts = 1\");\n  stmt.bindin(1, username, 30);\n  stmt.bindin(2, passwd, 30);\n  int icount = 0;\n  stmt.bindout(1, &amp;icount);\n  stmt.execute();\n  stmt.next();\n\n  if(icount == 0) {// \u8ba4\u8bc1\u5931\u8d25\uff0c\u8fd4\u56de\u8ba4\u8bc1\u5931\u8d25\u7684\u54cd\u5e94\u62a5\u6587\uff0c\u7ebf\u7a0b\u9000\u51fa\n    char strbuffer[256];\n    memset(strbuffer, 0, sizeof(strbuffer));\n    sprintf(strbuffer,\\\n    \"HTTP/1.1 200 OK\\r\\n\"\\\n               \"Server: webserver_\\r\\n\"\\\n               \"Content-Type: text/html;charset=utf-8\\r\\n\\r\\n\"\\\n               \"&lt;retcode&gt;-1&lt;/retcode&gt;&lt;message&gt;username or passwd is invailed&lt;/message&gt;\");\n\n    Writen(sockfd, strbuffer, strlen(strbuffer));\n\n    return false;\n  }\n  return true;\n}\n\n// \u4eceGET\u8bf7\u6c42\u4e2d\u83b7\u53d6\u53c2\u6570\u7684\u503c\uff1astrget-GET\u8bf7\u6c42\u62a5\u6587\u7684\u5185\u5bb9\uff1bname-\u53c2\u6570\u540d\uff1bvalue-\u53c2\u6570\u503c\uff1blen-\u53c2\u6570\u503c\u7684\u957f\u5ea6\u3002\nbool getvalue(const char* strget, const char* name, char* value, const int len){\n  value[0] = 0;\n  char *start, *end;\n  start = end = 0;\n  start = strstr((char*)strget, (char*)name);\n  if(start == 0) return false;\n  end = strstr(start, \"&amp;\");\n  if(end == 0) end = strstr(start, \" \");\n\n  if(end == 0) return false;\n\n  int ilen = end - start - strlen(name) - 1;\n  if(ilen &gt; len) ilen = len;\n  strncpy(value, start + strlen(name) + 1, ilen);\n\n  value[ilen] = 0;\n  return true;\n}\n\n// \u5224\u65ad\u7528\u6237\u662f\u5426\u6709\u8c03\u7528\u63a5\u53e3\u7684\u6743\u9650\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8fd4\u56de\u6ca1\u6709\u6743\u9650\u7684\u54cd\u5e94\u62a5\u6587\u3002 \nbool CheckPerm(connection *conn,const char *buffer,const int sockfd)\n{\n  char username[31],intername[30];\n\n  getvalue(buffer,\"username\",username,30);    // \u83b7\u53d6\u7528\u6237\u540d\u3002\n  getvalue(buffer,\"intername\",intername,30);  // \u83b7\u53d6\u63a5\u53e3\u540d\u3002\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select count(*) from T_USERANDINTER where username=:1 and intername=:2 and intername in (select intername from T_INTERCFG where rsts=1)\");\n  stmt.bindin(1,username,30);\n  stmt.bindin(2,intername,30);\n  int icount=0;\n  stmt.bindout(1,&amp;icount);\n  stmt.execute();\n  stmt.next();\n\n  if (icount!=1)\n  {\n    char strbuffer[256];\n    memset(strbuffer,0,sizeof(strbuffer));\n\n    sprintf(strbuffer,\\\n           \"HTTP/1.1 200 OK\\r\\n\"\\\n           \"Server: webserver\\r\\n\"\\\n           \"Content-Type: text/html;charset=utf-8\\r\\n\\n\\n\"\\\n           \"&lt;retcode&gt;-1&lt;/retcode&gt;&lt;message&gt;permission denied&lt;/message&gt;\");\n\n    Writen(sockfd,strbuffer,strlen(strbuffer));\n\n    return false;\n  }\n\n  return true;\n}\n\n// \u6267\u884c\u63a5\u53e3\u7684sql\u8bed\u53e5\uff0c\u628a\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\nbool ExecSQL(connection *conn,const char *buffer,const int sockfd){\n  // \u4ece\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u63a5\u53e3\u540d\n  char intername[30];\n  memset(intername, 0, sizeof(intername));\n  getvalue(buffer, \"intername\", intername, 30);\n\n  // \u4ece\u63a5\u53e3\u53c2\u6570\u914d\u7f6e\u8868T_INTERCFG\u4e2d\u52a0\u8f7d\u63a5\u53e3\u53c2\u6570\n  char selectsql[1001], colstr[301], bindin[301];\n  memset(selectsql, 0, sizeof(selectsql));\n  memset(colstr, 0, sizeof(colstr));\n  memset(bindin, 0, sizeof(bindin));\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select selectsql, colstr, bindin from T_INTERCFG where intername = :1\");\n  stmt.bindin(1, intername, 30);\n  stmt.bindout(1, selectsql, 1000);\n  stmt.bindout(2, colstr, 300);\n  stmt.bindout(3, bindin, 300);\n  stmt.execute();\n  stmt.next();\n\n  // \u51c6\u5907\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\n  stmt.prepare(selectsql);  \n\n  // \u7ed1\u5b9a\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\n  // \u62c6\u5206\u8f93\u5165\u53c2\u6570bindin\n  CCmdStr CmdStr;\n  CmdStr.SplitToCmd(bindin, \",\");\n\n  // \u58f0\u660e\u7528\u4e8e\u5b58\u653e\u8f93\u5165\u53c2\u6570\u7684\u6570\u7ec4\n  char invalue[CmdStr.CmdCount()][101];\n  memset(invalue, 0, sizeof(invalue));\n\n  // \u4ecehttp\u7684GET\u8bf7\u6c42\u62a5\u6587\u4e2d\u89e3\u6790\u51fa\u8f93\u5165\u53c2\u6570\uff0c\u7ed1\u5b9a\u5230sql\u4e2d\n  for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n    getvalue(buffer, CmdStr.m_vCmdStr[ii].c_str(), invalue[ii], 100);\n    stmt.bindin(ii + 1, invalue[ii], 100);\n  }\n\n  // \u6839\u636e\u63a5\u53e3\u914d\u7f6e\u4e2d\u7684\u53c2\u6570\u5217\u8868\uff08bindin\u5b57\u6bb5\uff09\uff0c\u4eceURL\u4e2d\u89e3\u6790\u53c2\u6570\u7684\u503c\uff0cbindin\u5230\u67e5\u8be2\u6570\u636e\u7684SQL\u8bed\u53e5\u4e2d\n  // \u62c6\u5206colstr\uff0c\u53ef\u4ee5\u5f97\u5230\u7ed3\u679c\u96c6\u7684\u5b57\u6bb5\u6570\n  CmdStr.SplitToCmd(colstr, \",\");\n\n  // \u7528\u4e8e\u5b58\u653e\u7ed3\u679c\u96c6\u7684\u6570\u7ec4\n  char colvalue[CmdStr.CmdCount()][2001];\n\n  // \u628a\u7ed3\u679c\u96c6\u7ed1\u5b9a\u5230colvalue\u6570\u7ec4\n  for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n    stmt.bindout(ii + 1, colvalue[ii], 2000);\n  }\n\n  // \u6267\u884cSQL\u8bed\u53e5\n  char strsendbuf[4001]; // \u53d1\u9001\u7ed9\u5ba2\u6237\u7684xml\n  memset(strsendbuf, 0, sizeof(strsendbuf));\n\n  if(stmt.execute() != 0){\n    sprintf(strsendbuf, \"&lt;retcode&gt;%d&lt;/retcode&gt;&lt;message&gt;%s&lt;/message&gt;\\n\", stmt.m_cda.rc, stmt.m_cda.message);\n    Writen(sockfd, strsendbuf, strlen(strsendbuf));\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\", stmt.m_sql, stmt.m_cda.message);\n    return false;\n  }\n  strcpy(strsendbuf, \"&lt;retcode&gt;0&lt;/retcode&gt;&lt;message&gt;ok&lt;/message&gt;\\n\");\n  Writen(sockfd, strsendbuf, strlen(strsendbuf));\n\n  // \u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5934\u90e8\u6807\u7b7e&lt;data&gt;\n  Writen(sockfd, \"&lt;data&gt;\\n\", strlen(\"&lt;data&gt;\\n\"));\n\n  // \u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u83b7\u53d6\u6bcf\u4e00\u6761\u8bb0\u5f55\uff0c\u62fc\u63a5xml\u62a5\u6587\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n\n  char strtemp[2001]; // \u7528\u4e8e\u62fc\u63a5xml\u7684\u4e34\u65f6\u53d8\u91cf\n\n  // \u9010\u884c\u83b7\u53d6\u7ed3\u679c\u96c6\uff0c\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\n  while(true){\n    memset(strsendbuf, 0, sizeof(strsendbuf));\n    memset(colvalue, 0, sizeof(colvalue));\n\n    if(stmt.next() != 0) break; // \u4ece\u7ed3\u679c\u96c6\u4e2d\u53d6\u51fa\u4e00\u6761\u8bb0\u5f55\n\n    for(int ii = 0; ii &lt; CmdStr.CmdCount(); ++ii){\n      memset(strtemp, 0, sizeof(strtemp));\n      snprintf(strtemp, 2000, \"&lt;%s&gt;%s&lt;/%s&gt;\", CmdStr.m_vCmdStr[ii].c_str(), colvalue[ii], CmdStr.m_vCmdStr[ii].c_str());\n      strcat(strsendbuf, strtemp);\n    }\n    strcat(strsendbuf, \"&lt;endl/&gt;\\n\"); // xml\u6bcf\u884c\u7ed3\u675f\u6807\u5fd7\n\n    Writen(sockfd, strsendbuf, strlen(strsendbuf)); // \u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u8fd9\u884c\u6570\u636e\n  }\n\n  // \u5411\u5ba2\u6237\u7aef\u53d1\u9001xml\u5185\u5bb9\u7684\u5c3e\u90e8\u6807\u7b7e&lt;/data&gt;\n  Writen(sockfd, \"&lt;/data&gt;\\n\", strlen(\"&lt;/data&gt;\\n\"));\n\n  logfile.Write(\"intername = %s, count = %d\\n\", intername, stmt.m_cda.rpc);\n\n  // \u5199\u63a5\u53e3\u8c03\u7528\u65e5\u5fd7\u8868T_USERLOG\n\n  return true;\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////////////\n\nconnpool::connpool() // \u6784\u9020\u51fd\u6570\n{\n  //\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\n  m_maxconns = 0;\n  m_timeout = 0;\n  memset(m_connstr, 0, sizeof(m_connstr));\n  memset(m_charset, 0, sizeof(m_charset));\n  m_conns = 0;\n}\n\nconnpool::~connpool() // \u6790\u6784\u51fd\u6570\n{\n  destroy();\n}\n\n// \u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60, \u521d\u59cb\u5316\u9501\nbool connpool::init(const char* connstr, const char* charset, int maxconns, int timeout){\n  // \u5c1d\u8bd5\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u9a8c\u8bc1\u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\u662f\u5426\u6b63\u786e\n  connection conn;\n  if(conn.connecttodb(connstr, charset) != 0){\n    printf(\"\u6570\u636e\u5e93\u8fde\u63a5\u5931\u8d25\u3002\\n%S\\n\", conn.m_cda.message);\n    return false;\n  }\n  conn.disconnect();\n\n  //\u8d4b\u503c\u7ed9\u6210\u5458\u53d8\u91cf\n  strncpy(m_connstr, connstr, 100);\n  strncpy(m_charset, charset, 100);\n  m_maxconns = maxconns;\n  m_timeout = timeout;\n\n  // \u5206\u914d\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u5185\u5b58\u7a7a\u95f4\n  m_conns = new struct st_conn[m_maxconns];\n\n  for(int ii = 0; ii &lt; m_maxconns; ++ii){\n    pthread_mutex_init(&amp;m_conns[ii].mutex, 0);\n    m_conns[ii].atime = 0;\n  }\n\n  return true;\n}\n\n// \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u9500\u6bc1\u9501\nvoid connpool::destroy(){\n  for(int ii = 0; ii &lt; m_maxconns; ++ii){\n    m_conns[ii].conn.disconnect();               //\u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\n    pthread_mutex_destroy(&amp;m_conns[ii].mutex);   //\u9500\u6bc1\u9501\n  }\n  delete []m_conns; // \u91ca\u653e\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u5185\u5b58\u7a7a\u95f4\n  m_conns = 0;\n\n  memset(m_connstr, 0, sizeof(m_connstr));\n  memset(m_charset, 0, sizeof(m_charset));\n  m_maxconns = 0;\n  m_timeout = 0;\n}\n\n// 1)\u4ece\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u4e2d\u5bfb\u627e\u4e00\u4e2a\u7a7a\u95f2\u7684\u3001\u5df2\u8fde\u63a5\u597d\u7684connection\uff0c\u5982\u679c\u627e\u5230\u4e86\uff0c\u8fd4\u56de\u5b83\u7684\u5730\u5740\u3002\n// 2)\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5728\u8fde\u63a5\u6c60\u4e2d\u627e\u4e00\u4e2a\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u5982\u679c\u6210\u529f\uff0c\u8fd4\u56deconnection\u7684\u5730\u5740\u3002\n// 3)\u5982\u679c\u7b2c2)\u6b65\u627e\u5230\u4e86\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u4f46\u662f\uff0c\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\uff0c\u8fd4\u56de\u7a7a\u3002\n// 4)\u5982\u679c\u7b2c2)\u6b65\u6ca1\u6709\u627e\u5230\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684connection\uff0c\u8868\u793a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u5df2\u7528\u5b8c\uff0c\u4e5f\u8fd4\u56de\u7a7a\u3002\nconnection* connpool::get(){\n  int pos = -1; // \u7528\u4e8e\u8bb0\u5f55\u7b2c\u4e00\u4e2a\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684\u6570\u7ec4\u4f4d\u7f6e\n\n  for(int ii = 0; ii &lt; m_maxconns; ++ii){\n    if(pthread_mutex_trylock(&amp;m_conns[ii].mutex) == 0)  //\u5c1d\u8bd5\u52a0\u9501\uff0c\u52a0\u9501\u6210\u529f\u8868\u793a\u4ed6\u662f\u7a7a\u95f2\u7684\n    {\n      if(m_conns[ii].atime &gt; 0) // \u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u662f\u5df2\u8fde\u63a5\u7684\u72b6\u6001\n      {\n        printf(\"\u53d6\u5230\u8fde\u63a5%d\\n\", ii);\n        m_conns[ii].atime = time(0); // \u628a\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4f7f\u7528\u65f6\u95f4\u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4\n        return &amp;m_conns[ii].conn; // \u8fd4\u56de\u6570\u636e\u5e93\u8fde\u63a5\u7684\u5730\u5740\n      }\n\n      if(pos == -1) pos = ii; // \u8bb0\u5f55\u7b2c\u4e00\u4e2a\u672a\u8fde\u63a5\u6570\u636e\u5e93\u7684\u6570\u7ec4\u4f4d\u7f6e\n      else  pthread_mutex_unlock(&amp;m_conns[ii].mutex); // \u91ca\u653e\u9501\n    }\n  }\n\n  if(pos == -1){// \u8fde\u63a5\u6c60\u7528\u5b8c\u3002\u8fd4\u56de\u7a7a\n    printf(\"\u8fde\u63a5\u6c60\u5df2\u7528\u5b8c.\\n\");\n    return NULL;\n  }\n\n  // \u8fde\u63a5\u6c60\u672a\u7528\u5b8c \u8ba9m_conns[pos].conn\u8fde\u4e0a\u6570\u636e\u5e93\n  printf(\"\u65b0\u8fde\u63a5%d\u3002\\n\", pos);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\n  if(m_conns[pos].conn.connecttodb(m_connstr, m_charset) != 0)\n  {\n    //\u5982\u679c\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\uff0c\u91ca\u653e\u9501\uff0c\u8fd4\u56de\u7a7a\n    printf(\"\u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25\u3002\\n\");\n    pthread_mutex_unlock(&amp;m_conns[pos].mutex);    //\u91ca\u653e\u9501\n    return NULL;\n  }\n\n  m_conns[pos].atime = time(0);// \u628a\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4f7f\u7528\u65f6\u95f4\u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4\n  return &amp;m_conns[pos].conn;\n}\n\n// \u5f52\u8fd8\u6570\u636e\u5e93\u8fde\u63a5\nbool connpool::free(connection* conn)\n{\n  for(int ii = 0; ii &lt; m_maxconns; ++ii){\n    if(&amp;m_conns[ii].conn == conn){\n\n      printf(\"\u5f52\u8fd8%d\\n\", ii);\n\n      m_conns[ii].atime = time(0);  // \u628a\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4f7f\u7528\u65f6\u95f4\u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4\n\n      pthread_mutex_unlock(&amp;m_conns[ii].mutex); // \u91ca\u653e\u9501\n      return true;\n    }\n  }\n  return false;\n}\n\n// \u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff0c\u65ad\u5f00\u7a7a\u95f2\u7684\u8fde\u63a5\uff0c\u5728\u670d\u52a1\u7a0b\u5e8f\u4e2d\uff0c\u7528\u4e00\u4e2a\u4e13\u7528\u7684\u5b50\u7ebf\u7a0b\u8c03\u7528\u6b64\u51fd\u6570\nvoid connpool::checkpool()\n{\n  for(int ii = 0; ii &lt; m_maxconns; ++ii){\n    if(pthread_mutex_trylock(&amp;m_conns[ii].mutex) == 0)  //\u5c1d\u8bd5\u52a0\u9501\uff0c\u52a0\u9501\u6210\u529f\u8868\u793a\u4ed6\u662f\u7a7a\u95f2\u7684\n    {\n      if(m_conns[ii].atime &gt; 0){ // \u5982\u679c\u6570\u636e\u5e93\u8fde\u63a5\u662f\u5df2\u8fde\u63a5\u7684\u72b6\u6001\n        // \u5224\u65ad\u662f\u5426\u8d85\u65f6\n        if((time(0) - m_conns[ii].atime) &gt; m_timeout)\n        {\n          printf(\"\u8fde\u63a5%d\u5df2\u8d85\u65f6\u3002\\n\", ii);\n          m_conns[ii].conn.disconnect(); // \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\n          m_conns[ii].atime = 0;         // \u91cd\u7f6e\u6570\u636e\u5e93\u8fde\u63a5\u7684\u4f7f\u7528\u65f6\u95f4\n        }\n        else{ \n          // \u5982\u679c\u6ca1\u6709\u8d85\u65f6\uff0c\u6267\u884c\u4e00\u6b21sql\uff0c\u9a8c\u8bc1\u8fde\u63a5\u662f\u5426\u6709\u6548\uff0c\u5982\u679c\u65e0\u6548\uff0c\u65ad\u5f00\u4ed6\n          // \u5982\u679c\u7f51\u7edc\u65ad\u5f00\u4e86\uff0c\u6216\u8005\u6570\u636e\u5e93\u91cd\u542f\u4e86\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u91cd\u8fde\u6570\u636e\u5e93\uff0c\u5728\u8fd9\u91cc\u53ea\u9700\u8981\u65ad\u5f00\u8fde\u63a5\u5c31\u884c\u4e86\n          // \u91cd\u8fde\u7684\u64cd\u4f5c\u4ea4\u7ed9get()\u51fd\u6570\n          if(m_conns[ii].conn.execute(\"select * from dual\") != 0){\n            printf(\"\u8fde\u63a5%d\u5df2\u6545\u969c\u3002\\n\", ii);\n            m_conns[ii].conn.disconnect(); // \u65ad\u5f00\u6570\u636e\u5e93\u8fde\u63a5\n            m_conns[ii].atime = 0;\n          }\n        }\n      }\n      pthread_mutex_unlock(&amp;m_conns[ii].mutex);  //\u91ca\u653e\u9501\n    }\n\n    // \u5982\u679c\u52a0\u9501\u5931\u8d25\uff0c\u8868\u793a\u6570\u636e\u5e93\u6b63\u5728\u4f7f\u7528\uff0c\u4e0d\u5fc5\u68c0\u67e5\n  }\n}\n\nvoid* checkpool(void* arg) // \u68c0\u67e5\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u7684\u7ebf\u7a0b\u51fd\u6570\n{\n  while(true){\n    oraconnpool.checkpool();\n    sleep(30);\n  }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/7%20%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/","title":"7 \u7ebf\u7a0b\u6c60\u7684\u5b9e\u73b0","text":"<p>\u91c7\u7528\u7ebf\u7a0b\u6c60\u7ee7\u7eed\u63d0\u5347\u6570\u636e\u670d\u52a1\u4e2d\u5fc3\u7684\u6027\u80fd</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/7%20%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%AE%9E%E7%8E%B0/#_1","title":"\u7ebf\u7a0b\u6c60\u7684\u5b9e\u73b0","text":"<ul> <li>\u5728\u4e3b\u8fdb\u7a0b\u4e2d\uff0c\u9884\u5148\u521b\u5efan\u4e2a\u5de5\u4f5c\u7ebf\u7a0b</li> <li>\u4e3b\u8fdb\u7a0b\u76d1\u542c\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\uff0c\u5f53\u6709\u65b0\u5ba2\u6237\u8fde\u4e0a\u6765\u7684\u65f6\u5019\uff0c\u628a\u5b83\u653e\u5165\u5f85\u5904\u7406\u961f\u5217</li> <li>\u5de5\u4f5c\u7ebf\u7a0b\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u5904\u7406\u5ba2\u6237\u7aef\u7684\u4e1a\u52a1\u8bf7\u6c42</li> </ul> <p>\u6709\u4e24\u4e2a\u7ec6\u8282</p> <ul> <li>\u5728\u961f\u5217\u4e2d\uff0c\u5b58\u653e\u7684\u662f\u5ba2\u6237\u7aef\u7684socket</li> <li>\u91c7\u7528\u6761\u4ef6\u53d8\u91cf+\u4e92\u65a5\u9501(\u751f\u4ea7\u6d88\u8d39\u8005\u6a21\u578b)\u5b9e\u73b0\u961f\u5217\u529f\u80fd</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/%E5%89%8D%E8%A8%80/","title":"\u524d\u8a00","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/%E5%89%8D%E8%A8%80/#_1","title":"\u4e1a\u52a1\u9700\u6c42","text":"<ul> <li>\u6570\u636e\u4e2d\u5fc3\u7684\u76ee\u6807\u662f\u4e3a\u4e1a\u52a1\u7cfb\u7edf\u63d0\u4f9b\u6570\u636e\u652f\u6491\u73af\u5883</li> <li>\u4e1a\u52a1\u7cfb\u7edf\u76f4\u8fde\u6570\u636e\u4e2d\u5fc3\u7684\u5e94\u7528\u6570\u636e\u5e93\uff0c\u4efb\u610f\u8bbf\u95ee\u6570\u636e</li> </ul> <p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u52bf\u662f\u4e1a\u52a1\u7cfb\u7edf\u7684\u4e3b\u52a8\u6743\u5f88\u5927\uff0c\u60f3\u67e5\u4ec0\u4e48\u6570\u636e\u5c31\u67e5\u4ec0\u4e48\u6570\u636e\uff0c\u5c31\u50cf\u6211\u4eec\u540e\u53f0\u670d\u52a1\u7a0b\u5e8f\u548c\u6570\u636e\u5e93\u5ba2\u6237\u7aef\u8f6f\u4ef6\u4e00\u6837\u8fde\u4e0a\u6570\u636e\u5e93\u4e4b\u540e\u53ea\u8981\u6709\u6743\u9650\uff0c\u5c31\u80fd\u8fdb\u884c\u5f88\u591a\u64cd\u4f5c</p> <ul> <li>\u4e1a\u52a1\u7cfb\u7edf\u901a\u8fc7\u6570\u636e\u670d\u52a1\u603b\u7ebf\uff0c\u8bbf\u95ee\u6570\u636e\u4e2d\u5fc3\u7684\u6570\u636e\uff0c\u91c7\u7528HTTP\u534f\u8bae\u83b7\u53d6\u6570\u636e</li> </ul> <p>\u6570\u636e\u670d\u52a1\u603b\u7ebf\u5b83\u7684\u672c\u8d28\u662f\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5bf9\u4e1a\u52a1\u7cfb\u7edf\u7684\u9650\u5236\u5f88\u5927\uff0c\u4e1a\u52a1\u7cfb\u7edf\u5fc5\u987b\u6309\u6570\u636e\u670d\u52a1\u603b\u7ebf\u89c4\u5b9a\u7684\u65b9\u6cd5\u8bbf\u95ee\u6570\u636e</p> <p></p> <p>\u5bf9\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u7528\u8fd9\u79cd\u65b9\u6cd5\u83b7\u53d6\u6570\u636e\u975e\u5e38\u7b80\u5355\uff0c\u5199\u4ee3\u7801\u4e5f\u5f88\u5bb9\u6613\uff0c\u6570\u636e\u8bbf\u95ee\u63a5\u53e3\u4f7f\u7528\u8d77\u6765\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u5bf9\u5ba2\u6237\u7aef\u6765\u8bf4\u662f\u6709\u9650\u5236\u7684\uff0c\u8bbf\u95ee\u6570\u636e\u7684\u79cd\u7c7b\u548c\u6761\u4ef6\u662f\u670d\u52a1\u7aef\u89c4\u5b9a\u597d\u7684\uff0c\u4e0d\u80fd\u60f3\u62ff\u4ec0\u4e48\u6570\u636e\u5c31\u62ff\u4ec0\u4e48\u6570\u636e\uff0c\u6ca1\u6709SQL\u8bed\u53e5\u90a3\u4e48\u7075\u6d3b</p> <p>\u4e1a\u52a1\u9700\u8981\u8fd9\u4e2a\u9650\u5236\uff0c\u56e0\u4e3a\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u4f7f\u7528\u6570\u636e\u7684\u4e1a\u52a1\u7cfb\u7edf\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u91cd\u8981\u7684\u5185\u90e8\u4f7f\u7528\u7684\u4e1a\u52a1\u7cfb\u7edf\uff0c\u5de6\u8fb9\u8fd9\u4e9b\u7cfb\u7edf\u76f4\u63a5\u8fde\u6570\u636e\u4e2d\u5fc3\u7684\u6570\u636e\u5e93\uff0c\u9700\u8981\u4ec0\u4e48\u6570\u636e\u5c31\u62ff\u51fa\u6765\uff0c\u8fd8\u6709\u4e00\u79cd\u4e0d\u91cd\u8981\u7684\u5bf9\u5916\u7684\u7cfb\u7edf\uff0c\u53f3\u8fb9</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/%E5%89%8D%E8%A8%80/#_2","title":"\u5b9e\u73b0\u65b9\u6848","text":"<ul> <li>Java\u3001php\u3001.net\u7b49\u8bed\u8a00\u90fd\u53ef\u4ee5\u505aweb\u670d\u52a1\u7aef\uff0c\u4f46\u6027\u80fd\u4e00\u822c</li> <li>\u7528c/c++\u5b9e\u73b0\u7684web\u670d\u52a1\u7aef\u6027\u80fd\u5353\u8d8a</li> <li>ngix</li> </ul> <p>\u8fd9\u4e2a\u7ae0\u8282\u6211\u4eec\u7528c\u8bed\u8a00\u5199\u4e00\u4e2aweb\u670d\u52a1\u7aef</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/13%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E6%9C%8D%E5%8A%A1%E6%80%BB%E7%BA%BF/%E5%89%8D%E8%A8%80/#_3","title":"\u5b66\u4e60\u4efb\u52a1","text":"<ul> <li>\u719f\u6089http\u534f\u8bae(\u901a\u8baf\u65b9\u5f0f\u548c\u62a5\u6587\u683c\u5f0f)</li> <li>\u8bbe\u8ba1\u6570\u636e\u670d\u52a1\u603b\u7ebf\u7684\u529f\u80fd\u548c\u8868\u7ed3\u6784</li> <li>\u5b9e\u73b0\u6570\u636e\u670d\u52a1\u603b\u7ebf\u7684\u529f\u80fd</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/","title":"IO\u590d\u7528","text":"<ul> <li>\u4f20\u7edf\u65b9\u6cd5\uff1a\u6bcf\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u53ea\u80fd\u7ba1\u7406\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5</li> <li>\u7ebf\u7a0b\u6c60\uff1a\u6bcf\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u4e5f\u53ea\u80fd\u7ba1\u7406\u4e00\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\u4e0d\u7528\u9891\u7e41\u7684\u521b\u5efa\u8fdb\u7a0b/\u7ebf\u7a0b</li> <li>IO\u590d\u7528\uff1a\u5728\u5355\u8fdb\u7a0b/\u7ebf\u7a0b\u4e2d\u540c\u65f6\u76d1\u89c6\u591a\u4e2a\u8fde\u63a5(\u76d1\u542c\u3001\u8bfb\u3001\u5199)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/#io_1","title":"IO\u590d\u7528\u7684\u4e09\u79cd\u6a21\u578b","text":"<ul> <li>select\u6a21\u578b\uff1a\u53ea\u80fd\u7ba1\u74061024\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5</li> <li>poll\u6a21\u578b\uff1a\u53ef\u4ee5\u7ba1\u7406\u66f4\u591a\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\uff0c\u8fde\u63a5\u8d8a\u591a\uff0c\u6027\u80fd\u7ebf\u6027\u4e0b\u964d</li> <li>epoll\u6a21\u578b\uff1a\u53ea\u8981\u5185\u5b58\u8db3\u591f\uff0c\u7ba1\u7406\u7684\u8fde\u63a5\u6570\u6ca1\u6709\u4e0a\u9650\uff0c\u6027\u80fd\u4e0d\u4f1a\u4e0b\u964d</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/14%E3%80%81IO%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF/%E5%89%8D%E8%A8%80/#_1","title":"\u6b63\u5411\u4ee3\u7406&amp;\u53cd\u5411\u4ee3\u7406","text":"<ul> <li>\u6b63\u5411\u4ee3\u7406\uff1aA-&gt;B-&gt;C-&gt;D,     A-&gt;D;</li> <li>\u53cd\u5411\u4ee3\u7406\uff1aA-&gt;B&lt;-C.           A-&gt;C;</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/1%20%E5%89%8D%E8%A8%80/","title":"\u6c38\u4e0d\u505c\u673a\u7684\u670d\u52a1\u7a0b\u5e8f","text":"<ul> <li>\u7528\u5b88\u62a4\u8fdb\u7a0b\u76d1\u63a7\u670d\u52a1\u7a0b\u5e8f\u7684\u6267\u884c\u72b6\u6001</li> <li>\u5982\u679c\u670d\u52a1\u7a0b\u5e8f\u6545\u969c\uff0c\u8c03\u5ea6\u8fdb\u7a0b\u5c06\u91cd\u542f\u670d\u52a1\u7a0b\u5e8f</li> <li>\u4fdd\u8bc1\u7cfb\u7edf7*24\u5c0f\u65f6\u4e0d\u95f4\u65ad\u8fd0\u884c</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/1%20%E5%89%8D%E8%A8%80/#1","title":"1\u3001\u751f\u6210\u6d4b\u8bd5\u6570\u636e","text":"<ul> <li>\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570</li> <li>\u5168\u56fd\u6c14\u8c61\u7ad9\u5206\u949f\u89c2\u6d4b\u6570\u636e</li> </ul> <p>\u7ad9\u70b9\u6bcf\u5206\u949f\u8fdb\u884c\u4e00\u6b21\u89c2\u6d4b\uff0c\u6bcf\u89c2\u6d4b\u4e00\u6b21\u4ea7\u751f\u4e00\u884c\u6570\u636e</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/1%20%E5%89%8D%E8%A8%80/#_2","title":"\u4e1a\u52a1\u8981\u6c42","text":"<ul> <li>\u6839\u636e\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\uff0c\u6a21\u62df\u751f\u6210\u89c2\u6d4b\u6570\u636e</li> <li>\u7a0b\u5e8f\u6bcf\u5206\u949f\u8fd0\u884c\u4e00\u6b21\uff0c\u6bcf\u6b21\u751f\u6210839\u884c\u6570\u636e\uff0c\u5b58\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/1%20%E5%89%8D%E8%A8%80/#_3","title":"\u6b65\u9aa4","text":"<p>1\uff09\u642d\u5efa\u7a0b\u5e8f\u6846\u67b6(\u8fd0\u884c\u7684\u53c2\u6570\u3001\u8bf4\u660e\u6587\u6863\u3001\u8fd0\u884c\u65e5\u5fd7)</p> <p>2\uff09\u628a\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u52a0\u8f7d\u5230\u7ad9\u70b9\u53c2\u6570\u7684\u5bb9\u5668\u4e2d</p> <p>3\uff09\u904d\u5386\u7ad9\u70b9\u53c2\u6570\u5bb9\u5668\uff0c\u751f\u6210\u6bcf\u4e2a\u7ad9\u70b9\u7684\u89c2\u6d4b\u6570\u636e\uff0c\u5b58\u653e\u5728\u7ad9\u70b9\u5bb9\u5668\u4e2d</p> <p>4\uff09\u628a\u7ad9\u70b9\u89c2\u6d4b\u6570\u636e\u5bb9\u5668\u4e2d\u7684\u8bb0\u5f55\u5199\u5165\u6587\u4ef6</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/10%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%20Linux%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/","title":"1\uff09Linux\u5171\u4eab\u5185\u5b58","text":"<p>Linux\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u662f\u72ec\u7acb\u7684\uff0c\u4e92\u76f8\u4e4b\u95f4\u4e0d\u80fd\u8bbf\u95ee\uff0c\u5171\u4eab\u5185\u5b58\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u8bbf\u95ee\u540c\u4e00\u5757\u5185\u5b58\uff0c\u662f\u8fdb\u7a0b\u4e4b\u95f4\u5171\u4eab\u548c\u4f20\u9012\u6570\u636e\u7684\u6700\u9ad8\u6548\u7684\u65b9\u5f0f\uff0c\u5171\u4eab\u5185\u5b58\u7684\u64cd\u4f5c\u53ea\u6709\u56db\u4e2a\u52a8\u4f5c</p> <ul> <li>\u8c03\u7528shmget\u51fd\u6570\u83b7\u53d6\u6216\u521b\u5efa\u5171\u4eab\u5185\u5b58</li> <li>\u8c03\u7528shmat\u51fd\u6570\u628a\u5171\u4eab\u5185\u5b58\u8fde\u63a5\u5230\u5f53\u524d\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4</li> <li>\u8c03\u7528shmdt\u51fd\u6570\u628a\u5171\u4eab\u5185\u5b58\u4ece\u5f53\u524d\u8fdb\u7a0b\u4e2d\u5206\u79bb</li> <li>\u8c03\u7528shmctl\u51fd\u6570\u5220\u9664\u5171\u4eab\u5185\u5b58</li> </ul> <p>\u5728\u8fdb\u7a0b\u901a\u4fe1\u4e2d\uff0c\u4e0d\u7ba1\u662f\u6d88\u606f\u961f\u5217\uff0c\u5171\u4eab\u5185\u5b58\uff0c\u8fd8\u662f\u4fe1\u53f7\u91cf\uff0c\u6bcf\u4e2a\u961f\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2akey\uff0c\u4e0d\u540c\u7684\u8fdb\u7a0b\u901a\u8fc7key\u6765\u8bc6\u522b\u4e0d\u540c\u7684\u5bf9\u8c61\uff0ckey\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u901a\u5e38\u752816\u8fdb\u5236\u8868\u793a</p> C++<pre><code>#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\nint shmget(key_t key, size_t size, int shmflg);    \n</code></pre> C#<pre><code>#include &lt;sys/types.h&gt;\n#include &lt;sys/shm.h&gt;\n//\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5171\u4eab\u5185\u5b58\u7684id\uff0c\nvoid *shmat(int shmid, const void *shmaddr, int shmflg);\n\nint shmdt(const void *shmaddr);\n</code></pre> C++<pre><code>#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\nint shmctl(int shmid, int cmd, struct shmid_ds *buf); \u5220\u9664\u7684\u8bdd\u7b2c\u4e8c\u4e2a\u586bIPC_RMID\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/10%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%20Linux%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/#shmget","title":"\u4e00\u3001\u8c03\u7528shmget\u51fd\u6570\u83b7\u53d6\u6216\u521b\u5efa\u5171\u4eab\u5185\u5b58","text":"C#<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\n\nstruct st_pid\n{int  pid;       //\u8fdb\u7a0b\u7f16\u53f7\n char name[51];  //\u8fdb\u7a0b\u540d\u79f0\n};\nint main(int argc, char *argv[])\n{\n //\u5171\u4eab\u5185\u5b58\u7684\u6807\u5fd7\n int shmid;\n if((shmid=shmget(0x5005,sizeof(struct st_pid),0640|IPC_CREAT))==-1)\n { printf(\"shmget(0x5005) failed\\n\"); return -1;}\n return 0;\n}\n</code></pre> <p>\u7528ipcrm\u53ef\u4ee5\u5220\u9664\u5171\u4eab\u5185\u5b58\u53c2\u6570</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/10%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0-%20Linux%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/#_1","title":"\u6700\u7ec8\u5b9e\u73b0","text":"C++<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/ipc.h&gt;\n#include &lt;sys/shm.h&gt;\n\nstruct st_pid\n{\n int  pid;       //\u8fdb\u7a0b\u7f16\u53f7\n char name[51];  //\u8fdb\u7a0b\u540d\u79f0\n};\n\n\nint main(int argc, char *argv[])\n{\n //\u5171\u4eab\u5185\u5b58\u7684\u6807\u5fd7\n int shmid;\n\n//\u83b7\u53d6\u6216\u8005\u521b\u5efa\u5171\u4eab\u5185\u5b58 \u952e\u503c\u4e3a0x5005\n if((shmid=shmget(0x5005,sizeof(struct st_pid),0640|IPC_CREAT))==-1)\n { printf(\"shmget(0x5005) failed\\n\"); return -1;}\n\n//\u7528\u4e8e\u6307\u5411\u5171\u4eab\u5185\u5b58\u7684\u7ed3\u6784\u4f53\u53d8\u91cf\n struct st_pid *stpid=0;\n\n//\u628a\u5171\u4eab\u5185\u5b58\u8fde\u63a5\u5230\u5f53\u524d\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\n//(struct st_pid *) \u548c (void *)\u8fd9\u91cc\u662f\u628a\u6570\u636e\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362 \n if((stpid=(struct st_pid *)shmat(shmid,0,0))==(void *)-1)\n {printf(\"shmat failed\\n\"); return -1;}\n\n//\u628a\u5171\u4eab\u5185\u5b58\u91cc\u9762\u7684\u4e1c\u897f\u8bfb\u51fa\u6765\nprintf(\"pid=%d,name=%s\\n\",stpid-&gt;pid,stpid-&gt;name);\n\n//\u628a\u5f53\u524d\u8fdb\u7a0b\u7684ID\u8d4b\u7ed9PID\u6210\u5458\n stpid-&gt;pid=getpid();\n//\u628aname\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u8d4b\u7ed9name\u6210\u5458\nstrcpy(stpid-&gt;name,argv[1]);\n\nprintf(\"pid=%d,name=%s\\n\",stpid-&gt;pid,stpid-&gt;name);\n //\u628a\u5171\u4eab\u5185\u5b58\u4ece\u5f53\u524d\u8fdb\u7a0b\u4e2d\u5206\u79bb\n shmdt(stpid);\n\n//\u589e\u52a0\u5220\u9664\u5171\u4eab\u5185\u5b58\u7684\u4ee3\u7801\n//if(shmctl(shmid,IPC_RMID,0)==-1)\n//{printf(\"shmctl failed\\n\"); return -1;}\n\n return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/","title":"11 \u5b88\u62a4\u5185\u5b58\u7684\u5b9e\u73b0-Linux\u4fe1\u53f7\u91cf","text":"<p>\u4e0a\u4e00\u8282\u4ecb\u7ecd\u4e86\u5171\u4eab\u5185\u5b58\uff0c\u5b9e\u73b0\u4e86\u591a\u4e2a\u8fdb\u7a0b\u5bf9\u540c\u4e00\u5757\u5185\u5b58\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u7684\u529f\u80fd\uff0c\u4f46\u662f\u7f3a\u70b9\u662f\u5982\u679c\u4e00\u4e2a\u8fdb\u7a0b\u6b63\u5728\u5f80\u5171\u4eab\u5185\u5b58\u4e2d\u5199\u6570\u636e\uff0c\u5728\u5199\u5165\u6ca1\u6709\u5b8c\u6210\u4e4b\u524d\uff0c\u5176\u4ed6\u7684\u8fdb\u7a0b\u662f\u4e0d\u5e94\u8be5\u8bfb\u53d6\u8fd9\u4e9b\u6570\u636e\u7684\uff0c\u5171\u4eab\u5185\u5b58\u6ca1\u6709\u63d0\u4f9b\u9501\u673a\u5236\uff0c\u8fd9\u91cc\u7528\u4fe1\u53f7\u91cf\u7ed9\u5171\u4eab\u5185\u5b58\u52a0\u9501</p> <p>\u4fe1\u53f7\u91cf\u7684\u91cd\u70b9\u662f\u89e3\u51b3\u751f\u4ea7\u6d88\u8d39\u8005\u95ee\u9898\u3001\u5438\u70df\u8005\u95ee\u9898\u548c\u54f2\u5b66\u5bb6\u8fdb\u9910\u95ee\u9898</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#2linux","title":"2\uff09Linux\u4fe1\u53f7\u91cf","text":"<p>\u7528\u4fe1\u53f7\u91cf\u7ed9\u5171\u4eab\u5185\u5b58\u52a0\u9501</p> <ul> <li>\u4fe1\u53f7\u91cf\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u975e\u8d1f\u6570\u7684\u8ba1\u6570\u5668</li> <li>\u7ed9\u5171\u4eab\u8d44\u6e90\u5efa\u7acb\u4e00\u4e2a\u6807\u5fd7\uff0c\u8868\u793a\u8be5\u5171\u4eab\u8d44\u6e90\u88ab\u5360\u7528\u60c5\u51b5</li> <li>p\u64cd\u4f5c(\u7533\u8bf7\u8d44\u6e90-1)\uff0cv\u64cd\u4f5c(\u91ca\u653e\u8d44\u6e90+1)</li> <li>\u4e8c\u503c\u4fe1\u53f7\u91cf\u662f\u4fe1\u53f7\u91cf\u7684\u4e00\u79cd\u7279\u6b8a\u5f62\u5f0f\uff0c\u8868\u793a\u8d44\u6e90\u53ea\u6709\u53ef\u7528\u548c\u4e0d\u53ef\u7528\u4e24\u79cd\u72b6\u6001  0-\u4e0d\u53ef\u7528\uff1b1-\u53ef\u7528    \u5b83\u7684\u529f\u80fd\u4e0e\u4e92\u65a5\u9501\u76f8\u540c\uff0c\u53ea\u6709\u5f00\u548c\u5173\u4e24\u79cd\u72b6\u6001</li> </ul> <p>\u5728_public.h\u4e2d\u5df2\u7ecf\u5c01\u88c5\u4e86</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_1","title":"\u5b9e\u73b0\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_2","title":"\u7ed3\u679c","text":"<p>\u89e3\u91ca\uff1a\u7b2c\u4e00\u884c\u6ca1\u52a0\u9501 val\u4e3a1 \u7b2c\u4e8c\u884c\u52a0\u9501\u4e4b\u540eval\u4e3a0   \u7b2c\u4e09\u884c\u9501\u8fd8\u5728\u6301\u6709\u4e2dval\u4e3a0   \u7b2c\u56db\u884c\u5df2\u7ecf\u89e3\u9501\u4e86 val\u4e3a1</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_3","title":"\u540c\u65f6\u542f\u52a8\u51e0\u4e2a\u8bd5\u8bd5\u770b","text":"<p>\u7b2c\u4e00\u4e2a\u7a97\u53e3\u542f\u52a8book aaa\u7b2c\u4e8c\u4e2abook bbb\u7b2c\u4e09\u4e2abook ccc\u7b2c\u56db\u4e2abook ddd\u3002\u6309\u7167\u987a\u5e8f\uff0c\u4ece\u4e00\u5230\u56db\u5148\u542f\u52a8\u7b2c\u4e00\u4e2a\uff0c\u518d\u542f\u52a8\u7b2c\u4e8c\u4e2a\uff0c\u7136\u540e\u7b2c\u4e09\u4e2a\u3002\u7b2c\u56db\u4e2a\u7b49\u4ed6\u4eec\u8fd0\u884c\u5b8caaa\uff0c\u5b83\u662f72\u79d2\u542f\u52a8\u7684\u3002\u4fe1\u53f7\u91cf\u7684\u503c\u662f\u4e00\uff0c\u4ed6\u505a\u4e86\u4e00\u4e2ap\u64cd\u4f5c\uff0c\u4fe1\u53f7\u91cf\u7684\u503c\u53d8\u6210\u4e86\u96f6\uff0c\u523082\u79d2\u7684\u65f6\u5019\u3002\u4ed6\u8fd8\u662f\u6301\u6709\u9501\u7684\uff0c\u4fe1\u53f7\u91cf\u7684\u503c\u8fd8\u662f\u96f6\u3002\u63a5\u4e0b\u6765\uff0c\u4ed6\u505a\u4e86\u4e00\u4e2av\u64cd\u4f5c\uff0cv\u64cd\u4f5c\u628a\u4fe1\u53f7\u91cf\u7684\u503c\u52a01\uff0c\u540c\u65f6\u5524\u9192\u6b63\u5728\u7b49\u5f85\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5c31\u662fbbb\u8fdb\u7a0bbbb\u8fdb\u7a0b\u5728\u5524\u9192\u7684\u540c\u65f6\uff0c\u628a\u4fe1\u53f7\u91cf\u7684\u503c\u51cf\u4e00\u3002\u6ce8\u610f\u8fd9\u91cc\uff0c\u8fd9\u91cc\u7528\u7684\u662f\u540c\u65f6\uff0c\u800c\u4e0d\u662f\u4e00\u6b65\u5728\u67d0\u4e00\u6b65\u4e4b\u540e\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u8fd9\u51e0\u6b65\u64cd\u4f5c\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u8fdb\u7a0baaa\u5b83\u7684v\u64cd\u4f5c\u3001\u8fdb\u7a0bbbb\u7684\u5524\u9192\u3001\u4ee5\u53ca\u628a\u4fe1\u53f7\u7684\u503c\u51cf\u4e00\uff0c\u4ed6\u4eec\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u6240\u4ee5\u4e00\u901a\u539f\u5b50\u64cd\u4f5c\u4e4b\u540e\u3002\u4fe1\u53f7\u91cf\u7684\u503c\u53c8\u6210\u4e86\u96f6\uff0c\u867d\u7136ddd time=\u7d27\u8ddf\u7740v\u64cd\u4f5c\uff0c\u4f46\u662faaa\u7a97\u53e3\u7684ddd\u663e\u793aval\u8fd8\u662f\u4e3a0\uff0c\u8fdb\u7a0baaa\u572872\u79d2\u6301\u6709\u9501\uff0c82\u79d2\u91ca\u653e\u9501\uff0c\u8fdb\u7a0bb\u572882\u79d2\u6301\u6709\u6240\u300292\u79d2\u91ca\u653e\u9501\uff0cccc\u572892\u79d2\u6301\u6709\u9501\uff0c102\u79d2\u91ca\u653e\u9501\uff0c\u8fdb\u7a0bddd\u5728102\u79d2\u6301\u6709\u9501\uff0c112\u79d2\u91ca\u653e\u9501\uff0cddd\u91ca\u653e\u9501\u4e4b\u540e\u5df2\u7ecf\u6ca1\u6709\u6392\u961f\u4e2d\u7684\u8fdb\u7a0b\u4e86\u3002ddd\u6700\u540e\u4e00\u6761\u663e\u793a\u7684\u4fe1\u53f7\u91cf\u7684\u503c\u662f\u4e00\uff0c\u5b83\u8ddfaaa\u4e0d\u592a\u4e00\u6837\u3002\u8ddf\u5176\u4ed6\u51e0\u4e2a\u90fd\u4e0d\u4e00\u6837\uff0c</p> <p>\u7528\u4e8c\u503c\u4fe1\u53f7\u91cf\u7ed9\u5171\u4eab\u5185\u5b58\u52a0\u9501\u7684\u5b9e\u73b0\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\u3002\u7b49\u5f85\u5e76\u52a0\u9501\u8bcd\u8bed\u9501\u89e3\u9501\u5728\u8fd9\u4e2a\u8bfe\u7a0b\u7684\u9879\u76ee\u4e2d\uff0c\u4e5f\u53ea\u7528\u5230\u4e86\u4e8c\u6b21\u4fe1\u53f7\u91cf\u3002</p> <p>\u4f46\u662f\u5b66\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u7684\u4eba\u90fd\u77e5\u9053\u3002\u4fe1\u53f7\u91cf\u7684\u91cd\u70b9\u662f\u89e3\u51b3\u751f\u4ea7\u6d88\u8d39\u8005\u95ee\u9898\uff0c\u5438\u70df\u8005\u95ee\u9898\uff0c\u8fd8\u6709\u54f2\u5b66\u5bb6\u8fdb\u9910\u7684\u95ee\u9898\u3002\u975e\u5e38\u91cd\u8981\uff0c\u6240\u4ee5\u63a5\u4e0b\u6765\u662f\u4fe1\u53f7\u91cf\u7684\u66f4\u591a\u7684\u7ec6\u8282</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_4","title":"\u66f4\u591a\u7ec6\u8282","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/11%20%E5%AE%88%E6%8A%A4%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9E%E7%8E%B0-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_5","title":"\u4ece\u4fe1\u53f7\u91cf\u7684\u521d\u59cb\u5316\u5f00\u59cb","text":"<p>\u9700\u8981\u6ce8\u610f\uff1a</p> <p>\u4fe1\u53f7\u91cf\u7684\u521d\u59cb\u5316\u4e0d\u80fd\u76f4\u63a5\u7528semget(key,1,0666|IPC_CREAT),\u56e0\u4e3a\u4fe1\u53f7\u91cf\u521b\u5efa\u540e\uff0c\u521d\u59cb\u503c\u662f0  0\u8868\u793a\u6ca1\u6709\u53ef\u7528\u8d44\u6e90(\u53ea\u7528\u8fd9\u884c\u4ee3\u7801\uff0c\u7136\u540e\u518d\u8bbe\u7f6e\u4fe1\u53f7\u91cf\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u6837\u7684\u8bdd\u5982\u679c\u5176\u4ed6\u7684\u8fdb\u7a0b\u6b63\u5728\u52a0\u9501\u4e2d\uff0c\u8fd9\u6837\u4e0d\u5c31\u628a\u9501\u89e3\u5f00\u4e86)</p> <p>semget\u51fd\u6570\uff0c\u7528\u4e8e\u83b7\u53d6\u6216\u8005\u521b\u5efa\u4fe1\u53f7\u91cf</p> Text Only<pre><code>int semget(key_t key, int nsems, int semflg);  \u7b2c\u4e00\u4e2a\u662fkey\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4fe1\u53f7\u91cf\u7684\u4e2a\u6570\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/12%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%BF%83%E8%B7%B3%E6%9C%BA%E5%88%B6/","title":"12 \u8fdb\u7a0b\u7684\u5fc3\u8df3\u673a\u5236","text":"<p>book3.cpp</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/12%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%BF%83%E8%B7%B3%E6%9C%BA%E5%88%B6/#_1","title":"\u5b88\u62a4\u8fdb\u7a0b","text":"<ul> <li>\u670d\u52a1\u7a0b\u5e8f\u7531\u8c03\u5ea6\u7a0b\u5e8f\u542f\u52a8(procctl)</li> <li>\u5982\u679c\u670d\u52a1\u7a0b\u5e8f\u6b7b\u673a(\u6302\u8d77)\uff0c\u5b88\u62a4\u8fdb\u7a0b\u5c06\u7ec8\u6b62\u5b83</li> <li>\u670d\u52a1\u7a0b\u5e8f\u88ab\u7ec8\u6b62\u540e\uff0c\u8c03\u5ea6\u7a0b\u5e8f(procctl)\u5c06\u91cd\u65b0\u542f\u52a8\u5b83</li> </ul> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u7a33\u5b9a\u8fd0\u884c\uff0c\u5b88\u62a4\u8fdb\u7a0b\u662f\u5982\u4f55\u5224\u65ad\u670d\u52a1\u7a0b\u5e8f\u6b7b\u673a\u5462\uff1f\u6211\u4eec\u91c7\u7528\u5fc3\u8df3\u673a\u5236</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/12%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%BF%83%E8%B7%B3%E6%9C%BA%E5%88%B6/#_2","title":"\u5fc3\u8df3\u673a\u5236","text":"<ul> <li>\u670d\u52a1\u7a0b\u5e8f\u5728\u5171\u4eab\u5185\u5b58\u4e2d\u7ef4\u62a4\u81ea\u5df1\u7684\u5fc3\u8df3\u4fe1\u606f</li> <li>\u5f00\u53d1\u5b88\u62a4\u7a0b\u5e8f\uff0c\u68c0\u67e5\u5171\u4eab\u5185\u5b58\uff0c\u7ec8\u6b62\u5df2\u7ecf\u6b7b\u673a\u7684\u670d\u52a1\u7a0b\u5e8f</li> </ul> <p>\u5177\u4f53\u8bbe\u8ba1\uff1a\u521b\u5efa\u4e00\u5757\u5171\u4eab\u5185\u5b58\u7528\u4e8e\u5b58\u653e\u670d\u52a1\u7a0b\u5e8f\u5fc3\u8df3\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u6570\u7ec4\uff0c\u5fc3\u8df3\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u5305\u62ec\u56db\u4e2a\u6210\u5458\uff0c\u8fdb\u7a0bid\u3001\u8fdb\u7a0b\u7684\u540d\u79f0\u3001\u8d85\u65f6\u65f6\u95f4\u3001\u6700\u540e\u4e00\u6b21\u5fc3\u8df3\u7684\u65f6\u95f4\uff0c\u6bcf\u4e2a\u670d\u52a1\u7a0b\u5e8f\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u67e5\u627e\u5171\u4eab\u5185\u5b58\uff0c\u5728\u6570\u7ec4\u4e2d\u627e\u4e00\u4e2a\u7a7a\u767d\u7684\u4f4d\u7f6e\uff0c\u628a\u81ea\u5df1\u7684\u5fc3\u8df3\u4fe1\u606f\u5199\u8fdb\u53bb\uff0c\u5e76\u4e14\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u8fd8\u4f1a\u4e0d\u65ad\u7684\u628a\u81ea\u5df1\u7684\u5fc3\u8df3\u4fe1\u606f\u66f4\u65b0\u5230\u6570\u7ec4\u4e2d\u8868\u793a\u81ea\u5df1\u662f\u201c\u6d3b\u7740\u7684\u201d\uff0c\u5b88\u62a4\u8fdb\u7a0b\u6bcf\u9694\u82e5\u5e72\u79d2\u904d\u5386\u4e00\u6b21\u5171\u4eab\u5185\u5b58\uff0c\u68c0\u67e5\u6bcf\u4e2a\u670d\u52a1\u7a0b\u5e8f\u7684\u5fc3\u8df3\u4fe1\u606f\uff0c\u5982\u679c\u5f53\u524d\u65f6\u95f4\u51cf\u6700\u540e\u4e00\u6b21\u5fc3\u8df3\u7684\u65f6\u95f4\u5927\u4e8e\u8d85\u65f6\u65f6\u95f4\uff0c\u8868\u793a\u670d\u52a1\u7a0b\u5e8f\u6b7b\u6389\uff0c\u5c31\u53d1\u9001\u4fe1\u53f7\u7ec8\u6b62\u5b83\uff0c\u4e4b\u540e\u8c03\u5ea6\u7a0b\u5e8f\u5c06\u91cd\u65b0\u542f\u52a8</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/2%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/","title":"2 \u751f\u6210\u6d4b\u8bd5\u6570\u636e-\u642d\u5efa\u7a0b\u5e8f\u7684\u6846\u67b6","text":"<p>project/idc1/c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/2%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/#1","title":"1\uff09\u642d\u5efa\u7a0b\u5e8f\u6846\u67b6(\u8fd0\u884c\u7684\u53c2\u6570\u3001\u8bf4\u660e\u6587\u6863\u3001\u8fd0\u884c\u65e5\u5fd7)","text":"<p># mysql\u5934\u6587\u4ef6\u5b58\u653e\u8def\u5f84.        # \u5f00\u53d1\u6846\u67b6cpp\u6587\u4ef6\u540d\uff0c\u8fd9\u91cc\u76f4\u63a5\u5305\u542b\u8fdb\u6765\uff0c\u6ca1\u6709\u91c7\u7528\u94fe\u63a5\u5e93\uff0c\u662f\u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/2%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/#_1","title":"\u65e5\u5fd7\u6587\u4ef6\u64cd\u4f5c","text":"C++<pre><code>/*  project/idc1/c\n *  \u7a0b\u5e8f\u540d\uff1acrtsurfdata1.cpp  \u672c\u7a0b\u5e8f\u7528\u4e8e\u751f\u6210\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u89c2\u6d4b\u7684\u5206\u949f\u6570\u636e\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n\n#include \"_public.h\"\n\nCLogFile logfile;    // \u65e5\u5fd7\u7c7b\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=4) \n  {\n    // \u5982\u679c\u53c2\u6570\u975e\u6cd5\uff0c\u7ed9\u51fa\u5e2e\u52a9\u6587\u6863\u3002\n    printf(\"Using:./crtsurfdata1 inifile outpath logfile\\n\");\n    printf(\"Example:/project/idc1/bin/crtsurfdata1 /project/idc1/ini/stcode.ini /tmp/surfdata /log/idc/crtsurfdata1.log\\n\\n\");\n\n    printf(\"inifile \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"outpath \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u6570\u636e\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n    printf(\"logfile \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\\n\");\n\n    return -1;\n  }\n\n  // \u6253\u5f00\u7a0b\u5e8f\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[3],\"a+\",false)==false)\n  {\n    printf(\"logfile.Open(%s) failed.\\n\",argv[3]); return -1;\n  }\n\n  logfile.Write(\"crtsurfdata1 \u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n\n  // \u5728\u8fd9\u91cc\u63d2\u5165\u5904\u7406\u4e1a\u52a1\u7684\u4ee3\u7801\u3002\n\n  logfile.WriteEx(\"crtsurfdata1 \u8fd0\u884c\u7ed3\u675f\u3002\\n\");\n\n  return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/","title":"2\uff09\u628a\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u52a0\u8f7d\u5230\u7ad9\u70b9\u53c2\u6570\u7684\u5bb9\u5668\u4e2d","text":"<p>project/idc1/c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/#_1","title":"\u672c\u8282\u662f\u7528\u4e8e\u751f\u6210\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u89c2\u6d4b\u7684\u5206\u949f\u6570\u636e\u3002","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/#_2","title":"\u6587\u4ef6\u64cd\u4f5c\u7c7b","text":"<p>\u5bf9\u6587\u4ef6\u7684\u64cd\u4f5c\u8fdb\u884c\u4e86\u4e00\u4e9b\u5c01\u88c5,c\u8bed\u8a00\u7684\u6587\u4ef6\u64cd\u4f5c\u9700\u8981\u4e00\u4e2a\u6587\u4ef6\u6307\u9488\uff0c\u5b83\u7684\u672c\u8d28\u662f\u52a8\u6001\u5206\u914d\u51fa\u6765\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u7528\u5b8c\u4e4b\u540e\u9700\u8981\u91ca\u653e\uff0cFget\u4e0d\u9700\u8981\u521d\u59cb\u5316\uff0c\u5728Fget\u91cc\u9762\u4f1a\u521d\u59cb\u5316</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/#_3","title":"\u62c6\u5206\u5b57\u7b26\u4e32","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/#_4","title":"\u8fc7\u7a0b","text":"<p>\u8fd9\u4e2a\u51fd\u6570\u7684\u5b9e\u73b0</p> C++<pre><code>// \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002 \nbool LoadSTCode(const char *inifile)\n{\n  CFile File;\n\n  // \u6253\u5f00\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u3002\n  if (File.Open(inifile,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) failed.\\n\",inifile); return false;\n  }\n  char strBuffer[301];\n  CCmdStr CmdStr;\n  struct st_stcode stcode;\n\n  while (true)\n  {\n    // \u4ece\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\uff0c\u5982\u679c\u5df2\u8bfb\u53d6\u5b8c\uff0c\u8df3\u51fa\u5faa\u73af\u3002\n    if (File.Fgets(strBuffer,300,true)==false) break;\n\n    // \u628a\u8bfb\u53d6\u5230\u7684\u4e00\u884c\u62c6\u5206\u3002\n    CmdStr.SplitToCmd(strBuffer,\",\",true);\n\n    if (CmdStr.CmdCount()!=6) continue;     // \u6254\u6389\u65e0\u6548\u7684\u884c\u3002\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7684\u6bcf\u4e2a\u6570\u636e\u9879\u4fdd\u5b58\u5230\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u4e2d\u3002\n    memset(&amp;stcode,0,sizeof(struct st_stcode));\n    CmdStr.GetValue(0, stcode.provname,30); // \u7701\n    CmdStr.GetValue(1, stcode.obtid,10);    // \u7ad9\u53f7\n    CmdStr.GetValue(2, stcode.obtname,30);  // \u7ad9\u540d\n    CmdStr.GetValue(3,&amp;stcode.lat);         // \u7eac\u5ea6\n    CmdStr.GetValue(4,&amp;stcode.lon);         // \u7ecf\u5ea6\n    CmdStr.GetValue(5,&amp;stcode.height);      // \u6d77\u62d4\u9ad8\u5ea6\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u653e\u5165\u7ad9\u70b9\u53c2\u6570\u5bb9\u5668\u3002\n    vstcode.push_back(stcode);\n  }\n  /*\n  for (int ii=0;ii&lt;vstcode.size();ii++)\n    logfile.Write(\"provname=%s,obtid=%s,obtname=%s,lat=%.2f,lon=%.2f,height=%.2f\\n\",\\\n                   vstcode[ii].provname,vstcode[ii].obtid,vstcode[ii].obtname,vstcode[ii].lat,\\\n                   vstcode[ii].lon,vstcode[ii].height);\n  */\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/3%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E5%8A%A0%E8%BD%BD%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0/#_5","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1acrtsurfdata2.cpp  \u672c\u7a0b\u5e8f\u7528\u4e8e\u751f\u6210\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u89c2\u6d4b\u7684\u5206\u949f\u6570\u636e\u3002\n *  \u4f5c\u8005\uff1agmc\n*/\n\n#include \"_public.h\"\n\n// \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u3002\nstruct st_stcode\n{\n  char provname[31]; // \u7701\n  char obtid[11];    // \u7ad9\u53f7\n  char obtname[31];  // \u7ad9\u540d\n  double lat;        // \u7eac\u5ea6\n  double lon;        // \u7ecf\u5ea6\n  double height;     // \u6d77\u62d4\u9ad8\u5ea6\n};\n\n// \u5b58\u653e\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u7684\u5bb9\u5668\u3002\nvector&lt;struct st_stcode&gt; vstcode;\n\n// \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002\nbool LoadSTCode(const char *inifile);\n\nCLogFile logfile;    // \u65e5\u5fd7\u7c7b\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=4) \n  {\n    // \u5982\u679c\u53c2\u6570\u975e\u6cd5\uff0c\u7ed9\u51fa\u5e2e\u52a9\u6587\u6863\u3002\n    printf(\"Using:./crtsurfdata2 inifile outpath logfile\\n\");\n    printf(\"Example:/project/idc1/bin/crtsurfdata2 /project/idc1/ini/stcode.ini /tmp/surfdata /log/idc/crtsurfdata2.log\\n\\n\");\n\n    printf(\"inifile \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"outpath \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u6570\u636e\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n    printf(\"logfile \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\\n\");\n\n    return -1;\n  }\n\n  // \u6253\u5f00\u7a0b\u5e8f\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[3],\"a+\",false)==false)\n  {\n    printf(\"logfile.Open(%s) failed.\\n\",argv[3]); return -1;\n  }\n\n  logfile.Write(\"crtsurfdata2 \u5f00\u59cb\u8fd0\u884c\u3002\\n\");\n\n  // \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002 \n  if (LoadSTCode(argv[1])==false) return -1;\n\n\n  logfile.WriteEx(\"crtsurfdata2 \u8fd0\u884c\u7ed3\u675f\u3002\\n\");\n\n  return 0;\n}\n\n// \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002 \nbool LoadSTCode(const char *inifile)\n{\n  CFile File;\n\n  // \u6253\u5f00\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u3002\n  if (File.Open(inifile,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) failed.\\n\",inifile); return false;\n  }\n\n  char strBuffer[301];\n\n  CCmdStr CmdStr;\n\n  struct st_stcode stcode;\n\n  while (true)\n  {\n    // \u4ece\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\uff0c\u5982\u679c\u5df2\u8bfb\u53d6\u5b8c\uff0c\u8df3\u51fa\u5faa\u73af\u3002\n    if (File.Fgets(strBuffer,300,true)==false) break;\n\n    // \u628a\u8bfb\u53d6\u5230\u7684\u4e00\u884c\u62c6\u5206\u3002\n    CmdStr.SplitToCmd(strBuffer,\",\",true);\n\n    if (CmdStr.CmdCount()!=6) continue;     // \u6254\u6389\u65e0\u6548\u7684\u884c\u3002\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7684\u6bcf\u4e2a\u6570\u636e\u9879\u4fdd\u5b58\u5230\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u4e2d\u3002\n    memset(&amp;stcode,0,sizeof(struct st_stcode));\n    CmdStr.GetValue(0, stcode.provname,30); // \u7701\n    CmdStr.GetValue(1, stcode.obtid,10);    // \u7ad9\u53f7\n    CmdStr.GetValue(2, stcode.obtname,30);  // \u7ad9\u540d\n    CmdStr.GetValue(3,&amp;stcode.lat);         // \u7eac\u5ea6\n    CmdStr.GetValue(4,&amp;stcode.lon);         // \u7ecf\u5ea6\n    CmdStr.GetValue(5,&amp;stcode.height);      // \u6d77\u62d4\u9ad8\u5ea6\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u653e\u5165\u7ad9\u70b9\u53c2\u6570\u5bb9\u5668\u3002\n    vstcode.push_back(stcode);\n  }\n\n  /*\n  for (int ii=0;ii&lt;vstcode.size();ii++)\n    logfile.Write(\"provname=%s,obtid=%s,obtname=%s,lat=%.2f,lon=%.2f,height=%.2f\\n\",\\\n                   vstcode[ii].provname,vstcode[ii].obtid,vstcode[ii].obtname,vstcode[ii].lat,\\\n                   vstcode[ii].lon,vstcode[ii].height);\n  */\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/","title":"4 \u751f\u6210\u6d4b\u8bd5\u6570\u636e-\u6a21\u62df\u89c2\u6d4b\u6570\u636e","text":"<p>project/idc1/c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/#3","title":"3\uff09\u904d\u5386\u7ad9\u70b9\u53c2\u6570\u5bb9\u5668\uff0c\u751f\u6210\u6bcf\u4e2a\u7ad9\u70b9\u7684\u89c2\u6d4b\u6570\u636e\uff0c\u5b58\u653e\u5728\u7ad9\u70b9\u5bb9\u5668\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/#_1","title":"\u53d6\u64cd\u4f5c\u7cfb\u7edf\u7684\u65f6\u95f4","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/#strncpy","title":"strncpy\u51fd\u6570","text":"<p>\u62f7\u8d1dsrc\u5b57\u7b26\u4e32\u7684\u524dn\u4e2a\u5b57\u7b26\u81f3dest</p> <p>\u8bf4\u660e\uff1a1\u3001\u5f53src\u5b57\u7b26\u4e32\u957f\u5ea6\u5c0f\u4e8en\u65f6\uff0c\u5219\u62f7\u8d1d\u5b8c\u5b57\u7b26\u4e32\u540e\uff0c\u5269\u4f59\u90e8\u5206\u5c06\u7528\u7a7a\u5b57\u8282\u586b\u5145\uff0c\u76f4\u5230n\u4e2astrncpy\u4e0d\u4f1a\u5411dest\u8ffd\u52a0\u2019\\0\u2019\u3002             2\u3001src\u548cdest\u6240\u6307\u7684\u5185\u5b58\u533a\u57df\u4e0d\u80fd\u91cd\u53e0\uff0c\u4e14dest\u5fc5\u987b\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u653e\u7f6en\u4e2a\u5b57\u7b26</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/#_2","title":"\u8fc7\u7a0b","text":"<p>\u8fd9\u79cd\u51fd\u6570\u4ed6\u6839\u636e\u4e00\u4e2a\u5bb9\u5668\u518d\u52a0\u4e0a\u968f\u673a\u6570\u751f\u6210\u53e6\u4e00\u4e2a\u5bb9\u5668\uff0c\u8fd9\u79cd\u51fd\u6570\u7684\u8fd0\u884c\u4e0d\u4f1a\u5931\u8d25\u6240\u4ee5\u4e0d\u9700\u8981\u8fd4\u56de\u503c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/4%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E6%A8%A1%E6%8B%9F%E8%A7%82%E6%B5%8B%E6%95%B0%E6%8D%AE/#_3","title":"\u5b9e\u73b0\u4ee3\u7801","text":"C++<pre><code>// \u6a21\u62df\u751f\u6210\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\uff0c\u5b58\u653e\u5728vsurfdata\u5bb9\u5668\u4e2d\u3002\nvoid CrtSurfData()\n{\n  // \u64ad\u968f\u673a\u6570\u79cd\u5b50\u3002\n  srand(time(0));\n\n  // \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u5f53\u4f5c\u89c2\u6d4b\u65f6\u95f4\u3002\n  char strddatetime[21];\n  memset(strddatetime,0,sizeof(strddatetime));\n  LocalTime(strddatetime,\"yyyymmddhh24miss\");\n\n  struct st_surfdata stsurfdata;\n\n  // \u904d\u5386\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u7684vstcode\u5bb9\u5668\u3002\n  for (int ii=0;ii&lt;vstcode.size();ii++)\n  {\n    memset(&amp;stsurfdata,0,sizeof(struct st_surfdata));\n\n    // \u7528\u968f\u673a\u6570\u586b\u5145\u5206\u949f\u89c2\u6d4b\u6570\u636e\u7684\u7ed3\u6784\u4f53\u3002\n    strncpy(stsurfdata.obtid,vstcode[ii].obtid,10); // \u7ad9\u70b9\u4ee3\u7801\u3002\n    strncpy(stsurfdata.ddatetime,strddatetime,14);  // \u6570\u636e\u65f6\u95f4\uff1a\u683c\u5f0fyyyymmddhh24miss\n    stsurfdata.t=rand()%351;       // \u6c14\u6e29\uff1a\u5355\u4f4d\uff0c0.1\u6444\u6c0f\u5ea6\n    stsurfdata.p=rand()%265+10000; // \u6c14\u538b\uff1a0.1\u767e\u5e15\n    stsurfdata.u=rand()%100+1;     // \u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002\n    stsurfdata.wd=rand()%360;      // \u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002\n    stsurfdata.wf=rand()%150;      // \u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\n    stsurfdata.r=rand()%16;        // \u964d\u96e8\u91cf\uff1a0.1mm\n    stsurfdata.vis=rand()%5001+100000;  // \u80fd\u89c1\u5ea6\uff1a0.1\u7c73\n\n    // \u628a\u89c2\u6d4b\u6570\u636e\u7684\u7ed3\u6784\u4f53\u653e\u5165vsurfdata\u5bb9\u5668\u3002\n    vsurfdata.push_back(stsurfdata);\n  }\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/","title":"5 \u751f\u6210\u6d4b\u8bd5\u6570\u636e-\u751f\u6210csv\u6587\u4ef6","text":"<p>project/idc1/c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#4","title":"4\uff09\u628a\u7ad9\u70b9\u89c2\u6d4b\u6570\u636e\u5bb9\u5668\u4e2d\u7684\u8bb0\u5f55\u5199\u5165\u6587\u4ef6","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#strstr","title":"strstr\u51fd\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_1","title":"\u4e13\u4e3a\u91cd\u547d\u540d\u6253\u5f00\u6587\u4ef6","text":"<p>\u901a\u8fc7\u4e0b\u9762\u51fd\u6570\u89e3\u51b3\u5982\u4f55\u628a\u6570\u636e\u5199\u5165\u6587\u4ef6\uff0c\u521d\u5b66\u8005\u7684\u65b9\u6cd5\u662f\u7b2c\u4e00\u6b65\u521b\u4f5c\u6587\u4ef6\uff0c\u5f80\u6587\u4ef6\u5199\u5165\u6570\u636e\uff0c\u5173\u95ed\u6587\u4ef6\uff0c\u5982\u679c\u5728\u5199\u5165\u6570\u636e\u65f6\uff0c\u5176\u4ed6\u7684\u7a0b\u5e8f\u8bfb\u53d6\u4e86\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5c31\u4f1a\u8bfb\u5230\u4e0d\u5b8c\u6574\u7684\u5185\u5bb9\u7684\u95ee\u9898</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_2","title":"\u5411\u6587\u4ef6\u5199\u5165\u6570\u636e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_3","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_4","title":"\u5728\u4e3b\u51fd\u6570\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_5","title":"\u5b9e\u73b0\u4ee3\u7801","text":"C++<pre><code>// \u628a\u5bb9\u5668vsurfdata\u4e2d\u7684\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u5199\u5165\u6587\u4ef6\u3002\nbool CrtSurfFile(const char *outpath,const char *datafmt)\n{\n  CFile File;\n\n  // \u62fc\u63a5\u751f\u6210\u6570\u636e\u7684\u6587\u4ef6\u540d\uff0c\u4f8b\u5982\uff1a/tmp/idc/surfdata/SURF_ZH_20210629092200_2254.csv\n  char strFileName[301];\n  sprintf(strFileName,\"%s/SURF_ZH_%s_%d.%s\",outpath,strddatetime,getpid(),datafmt);\n\n  // \u6253\u5f00\u6587\u4ef6\u3002\n  if (File.OpenForRename(strFileName,\"w\")==false)\n  {\n    logfile.Write(\"File.OpenForRename(%s) failed.\\n\",strFileName); return false;\n  }\n\n  // \u5199\u5165\u7b2c\u4e00\u884c\u6807\u9898\u3002\n  if (strcmp(datafmt,\"csv\")==0) File.Fprintf(\"\u7ad9\u70b9\u4ee3\u7801,\u6570\u636e\u65f6\u95f4,\u6c14\u6e29,\u6c14\u538b,\u76f8\u5bf9\u6e7f\u5ea6,\u98ce\u5411,\u98ce\u901f,\u964d\u96e8\u91cf,\u80fd\u89c1\u5ea6\\n\");\n\n  // \u904d\u5386\u5b58\u653e\u89c2\u6d4b\u6570\u636e\u7684vsurfdata\u5bb9\u5668\u3002\n  for (int ii=0;ii&lt;vsurfdata.size();ii++)\n  {\n    // \u5199\u5165\u4e00\u6761\u8bb0\u5f55\u3002\n    if (strcmp(datafmt,\"csv\")==0)\n      File.Fprintf(\"%s,%s,%.1f,%.1f,%d,%d,%.1f,%.1f,%.1f\\n\",\\\n         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\\n         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);\n  }\n\n  // \u5173\u95ed\u6587\u4ef6\u3002\n  File.CloseAndRename();\n\n  logfile.Write(\"\u751f\u6210\u6570\u636e\u6587\u4ef6%s\u6210\u529f\uff0c\u6570\u636e\u65f6\u95f4%s\uff0c\u8bb0\u5f55\u6570%d\u3002\\n\",strFileName,strddatetime,vsurfdata.size());\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/5%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90csv%E6%96%87%E4%BB%B6/#_6","title":"\u77e5\u8bc6\u70b9","text":"<p>\u63d0\u524d\u521b\u5efa\u76ee\u5f55\u7684\u65b9\u6cd5\u5f88\u5bb9\u6613\u5931\u8bef</p> <p>\u5982\u4f55\u628a\u6570\u636e\u5199\u5165\u6587\u4ef6\uff0c\u521d\u5b66\u8005\u7684\u65b9\u6cd5\u662f\u7b2c\u4e00\u6b65\u521b\u4f5c\u6587\u4ef6\uff0c\u5f80\u6587\u4ef6\u5199\u5165\u6570\u636e\uff0c\u5173\u95ed\u6587\u4ef6\uff0c\u5982\u679c\u5728\u5199\u5165\u6570\u636e\u65f6\uff0c\u5176\u4ed6\u7684\u7a0b\u5e8f\u8bfb\u53d6\u4e86\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5c31\u4f1a\u8bfb\u5230\u4e0d\u5b8c\u6574\u7684\u5185\u5bb9</p> <p>\u6b63\u786e\u7684\u6587\u4ef6\u5199\u5165\u65b9\u6cd5 1\uff09\u521b\u5efa\u4e34\u65f6\u6587\u4ef6    2\uff09\u5f80\u4e34\u65f6\u6587\u4ef6\u4e2d\u5199\u5165\u6570\u636e     3\uff09\u5173\u95ed\u4e34\u65f6\u6587\u4ef6   4\uff09\u628a\u4e34\u65f6\u6587\u4ef6\u6539\u540d\u4e3a\u6b63\u5f0f\u7684\u6587\u4ef6</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/6%20%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-%E7%94%9F%E6%88%90xml%E5%92%8Cjson%E6%96%87%E4%BB%B6/","title":"6 \u751f\u6210\u6d4b\u8bd5\u6570\u636e-\u751f\u6210xml\u548cjson\u6587\u4ef6","text":"C++<pre><code>// \u628a\u5bb9\u5668vsurfdata\u4e2d\u7684\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u5199\u5165\u6587\u4ef6\u3002\nbool CrtSurfFile(const char *outpath,const char *datafmt)\n{\n  CFile File;\n\n  // \u62fc\u63a5\u751f\u6210\u6570\u636e\u7684\u6587\u4ef6\u540d\uff0c\u4f8b\u5982\uff1a/tmp/idc/surfdata/SURF_ZH_20210629092200_2254.csv\n  char strFileName[301];\n  sprintf(strFileName,\"%s/SURF_ZH_%s_%d.%s\",outpath,strddatetime,getpid(),datafmt);\n\n  // \u6253\u5f00\u6587\u4ef6\u3002\n  if (File.OpenForRename(strFileName,\"w\")==false)\n  {\n    logfile.Write(\"File.OpenForRename(%s) failed.\\n\",strFileName); return false;\n  }\n\n  if (strcmp(datafmt,\"csv\")==0) File.Fprintf(\"\u7ad9\u70b9\u4ee3\u7801,\u6570\u636e\u65f6\u95f4,\u6c14\u6e29,\u6c14\u538b,\u76f8\u5bf9\u6e7f\u5ea6,\u98ce\u5411,\u98ce\u901f,\u964d\u96e8\u91cf,\u80fd\u89c1\u5ea6\\n\");\n  if (strcmp(datafmt,\"xml\")==0) File.Fprintf(\"&lt;data&gt;\\n\");\n  if (strcmp(datafmt,\"json\")==0) File.Fprintf(\"{\\\"data\\\":[\\n\");\n\n  // \u904d\u5386\u5b58\u653e\u89c2\u6d4b\u6570\u636e\u7684vsurfdata\u5bb9\u5668\u3002\n  for (int ii=0;ii&lt;vsurfdata.size();ii++)\n  {\n    // \u5199\u5165\u4e00\u6761\u8bb0\u5f55\u3002\n    if (strcmp(datafmt,\"csv\")==0)\n      File.Fprintf(\"%s,%s,%.1f,%.1f,%d,%d,%.1f,%.1f,%.1f\\n\",\\\n         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\\n         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);\n\n    if (strcmp(datafmt,\"xml\")==0)\n      File.Fprintf(\"&lt;obtid&gt;%s&lt;/obtid&gt;&lt;ddatetime&gt;%s&lt;/ddatetime&gt;&lt;t&gt;%.1f&lt;/t&gt;&lt;p&gt;%.1f&lt;/p&gt;\"\\\n                   \"&lt;u&gt;%d&lt;/u&gt;&lt;wd&gt;%d&lt;/wd&gt;&lt;wf&gt;%.1f&lt;/wf&gt;&lt;r&gt;%.1f&lt;/r&gt;&lt;vis&gt;%.1f&lt;/vis&gt;&lt;endl/&gt;\\n\",\\\n         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\\n         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);\n\n    if (strcmp(datafmt,\"json\")==0)\n      File.Fprintf(\"{\\\"obtid\\\":\\\"%s\\\",\\\"ddatetime\\\":\\\"%s\\\",\\\"t\\\":\\\"%.1f\\\",\\\"p\\\":\\\"%.1f\\\",\"\\\n                   \"\\\"u\\\":\\\"%d\\\",\\\"wd\\\":\\\"%d\\\",\\\"wf\\\":\\\"%.1f\\\",\\\"r\\\":\\\"%.1f\\\",\\\"vis\\\":\\\"%.1f\\\"}\",\\\n         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\\n         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);\n    if (ii&lt;vsurfdata.size()-1) File.Fprintf(\",\\n\");\n    else   File.Fprintf(\"\\n\");\n    // \u4ee5\u4e0a\u51e0\u884c\u4ee3\u7801\u6709bug\uff0c\u5e94\u8be5\u4fee\u6b63\u5982\u4e0b\uff1a\n    /*\n    if (strcmp(datafmt,\"json\")==0)\n    {\n      File.Fprintf(\"{\\\"obtid\\\":\\\"%s\\\",\\\"ddatetime\\\":\\\"%s\\\",\\\"t\\\":\\\"%.1f\\\",\\\"p\\\":\\\"%.1f\\\",\"\\\n                   \"\\\"u\\\":\\\"%d\\\",\\\"wd\\\":\\\"%d\\\",\\\"wf\\\":\\\"%.1f\\\",\\\"r\\\":\\\"%.1f\\\",\\\"vis\\\":\\\"%.1f\\\"}\",\\\n         vsurfdata[ii].obtid,vsurfdata[ii].ddatetime,vsurfdata[ii].t/10.0,vsurfdata[ii].p/10.0,\\\n         vsurfdata[ii].u,vsurfdata[ii].wd,vsurfdata[ii].wf/10.0,vsurfdata[ii].r/10.0,vsurfdata[ii].vis/10.0);\n      if (ii&lt;vsurfdata.size()-1) File.Fprintf(\",\\n\");\n      else   File.Fprintf(\"\\n\");\n    }\n    */\n  }\n\n  if (strcmp(datafmt,\"xml\")==0) File.Fprintf(\"&lt;/data&gt;\\n\");\n  if (strcmp(datafmt,\"json\")==0) File.Fprintf(\"]}\\n\");\n\n  // \u5173\u95ed\u6587\u4ef6\u3002\n  File.CloseAndRename();\n\n  logfile.Write(\"\u751f\u6210\u6570\u636e\u6587\u4ef6%s\u6210\u529f\uff0c\u6570\u636e\u65f6\u95f4%s\uff0c\u8bb0\u5f55\u6570%d\u3002\\n\",strFileName,strddatetime,vsurfdata.size());\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/7%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/","title":"1)Linux\u4fe1\u53f7","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/7%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_1","title":"\u4fe1\u53f7\u7684\u4f5c\u7528","text":"<p>\u670d\u52a1\u7a0b\u5e8f\u8fd0\u884c\u5728\u540e\u53f0\uff0c\u5982\u679c\u60f3\u8ba9\u4e2d\u6b62\u5b83\uff0c\u6740\u6389\u4e0d\u662f\u4e2a\u597d\u529e\u6cd5\uff0c\u56e0\u4e3a\u7a0b\u5e8f\u88ab\u6740\u7684\u65f6\u5019\uff0c\u7a0b\u5e8f\u7a81\u7136\u6b7b\u4ea1\uff0c\u6ca1\u6709\u5b89\u6392\u5584\u540e\u5de5\u4f5c\u3002</p> <p>\u5982\u679c\u5411\u670d\u52a1\u7a0b\u5e8f\u53d1\u9001\u4e00\u4e2a\u4fe1\u53f7\uff0c\u670d\u52a1\u7a0b\u5e8f\u6536\u5230\u8fd9\u4e2a\u4fe1\u53f7\u540e\uff0c\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff0c\u5728\u51fd\u6570\u4e2d\u7f16\u5199\u5584\u540e\u7684\u4ee3\u7801\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u6709\u8ba1\u5212\u7684\u9000\u51fa\u3002</p> <p>\u5411\u670d\u52a1\u7a0b\u5e8f\u53d1\u90010\u7684\u4fe1\u53f7\uff0c\u53ef\u4ee5\u68c0\u6d4b\u7a0b\u5e8f\u662f\u5426\u5b58\u6d3b\u3002</p> <p>\u5728\u7a0b\u5e8f\u4e2d\u589e\u52a0\u6355\u83b7\u4fe1\u53f7\u7684\u4ee3\u7801\uff0c\u5f53\u6709\u4fe1\u53f7\u5230\u8fbe\u7684\u65f6\u5019\uff0c\u4e0d\u8981\u6267\u884c\u7cfb\u7edf\u7f3a\u635f\u7684\u52a8\u4f5c\uff0c\u5728book\u7a0b\u5e8f\u4e2d\u589e\u52a0\u6355\u83b7\u4fe1\u53f7\u7684\u4ee3\u7801\uff0clinux\u4fe1\u53f7\u670964\u79cd</p> <p>9\u8fd9\u4e2a\u4fe1\u53f7\u4e0d\u80fd\u88ab\u5ffd\u7565\u4e5f\u4e0d\u80fd\u88ab\u6355\u83b7</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/7%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#killkillall","title":"kill\u548ckillall\u7684\u533a\u522b","text":"<p>ps -ef |grep book</p> <p>\u4e0ekill\u547d\u4ee4\u4e0d\u540c\u7684\u662f\uff0ckillall \u547d\u4ee4\u53ef\u4ee5\u6839\u636e\u8fdb\u7a0b\u540d\u79f0\u6765\u6740\u6b7b\u8fdb\u7a0b\u3002kill \u547d\u4ee4\u5219\u5148\u9700\u8981\u627e\u5230\u8fdb\u7a0b\u7684id.  2\u30019\u300114\u300115\u300110\u300112\u300117\u8fd9\u51e0\u4e2a\u91cd\u8981\u4e00\u4e9b</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/7%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_2","title":"\u53d1\u9001\u4fe1\u53f7","text":"<p>Linux\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u4e86kill\u548ckillall\u547d\u4ee4\u5411\u7a0b\u5e8f\u53d1\u9001\u4fe1\u53f7\uff0cC\u8bed\u8a00\u4e5f\u63d0\u4f9b\u4e86kill\u5e93\u51fd\u6570\uff0c\u7528\u4e8e\u5728\u7a0b\u5e8f\u4e2d\u5411\u5176\u5b83\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\u53d1\u9001\u4fe1\u53f7\u3002</p> <p>\u51fd\u6570\u58f0\u660e\uff1a</p> <p>int kill(pid_t pid, int sig);</p> <p>kill\u51fd\u6570\u5c06\u53c2\u6570sig\u6307\u5b9a\u7684\u4fe1\u53f7\u7ed9\u53c2\u6570pid \u6307\u5b9a\u7684\u8fdb\u7a0b\u3002</p> <p>\u53c2\u6570pid \u6709\u51e0\u79cd\u60c5\u51b5\uff1a</p> <p>1\uff09pid&gt;0 \u5c06\u4fe1\u53f7\u4f20\u7ed9\u8fdb\u7a0b\u53f7\u4e3apid \u7684\u8fdb\u7a0b\u3002</p> <p>2\uff09pid=0 \u5c06\u4fe1\u53f7\u4f20\u7ed9\u548c\u76ee\u524d\u8fdb\u7a0b\u76f8\u540c\u8fdb\u7a0b\u7ec4\u7684\u6240\u6709\u8fdb\u7a0b\uff0c\u5e38\u7528\u4e8e\u7236\u8fdb\u7a0b\u7ed9\u5b50\u8fdb\u7a0b\u53d1\u9001\u4fe1\u53f7\uff0c\u6ce8\u610f\uff0c\u53d1\u9001\u4fe1\u53f7\u8005\u8fdb\u7a0b\u4e5f\u4f1a\u6536\u5230\u81ea\u5df1\u53d1\u51fa\u7684\u4fe1\u53f7\u3002</p> <p>3\uff09pid=-1 \u5c06\u4fe1\u53f7\u5e7f\u64ad\u4f20\u9001\u7ed9\u7cfb\u7edf\u5185\u6240\u6709\u7684\u8fdb\u7a0b\uff0c\u4f8b\u5982\u7cfb\u7edf\u5173\u673a\u65f6\uff0c\u4f1a\u5411\u6240\u6709\u7684\u767b\u5f55\u7a97\u53e3\u5e7f\u64ad\u5173\u673a\u4fe1\u606f\u3002</p> <p>sig\uff1a\u51c6\u5907\u53d1\u9001\u7684\u4fe1\u53f7\u4ee3\u7801\uff0c\u5047\u5982\u5176\u503c\u4e3a\u96f6\u5219\u6ca1\u6709\u4efb\u4f55\u4fe1\u53f7\u9001\u51fa\uff0c\u4f46\u662f\u7cfb\u7edf\u4f1a\u6267\u884c\u9519\u8bef\u68c0\u67e5\uff0c\u901a\u5e38\u4f1a\u5229\u7528sig\u503c\u4e3a\u96f6\u6765\u68c0\u9a8c\u67d0\u4e2a\u8fdb\u7a0b\u662f\u5426\u4ecd\u5728\u8fd0\u884c\u3002</p> <p>\u8fd4\u56de\u503c\u8bf4\u660e\uff1a \u6210\u529f\u6267\u884c\u65f6\uff0c\u8fd4\u56de0\uff1b\u5931\u8d25\u8fd4\u56de-1\uff0cerrno\u88ab\u8bbe\u4e3a\u4ee5\u4e0b\u7684\u67d0\u4e2a\u503c\u3002</p> <p>EINVAL\uff1a\u6307\u5b9a\u7684\u4fe1\u53f7\u7801\u65e0\u6548\uff08\u53c2\u6570 sig \u4e0d\u5408\u6cd5\uff09\u3002</p> <p>EPERM\uff1a\u6743\u9650\u4e0d\u591f\u65e0\u6cd5\u4f20\u9001\u4fe1\u53f7\u7ed9\u6307\u5b9a\u8fdb\u7a0b\u3002</p> <p>ESRCH\uff1a\u53c2\u6570 pid \u6240\u6307\u5b9a\u7684\u8fdb\u7a0b\u6216\u8fdb\u7a0b\u7ec4\u4e0d\u5b58\u5728\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/7%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E4%BF%A1%E5%8F%B7%E9%87%8F/#_3","title":"\u5b9e\u73b0\u4ee3\u7801","text":"<p>\u7528\u4fe1\u53f7\u901a\u77e5\u670d\u52a1\u7a0b\u5e8f\u9000\u51fa\u7684\u4ee3\u7801</p> C++<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;signal.h&gt;\n\nvoid EXIT(int sig)\n{\n printf(\"\u63a5\u6536\u5230\u4e86%d\u4fe1\u53f7,\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\\n\",sig);\n //\u5728\u8fd9\u91cc\u7f16\u5199\u5584\u540e\u7684\u4ee3\u7801\n exit(0);\n}\n\nint main()\n{\n//\u5ffd\u7565\u5168\u90e8\u7684\u4fe1\u53f7\uff0c\u4e0d\u5e0c\u671b\u7a0b\u5e8f\u88ab\u6253\u6270\n for(int ii=1;ii&lt;=64;ii++) signal(ii,SIG_IGN);\n//\u8bbe\u7f6e2 ctrl+c \u548c kill\u6216killall\u7684\u5904\u7406\u51fd\u6570\nsignal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n while(1)\n {\n   printf(\"\u6267\u884c\u4e86\u4e00\u6b21\u4efb\u52a1 \\n\");\n\n   sleep(1);\n }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/","title":"2\uff09Linux\u591a\u8fdb\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#linux012","title":"Linux\u76840\u30011\u30012\u53f7\u8fdb\u7a0b","text":"<ul> <li>idle\u8fdb\u7a0b\uff1a\u7cfb\u7edf\u521b\u5efa\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u52a0\u8f7d\u7cfb\u7edf.      (0)</li> <li>systemd\u8fdb\u7a0b\uff1a\u7cfb\u7edf\u521d\u59cb\u5316\uff0c\u662f\u6240\u6709\u5176\u4ed6\u7528\u6237\u8fdb\u7a0b\u7684\u7956\u5148. init  (1)</li> <li>kthreadd\u8fdb\u7a0b\uff1a\u8d1f\u8d23\u6240\u6709\u5185\u6838\u7ebf\u7a0b\u7684\u8c03\u5ea6\u548c\u7ba1\u7406.    (2)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_1","title":"\u8fdb\u7a0b\u6807\u8bc6","text":"<ul> <li>\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\u8868\u793a\u7684\u552f\u4e00\u8fdb\u7a0bID</li> <li>\u67e5\u770b\u8fdb\u7a0b\uff1aps -ef|grep \u8fdb\u7a0b\u540d</li> </ul> <p>\u4e0b\u9762\u8fd9\u51e0\u4e2a\u5206\u522b\u4ee3\u8868</p> <p>\u7b2c\u4e00\u5217\u662f\u542f\u52a8\u64cd\u4f5c\u7cfb\u7edf\u7684\u7528\u6237\u540d\uff0c\u7b2c\u4e8c\u5217\u662f\u8fdb\u7a0b\u7684\u7f16\u53f7\u3002\u7b2c\u4e09\u5217\u662f\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\u7f16\u53f7\uff0c\u7b2c\u56db\u5217\u662fcpu\u7684\u5360\u7528\u7387\uff0c\u7b2c\u4e94\u5217\u662f\u8fdb\u7a0b\u7684\u5f00\u59cb\u65f6\u95f4\uff0c\u7b2c\u516d\u5217\u662f\u542f\u52a8\u8fdb\u7a0b\u7684\u7ec8\u7aef\u8bbe\u5907 \u7b2c\u4e03\u5217\u662f\u8fdb\u7a0b\u8fd0\u884c\u7684\u603b\u65f6\u95f4 \u6700\u540e\u4e00\u5217\u662f\u542f\u52a8\u8fd9\u4e2a\u8fdb\u7a0b\u7684\u65f6\u5019\u6267\u884c\u7684\u547d\u4ee4\uff0c\u5305\u62ec\u53c2\u6570</p> <p></p> <p>\u6700\u540e\u8fd8\u662f\u5230\u4e861\u8fd9\u4e2a\u8fdb\u7a0b</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_2","title":"\u5982\u4f55\u5728\u7a0b\u5e8f\u4e2d\u521b\u5efa\u8fdb\u7a0b\uff1f","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_3","title":"\u8fdb\u7a0b\u6807\u8bc6","text":"<ul> <li>getpid(void),\u83b7\u53d6\u8fdb\u7a0bID\u3001</li> <li>getppid(void),\u83b7\u53d6\u7236\u8fdb\u7a0bID</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#fork","title":"fork\u8fdb\u7a0b","text":"<p>\u6ce8\u610f\uff1a\u26a0\ufe0f\u7b2c3\u30014\u7279\u522b\u91cd\u8981\uff01\uff01\uff01</p> <ol> <li>\u4e00\u4e2a\u73b0\u6709\u7684\u8fdb\u7a0b\u8c03\u7528\u51fd\u6570fork\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b</li> <li>\u5b50\u8fdb\u7a0b\u548c\u7236\u8fdb\u7a0b\u7ee7\u7eed\u6267\u884cfork\u51fd\u6570\u540e\u7684\u4ee3\u7801</li> <li>fork\u51fd\u6570\u8c03\u7528\u4e00\u6b21\uff0c\u8fd4\u56de\u4e24\u6b21\uff0cfork\u662f\u5206\u53c9\u7684\u610f\u601d\uff0c\u5728\u8c03\u7528fork\u4e4b\u524d\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u521a\u8fdb\u5165fork\u7684\u65f6\u5019\u4e5f\u53ea\u6709\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u7136\u540e\u5728fork\u51fd\u6570\u4e2d\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684\u5b50\u8fdb\u7a0b\uff0c\u5728fork\u51fd\u6570\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u5206\u53c9\u6210\u4e86\u4e24\u4e2a\u8fdb\u7a0b\uff0c\u63a5\u4e0b\u6765\u5b50\u8fdb\u7a0b\u548c\u7236\u8fdb\u7a0b\u90fd\u8981\u4ecefork\u51fd\u6570\u4e2d\u8fd4\u56de\uff0c\u6240\u4ee5fork\u51fd\u6570\u8fd4\u56de\u4e86\u4e24\u6b21\uff0cfork\u540e\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u90fd\u7ee7\u7eed\u6267\u884cfork\u51fd\u6570\u540e\u9762\u7684\u4ee3\u7801\uff0c\u867d\u7136\u4ed6\u4eec\u7684\u4ee3\u7801\u662f\u76f8\u540c\u7684\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u5229\u7528fork\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8ba9\u5b50\u8fdb\u7a0b\u548c\u7236\u8fdb\u7a0b\u8fdb\u5165\u4e0d\u540c\u7684\u6d41\u7a0b\uff0c\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1</li> <li>\u5b50\u8fdb\u7a0b\u8fd4\u56de0\uff0c\u7236\u8fdb\u7a0b\u8fd4\u56de\u5b50\u8fdb\u7a0b\u7684\u8fdb\u7a0bID</li> <li>\u5b50\u8fdb\u7a0b\u662f\u7236\u8fdb\u7a0b\u7684\u526f\u672c\uff0c\u5b50\u8fdb\u7a0b\u83b7\u5f97\u4e86\u7236\u8fdb\u7a0b\u7684\u6570\u636e\u7a7a\u95f4\u3001\u6808\u548c\u5806\u7684\u526f\u672c\uff0c\u4e0d\u662f\u5171\u4eab</li> <li>\u7236\u8fdb\u7a0b\u4e2d\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e5f\u88ab\u590d\u5236\u5230\u4e86\u5b50\u8fdb\u7a0b\u4e2d</li> </ol>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#12","title":"\u9a8c\u8bc1\u7b2c1.2\u4e2a","text":"C++<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n\n int main()\n{\n printf(\"aaa=%d\\n\",getpid());\n\n sleep(10);\n\n printf(\"bbb=%d\\n\",getpid());\n\n//\u901a\u8fc7\u8fd9\u4e2a\u521b\u5efa\u5b50\u8fdb\u7a0b\n fork();\n\n//\u6253\u5370\u51fa\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\n printf(\"ccc=%d\\n\",getpid());\n sleep(30);\n printf(\"ddd=%d\\n\",getpid());\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#3","title":"\u9a8c\u8bc1\u7b2c3\u4e2a","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#fork_1","title":"\u975e\u5e38\u91cd\u8981\uff01\u5229\u7528fork\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8ba9\u5b50\u8fdb\u7a0b\u548c\u7236\u8fdb\u7a0b\u8fdb\u5165\u4e0d\u540c\u7684\u6d41\u7a0b\uff0c\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#5","title":"\u9a8c\u8bc1\u7b2c5\u4e2a","text":"<p>\u5728fork\u51fd\u6570\u4e4b\u524d\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u5728\u5b50\u8fdb\u7a0b\u4e2d\u4fee\u6539\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u770b\u770b\u5728\u7236\u8fdb\u7a0b\u4e2d\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u4f1a\u4e0d\u4f1a\u6539\u53d8\uff0c\u53d1\u73b0\u4e0d\u6539\u53d8\uff0c\u7b2c\u4e94\u4e2a\u5f97\u5230\u9a8c\u8bc1</p> C++<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n\nint main()\n{\n int ii=1;\n int pid= fork();\n\n if(pid==0)\n {\n  printf(\"\u8fd9\u662f\u5b50\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u5b50\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  printf(\"aaaa ii=%d\\n\",ii++); sleep(1);\n  printf(\"aaaa ii=%d\\n\",ii++); sleep(1);\n  printf(\"aaaa ii=%d\\n\",ii++); sleep(1);\n  printf(\"aaaa ii=%d\\n\",ii++); sleep(1);\n }\n\n if(pid&gt;0)\n {\n  printf(\"\u8fd9\u662f\u7236\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u7236\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  printf(\"bbbb ii=%d\\n\",ii); sleep(1);\n  printf(\"bbbb ii=%d\\n\",ii); sleep(1);\n  printf(\"bbbb ii=%d\\n\",ii); sleep(1);\n  printf(\"bbbb ii=%d\\n\",ii); sleep(1);\n  printf(\"bbbb ii=%d\\n\",ii); sleep(1);\n }\n</code></pre> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#6","title":"\u9a8c\u8bc1\u7b2c6\u4e2a","text":"<p>\u5728fork\u4e4b\u524d\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u5411\u6587\u4ef6\u91cc\u5199\u5165\u4e00\u6761\u5185\u5bb9\uff0c\u5728\u5b50\u8fdb\u7a0b\u91cc\u5199\u5165\u4e00\u6761\u5185\u5bb9\uff0c\u5728\u7236\u8fdb\u7a0b\u91cc\u4e5f\u5199\u5165\u4e00\u6761\u5185\u5bb9\uff0c\u6700\u540e\u5173\u95ed\u6587\u4ef6\uff0c\u6253\u5f00\u6587\u4ef6\u53d1\u73b0\u90fd\u6709\uff0c\u8bf4\u660e\u5728\u7236\u8fdb\u7a0b\u4e2d\u6253\u5f00\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u88ab\u590d\u5236\u5230\u4e86\u5b50\u8fdb\u7a0b\u4e2d\uff0c\u5e94\u8be5\u662f\u53ea\u6709\u4e09\u884c\uff0c\u8fd9\u91cc\u6709\u56db\u884c\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u6587\u4ef6\u7684\u7f13\u51b2\u533a</p> <p>\u5206\u6790\uff1a\u5728fork\u4e4b\u524d\u6253\u5f00\u6587\u4ef6\uff0c\u5f80\u6587\u4ef6\u91cc\u5199\u5165 fprintf(fp,\"\u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\uff0c\u8fd9\u4e00\u884c\u4ee3\u7801\u5e76\u6ca1\u6709\u771f\u7684\u628a\u5185\u5bb9\u5199\u5230\u6587\u4ef6\u91cc\u53bb\uff0c\u56e0\u4e3a\u5199\u5165\u7684\u5185\u5bb9\u592a\u5c11\u4e86\uff0c\u6709\u6587\u4ef6\u7f13\u51b2\u533a\uff0c\u7f13\u51b2\u533a\u5c31\u662f\u5185\u5b58\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728fork\u4e4b\u524d\u8fd9\u4e9b\u5185\u5bb9\u8fd8\u5728\u5185\u5b58\u91cc\uff0c\u5e76\u6ca1\u6709\u5199\u5230\u5185\u5b58\u91cc\u53bb\uff0c\u63a5\u4e0b\u6765fork\u7684\u65f6\u5019\uff0c\u7236\u8fdb\u7a0b\u7684\u6570\u636e\u7a7a\u95f4\u88ab\u590d\u5236\u4e00\u4efd\uff0c\u7ed9\u4e86\u5b50\u8fdb\u7a0b\uff0c\u6570\u636e\u7a7a\u95f4\u5305\u62ec\u4e86\u6587\u4ef6\u7684\u7f13\u51b2\u533a\uff0c\u6240\u4ee5fork\u4e4b\u540e\u5728\u7236\u8fdb\u7a0b\u7684\u6570\u636e\u7a7a\u95f4\u91cc\u9762\u7684\u6587\u4ef6\u7f13\u51b2\u533a\u6709 fprintf(fp,\"\u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\u8fd9\u4e2a\u5185\u5bb9\uff0c\u800c\u5b50\u8fdb\u7a0b\u7684\u6587\u4ef6\u7f13\u51b2\u533a\u4e5f\u6709\u8fd9\u4e2a\u5185\u5bb9\uff0cfork\u4e4b\u540e\u5b50\u8fdb\u7a0b\u7684 fprintf(fp,\"aaa \u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\uff0c\u548c\u7236\u8fdb\u7a0b\u7684  fprintf(fp,\"bbb \u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\u4ed6\u4eec\u5b9e\u9645\u4e0a\u628a\u5185\u5bb9\u653e\u5728\u5404\u81ea\u7684\u7f13\u51b2\u533a\u91cc\u9762\uff0c\u6700\u540e\u5173\u95ed\u6587\u4ef6\u7684\u65f6\u5019\u628a\u5404\u81ea\u7684\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u5199\u5165\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u8981\u6210\u4e3a\u4f18\u79c0\u5c31\u6709\u4e86\u4e24\u884c\uff0c</p> <p>\u4ed6\u4eec\u6587\u5b57\u7684\u5199\u4f5c\u987a\u5e8f\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u56e0\u4e3afork\u4e4b\u540e\uff0c\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u7684\u6267\u884c\u987a\u5e8f\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u53d6\u51b3\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7684\u7b97\u6cd5</p> <p>\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u5b9e\u9645\u4e0a\u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\uff0c\u5982\u679c\u5728\u5b50\u8fdb\u7a0b\u4e2d\u5173\u95ed\u4e86\u6587\u4ef6\u4e0d\u4f1a\u5f71\u54cd\u7236\u8fdb\u7a0b\uff0c\u5982\u679c\u5728\u7236\u8fdb\u7a0b\u4e2d\u5173\u95ed\u4e86\u6587\u4ef6\u4e0d\u4f1a\u5f71\u54cd\u5b50\u8fdb\u7a0b</p> <p></p> C++<pre><code> int main()\n{\n FILE *fp=fopen(\"/tmp/tmp.txt\",\"w+\");\n fprintf(fp,\"\u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\n\n //\u5728fork\u4e4b\u524d\u628a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u5199\u4f5c\u6587\u4ef6\n //fflush(fp);  \u628a\u8fd9\u4e2a\u52a0\u4e0a\u5c31\u53ea\u6709\u4e00\u4e2a\u4e86\n\n\n int ii=1;\n int pid= fork();\n\n if(pid==0)\n {\n  printf(\"\u8fd9\u662f\u5b50\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u5b50\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  fprintf(fp,\"aaa \u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\n }\n\n if(pid&gt;0)\n {\n  printf(\"\u8fd9\u662f\u7236\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u7236\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  fprintf(fp,\"bbb \u6211\u8981\u6210\u4e3a\u4f18\u79c0\u3002\\n\");\n }\n\n fclose(fp);\n }\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_4","title":"\u50f5\u5c38\u8fdb\u7a0b\u7684\u95ee\u9898","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#sigchld","title":"\u5982\u679c\u5b50\u8fdb\u7a0b\u5148\u9000\u51fa\uff0c\u5185\u6838\u5411\u7236\u8fdb\u7a0b\u53d1\u9001SIGCHLD\u4fe1\u53f7\uff0c\u5982\u679c\u7236\u8fdb\u7a0b\u4e0d\u5904\u7406\u8fd9\u4e2a\u4fe1\u53f7\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b","text":"C++<pre><code>int main()\n{\n// signal(SIGCHLD,SIG_IGN);\n\n int pid= fork();\n\n if(pid==0)\n {\n  printf(\"\u8fd9\u662f\u5b50\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u5b50\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  sleep(10);\n}\n\n if(pid&gt;0)\n {\n  printf(\"\u8fd9\u662f\u7236\u8fdb\u7a0b%d,\u5c06\u6267\u884c\u7236\u8fdb\u7a0b\u7684\u4efb\u52a1\u3002\\n\",getpid());\n  sleep(20);\n}\n}\n</code></pre> <p>\u4e0a\u9762\u90a3\u4e2a\u50f5\u5c38\u8fdb\u7a0b\u8fc7\u4e00\u4f1a\u624d\u6d88\u5931</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_5","title":"\u26a0\ufe0f\u50f5\u5c38\u8fdb\u7a0b\u7684\u5371\u5bb3\uff1a","text":"<p>\u5982\u679c\u5b50\u8fdb\u7a0b\u5728\u7236\u8fdb\u7a0b\u4e4b\u524d\u7ec8\u6b62\uff0c\u5185\u6838\u4e3a\u6bcf\u4e2a\u5b50\u8fdb\u7a0b\u4fdd\u7559\u4e86\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u5305\u62ec\u8fdb\u7a0b\u7f16\u53f7\uff0c\u7ec8\u6b62\u72b6\u6001\u548c\u4f7f\u7528cpu\u65f6\u95f4\u7b49\uff0c\u7236\u8fdb\u7a0b\u5982\u679c\u5904\u7406\u5b50\u8fdb\u7a0b\u9000\u51fa\u7684\u4fe1\u606f\uff0c\u5185\u6838\u5c31\u4f1a\u91ca\u653e\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784</p> <p>\u5982\u679c\u7236\u8fdb\u7a0b\u6ca1\u6709\u5904\u7406\u5b50\u8fdb\u7a0b\u9000\u51fa\u7684\u4fe1\u606f\uff0c\u5185\u6838\u5c31\u4e0d\u4f1a\u91ca\u653e\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u5b50\u8fdb\u7a0b\u7f16\u53f7\u5c31\u4f1a\u4e00\u76f4\u88ab\u5360\u7528\uff0c\u4f46\u662f\u7cfb\u7edf\u53ef\u53ef\u7528\u7684\u8fdb\u7a0b\u53f7\u662f\u6709\u9650\u7684\uff0c\u5982\u679c\u5927\u91cf\u7684\u4ea7\u751f\u50f5\u5c38\u8fdb\u7a0b\uff0c\u5c06\u56e0\u4e3a\u6ca1\u6709\u53ef\u7528\u7684\u8fdb\u7a0b\u53f7\u800c\u5bfc\u81f4\u7cfb\u7edf\u4e0d\u80fd\u4ea7\u751f\u65b0\u7684\u8fdb\u7a0b\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_6","title":"\u89e3\u51b3\u50f5\u5c38\u8fdb\u7a0b\u7684\u4e09\u79cd\u65b9\u6cd5\uff1a","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/8%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6-Linux%E5%A4%9A%E8%BF%9B%E7%A8%8B/#_7","title":"\u5b64\u513f\u8fdb\u7a0b","text":"<p>\u5982\u679c\u7236\u8fdb\u7a0b\u5148\u9000\u51fa\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u6210\u4e3a\u5b64\u513f\u8fdb\u7a0b,\u5c06\u88ab1\u53f7\u8fdb\u7a0b\u6536\u517b\uff0c\u75311\u53f7\u8fdb\u7a0b\u5bf9\u4ed6\u4eec\u5b8c\u6210\u72b6\u6001\u6536\u96c6\u5de5\u4f5c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/2%E3%80%81%E5%BC%80%E5%8F%91%E6%B0%B8%E4%B8%8D%E5%81%9C%E6%9C%BA%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F/9%20%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%B0%83%E5%BA%A6/","title":"\u670d\u52a1\u7a0b\u5e8f\u7684\u8c03\u5ea6","text":"<ul> <li>\u5468\u671f\u6027\u7684\u542f\u52a8\u540e\u53f0\u670d\u52a1\u7a0b\u5e8f</li> <li>\u5e38\u9a7b\u5185\u5b58\u4e2d\u7684\u670d\u52a1\u7a0b\u5e8f\u5f02\u5e38\u4e2d\u6b62\uff0c\u5728\u77ed\u65f6\u95f4\u5185\u91cd\u542f</li> </ul> <p>\u600e\u4e48\u5728c\u7a0b\u5e8f\u4e2d\u8c03\u7528\u5176\u4ed6\u7684\u7a0b\u5e8f\uff0c\u8bed\u8a00\u63d0\u4f9b\u4e86execl\u7cfb\u5217\u51fd\u6570</p> <p>exec\u662f\u7528\u53c2\u6570\u4e2d\u6307\u5b9a\u7a0b\u5e8f\u66ff\u6362\u4e86\u5f53\u524d\u8fdb\u7a0b\u7684\u6b63\u6587\u6bb5\u3001\u6570\u636e\u6bb5\u5806\u548c\u6808</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/","title":"1 \u89e3\u51b3TCP\u7c98\u5305\u548c\u5206\u5305\u7684\u95ee\u9898","text":"<p>demo05 demo06\u4e2d\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#_1","title":"\u7c98\u5305\u548c\u5206\u5305","text":"<ul> <li>\u7c98\u5305\uff1a\u53d1\u9001\u65b9\u53d1\u9001\u4e86\u4e24\u4e2a\u5b57\u7b26\u4e32\u201chello\u201d\u548c\u201cworld\u201d\uff0c\u63a5\u6536\u65b9\u5374\u4e00\u6b21\u6027\u63a5\u6536\u5230\u4e86\u201chelloworld\u201d</li> <li>\u5206\u5305\uff1a\u53d1\u9001\u65b9\u53d1\u9001\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\u201chelloworld\u201d\uff0c\u63a5\u6536\u65b9\u5374\u63a5\u6536\u5230\u4e86\u4e24\u4e2a\u5b57\u7b26\u4e32\u201chello\u201d\u548c\u201cworld\u201d</li> </ul> <p>\u5ba2\u6237\u7aef\u53d1\u9001\u591a\u4e2a\u62a5\u6587\u65f6\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff0c\u7c98\u5728\u4e00\u8d77\u4e86\uff0c\u4e3a\u4e86\u89e3\u51b3\u7c98\u5305\u548c\u5206\u5305\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5728\u62a5\u6587\u5185\u5bb9\u524d\u9762\u52a0\u4e86\u62a5\u6587\u957f\u5ea6\uff0c\u8fd9\u4e5f\u7b97\u901a\u4fe1\u534f\u8bae\uff0c\u65e2\u7136\u662f\u534f\u8bae\u90a3\u4e48\u6211\u4eecsocket\u901a\u4fe1\u7684\u4e24\u7aef\u5c31\u8981\u6309\u534f\u8bae\u6765\u53d1\u9001\u548c\u63a5\u53d7\u62a5\u6587</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#tcp","title":"TCP\u534f\u8bae\u7684\u4fdd\u8bc1","text":"<ul> <li>\u62a5\u6587\u5185\u5bb9\u7684\u987a\u5e8f\u4e0d\u53d8\uff0c\u5982\u679c\u53d1\u9001\u65b9\u53d1\u9001\u201chello\u201d\uff0c\u63a5\u6536\u65b9\u4e5f\u4e00\u5b9a\u987a\u5e8f\u6536\u5230\u201chello\u201d</li> <li>\u5206\u5272\u7684\u5305\u4e2d\u95f4\u4e0d\u4f1a\u63d2\u5165\u5176\u4ed6\u6570\u636e</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#tcp_1","title":"TCP\u62a5\u6587\u7684\u7c98\u5305\u548c\u5206\u5305","text":"<ul> <li>\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u91c7\u7528\u81ea\u5b9a\u4e49\u7684\u62a5\u6587\u683c\u5f0f</li> <li>\u62a5\u6587\u957f\u5ea6+\u62a5\u6587\u5185\u5bb9\u3002 0010abcdefghi</li> </ul> <p>\u5728\u5f00\u53d1\u6846\u67b6\u4e2d\uff0cTcpRead\u548cTcpWrite\u8fd9\u4e24\u4e2a\u51fd\u6570\u89e3\u51b3\u4e86\u7c98\u5305\u548c\u5206\u5305\u7684\u95ee\u9898</p> <p></p> <p>\u5c06recv\u6539\u4e3aTcpRead</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#1","title":"1 \u5728\u5ba2\u6237\u7aef\u4e2d\u628a\u56fe\u4e00\u6539\u4e3a\u56fe\u4e8c","text":"<p>\u56fe\u4e00\uff1a</p> <p></p> <p>\u56fe\u4e8c\uff1a</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#2","title":"2 \u5728\u670d\u52a1\u7aef\u4e2d\u628a\u56fe\u4e00\u6539\u4e3a\u56fe\u4e8c","text":"<p>\u56fe\u4e00</p> <p></p> <p>\u56fe\u4e8c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#_3","title":"\u7ec6\u8282","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#tcpread","title":"TcpRead\u51fd\u6570\u7684\u5b9e\u73b0\u7ec6\u8282","text":"<p>\u4ee3\u7801\u5148\u662f\u5904\u7406\u8d85\u65f6\u7684\uff0c*ibuflen\u662f\u4e00\u4e2a\u6574\u578b\u53d8\u91cf\u5730\u5740\uff0c\u6574\u4e2a\u62a5\u6587\u662f\u7531\u62a5\u6587\u957f\u5ea6\u52a0\u4e0a\u62a5\u6587\u5185\u5bb9\u7ec4\u6210\uff0c\u62a5\u6587\u957f\u5ea6\u662f\u6574\u6570\u56fa\u5b9a\u56db\u4e2a\u5b57\u8282\uff0c\u5148\u8bfb\u53d6\u51fa\u6765\uff0c\u518d\u628a\u62a5\u6587\u957f\u5ea6\u7531\u7f51\u7edc\u5b57\u8282\u5e8f\u8f6c\u6362\u4e3a\u4e3b\u673a\u5b57\u8282\u5e8f\uff0c\u6700\u540e\u518d\u628a\u62a5\u6587\u5185\u5bb9\u8bfb\u53d6\u51fa\u6765\uff0c\u653e\u5728buffer\u91cc\u9762\uff0c\u5728Readn\u51fd\u6570\u8bfb\u53d6\u62a5\u6587\uff0c\u800c\u4e0d\u662fc\u8bed\u8a00\u7684recv\u51fd\u6570\uff0c\u4e5f\u662f\u4e3a\u4e86\u89e3\u51b3\u7c98\u5305\u548c\u5206\u5305\u7684\u95ee\u9898</p> <p></p> <p>Readn\u7684\u5b9e\u73b0\u51fd\u6570\uff0c\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662fsockfd\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b58\u653e\u6570\u636e\u7684buffer\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u9700\u8981\u8bfb\u53d6\u6570\u636e\u7684\u5927\u5c0f\u3002\u6bcf\u6b21\u8c03\u7528Readn\u51fd\u6570\uff0c\u53ea\u4f1a\u8bfb\u53d6\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u6307\u5b9a\u5927\u5c0f\u7684\u6570\u636e\u4e0d\u4f1a\u591a\u4e5f\u4e0d\u4f1a\u5c11\u3002\u5728\u51fd\u6570\u91cc\u9762\u5faa\u73af\u8c03\u7528recv\u8bfb\u53d6\u6570\u636e\uff0c\u5982\u679c\u6210\u529f\u7684\u8bfb\u53d6\u5230\u4e86n\u4e2a\u5b57\u8282\u7684\u6570\u636e\u3002\u51fd\u6570\u8fd4\u56detrue\uff0c\u5982\u679c\u8bfb\u53d6\u7684\u8fc7\u7a0b\u4e2d\u53d1\u751f\u4e86\u610f\u5916\uff0c\u6bd4\u5982\u8bf4\u8fde\u63a5\u88ab\u65ad\u5f00\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u8fd4\u56defalse\u6709\u4e86Readn\u51fd\u6570Tcp\u534f\u8bae\uff0c\u628a\u62a5\u6587\u5206\u6210\u591a\u5c11\u4e2a\u5305\u90fd\u6ca1\u6709\u5173\u7cfb\u3002\u5bf9\u4e8e\u6211\u4eec\u5e94\u7528\u5f00\u53d1\u6765\u8bf4\uff0c\u53ea\u9700\u8981\u8c03\u7528\u4e00\u6b21Readn\u5c31\u53ef\u4ee5\u8bfb\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u62a5\u6587\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/1%20%E8%A7%A3%E5%86%B3TCP%E7%B2%98%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%9A%84%E9%97%AE%E9%A2%98/#tcpwrite","title":"TcpWrite\u5b9e\u73b0\u7ec6\u8282","text":"<p>\u8fd9\u6bb5\u4ee3\u7801\u5148\u5f97\u5230\u62a5\u6587\u7684\u957f\u5ea6\uff0c\u7136\u540e\u518d\u628a\u62a5\u6587\u957f\u5ea6\u8f6c\u5316\u4e3a\u7f51\u7edc\u5b57\u8282\u5e8f\uff0c\u5b9a\u4e49\u4e00\u4e2aTBuffer\uff0c\u518d\u628a\u62a5\u6587\u957f\u5ea6\u548c\u62a5\u6587\u5185\u5bb9\u62f7\u8d1d\u5230Tbuffer\u4e2d\uff0c\u6700\u540e\u8c03\u7528Writen\u628a\u7f13\u51b2\u533a\u7684\u6570\u636e\u53d1\u9001\u51fa\u53bb\uff0c\u8fd9\u91cc\u6ca1\u7528c\u8bed\u8a00\u7684send\u51fd\u6570</p> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u3002\u53d1\u9001\u6570\u636e\uff0c\u6211\u91c7\u7528\u7684\u662f\u6846\u67b6\u4e2d\u7684Writen\u51fd\u6570\uff0c\u800c\u4e0d\u662fC\u8bed\u8a00\u63d0\u4f9b\u7684\u539f\u751fsend\u51fd\u6570\u3002C\u8bed\u8a00\u7684send\u51fd\u6570\u662f\u5728\u8c03\u7528\u5b83\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u5982\u679c\u4f60\u60f3\u53d1\u90011000\u4e2a\u5b57\u8282\uff0c\u4ed6\u53ef\u80fd\u53ea\u53d1\u9001\u4e86500\u5b57\u8282\u3002\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u5462\uff1f\u56e0\u4e3asockfd\u6709\u7f13\u51b2\u533a\uff0c\u8bfb\u548c\u5199\u4e24\u4e2a\u7f13\u51b2\u533a\uff0c\u8fd9\u4e24\u4e2a\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u662f\u6709\u4e0a\u9650\u7684\uff0c\u5982\u679c\u73b0\u5728\u7684\u5199\u7f13\u51b2\u533a\u5feb\u6ee1\u4e86\uff0c\u8fd8\u6709500\u4e2a\u5b57\u8282\u7684\u7a7a\u95f4\u53ef\u4ee5\u7528\u3002\u8fd9\u65f6\u5019\u8c03\u7528send\u51fd\u6570\u53ea\u80fd\u6210\u529f\u7684\u5199\u5165500\u5b57\u8282\uff0c\u5269\u4e0b\u7684500\u5b57\u8282\u5fc5\u987b\u7b49\u5230\u5199\u7f13\u51b2\u533a\u7a7a\u95f2\u7684\u65f6\u5019\u624d\u80fd\u591f\u518d\u6b21\u5199\u5165\u3002\u6211\u4eec\u770b\u770bsend\u7684\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u6210\u529f\u7684\u65f6\u5019\u8fd4\u56de\u53d1\u9001\u7684\u5b57\u8282\u6570\uff0c\u4ed6\u6ca1\u6709\u8bf4\u5168\u90e8\u5e2e\u4f60\u53d1\u9001\u5b8c\u3002\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u4f1a\u8c03\u7528Writen\u51fd\u6570\u53d6\u4ee3send\u51fd\u6570\uff0c</p> <p></p> <p>\u5728writen\u51fd\u6570\u4e2d\u5faa\u73af\u8c03\u7528send\u51fd\u6570\uff0c\u76f4\u5230\u5168\u90e8\u7684\u6570\u636e\u88ab\u6210\u529f\u7684\u53d1\u9001\uff0c\u5982\u679c\u53d1\u9001\u7684\u8fc7\u7a0b\u4e2d\uff0ctcp\u8fde\u63a5\u65ad\u5f00\u4e86\u6216\u5176\u4ed6\u7684\u539f\u56e0\u8fd4\u56defalse</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/","title":"\u5c01\u88c5socket\u7684API","text":"<ul> <li>\u89e3\u51b3TCP\u62a5\u6587\u7c98\u5305/\u5206\u5305\u7684\u95ee\u9898</li> <li>\u5c01\u88c5socket\u7684\u5e38\u7528\u51fd\u6570</li> </ul> <p>\u5f00\u53d1\u6846\u67b6_public.h 525\u884c-644\u884c     _public.cpp\u30021714\u884c-2039\u884c</p> <p>\u5728\u5f00\u53d1\u6846\u67b6\u4e2d\uff0c\u5df2\u7ecf\u628asocket\u901a\u4fe1\u5c01\u88c5\u6210\u4e86 \u4e24\u4e2a\u7c7b\u4e00\u4e2a\u662fsocker\u901a\u4fe1\u7684\u5ba2\u6237\u7aefCTcpClient\uff0c\u8fd8\u6709\u4e00\u4e2a\u662fsocker\u901a\u4fe1\u7684\u670d\u52a1\u7aefCTcpServer\u3002</p> <p></p> <p></p> <p>\u6211\u4eec\u5148\u5728demo\u7a0b\u5e8f\u4e2d\u628a\u8fd9\u4e24\u4e2a\u7c7b\u7ed9\u7528\u8d77\u6765\uff0c\u7136\u540e\u518d\u6765\u8ba8\u8bba\u5b83\u7684\u5c01\u88c5\u7ec6\u8282\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/#_1","title":"\u8fc7\u7a0b","text":"<p>\u9700\u8981\u7528atoi\u628a\u7aef\u53e3\u8f6c\u6362\u4e3a\u6574\u6570</p> <p>\u6ce8\u610f\u4e86\uff0c\u5728\u7f51\u7edc\u901a\u8baf\u7684\u7a0b\u5e8f\u91cc\u9762\u3002\u4e0d\u7ba1\u662f\u670d\u52a1\u7aef\u8fd8\u662f\u5ba2\u6237\u7aef\uff0c\u5982\u679c\u53d1\u9001\u6216\u8005\u63a5\u6536\u51fd\u6570\u5931\u8d25\uff0c\u767e\u5206\u4e4b\u4e5d\u5341\u4e5d\u70b9\u4e5d\u4e5d\u7684\u539f\u56e0\u662f\u7f51\u7edc\u8fde\u63a5\u88ab\u65ad\u5f00\u4e86\u3002\u6216\u8005\u8bf4\u5bf9\u65b9\u5df2\u7ecf\u5173\u95ed\u4e86\u8fd9\u4e2asocker\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6ca1\u6709\u5176\u4ed6\u7684\u529e\u6cd5\u53ef\u4ee5\u60f3\u3002\u8981\u4e0d\u8981\u8bb0\u5f55\u66f4\u8be6\u7ec6\u7684\u9519\u8bef\u65e5\u5fd7\uff0c\u4e5f\u4e0d\u662f\u592a\u6709\u5fc5\u8981\uff0c\u6240\u4ee5\u8fd9\u91cc\u76f4\u63a5break\uff0c\u7136\u540e\u7a0b\u5e8f\u9000\u51fa\u4e86\u3002\u5ba2\u6237\u7aef\u4e5f\u662f\u8fd9\u6837\uff0c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/#1","title":"1 \u7f16\u5199\u5ba2\u6237\u7aef","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/#2","title":"2 \u7f16\u5199\u670d\u52a1\u7aef","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/#_2","title":"\u7ec6\u8282","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/4%E3%80%81%E5%BC%80%E5%8F%91%E5%9F%BA%E4%BA%8Etcp%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%B0%81%E8%A3%85socket%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/#_3","title":"\u91cd\u8981\u203c\ufe0f","text":"<p>\u4e00\u3001\u5728\u7f51\u7edc\u901a\u8baf\u7684\u7a0b\u5e8f\u4e2d\uff0c\u9700\u8981\u5ffd\u7565SIGPIPE\u4fe1\u53f7\uff0c\u9632\u6b62\u7a0b\u5e8f\u5f02\u5e38\u9000\u51fa\uff0c\u5728\u7f51\u7edc\u901a\u8baf\u7684\u7a0b\u5e8f\u4e2d\uff0c\u9700\u8981\u5ffd\u7565SIGPIPE\u4fe1\u53f7\uff0c\u9632\u6b62\u7a0b\u5e8f\u5f02\u5e38\u9000\u51fa\u3002\u5177\u4f53\u539f\u56e0\u662f\u8fd9\u6837\u7684\uff0c\u5982\u679c\u5411\u4e00\u4e2a\u5df2\u5173\u95ed\u7684socket\u53d1\u9001\u6570\u636e\uff0c\u5185\u6838\u5c31\u4f1a\u53d1\u51faSIGPIPE\u4fe1\u53f7\u3002\u8fd9\u4e2a\u4fe1\u53f7\u7f3a\u7701\u7684\u5904\u7406\u65b9\u6cd5\u662f\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u6211\u4eec\u80af\u5b9a\u4e0d\u5e0c\u671b\u7a0b\u5e8f\u7ec8\u6b62\uff0c\u4e5f\u6ca1\u6709\u5fc5\u8981\u91cd\u65b0\u5b9a\u4e49\u8fd9\u4e2a\u4fe1\u53f7\u7684\u5904\u7406\u65b9\u6cd5\u3002\u76f4\u63a5\u5c4f\u853d\u4ed6\u5c31\u53ef\u4ee5\u4e86\uff0csignal\u51fd\u6570\u8fd4\u56de\u9519\u8bef\uff0c\u8fd9\u4e2a\u7ec6\u8282\u975e\u5e38\u91cd\u8981\uff0c\u5982\u679c\u6ca1\u6709\u9879\u76ee\u5f00\u53d1\u7ecf\u9a8c\u3002\u4e00\u822c\u4e0d\u4f1a\u6ce8\u610f\u8fd9\u4e2a\u7ec6\u8282\uff0c\u5728\u627e\u5de5\u4f5c\u7684\u65f6\u5019\u5f88\u6709\u53ef\u80fd\u95ee\u8fd9\u4e2a\u95ee\u9898</p> <p>\u5728\u5e94\u7528\u5f00\u53d1\u4e2d\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u4fe1\u53f7\u3002\u7136\u540e\u901a\u8fc7\u5224\u65adsend\u548crecv\u7684\u8fd4\u56de\u503c\u6765\u51b3\u5b9a\u7a0b\u5e8f\u7684\u6d41\u7a0b\uff0c\u800c\u4e0d\u662f\u4efb\u7531SIGPIPE\u4fe1\u53f7\u3002\u7ec8\u6b62\u7a0b\u5e8f\uff0c</p> <p></p> <p>\u4e8c\u3001\u6253\u5f00SO_REUSEADDR\u9009\u9879\uff0c\u4e00\u5b9a\u8981\u6253\u5f00\u8fd9\u4e2a\u9009\u9879\uff0c\u5426\u5219\u4e0b\u9762\u7684bind\u8c03\u7528\u5f88\u5bb9\u6613\u51fa\u73b0\u5730\u5740\u5df2\u7ecf\u88ab\u4f7f\u7528\u7684\u8fd9\u4e2a\u95ee\u9898\u3002\uff0c\u5728\u7edd\u5927\u6570\u60c5\u51b5\u4e0bbacklog\u8fd9\u4e2a\u53c2\u6570\u7528\u7f3a\u7701\u503c5\u5c31\u53ef\u4ee5\u4e86\uff0c\u5982\u679c\u5ba2\u6237\u7aef\u5f88\u591a\u53ef\u4ee5\u6539\u5927\u4e00\u70b9</p> <p></p> <p>\u4e09\u3001\u5173\u95ed\u70e7\u70e4\u7684\u51fd\u6570\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f\u5173\u95ed\u76d1\u542c\u7684\uff0c\u4e00\u4e2a\u662f\u5173\u95ed\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u3002\u56e0\u4e3a\u5728\u591a\u8fdb\u7a0b\u7684\u670d\u52a1\u7a0b\u5e8f\u4e2d\uff0c\u9700\u8981\u5206\u5f00\u6765\u5173\u95ed</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/","title":"1 \u521b\u5efa\u4fe1\u606f\u8868","text":"<p>\u5982\u679cc\u7a0b\u5e8f\u4e2d\u7528\u5230\u4e86mysql\u7684\u51fd\u6570\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u9700\u8981\u628a/usr/local/mysql/lib/libmysqlclient.so\u94fe\u63a5\u8fdb\u6765</p> <p>\u5728\u73af\u5883\u53d8\u91cf\u4e2d\uff0cLD_LIBRARY_PATH=\"/usr/local/mysql/lib:/usr/lib:/project:.  \u8fd9\u4e2a\u53d8\u91cf\u52a8\u6001\u5e93\u7684\u641c\u7d22\u76ee\u5f55\u9700\u8981\u628amysql\u7684\u51fd\u6570\u5e93\u76ee\u5f55\u5305\u542b\u8fdb\u6765</p> <p>\u5728\u8fd9\u4e2a\u5f00\u53d1\u6846\u67b6\u4e2d\uff0c\u6211\u4eec\u628amysql\u7684\u51fd\u6570\u505a\u4e86\u5c01\u88c5</p> <p></p> <p>18-24\u7528\u6765\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#1","title":"1\u3001\u767b\u9646\u6570\u636e\u5e93","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#2","title":"2\u3001\u8c03\u7528\u6570\u636e\u5e93\u63a5\u53e3\u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#3-makeffile","title":"3 \u5728makeffile\u4e2d\u6dfb\u52a0\u53c2\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#4","title":"4 \u5728\u8fd0\u884c\u4e4b\u524d\u8bbe\u7f6e\u597d\u73af\u5883\u53d8\u91cf","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#5","title":"5 \u7ed1\u5b9a\u6570\u636e\u5e93\u8fde\u63a5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#6-sql","title":"6 \u51c6\u5907sql\u8bed\u53e5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#7-sql","title":"7 \u6267\u884csql\u8bed\u53e5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#_2","title":"\u5b9e\u73b0\u4ee3\u7801","text":"Text Only<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1acreatetable1.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u6570\u636e\u5e93\uff08\u521b\u5efa\u8868\uff09\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n\n#include \"_mysql.h\" //\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u7684\u5934\u6587\u4ef6\n\nint main(int argc,char *argv[])\n{\n    connection conn;    //\u6570\u636e\u5e93\u8fde\u63a5\u7c7b\n\n    //\u767b\u9646\u6570\u636e\u5e93 0\u6210\u529f \u5176\u4ed6\u7684\u5931\u8d25\uff0c\u5b58\u653eMySQL\u7684\u9519\u8bef\u4ee3\u7801\n    //\u5931\u8d25\u4ee3\u7801\u5728conn.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728conn.m_cda.message\u4e2d\n  if (conn.connecttodb(\"127.0.0.1,root,mysqlpwd,mysql,3306\",\"utf8\")!=0)\n  {\n    printf(\"connect database failed.\\n%s\\n\",conn.m_cda.message); return -1;\n  }\n    //\u7ed1\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\n    sqlstatement stmt(&amp;conn);  //\u64cd\u4f5cSQL\u8bed\u53e5\u7684\u5bf9\u8c61\n\n    //\u51c6\u5907\u521b\u5efa\u8868\u7684SQL\u8bed\u53e5\n    //\u8d85\u5973\u8868girls\uff0c\u8d85\u5973\u7f16\u53f7id\uff0c\u8d85\u5973\u59d3\u540dname\uff0c\u4f53\u91cdweight\uff0c\u62a5\u540d\u65f6\u95f4btime\uff0c\u8d85\u5973\u8bf4\u660ememo \u8d85\u5973\u7167\u7247pic\n    stmt.prepare(\"create table girls(id  bigint(10),\\\n                    name    varchar(30),\\\n                    weight  decimal(8,2),\\\n                    btime   datetime,\\\n                    memo    longtext,\\\n                    pic     longblob,\\\n                    primary key(id))\");\n    /*\n    1\u3001int prepare(const char *fmt,...). SQL\u8bed\u53e5\u53ef\u4ee5\u591a\u884c\u4e66\u5199\n    2\u3001SQL\u8bed\u53e5\u6700\u540e\u7684\u5206\u53f7\u53ef\u6709\u53ef\u65e0\u5efa\u8bae\u4e0d\u8981\u5199(\u517c\u5bb9\u6027\u8003\u8651)\n    3\u3001SQL\u8bed\u53e5\u4e2d\u4e0d\u80fd\u6709\u8bf4\u660e\u6587\u5b57\n    4\u3001\u53ef\u4ee5\u4e0d\u7528\u5224\u65adstmt.prepare()\u7684\u8fd4\u56de\u503c\uff0c stmt.execute()\u65f6\u518d\u5224\u65ad\n    */\n\n   //\u6267\u884cSQL\u8bed\u53e5\uff0c\u4e00\u5b9a\u8981\u5224\u65ad\u8fd4\u56de\u503c\uff0c 0-\u6210\u529f \u5176\u4ed6-\u5931\u8d25\n   //\u5931\u8d25\u4ee3\u7801\u5728stmt.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728stmt.m_cda.message\u4e2d\n   if(stmt.execute()!=0)\n   //\u8bb0\u5f55\u8be6\u7ec6\u7684\u65e5\u5fd7\n   {\n    //\u8bb0\u5f55sql\u8bed\u53e5\uff0c\u9519\u8bef\u4ee3\u7801\u8bb0\u4e0b\u6765\uff0c\u9519\u8bef\u539f\u56e0\u8bb0\u4e0b\u6765\uff0c\n    printf(\"stmt.execute() failed.\\n%s\\n%d\\n%s\\n\",stmt.m_sql,stmt.m_cda.rc,stmt.m_cda.message);  return -1;\n   }\n    return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#_3","title":"\u5c0f\u8bb0","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#_4","title":"\u4e00\u3001","text":"<p>lvalue \u5de6\u503c\u662f\u53ef\u4ee5\u51fa\u73b0\u5728\u8d4b\u503c\u53f7\u5de6\u8fb9\u7684\u8868\u8fbe\u5f0f\uff0c\u662f\u4e00\u4e2a\u53ef\u4ee5\u88ab\u5b58\u50a8\u7684\u5355\u5143\uff0c\u5b83\u662f\u4e00\u4e2a\u88ab\u660e\u786e\u4e86\u7684\u6570\u503c\u5355\u5143\u7684\u6570\u636e\uff0c</p> <p>\u200b            \u53ef\u4ee5\u7528\u6765\u8d4b\u503c\uff0c\u53ef\u4ee5\u88ab\u5f15\u7528         </p> <p>rvalue \u53f3\u503c\u662f\u53ef\u4ee5\u51fa\u73b0\u5728\u8d4b\u503c\u53f7\u53f3\u8fb9\u7684\u8868\u8fbe\u5f0f\uff0c\u662f\u4e00\u4e2a\u53ef\u4ee5\u88ab\u8bfb\u53d6\u7684\u6570\u636e\uff0c\u5fc5\u987b\u662f\u4e00\u4e2a\u53ef\u4ee5\u88ab\u8bfb\u53d6\u51fa\u6765\u7684\u503c</p> <p>\u200b            \u53ef\u4ee5\u88ab\u8bfb\u53d6\uff0c\u4e0d\u80fd\u88ab\u5f15\u7528</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/1%20%E5%88%9B%E5%BB%BA%E4%BF%A1%E6%81%AF%E8%A1%A8/#_5","title":"\u4e8c\u3001","text":"<p>1\u3001int prepare(const char *fmt,...). SQL\u8bed\u53e5\u53ef\u4ee5\u591a\u884c\u4e66\u5199</p> <p>2\u3001SQL\u8bed\u53e5\u6700\u540e\u7684\u5206\u53f7\u53ef\u6709\u53ef\u65e0\u5efa\u8bae\u4e0d\u8981\u5199(\u517c\u5bb9\u6027\u8003\u8651)</p> <p>3\u3001SQL\u8bed\u53e5\u4e2d\u4e0d\u80fd\u6709\u8bf4\u660e\u6587\u5b57</p> <p>4\u3001\u53ef\u4ee5\u4e0d\u7528\u5224\u65adstmt.prepare()\u7684\u8fd4\u56de\u503c\uff0c stmt.execute()\u65f6\u518d\u5224\u65ad</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/10-1%20%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E7%A8%8B%E5%BA%8F/","title":"10-1 \u4f18\u5316\u6570\u636e\u5165\u5e93\u7a0b\u5e8f","text":"<ul> <li> <p>\u5982\u679c\u6570\u636e\u8868\u6709update\u64cd\u4f5c</p> </li> <li> <p>\u5982\u679c\u9700\u8981\u589e\u52a0\u5bf9json\u548ccsv\u683c\u5f0f\u6570\u636e\u6587\u4ef6\u7684\u652f\u6301</p> </li> <li>\u5982\u679c\u8868\u7684\u5b57\u6bb5\u670950\u4e2a\u6216\u66f4\u591a</li> <li>\u7a0b\u5e8f\u7684\u590d\u6742\u5ea6\u589e\u52a0\u4e86\uff0c\u4ee3\u7801\u4f1a\u4e0d\u4f1a\u50cf\u63c9\u4e00\u56e2\u9762\u6761\uff1f</li> </ul> <p>\u628a\u6570\u636e\u7ed3\u6784\uff0c\u6570\u636e\u89e3\u6790\u548c\u5bf9\u6570\u636e\u8868\u7684\u64cd\u4f5c\u5c01\u88c5\u6210\u4e00\u4e2a\u7c7b</p> C++<pre><code>/*\n *  obtmindtodb.cpp\uff0c\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u5165\u5e93\u5230T_ZHOBTMIND\u8868\u4e2d\uff0c\u652f\u6301xml\u548ccsv\u4e24\u79cd\u6587\u4ef6\u683c\u5f0f\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\nstruct st_zhobtmind\n{\n  char obtid[11];      // \u7ad9\u70b9\u4ee3\u7801\u3002\n  char ddatetime[21];  // \u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002\n  char t[11];          // \u6e29\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002\n  char p[11];          // \u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002\n  char u[11];          // \u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002\n  char wd[11];         // \u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002\n  char wf[11];         // \u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002\n  char r[11];          // \u964d\u96e8\u91cf\uff1a0.1mm\u3002\n  char vis[11];        // \u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002\n};\n\n// \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u64cd\u4f5c\u7c7b\u3002\nclass CZHOBTMIND\n{\npublic:\n  connection  *m_conn;     // \u6570\u636e\u5e93\u8fde\u63a5\u3002\n  CLogFile    *m_logfile;  // \u65e5\u5fd7\u3002\n\n  sqlstatement m_stmt;     // \u63d2\u5165\u8868\u64cd\u4f5c\u7684sql\u3002\n\n  char m_buffer[1024];   // \u4ece\u6587\u4ef6\u4e2d\u8bfb\u5230\u7684\u4e00\u884c\u3002\n  struct st_zhobtmind m_zhobtmind; // \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u7ed3\u6784\u3002\n\n  CZHOBTMIND();\n  CZHOBTMIND(connection *conn,CLogFile *logfile);\n\n ~CZHOBTMIND();\n\n  void BindConnLog(connection *conn,CLogFile *logfile);  // \u628aconnection\u548cCLogFile\u7684\u4f20\u8fdb\u53bb\u3002\n  bool SplitBuffer(char *strBuffer);  // \u628a\u4ece\u6587\u4ef6\u8bfb\u5230\u7684\u4e00\u884c\u6570\u636e\u62c6\u5206\u5230m_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u3002\n  bool InsertTable();  // \u628am_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u5230T_ZHOBTMIND\u8868\u4e2d\u3002\n};\n\nCZHOBTMIND::CZHOBTMIND()\n{\n  m_conn=0;  m_logfile=0;\n}\n\nCZHOBTMIND::CZHOBTMIND(connection *conn,CLogFile *logfile)\n{\n  m_conn=conn;\n  m_logfile=logfile;\n}\n\nCZHOBTMIND::~CZHOBTMIND()\n{\n}\n\nvoid CZHOBTMIND::BindConnLog(connection *conn,CLogFile *logfile)\n{\n  m_conn=conn;\n  m_logfile=logfile;\n}\n\n// \u628a\u4ece\u6587\u4ef6\u8bfb\u5230\u7684\u4e00\u884c\u6570\u636e\u62c6\u5206\u5230m_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u3002\nbool CZHOBTMIND::SplitBuffer(char *strBuffer)\n{\n  memset(&amp;m_zhobtmind,0,sizeof(struct st_zhobtmind));\n  GetXMLBuffer(strBuffer,\"obtid\",m_zhobtmind.obtid,10);\n  GetXMLBuffer(strBuffer,\"ddatetime\",m_zhobtmind.ddatetime,14);\n  char tmp[11];\n  GetXMLBuffer(strBuffer,\"t\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.t,10,\"%d\",(int)(atof(tmp)*10));\n  GetXMLBuffer(strBuffer,\"p\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.p,10,\"%d\",(int)(atof(tmp)*10));\n  GetXMLBuffer(strBuffer,\"u\",m_zhobtmind.u,10);\n  GetXMLBuffer(strBuffer,\"wd\",m_zhobtmind.wd,10);\n  GetXMLBuffer(strBuffer,\"wf\",tmp,10);  if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.wf,10,\"%d\",(int)(atof(tmp)*10));\n  GetXMLBuffer(strBuffer,\"r\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.r,10,\"%d\",(int)(atof(tmp)*10));\n  GetXMLBuffer(strBuffer,\"vis\",tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.vis,10,\"%d\",(int)(atof(tmp)*10));\n\n  STRCPY(m_buffer,sizeof(m_buffer),strBuffer);\n\n  return true;\n}\n\n// \u628am_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u5230T_ZHOBTMIND\u8868\u4e2d\u3002\nbool CZHOBTMIND::InsertTable()\n{\n  if (m_stmt.m_state==0)\n  {\n    m_stmt.connect(m_conn);\n    m_stmt.prepare(\"insert into T_ZHOBTMIND(obtid,ddatetime,t,p,u,wd,wf,r,vis) values(:1,str_to_date(:2,'%%Y%%m%%d%%H%%i%%s'),:3,:4,:5,:6,:7,:8,:9)\");\n    m_stmt.bindin(1,m_zhobtmind.obtid,10);\n    m_stmt.bindin(2,m_zhobtmind.ddatetime,14);\n    m_stmt.bindin(3,m_zhobtmind.t,10);\n    m_stmt.bindin(4,m_zhobtmind.p,10);\n    m_stmt.bindin(5,m_zhobtmind.u,10);\n    m_stmt.bindin(6,m_zhobtmind.wd,10);\n    m_stmt.bindin(7,m_zhobtmind.wf,10);\n    m_stmt.bindin(8,m_zhobtmind.r,10);\n    m_stmt.bindin(9,m_zhobtmind.vis,10);\n  }\n\n  // \u628a\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u8868\u4e2d\u3002\n  if (m_stmt.execute()!=0)\n  {\n    // 1\u3001\u5931\u8d25\u7684\u60c5\u51b5\u6709\u54ea\u4e9b\uff1f\u662f\u5426\u5168\u90e8\u7684\u5931\u8d25\u90fd\u8981\u5199\u65e5\u5fd7\uff1f\n    // \u7b54\uff1a\u5931\u8d25\u7684\u539f\u56e0\u4e3b\u8981\u6709\u4e8c\uff1a\u4e00\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e8c\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\u3002\n    // 2\u3001\u5982\u679c\u5931\u8d25\u4e86\u600e\u4e48\u529e\uff1f\u7a0b\u5e8f\u662f\u5426\u9700\u8981\u7ee7\u7eed\uff1f\u662f\u5426rollback\uff1f\u662f\u5426\u8fd4\u56defalse\uff1f\n    // \u7b54\uff1a\u5982\u679c\u5931\u8d25\u7684\u539f\u56e0\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\uff0c\u8bb0\u5f55\u65e5\u5fd7\u540e\u7ee7\u7eed\uff1b\u5982\u679c\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e0d\u5fc5\u8bb0\u5f55\u65e5\u5fd7\uff0c\u4e14\u7ee7\u7eed\u3002\n    if (m_stmt.m_cda.rc!=1062)\n    {\n      m_logfile-&gt;Write(\"Buffer=%s\\n\",m_buffer);\n      m_logfile-&gt;Write(\"m_stmt.execute() failed.\\n%s\\n%s\\n\",m_stmt.m_sql,m_stmt.m_cda.message);\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\n\n\nCLogFile logfile;\n\nconnection conn;\n\nCPActive PActive;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset);\n\nint main(int argc,char *argv[])\n{\n  // \u5e2e\u52a9\u6587\u6863\u3002\n  if (argc!=5)\n  {\n    printf(\"\\n\");\n    printf(\"Using:./obtmindtodb pathname connstr charset logfile\\n\");\n\n    printf(\"Example:/project/tools1/bin/procctl 10 /project/idc1/bin/obtmindtodb /idcdata/surfdata \\\"127.0.0.1,root,mysqlpwd,mysql,3306\\\" utf8 /log/idc/obtmindtodb.log\\n\\n\");\n\n    printf(\"\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u7684T_ZHOBTMIND\u8868\u4e2d\uff0c\u6570\u636e\u53ea\u63d2\u5165\uff0c\u4e0d\u66f4\u65b0\u3002\\n\");\n    printf(\"pathname \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n    printf(\"connstr  \u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff1aip,username,password,dbname,port\\n\");\n    printf(\"charset  \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\\n\");\n    printf(\"logfile  \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"\u7a0b\u5e8f\u6bcf10\u79d2\u8fd0\u884c\u4e00\u6b21\uff0c\u7531procctl\u8c03\u5ea6\u3002\\n\\n\\n\");\n\n    return -1;\n  }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[4],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[4]); return -1;\n  }\n\n  // PActive.AddPInfo(30,\"obtmindtodb\");   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\uff0c30\u79d2\u8db3\u591f\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  PActive.AddPInfo(5000,\"obtmindtodb\");\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _obtmindtodb(argv[1],argv[2],argv[3]);\n\n  return 0;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset)\n{\n  CDir Dir;\n\n  // \u6253\u5f00\u76ee\u5f55\u3002\n  if (Dir.OpenDir(pathname,\"*.xml\")==false)\n  {\n    logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",pathname); return false;\n  }\n\n  CFile File;\n\n  CZHOBTMIND ZHOBTMIND(&amp;conn,&amp;logfile);\n\n  int  totalcount=0;  // \u6587\u4ef6\u7684\u603b\u8bb0\u5f55\u6570\u3002\n  int  insertcount=0; // \u6210\u529f\u63d2\u5165\u8bb0\u5f55\u6570\u3002\n  CTimer Timer;       // \u8ba1\u65f6\u5668\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u6570\u636e\u6587\u4ef6\u7684\u5904\u7406\u8017\u65f6\u3002\n\n  while (true)\n  {\n    // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u540d\u3002\n    if (Dir.ReadDir()==false) break;\n\n    // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n    if (conn.m_state==0)\n    {\n      if (conn.connecttodb(connstr,charset)!=0)\n      {\n        logfile.Write(\"connect database(%s) failed.\\n%s\\n\",connstr,conn.m_cda.message); return -1;\n      }\n\n      logfile.Write(\"connect database(%s) ok.\\n\",connstr);\n    }\n\n    totalcount=insertcount=0;\n\n    // \u6253\u5f00\u6587\u4ef6\u3002\n    if (File.Open(Dir.m_FullFileName,\"r\")==false)\n    {\n      logfile.Write(\"File.Open(%s) failed.\\n\",Dir.m_FullFileName); return false;\n    }\n\n    char strBuffer[1001];   // \u5b58\u653e\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684\u4e00\u884c\u3002\n\n    while (true)\n    {\n      if (File.FFGETS(strBuffer,1000,\"&lt;endl/&gt;\")==false) break;\n\n      // \u5904\u7406\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u3002\n      totalcount++;\n\n      ZHOBTMIND.SplitBuffer(strBuffer);  \n\n      if (ZHOBTMIND.InsertTable()==true) insertcount++;\n    }\n\n    // \u5220\u9664\u6587\u4ef6\u3001\u63d0\u4ea4\u4e8b\u52a1\u3002\n    // File.CloseAndRemove();\n\n    conn.commit();\n\n    logfile.Write(\"\u5df2\u5904\u7406\u6587\u4ef6%s\uff08totalcount=%d,insertcount=%d\uff09\uff0c\u8017\u65f6%.2f\u79d2\u3002\\n\",Dir.m_FullFileName,totalcount,insertcount,Timer.Elapsed());\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/10-2%20%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E7%A8%8B%E5%BA%8F/","title":"10-2 \u4f18\u5316\u6570\u636e\u5165\u5e93\u7a0b\u5e8f","text":"<p>2\uff09\u4f18\u5316\u6570\u636e\u5165\u5e93\u7a0b\u5e8f</p> <p>\u7528\u4e00\u4e2a\u5934\u6587\u4ef6\uff0c\u52a0\u4e24\u4e2acpp\u6784\u6210\u4e00\u4e2a\u53ef\u590d\u7528\u7684\u6784\u4ef6</p> <p>/root/project/idc/c/idcapp.h</p> <p>/root/project/idc/c/obtmindtodb.cpp</p> <p>/root/project/idc/c/idcapp.cpp</p> <p>\u8fd9\u91cc\u8981\u52a0\u62ec\u53f7\uff0c\u4e0d\u7136\u4f1a\u4ea7\u751f\u6b67\u4e49</p> <p>\u4e3b\u4ee3\u7801</p> C++<pre><code>/*\n *  obtmindtodb.cpp\uff0c\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u5165\u5e93\u5230T_ZHOBTMIND\u8868\u4e2d\uff0c\u652f\u6301xml\u548ccsv\u4e24\u79cd\u6587\u4ef6\u683c\u5f0f\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"idcapp.h\"\n\nCLogFile logfile;\n\nconnection conn;\n\nCPActive PActive;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset);\n\nint main(int argc,char *argv[])\n{\n  // \u5e2e\u52a9\u6587\u6863\u3002\n  if (argc!=5)\n  {\n    printf(\"\\n\");\n    printf(\"Using:./obtmindtodb pathname connstr charset logfile\\n\");\n\n    printf(\"Example:/project/tools1/bin/procctl 10 /project/idc1/bin/obtmindtodb /idcdata/surfdata \\\"127.0.0.1,root,mysqlpwd,mysql,3306\\\" utf8 /log/idc/obtmindtodb.log\\n\\n\");\n\n    printf(\"\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u7684T_ZHOBTMIND\u8868\u4e2d\uff0c\u6570\u636e\u53ea\u63d2\u5165\uff0c\u4e0d\u66f4\u65b0\u3002\\n\");\n    printf(\"pathname \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n    printf(\"connstr  \u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff1aip,username,password,dbname,port\\n\");\n    printf(\"charset  \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\\n\");\n    printf(\"logfile  \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"\u7a0b\u5e8f\u6bcf10\u79d2\u8fd0\u884c\u4e00\u6b21\uff0c\u7531procctl\u8c03\u5ea6\u3002\\n\\n\\n\");\n\n    return -1;\n  }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[4],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[4]); return -1;\n  }\n\n  PActive.AddPInfo(30,\"obtmindtodb\");   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\uff0c30\u79d2\u8db3\u591f\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(5000,\"obtmindtodb\");\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _obtmindtodb(argv[1],argv[2],argv[3]);\n\n  return 0;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset)\n{\n  CDir Dir;\n\n  // \u6253\u5f00\u76ee\u5f55\u3002\n  if (Dir.OpenDir(pathname,\"*.xml,*.csv\")==false)\n  {\n    logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",pathname); return false;\n  }\n\n  CFile File;\n\n  CZHOBTMIND ZHOBTMIND(&amp;conn,&amp;logfile);\n\n  int  totalcount=0;  // \u6587\u4ef6\u7684\u603b\u8bb0\u5f55\u6570\u3002\n  int  insertcount=0; // \u6210\u529f\u63d2\u5165\u8bb0\u5f55\u6570\u3002\n  CTimer Timer;       // \u8ba1\u65f6\u5668\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u6570\u636e\u6587\u4ef6\u7684\u5904\u7406\u8017\u65f6\u3002\n  bool bisxml=false;  // \u6587\u4ef6\u683c\u5f0f\uff0ctrue-xml\uff1bfalse-csv\u3002\n\n  while (true)\n  {\n    // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u540d\u3002\n    if (Dir.ReadDir()==false) break;\n\n    if (MatchStr(Dir.m_FullFileName,\"*.xml\")==true) bisxml=true;\n    else bisxml=false;\n\n    // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n    if (conn.m_state==0)\n    {\n      if (conn.connecttodb(connstr,charset)!=0)\n      {\n        logfile.Write(\"connect database(%s) failed.\\n%s\\n\",connstr,conn.m_cda.message); return -1;\n      }\n\n      logfile.Write(\"connect database(%s) ok.\\n\",connstr);\n    }\n\n    totalcount=insertcount=0;\n\n    // \u6253\u5f00\u6587\u4ef6\u3002\n    if (File.Open(Dir.m_FullFileName,\"r\")==false)\n    {\n      logfile.Write(\"File.Open(%s) failed.\\n\",Dir.m_FullFileName); return false;\n    }\n\n    char strBuffer[1001];   // \u5b58\u653e\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684\u4e00\u884c\u3002\n\n    while (true)\n    {\n      if (bisxml==true)\n      {\n        if (File.FFGETS(strBuffer,1000,\"&lt;endl/&gt;\")==false) break;\n      }\n      else\n      {\n        if (File.Fgets(strBuffer,1000,true)==false) break;\n        if (strstr(strBuffer,\"\u7ad9\u70b9\")!=0) continue;   // \u628acsv\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u884c\u6254\u6389\u3002\n      }\n\n      // \u5904\u7406\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u3002\n      totalcount++;\n\n      ZHOBTMIND.SplitBuffer(strBuffer,bisxml);  \n\n      if (ZHOBTMIND.InsertTable()==true) insertcount++;\n    }\n\n    // \u5220\u9664\u6587\u4ef6\u3001\u63d0\u4ea4\u4e8b\u52a1\u3002\n    File.CloseAndRemove();\n\n    conn.commit();\n\n    logfile.Write(\"\u5df2\u5904\u7406\u6587\u4ef6%s\uff08totalcount=%d,insertcount=%d\uff09\uff0c\u8017\u65f6%.2f\u79d2\u3002\\n\",Dir.m_FullFileName,totalcount,insertcount,Timer.Elapsed());\n  }\n\n  return true;\n}\n</code></pre> <p>/root/project/idc/c/idcapp.h</p> C++<pre><code>/****************************************************************************************/\n/*   \u7a0b\u5e8f\u540d\uff1aidcapp.h\uff0c\u6b64\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u9879\u76ee\u516c\u7528\u51fd\u6570\u548c\u7c7b\u7684\u58f0\u660e\u6587\u4ef6\u3002                     */\n/*   \u4f5c\u8005\uff1a\u5434\u4ece\u5468                                                                       */\n/****************************************************************************************/\n\n#ifndef IDCAPP_H\n#define IDCAPP_H\n\n#include \"_public.h\"\n#include \"_mysql.h\"\n\nstruct st_zhobtmind\n{\n  char obtid[11];      // \u7ad9\u70b9\u4ee3\u7801\u3002\n  char ddatetime[21];  // \u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002\n  char t[11];          // \u6e29\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002\n  char p[11];          // \u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002\n  char u[11];          // \u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002\n  char wd[11];         // \u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002\n  char wf[11];         // \u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002\n  char r[11];          // \u964d\u96e8\u91cf\uff1a0.1mm\u3002\n  char vis[11];        // \u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002\n};\n\n// \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u64cd\u4f5c\u7c7b\u3002\nclass CZHOBTMIND\n{\npublic:\n  connection  *m_conn;     // \u6570\u636e\u5e93\u8fde\u63a5\u3002\n  CLogFile    *m_logfile;  // \u65e5\u5fd7\u3002\n\n  sqlstatement m_stmt;     // \u63d2\u5165\u8868\u64cd\u4f5c\u7684sql\u3002\n\n  char m_buffer[1024];   // \u4ece\u6587\u4ef6\u4e2d\u8bfb\u5230\u7684\u4e00\u884c\u3002\n  struct st_zhobtmind m_zhobtmind; // \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u7ed3\u6784\u3002\n\n  CZHOBTMIND();\n  CZHOBTMIND(connection *conn,CLogFile *logfile);\n\n ~CZHOBTMIND();\n\n  void BindConnLog(connection *conn,CLogFile *logfile);  // \u628aconnection\u548cCLogFile\u7684\u4f20\u8fdb\u53bb\u3002\n  bool SplitBuffer(char *strBuffer,bool bisxml);  // \u628a\u4ece\u6587\u4ef6\u8bfb\u5230\u7684\u4e00\u884c\u6570\u636e\u62c6\u5206\u5230m_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u3002\n  bool InsertTable();  // \u628am_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u5230T_ZHOBTMIND\u8868\u4e2d\u3002\n};\n\n\n\n#endif\n</code></pre> <p>/root/project/idc/c/idcapp.cpp</p> C++<pre><code>/****************************************************************************************/\n/*   \u7a0b\u5e8f\u540d\uff1aidcapp.cpp\uff0c\u6b64\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u9879\u76ee\u516c\u7528\u51fd\u6570\u548c\u7c7b\u7684\u5b9e\u73b0\u6587\u4ef6\u3002                   */\n/*   \u4f5c\u8005\uff1agmc                                                                       */\n/****************************************************************************************/\n\n#include \"idcapp.h\"\n\n\nCZHOBTMIND::CZHOBTMIND()\n{\n  m_conn=0;  m_logfile=0;\n}\n\nCZHOBTMIND::CZHOBTMIND(connection *conn,CLogFile *logfile)\n{\n  m_conn=conn;\n  m_logfile=logfile;\n}\n\nCZHOBTMIND::~CZHOBTMIND()\n{\n}\n\nvoid CZHOBTMIND::BindConnLog(connection *conn,CLogFile *logfile)\n{\n  m_conn=conn;\n  m_logfile=logfile;\n}\n\n// \u628a\u4ece\u6587\u4ef6\u8bfb\u5230\u7684\u4e00\u884c\u6570\u636e\u62c6\u5206\u5230m_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u3002\nbool CZHOBTMIND::SplitBuffer(char *strBuffer,bool bisxml)\n{\n  memset(&amp;m_zhobtmind,0,sizeof(struct st_zhobtmind));\n\n  if (bisxml==true)\n  {\n    GetXMLBuffer(strBuffer,\"obtid\",m_zhobtmind.obtid,10);\n    GetXMLBuffer(strBuffer,\"ddatetime\",m_zhobtmind.ddatetime,14);\n    char tmp[11];\n    GetXMLBuffer(strBuffer,\"t\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.t,10,\"%d\",(int)(atof(tmp)*10));\n    GetXMLBuffer(strBuffer,\"p\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.p,10,\"%d\",(int)(atof(tmp)*10));\n    GetXMLBuffer(strBuffer,\"u\",m_zhobtmind.u,10);\n    GetXMLBuffer(strBuffer,\"wd\",m_zhobtmind.wd,10);\n    GetXMLBuffer(strBuffer,\"wf\",tmp,10);  if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.wf,10,\"%d\",(int)(atof(tmp)*10));\n    GetXMLBuffer(strBuffer,\"r\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.r,10,\"%d\",(int)(atof(tmp)*10));\n    GetXMLBuffer(strBuffer,\"vis\",tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.vis,10,\"%d\",(int)(atof(tmp)*10));\n  }\n  //\u5904\u7406csv\u683c\u5f0f\n  else\n  {\n    CCmdStr CmdStr;\n    CmdStr.SplitToCmd(strBuffer,\",\");\n    CmdStr.GetValue(0,m_zhobtmind.obtid,10);\n    CmdStr.GetValue(1,m_zhobtmind.ddatetime,14);\n    char tmp[11];\n    CmdStr.GetValue(2,tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.t,10,\"%d\",(int)(atof(tmp)*10));\n    CmdStr.GetValue(3,tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.p,10,\"%d\",(int)(atof(tmp)*10));\n    CmdStr.GetValue(4,m_zhobtmind.u,10);\n    CmdStr.GetValue(5,m_zhobtmind.wd,10);\n    CmdStr.GetValue(6,tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.wf,10,\"%d\",(int)(atof(tmp)*10));\n    CmdStr.GetValue(7,tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.r,10,\"%d\",(int)(atof(tmp)*10));\n    CmdStr.GetValue(8,tmp,10); if (strlen(tmp)&gt;0) snprintf(m_zhobtmind.vis,10,\"%d\",(int)(atof(tmp)*10));\n  }\n\n  STRCPY(m_buffer,sizeof(m_buffer),strBuffer);\n\n  return true;\n}\n\n// \u628am_zhobtmind\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u5230T_ZHOBTMIND\u8868\u4e2d\u3002\nbool CZHOBTMIND::InsertTable()\n{\n  if (m_stmt.m_state==0)\n  {\n    m_stmt.connect(m_conn);\n    m_stmt.prepare(\"insert into T_ZHOBTMIND(obtid,ddatetime,t,p,u,wd,wf,r,vis) values(:1,str_to_date(:2,'%%Y%%m%%d%%H%%i%%s'),:3,:4,:5,:6,:7,:8,:9)\");\n    m_stmt.bindin(1,m_zhobtmind.obtid,10);\n    m_stmt.bindin(2,m_zhobtmind.ddatetime,14);\n    m_stmt.bindin(3,m_zhobtmind.t,10);\n    m_stmt.bindin(4,m_zhobtmind.p,10);\n    m_stmt.bindin(5,m_zhobtmind.u,10);\n    m_stmt.bindin(6,m_zhobtmind.wd,10);\n    m_stmt.bindin(7,m_zhobtmind.wf,10);\n    m_stmt.bindin(8,m_zhobtmind.r,10);\n    m_stmt.bindin(9,m_zhobtmind.vis,10);\n  }\n\n  // \u628a\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u8868\u4e2d\u3002\n  if (m_stmt.execute()!=0)\n  {\n    // 1\u3001\u5931\u8d25\u7684\u60c5\u51b5\u6709\u54ea\u4e9b\uff1f\u662f\u5426\u5168\u90e8\u7684\u5931\u8d25\u90fd\u8981\u5199\u65e5\u5fd7\uff1f\n    // \u7b54\uff1a\u5931\u8d25\u7684\u539f\u56e0\u4e3b\u8981\u6709\u4e8c\uff1a\u4e00\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e8c\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\u3002\n    // 2\u3001\u5982\u679c\u5931\u8d25\u4e86\u600e\u4e48\u529e\uff1f\u7a0b\u5e8f\u662f\u5426\u9700\u8981\u7ee7\u7eed\uff1f\u662f\u5426rollback\uff1f\u662f\u5426\u8fd4\u56defalse\uff1f\n    // \u7b54\uff1a\u5982\u679c\u5931\u8d25\u7684\u539f\u56e0\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\uff0c\u8bb0\u5f55\u65e5\u5fd7\u540e\u7ee7\u7eed\uff1b\u5982\u679c\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e0d\u5fc5\u8bb0\u5f55\u65e5\u5fd7\uff0c\u4e14\u7ee7\u7eed\u3002\n    if (m_stmt.m_cda.rc!=1062)\n    {\n      m_logfile-&gt;Write(\"Buffer=%s\\n\",m_buffer);\n      m_logfile-&gt;Write(\"m_stmt.execute() failed.\\n%s\\n%s\\n\",m_stmt.m_sql,m_stmt.m_cda.message);\n    }\n\n    return false;\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/11%20%E6%89%A7%E8%A1%8CSQL%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6/","title":"11 \u6267\u884cSQL\u811a\u672c\u6587\u4ef6","text":"<p>\u5e0c\u671b\u5b9a\u671f\u7684\u6267\u884csql\u811a\u672c\uff0c\u6e05\u7406\u5386\u53f2\u6570\u636e</p> <p>\u53ef\u4ee5\u7528\u8f93\u5165\u91cd\u5b9a\u5411\u7684\u65b9\u5f0f\u6267\u884c\u811a\u672c\u6587\u4ef6\uff0c\u4f46\u6211\u4eec\u7684\u8c03\u5ea6\u7a0b\u5e8f\u4e0d\u652f\u6301\u8f93\u5165\u91cd\u5b9a\u5411\uff0c\u6211\u4eec\u53ea\u80fd\u81ea\u5df1\u5199\u4e00\u4e2a\u6267\u884csql\u811a\u672c\u7684\u7a0b\u5e8f\uff0c\u8fd9\u4e2a\u5c0f\u5de5\u5177\u7a0b\u5e8f\u5bf9\u7ef4\u62a4\u4eba\u5458\u5f88\u7ba1\u7528\uff0c\u53ef\u4ee5\u7528\u6765\u6267\u884c\u4e00\u4e9b\u5c0f\u4efb\u52a1</p> <p>/root/project/idc/sql/cleardata.sql</p> <p>/root/project/tools1/c/execsql1.cpp</p> C++<pre><code>/*\n *  execsql.cpp\uff0c\u8fd9\u662f\u4e00\u4e2a\u5de5\u5177\u7a0b\u5e8f\uff0c\u7528\u4e8e\u6267\u884c\u4e00\u4e2asql\u811a\u672c\u6587\u4ef6\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\nCLogFile logfile;\n\nconnection conn;\n\nCPActive PActive;\n\nvoid EXIT(int sig);\n\nint main(int argc,char *argv[])\n{\n  // \u5e2e\u52a9\u6587\u6863\u3002\n  if (argc!=5)\n  {\n    printf(\"\\n\");\n    printf(\"Using:./execsql sqlfile connstr charset logfile\\n\");\n\n    printf(\"Example:/project/tools1/bin/procctl 120 /project/tools1/bin/execsql /project/idc/sql/cleardata.sql \\\"127.0.0.1,root,mysqlpwd,mysql,3306\\\" utf8 /log/idc/execsql.log\\n\\n\");\n\n    printf(\"\u8fd9\u662f\u4e00\u4e2a\u5de5\u5177\u7a0b\u5e8f\uff0c\u7528\u4e8e\u6267\u884c\u4e00\u4e2asql\u811a\u672c\u6587\u4ef6\u3002\\n\");\n    printf(\"sqlfile sql\u811a\u672c\u6587\u4ef6\u540d\uff0c\u6bcf\u6761sql\u8bed\u53e5\u53ef\u4ee5\u591a\u884c\u4e66\u5199\uff0c\u5206\u53f7\u8868\u793a\u4e00\u6761sql\u8bed\u53e5\u7684\u7ed3\u675f\uff0c\u4e0d\u652f\u6301\u6ce8\u91ca\u3002\\n\");\n    printf(\"connstr \u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff1aip,username,password,dbname,port\\n\");\n    printf(\"charset \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\\n\");\n    printf(\"logfile \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\\n\");\n\n    return -1;\n  }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[4],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[4]); return -1;\n  }\n\n  PActive.AddPInfo(500,\"obtcodetodb\");   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\uff0c\u65f6\u95f4\u957f\u7684\u70b9\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(5000,\"obtcodetodb\");\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4e0d\u542f\u7528\u4e8b\u52a1\u3002\n  if (conn.connecttodb(argv[2],argv[3],1)!=0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",argv[2],conn.m_cda.message); return -1;\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",argv[2]);\n\n  CFile File;\n\n  // \u6253\u5f00SQL\u6587\u4ef6\u3002\n  if (File.Open(argv[1],\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) failed.\\n\",argv[1]); EXIT(-1);\n  }\n\n  char strsql[1001];    // \u5b58\u653e\u4eceSQL\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684SQL\u8bed\u53e5\u3002\n\n  while (true)\n  {\n    memset(strsql,0,sizeof(strsql));\n\n    // \u4eceSQL\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4ee5\u5206\u53f7\u7ed3\u675f\u7684\u4e00\u884c\u3002\n    if (File.FFGETS(strsql,1000,\";\")==false) break;\n\n    // \u5982\u679c\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f#\uff0c\u6ce8\u91ca\uff0c\u4e0d\u6267\u884c\u3002\n    if (strsql[0]=='#') continue;\n\n    // \u5220\u9664\u6389SQL\u8bed\u53e5\u6700\u540e\u7684\u5206\u53f7\u3002\n    char *pp=strstr(strsql,\";\");\n    if (pp==0) continue;\n    pp[0]=0;\n\n    logfile.Write(\"%s\\n\",strsql);\n\n    int iret=conn.execute(strsql);  // \u6267\u884cSQL\u8bed\u53e5\u3002\n\n    // \u628aSQL\u8bed\u53e5\u6267\u884c\u7ed3\u679c\u5199\u65e5\u5fd7\u3002\n    if (iret==0) logfile.Write(\"exec ok(rpc=%d).\\n\",conn.m_cda.rpc);\n    else logfile.Write(\"exec failed(%s).\\n\",conn.m_cda.message);\n\n    PActive.UptATime();   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\u3002\n  }\n\n  logfile.WriteEx(\"\\n\");\n\n  return 0;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/12%20%E6%80%BB%E7%BB%93/","title":"12 \u603b\u7ed3","text":"<p>\u5c01\u88c5Mysq\u6570\u636e\u5e93\u7684API</p> <p>\u5728c++\u7a0b\u5e8f\u4e2d\u64cd\u4f5cmysql\u6570\u636e\u5e93\uff0cmysql\u63d0\u4f9b\u4e86c\u8bed\u8a00\u7248\u672c\u7684\u51fd\u6570\u5e93\uff08\u53ef\u4ee5\u7528c\u8bed\u8a00\u8bbf\u95eemysql\u6570\u636e\u5e93\uff09\uff0c\u7528\u8d77\u6765\u4e0d\u65b9\u4fbf\uff0c\u5728\u8fd9\u7684\u5f00\u53d1\u6846\u67b6\u4e2d\uff0c\u6211\u4eec\u628amysql\u63d0\u4f9b\u7684\u51fd\u6570\u5c01\u88c5\u6210\u4e86connection\u548cSQL statement\u8fd9\u4e24\u4e2a\u7c7b\uff0c\u6211\u4eec\u628a\u66f4\u591a\u7684\u7cbe\u529b\u653e\u5728\u4e1a\u52a1\u4e0a</p> <p>\u7b2c\u56db\u4e2a\u4efb\u52a1\u662f\u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\u7684\u5165\u5e93\u3002\u6d4b\u8bd5\u6570\u636e\u5305\u62ec\u7ad9\u70b9\u53c2\u6570\uff0c\u6587\u4ef6\u548c\u7ad9\u70b9\u89c2\u6d4b\u6570\u636e\u6587\u4ef6\uff0c\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u7684\u5165\u5e93\u6bd4\u8f83\u7b80\u5355\uff0c\u5199\u7a0b\u5e8f\u4e0d\u7528\u592a\u8bb2\u7a76\u3002\u7ad9\u70b9\u89c2\u6d4b\u6570\u636e\u6587\u4ef6\u7684\u5165\u5e93\u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u4e0e\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u5de5\u4f5c\u7684\u9700\u6c42\u57fa\u672c\u4e0a\u662f\u4e00\u6837\u7684\u3002\u6240\u4ee5\u5bf9\u4ee3\u7801\u6709\u66f4\u9ad8\u7684\u8981\u6c42\uff0c\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u66f4\u5173\u6ce8\u4e1a\u52a1\u7684\u6d41\u7a0b\u548c\u4ee3\u7801\u903b\u8f91\u3002\u628a\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u7ec6\u8282\u653e\u5728\u5185\uff0c\u6216\u8005\u5b50\u51fd\u6570\u4e2d\uff0c\u8fd9\u79cd\u7f16\u7a0b\u601d\u60f3\u5f88\u91cd\u8981\uff0c\u4e00\u5b9a\u8981\u5145\u5206\u7406\u89e3\u3002\u6700\u540e\uff0c\u6682\u65f6\u4e0d\u8981\u53bb\u7814\u7a76connection\u548cxq l statement\u8fd9\u4e24\u4e2a\u7c7b\u7684\u5c01\u88c5\u7ec6\u8282\u3002\u56e0\u4e3a\u73b0\u5728\u5bf9\u6570\u636e\u5e93\u64cd\u4f5c\u7684\u7406\u89e3\u53ef\u80fd\u4e0d\u8db3\u591f\uff0c\u5982\u679c\u6709\u5174\u8da3\uff0c\u5efa\u8bae\u628a\u8bfe\u7a0b\u5b66\u5b8c\u4e4b\u540e\u518d\u53bb\u7814\u7a76\u3002</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/2%20%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE/","title":"\u8fc7\u7a0b","text":"<p>\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u7684\u5730\u5740</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/2%20%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE/#_2","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1acreatetable1.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u6570\u636e\u5e93\uff08\u521b\u5efa\u8868\uff09\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n\n#include \"_mysql.h\" //\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u7684\u5934\u6587\u4ef6\n\nint main(int argc,char *argv[])\n{\n    connection conn;    //\u6570\u636e\u5e93\u8fde\u63a5\u7c7b\n\n    //\u767b\u9646\u6570\u636e\u5e93 0\u6210\u529f \u5176\u4ed6\u7684\u5931\u8d25\uff0c\u5b58\u653eMySQL\u7684\u9519\u8bef\u4ee3\u7801\n    //\u5931\u8d25\u4ee3\u7801\u5728conn.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728conn.m_cda.message\u4e2d\n  if (conn.connecttodb(\"127.0.0.1,root,mysqlpwd,mysql,3306\",\"utf8\")!=0)\n  {\n    printf(\"connect database failed.\\n%s\\n\",conn.m_cda.message); return -1;\n  }\n    //\u5b9a\u4e49\u7528\u4e8e\u8d85\u5973\u4fe1\u606f\u7684\u7ed3\u6784\uff0c\u4e0e\u8868\u4e2d\u7684\u5b57\u6bb5\u5bf9\u5e94\n    struct st_girls\n    {\n        long id;        //\u8d85\u5973\u7f16\u53f7\n        char name[31];  //\u8d85\u5973\u59d3\u540d\n        double weight;  //\u8d85\u5973\u4f53\u91cd\n        char   btime[20];//\u62a5\u540d\u65f6\u95f4\n    }   stgirls;\n\n    //\u7ed1\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\n    sqlstatement stmt(&amp;conn);  //\u64cd\u4f5cSQL\u8bed\u53e5\u7684\u5bf9\u8c61\n\n    //\u51c6\u5907\u63d2\u5165\u8868\u7684sql\u8bed\u53e5\n    //int prepare(const char *fmt,...)\n    //prepare\u91cc\u9762\u7684\u53c2\u6570\u662f\u53ef\u53d8\u53c2\u6570\uff0c\u5728\u53ef\u53d8\u53c2\u6570\u91cc\u9762%\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u8868\u793a\u683c\u5f0f \u6bd4\u5982%d\u8868\u793a\u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u5982\u679c\u60f3\u5f97\u5230%\u5c31\u9700\u8981\u8f6c\u8bd1(\u518d\u52a0\u591a\u4e00\u4e2a%)\n    //\u628a\u4e0a\u9762struct st_girls\u7684\u53d8\u91cf\u4e0emysql\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u7528bindin\u51fd\u6570\n    stmt.prepare(\"\\\n     insert into girls(id,name,weight,btime) values(:1,:2,:3,str_to_date(:4,'%%Y-%%m-%%d %%H:%%i:%%s'))\");\n  // insert into girls(id,name,weight,btime) values(?,?,?,str_to_date(?,'%%Y-%%m-%%d %%H:%%i:%%s'))\");\n  //\u8fd9\u662f\u53e6\u5916\u4e00\u79cd\u8868\u8fbe\u65b9\u5f0f\n\n    //\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u7684\u5730\u5740\n    //position:\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u5fc5\u987b\u4e0eprepare\u65b9\u6cd5\u4e2d\u7684SQL\u5e8f\u53f7\u4e00\u4e00\u5bf9\u5e94\n    //value:\u8f93\u5165\u53d8\u91cf\u7684\u5730\u5740\uff0c\u5982\u679c\u662f\u5b57\u7b26\u4e32\uff0c\u5185\u5b58\u5927\u5c0f\u5e94\u8be5\u662f\u8868\u5bf9\u5e94\u7684\u5b57\u6bb5\u957f\u5ea6\u52a01\n    //len \u5982\u679c\u8f93\u5165\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b\u662f\u5b57\u7b26\u4e32\uff0c\u7528len\u6307\u5b9a\u4ed6\u7684\u6700\u5927\u957f\u5ea6\uff0c\u5efa\u8bae\u91c7\u7528\u8868\u5bf9\u5e94\u7684\u5b57\u6bb5\u957f\u5ea6\n    //\u8fd4\u56de\u503c\uff1a 0-\u6210\u529f \u5176\u4ed6\u5931\u8d25\uff0c\u7a0b\u5e8f\u4e2d\u4e00\u822c\u4e0d\u5fc5\u5173\u5fc3\u8fd4\u56de\u503c\n    //\u6ce8\u610f\uff1a1\uff09\u5982\u679cSQL\u8bed\u53e5\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u9700\u8981binin\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86 2\uff09\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u7684\u603b\u6570\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u4e2a\n    //int bindin(unsigned int position,char *value,unsigned int len);\n    stmt.bindin(1,&amp;stgirls.id);\n    stmt.bindin(2,stgirls.name,30);\n    stmt.bindin(3,&amp;stgirls.weight);\n    stmt.bindin(4,stgirls.btime,19);\n\n    //\u6a21\u62df\u8d85\u5973\u6570\u636e\uff0c\u5411\u8868\u4e2d\u63d2\u51655\u6761\u6d4b\u8bd5\u6570\u636e\n    for(int ii=0; ii&lt;5; ii++)\n    {\n        memset(&amp;stgirls,0,sizeof(struct st_girls));    //\u7ed3\u6784\u4f53\u53d8\u91cf\u521d\u59cb\u5316\n\n        //\u4e3a\u7ed3\u6784\u4f53\u53d8\u91cf\u7684\u6210\u5458\u8d4b\u503c \n        stgirls.id=ii+1;                                    //\u8d85\u5973\u7f16\u53f7\n        sprintf(stgirls.name,\"\u897f\u65bd%05dgirl\",ii+1);           //\u8d85\u5973\u59d3\u540d\n        stgirls.weight=45.25+ii;                            //\u8d85\u5973\u4f53\u91cd\n        sprintf(stgirls.btime,\"2023-1-15 12:30:%02d\",ii);   //\u62a5\u540d\u65f6\u95f4\n\n        if(stmt.execute()!=0)\n        {\n            printf(\"stmt.execute() failed. \\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return -1;\n        }\n        //\u8fd9\u91cc\u7528rpc\n        printf(\"\u6210\u529f\u63d2\u5165\u4e86%ld\u6761\u8bb0\u5f55\u3002 \\n\",stmt.m_cda.rpc);      //stmt.m_cda.rpc\u662f\u672c\u6b21\u6267\u884cSQL\u5f71\u54cd\u7684\u8bb0\u5f55\u6570\n    }\n    printf(\"insert table girls ok.\\n\");\n\n    conn.commit();     //\u63d0\u4ea4\u6570\u636e\u5e93\u4e8b\u52a1\n\n    return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/2%20%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE/#_3","title":"\u7ec6\u8282","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/2%20%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE/#_4","title":"\u8fd9\u91cc\u6709\u7684\u662f&amp;\u7684\u539f\u56e0","text":"<p>id\u548cweight\u9700\u8981\u7528&amp;\u53d6\u5730\u5740\uff0c\u800cname\u548cbtime\u5b83\u4eec\u662f\u6570\u7ec4\u4e0d\u9700\u8981\u53d6\u5730\u5740</p> <p></p> <p></p> <p></p> <p>\u203c\ufe0f\u91cd\u8981\uff1a</p> <p>prepare\u91cc\u9762\u7684\u53c2\u6570\u662f\u53ef\u53d8\u53c2\u6570\uff0c\u5728\u53ef\u53d8\u53c2\u6570\u91cc\u9762%\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u8868\u793a\u683c\u5f0f \u6bd4\u5982%d\u8868\u793a\u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u5982\u679c\u60f3\u5f97\u5230%\u5c31\u9700\u8981\u8f6c\u8bd1(\u518d\u52a0\u591a\u4e00\u4e2a%)</p> <p></p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/3%20%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE/","title":"3 \u4fee\u6539\u6570\u636e","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1aupdatetable1.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u6570\u636e\u5e93\uff08\u521b\u5efa\u8868\uff09\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n\n#include \"_mysql.h\" //\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u7684\u5934\u6587\u4ef6\n\nint main(int argc,char *argv[])\n{\n    connection conn;    //\u6570\u636e\u5e93\u8fde\u63a5\u7c7b\n\n    //\u767b\u9646\u6570\u636e\u5e93 0\u6210\u529f \u5176\u4ed6\u7684\u5931\u8d25\uff0c\u5b58\u653eMySQL\u7684\u9519\u8bef\u4ee3\u7801\n    //\u5931\u8d25\u4ee3\u7801\u5728conn.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728conn.m_cda.message\u4e2d\n   if (conn.connecttodb(\"127.0.0.1,root,mysqlpwd,mysql,3306\",\"utf8\")!=0)\n  {\n    printf(\"connect database failed.\\n%s\\n\",conn.m_cda.message); return -1;\n  }\n\n\n    //\u5b9a\u4e49\u7528\u4e8e\u8d85\u5973\u4fe1\u606f\u7684\u7ed3\u6784\uff0c\u4e0e\u8868\u4e2d\u7684\u5b57\u6bb5\u5bf9\u5e94\n    struct st_girls\n    {\n        long id;        //\u8d85\u5973\u7f16\u53f7\n        char name[31];  //\u8d85\u5973\u59d3\u540d\n        double weight;  //\u8d85\u5973\u4f53\u91cd\n        char   btime[20];//\u62a5\u540d\u65f6\u95f4\n    }   stgirls;\n\n    //\u7ed1\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\n    sqlstatement stmt(&amp;conn);  //\u64cd\u4f5cSQL\u8bed\u53e5\u7684\u5bf9\u8c61\n\n    //\u51c6\u5907\u63d2\u5165\u8868\u7684sql\u8bed\u53e5\n    //int prepare(const char *fmt,...)\n    //prepare\u91cc\u9762\u7684\u53c2\u6570\u662f\u53ef\u53d8\u53c2\u6570\uff0c\u5728\u53ef\u53d8\u53c2\u6570\u91cc\u9762%\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u8868\u793a\u683c\u5f0f \u6bd4\u5982%d\u8868\u793a\u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u5982\u679c\u60f3\u5f97\u5230%\u5c31\u9700\u8981\u8f6c\u8bd1(\u518d\u52a0\u591a\u4e00\u4e2a%)\n    //\u628a\u4e0a\u9762struct st_girls\u7684\u53d8\u91cf\u4e0emysql\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u7528bindin\u51fd\u6570\n\n\n\n        //\u91c7\u7528\u4f20\u5165\u53c2\u6570\u7684\u65b9\u6cd5\n    stmt.prepare(\"\\\n    update girls set name=:1,weight=:2,btime=str_to_date(:3,'%%Y-%%m-%%d %%H:%%i:%%s')where id=:4\");\n\n\n   /* \u6ce8\u610f\u4e8b\u9879\uff1a\n    1\u3001\u53c2\u6570\u7684\u5e8f\u53f7\u4ece1\u5f00\u59cb\uff0c\u8fde\u7eed\u3001\u9012\u589e\uff0c\u53c2\u6570\u4e5f\u53ef\u4ee5\u7528\u95ee\u53f7\u8868\u793a\uff0c\u4f46\u662f\uff0c\u95ee\u53f7\u7684\u517c\u5bb9\u6027\u4e0d\u597d\uff0c\u4e0d\u5efa\u8bae\uff1b\n    2\u3001SQL\u8bed\u53e5\u4e2d\u7684\u53f3\u503c\u624d\u80fd\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u540d\u3001\u5b57\u6bb5\u540d\u3001\u5173\u952e\u5b57\u3001\u51fd\u6570\u540d\u7b49\u90fd\u4e0d\u80fd\u4f5c\u4e3a\u53c2\u6570\uff1b\n    3\u3001\u53c2\u6570\u53ef\u4ee5\u53c2\u4e0e\u8fd0\u7b97\u6216\u7528\u4e8e\u51fd\u6570\u7684\u53c2\u6570\uff1b\n    4\u3001\u5982\u679cSQL\u8bed\u53e5\u7684\u4e3b\u4f53\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u9700\u8981prepare()\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86\uff1b\n    5\u3001SQL\u8bed\u53e5\u4e2d\u7684\u6bcf\u4e2a\u53c2\u6570\uff0c\u5fc5\u987b\u8c03\u7528bindin()\u7ed1\u5b9a\u53d8\u91cf\u7684\u5730\u5740\uff1b\n    6\u3001\u5982\u679cSQL\u8bed\u53e5\u7684\u4e3b\u4f53\u5df2\u6539\u53d8\uff0cprepare()\u540e\uff0c\u9700\u91cd\u65b0\u7528bindin()\u7ed1\u5b9a\u53d8\u91cf\uff1b\n    7\u3001prepare()\u65b9\u6cd5\u6709\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u4e0d\u68c0\u67e5\uff0c\u5982\u679cSQL\u8bed\u53e5\u6709\u95ee\u9898\uff0c\u8c03\u7528execute()\u65b9\u6cd5\u65f6\u80fd\u53d1\u73b0\uff1b\n    8\u3001bindin()\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u56fa\u5b9a\u4e3a0\uff0c\u4e0d\u7528\u5224\u65ad\u8fd4\u56de\u503c\uff1b\n    9\u3001prepare()\u548cbindin()\u4e4b\u540e\uff0c\u6bcf\u8c03\u7528\u4e00\u6b21execute()\uff0c\u5c31\u6267\u884c\u4e00\u6b21SQL\u8bed\u53e5\uff0cSQL\u8bed\u53e5\u7684\u6570\u636e\u6765\u81ea\u88ab\u7ed1\u5b9a\u53d8\u91cf\u7684\u503c\u3002\n  */\n    stmt.bindin(1,stgirls.name,30);\n    stmt.bindin(2,&amp;stgirls.weight);\n    stmt.bindin(3,stgirls.btime,19);\n    stmt.bindin(4,&amp;stgirls.id);\n\n\n    //\u6a21\u62df\u8d85\u5973\u6570\u636e\uff0c\u4fee\u6539\u8d85\u5973\u4fe1\u606f\u8868\u4e2d\u7684\u5168\u90e8\u8bb0\u5f55\n    for(int ii=0; ii&lt;5; ii++)\n    {\n        memset(&amp;stgirls,0,sizeof(struct st_girls));    //\u7ed3\u6784\u4f53\u53d8\u91cf\u521d\u59cb\u5316\n\n        //\u4e3a\u7ed3\u6784\u4f53\u53d8\u91cf\u7684\u6210\u5458\u8d4b\u503c \n        stgirls.id=ii+1;                                    //\u8d85\u5973\u7f16\u53f7\n        sprintf(stgirls.name,\"\u8c82\u8749%05dgirl\",ii+1);           //\u8d85\u5973\u59d3\u540d\n        stgirls.weight=45.25+ii;                            //\u8d85\u5973\u4f53\u91cd\n        sprintf(stgirls.btime,\"2023-1-20 11:34:%02d\",ii);   //\u62a5\u540d\u65f6\u95f4\n\n        if(stmt.execute()!=0)\n        {\n            /*\u8bb0\u5f55sql\u8bed\u53e5\uff0c\uff0c\u9519\u8bef\u539f\u56e0\u548c\u4ee3\u53f7\u8bb0\u4e0b\u6765   \n            struct CDA_DEF         // \u6bcf\u6b21\u8c03\u7528MySQL\u63a5\u53e3\u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c\u3002\n            {\n                int      rc;         // \u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff1b\u5176\u5b83\u662f\u5931\u8d25\uff0c\u5b58\u653e\u4e86MySQL\u7684\u9519\u8bef\u4ee3\u7801\u3002\n                unsigned long rpc;   // \u5982\u679c\u662finsert\u3001update\u548cdelete\uff0c\u5b58\u653e\u5f71\u54cd\u8bb0\u5f55\u7684\u884c\u6570\uff0c\u5982\u679c\u662fselect\uff0c\u5b58\u653e\u7ed3\u679c\u96c6\u7684\u884c\u6570\u3002\n                char     message[2048]; // \u5982\u679c\u8fd4\u56de\u5931\u8d25\uff0c\u5b58\u653e\u9519\u8bef\u63cf\u8ff0\u4fe1\u606f\u3002\n            };\n            */\n            printf(\"stmt.execute() failed. \\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return -1;\n        }\n        //\u8fd9\u91cc\u7528rpc\n        printf(\"\u6210\u529f\u4fee\u6539\u4e86%ld\u6761\u8bb0\u5f55\u3002 \\n\",stmt.m_cda.rpc);      //stmt.m_cda.rpc\u662f\u672c\u6b21\u6267\u884cSQL\u5f71\u54cd\u7684\u8bb0\u5f55\u6570\n    }\n\n    printf(\"update table girls ok.\\n\");\n\n    conn.commit();     //\u63d0\u4ea4\u6570\u636e\u5e93\u4e8b\u52a1\n\n\n    return 0;\n\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/4%20%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF%E8%A1%A8%E6%95%B0%E6%8D%AE/","title":"\u51c6\u5907","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/4%20%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF%E8%A1%A8%E6%95%B0%E6%8D%AE/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/4%20%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF%E8%A1%A8%E6%95%B0%E6%8D%AE/#_3","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1aselecttable.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u6570\u636e\u5e93\uff08\u67e5\u8be2\u8868\u4e2d\u7684\u8bb0\u5f55\uff09\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include &lt;unistd.h&gt;\n#include \"_mysql.h\"       // \u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u7684\u5934\u6587\u4ef6\u3002\n\nint main(int argc,char *argv[])\n{\n  connection conn;   // \u6570\u636e\u5e93\u8fde\u63a5\u7c7b\u3002\n\n  // \u767b\u5f55\u6570\u636e\u5e93\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff1b\u5176\u5b83\u662f\u5931\u8d25\uff0c\u5b58\u653e\u4e86MySQL\u7684\u9519\u8bef\u4ee3\u7801\u3002\n  // \u5931\u8d25\u4ee3\u7801\u5728conn.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728conn.m_cda.message\u4e2d\u3002\n  if (conn.connecttodb(\"127.0.0.1,root,mysqlpwd,mysql,3306\",\"utf8\")!=0)\n  {\n    printf(\"connect database failed.\\n%s\\n\",conn.m_cda.message); return -1;\n  }\n\n  // \u5b9a\u4e49\u7528\u4e8e\u8d85\u5973\u4fe1\u606f\u7684\u7ed3\u6784\uff0c\u4e0e\u8868\u4e2d\u7684\u5b57\u6bb5\u5bf9\u5e94\u3002\n  struct st_girls\n  {\n    long   id;        // \u8d85\u5973\u7f16\u53f7\n    char   name[31];  // \u8d85\u5973\u59d3\u540d\n    double weight;    // \u8d85\u5973\u4f53\u91cd\n    char   btime[20]; // \u62a5\u540d\u65f6\u95f4\n  } stgirls;\n\n  sqlstatement stmt(&amp;conn);  // \u64cd\u4f5cSQL\u8bed\u53e5\u7684\u5bf9\u8c61\u3002\n\n  int iminid,imaxid;  // \u67e5\u8be2\u6761\u4ef6\u6700\u5c0f\u548c\u6700\u5927\u7684id\u3002\n\n  // \u51c6\u5907\u67e5\u8be2\u8868\u7684SQL\u8bed\u53e5\u3002\n  stmt.prepare(\"\\\n    select id,name,weight,date_format(btime,'%%Y-%%m-%%d %%H:%%i:%%s') from girls where id&gt;=:1 and id&lt;=:2\");\n  /*\n    \u6ce8\u610f\u4e8b\u9879\uff1a\n    1\u3001\u5982\u679cSQL\u8bed\u53e5\u7684\u4e3b\u4f53\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u9700\u8981prepare()\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86\uff1b\n    2\u3001\u7ed3\u679c\u96c6\u4e2d\u7684\u5b57\u6bb5\uff0c\u8c03\u7528bindout()\u7ed1\u5b9a\u53d8\u91cf\u7684\u5730\u5740\uff1b\n    3\u3001bindout()\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u56fa\u5b9a\u4e3a0\uff0c\u4e0d\u7528\u5224\u65ad\u8fd4\u56de\u503c\uff1b\n    4\u3001\u5982\u679cSQL\u8bed\u53e5\u7684\u4e3b\u4f53\u5df2\u6539\u53d8\uff0cprepare()\u540e\uff0c\u9700\u91cd\u65b0\u7528bindout()\u7ed1\u5b9a\u53d8\u91cf\uff1b\n    5\u3001\u8c03\u7528execute()\u65b9\u6cd5\u6267\u884cSQL\u8bed\u53e5\uff0c\u7136\u540e\u518d\u5faa\u73af\u8c03\u7528next()\u65b9\u6cd5\u83b7\u53d6\u7ed3\u679c\u96c6\u4e2d\u7684\u8bb0\u5f55\uff1b\n    6\u3001\u6bcf\u8c03\u7528\u4e00\u6b21next()\u65b9\u6cd5\uff0c\u4ece\u7ed3\u679c\u96c6\u4e2d\u83b7\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u5b57\u6bb5\u5185\u5bb9\u4fdd\u5b58\u5728\u5df2\u7ed1\u5b9a\u7684\u53d8\u91cf\u4e2d\u3002\n  */\n  // \u4e3aSQL\u8bed\u53e5\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u7684\u5730\u5740\uff0cbindin\u65b9\u6cd5\u4e0d\u9700\u8981\u5224\u65ad\u8fd4\u56de\u503c\u3002\n  stmt.bindin(1,&amp;iminid);\n  stmt.bindin(2,&amp;imaxid);\n  // \u4e3aSQL\u8bed\u53e5\u7ed1\u5b9a\u8f93\u51fa\u53d8\u91cf\u7684\u5730\u5740\uff0cbindout\u65b9\u6cd5\u4e0d\u9700\u8981\u5224\u65ad\u8fd4\u56de\u503c\u3002\n  stmt.bindout(1,&amp;stgirls.id);\n  stmt.bindout(2, stgirls.name,30);\n  stmt.bindout(3,&amp;stgirls.weight);\n  stmt.bindout(4, stgirls.btime,19);\n\n  iminid=1;    // \u6307\u5b9a\u5f85\u67e5\u8be2\u8bb0\u5f55\u7684\u6700\u5c0fid\u7684\u503c\u3002\n  imaxid=3;    // \u6307\u5b9a\u5f85\u67e5\u8be2\u8bb0\u5f55\u7684\u6700\u5927id\u7684\u503c\u3002\n\n  // \u6267\u884cSQL\u8bed\u53e5\uff0c\u4e00\u5b9a\u8981\u5224\u65ad\u8fd4\u56de\u503c\uff0c0-\u6210\u529f\uff0c\u5176\u5b83-\u5931\u8d25\u3002\n  // \u5931\u8d25\u4ee3\u7801\u5728stmt.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728stmt.m_cda.message\u4e2d\u3002\n  if (stmt.execute() != 0)\n  {\n    printf(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return -1;\n  }\n\n  // \u672c\u7a0b\u5e8f\u6267\u884c\u7684\u662f\u67e5\u8be2\u8bed\u53e5\uff0c\u6267\u884cstmt.execute()\u540e\uff0c\u5c06\u4f1a\u5728\u6570\u636e\u5e93\u7684\u7f13\u51b2\u533a\u4e2d\u4ea7\u751f\u4e00\u4e2a\u7ed3\u679c\u96c6\u3002\n  while (true)\n  {\n    memset(&amp;stgirls,0,sizeof(struct st_girls));         // \u7ed3\u6784\u4f53\u53d8\u91cf\u521d\u59cb\u5316\u3002\n\n    // \u4ece\u7ed3\u679c\u96c6\u4e2d\u83b7\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u4e00\u5b9a\u8981\u5224\u65ad\u8fd4\u56de\u503c\uff0c0-\u6210\u529f\uff0c1403-\u65e0\u8bb0\u5f55\uff0c\u5176\u5b83-\u5931\u8d25\u3002\n    // \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u9664\u4e860\u548c1403\uff0c\u5176\u5b83\u7684\u60c5\u51b5\u6781\u5c11\u51fa\u73b0\u3002\n    if (stmt.next()!=0) break;\n\n    // \u628a\u83b7\u53d6\u5230\u7684\u8bb0\u5f55\u7684\u503c\u6253\u5370\u51fa\u6765\u3002\n    printf(\"id=%ld,name=%s,weight=%.02f,btime=%s\\n\",stgirls.id,stgirls.name,stgirls.weight,stgirls.btime);\n  }\n\n  // \u8bf7\u6ce8\u610f\uff0cstmt.m_cda.rpc\u53d8\u91cf\u975e\u5e38\u91cd\u8981\uff0c\u5b83\u4fdd\u5b58\u4e86SQL\u88ab\u6267\u884c\u540e\u5f71\u54cd\u7684\u8bb0\u5f55\u6570\u3002\n  printf(\"\u672c\u6b21\u67e5\u8be2\u4e86girls\u8868%ld\u6761\u8bb0\u5f55\u3002\\n\",stmt.m_cda.rpc);\n\n  return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/4%20%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF%E8%A1%A8%E6%95%B0%E6%8D%AE/#_4","title":"\u7ec6\u8282","text":"<p>\u5982\u679cSQL\u8bed\u53e5\u7684\u4e3b\u4f53\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u9700\u8981prepare()\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86\uff1b  \u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u4e0d\u8981\u91cd\u590d\u7684prepare\u518d\u91cd\u65b0\u7684\u7ed1\u5b9a\uff0c\u6d6a\u8d39cpu\u8d44\u6e90\uff0c\u800c\u4e14\u6bcf\u6b21\u6267\u884cprepare\u5ba2\u6237\u7aef\u4f1a\u628asql\u8bed\u53e5\u53d1\u7ed9\u670d\u52a1\u7aef\u53bb\u9a8c\u8bc1\uff0c\u4f1a\u4ea7\u751f\u4e00\u6b21\u7f51\u7edc\u901a\u4fe1\u7684\u5f00\u9500</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/5%20%E5%88%A0%E9%99%A4%E4%BF%A1%E6%81%AF%E8%A1%A8%E6%95%B0%E6%8D%AE/","title":"5 \u5220\u9664\u4fe1\u606f\u8868\u6570\u636e","text":"<p>\u56e0\u4e3a\u8fd9\u91cc\u4ece\u8868\u4e2d\u5220\u9664\u6570\u636e\u7684sql\u8bed\u53e5\u4f1a\u4ea7\u751f\u4e8b\u52a1\uff0c\u6240\u4ee5\u8fd9\u91cc\u9700\u8981\u63d0\u4ea4\u4e8b\u52a1</p> C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1adeletetable.cpp\uff0c\u6b64\u7a0b\u5e8f\u6f14\u793a\u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u6570\u636e\u5e93\uff08\u5220\u9664\u8868\u4e2d\u7684\u8bb0\u5f55\uff09\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n\n#include \"_mysql.h\"       // \u5f00\u53d1\u6846\u67b6\u64cd\u4f5cMySQL\u7684\u5934\u6587\u4ef6\u3002\n\nint main(int argc,char *argv[])\n{\n  connection conn;   // \u6570\u636e\u5e93\u8fde\u63a5\u7c7b\u3002\n\n  // \u767b\u5f55\u6570\u636e\u5e93\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff1b\u5176\u5b83\u662f\u5931\u8d25\uff0c\u5b58\u653e\u4e86MySQL\u7684\u9519\u8bef\u4ee3\u7801\u3002\n  // \u5931\u8d25\u4ee3\u7801\u5728conn.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728conn.m_cda.message\u4e2d\u3002\n  if (conn.connecttodb(\"127.0.0.1,root,mysqlpwd,mysql,3306\",\"utf8\")!=0)\n  {\n    printf(\"connect database failed.\\n%s\\n\",conn.m_cda.message); return -1;\n  }\n\n  sqlstatement stmt(&amp;conn);  // \u64cd\u4f5cSQL\u8bed\u53e5\u7684\u5bf9\u8c61\u3002\n\n  int iminid,imaxid;  // \u5220\u9664\u6761\u4ef6\u6700\u5c0f\u548c\u6700\u5927\u7684id\u3002\n\n  // \u51c6\u5907\u5220\u9664\u8868\u7684SQL\u8bed\u53e5\u3002\n  stmt.prepare(\"delete from girls where id&gt;=:1 and id&lt;=:2\");\n  // \u4e3aSQL\u8bed\u53e5\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u7684\u5730\u5740\uff0cbindin\u65b9\u6cd5\u4e0d\u9700\u8981\u5224\u65ad\u8fd4\u56de\u503c\u3002\n  stmt.bindin(1,&amp;iminid);\n  stmt.bindin(2,&amp;imaxid);\n\n  iminid=1;    // \u6307\u5b9a\u5f85\u5220\u9664\u8bb0\u5f55\u7684\u6700\u5c0fid\u7684\u503c\u3002\n  imaxid=3;    // \u6307\u5b9a\u5f85\u5220\u9664\u8bb0\u5f55\u7684\u6700\u5927id\u7684\u503c\u3002\n\n  // \u6267\u884cSQL\u8bed\u53e5\uff0c\u4e00\u5b9a\u8981\u5224\u65ad\u8fd4\u56de\u503c\uff0c0-\u6210\u529f\uff0c\u5176\u5b83-\u5931\u8d25\u3002\n  // \u5931\u8d25\u4ee3\u7801\u5728stmt.m_cda.rc\u4e2d\uff0c\u5931\u8d25\u63cf\u8ff0\u5728stmt.m_cda.message\u4e2d\u3002\n  if (stmt.execute() != 0)\n  {\n    printf(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return -1;\n  }\n\n  // \u8bf7\u6ce8\u610f\uff0cstmt.m_cda.rpc\u53d8\u91cf\u975e\u5e38\u91cd\u8981\uff0c\u5b83\u4fdd\u5b58\u4e86SQL\u88ab\u6267\u884c\u540e\u5f71\u54cd\u7684\u8bb0\u5f55\u6570\u3002\n  printf(\"\u672c\u6b21\u5220\u9664\u4e86girls\u8868%ld\u6761\u8bb0\u5f55\u3002\\n\",stmt.m_cda.rpc);\n\n  conn.commit();   // \u63d0\u4ea4\u6570\u636e\u5e93\u4e8b\u52a1\u3002\n\n  return 0;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/7%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E6%8A%80%E5%B7%A7%28%E9%87%8D%E8%A6%81%29/","title":"7 \u6570\u636e\u5e93\u5f00\u53d1\u6ce8\u610f\u4e8b\u9879\u548c\u6280\u5de7(\u91cd\u8981)","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/7%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E6%8A%80%E5%B7%A7%28%E9%87%8D%E8%A6%81%29/#_1","title":"\u6570\u636e\u5e93\u5f00\u53d1\u6ce8\u610f\u4e8b\u9879\u548c\u6280\u5de7","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/7%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E6%8A%80%E5%B7%A7%28%E9%87%8D%E8%A6%81%29/#_2","title":"\u6ce8\u610f\u4e8b\u9879\uff1a\u26a0\ufe0f\uff1a","text":"<ul> <li>\u4e00\u4e2aconnectio\u5bf9\u8c61\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u8fde\u4e00\u4e2a\u6570\u636e\u5e93(\u65ad\u5f00\u53ef\u91cd\u8fde)</li> <li>\u540c\u4e00\u7a0b\u5e8f\u4e2d\uff0c\u521b\u5efa\u591a\u4e2aconnection\u5bf9\u8c61\u53ef\u4ee5\u540c\u65f6\u8fde\u591a\u4e2a\u6570\u636e\u5e93</li> <li>\u6bcf\u4e2aconnection\u5bf9\u8c61\u7684\u4e8b\u52a1\u662f\u72ec\u7acb\u7684</li> <li>\u591a\u4e2a\u8fdb\u7a0b\u4e0d\u80fd\u5171\u4eab\u540c\u4e00\u4e2a\u5df2\u8fde\u63a5\u6210\u529f\u7684connection\u5bf9\u8c61</li> <li>\u591a\u4e2asqlstateme\u5bf9\u8c61\u53ef\u4ee5\u7ed1\u5b9a\u540c\u4e00\u4e2aconnection\u5bf9\u8c61</li> <li>\u26a0\ufe0f\uff1a\u5982\u679c\u6267\u884c\u4e86select\u8bed\u53e5\uff0c\u5728\u7ed3\u679c\u96c6\u6ca1\u6709\u83b7\u53d6\u5b8c\u4e4b\u524d\uff0c\u540c\u4ee5connection\u4e2d\u7684\u5168\u90e8sqlstatement\u5bf9\u8c61\u90fd\u4e0d\u80fd\u6267\u884c\u4efb\u4f55SQL\u8bed\u53e5 \uff01\uff01\uff015.7\u8fd9\u4e2a\u6570\u636e\u5e93\u7684\u7f3a\u70b9</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/7%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E6%8A%80%E5%B7%A7%28%E9%87%8D%E8%A6%81%29/#_3","title":"\u5e94\u7528\u6280\u5de7\uff1a","text":"<p>c\u8bed\u8a00\u4e0d\u80fd\u8868\u793a\u7a7a\u7684\u6574\u6570\u548c\u6d6e\u70b9\u6570\uff0c\u5b9e\u6218\u4e2d\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32\u5b58\u653e\u6574\u6570\u548c\u6d6e\u70b9\u6570\uff0c\u53ef\u4ee5\u8868\u793a\u7a7a\u503c\uff0c\u53ef\u4ee5\u628a\u53d8\u91cf\u8bbe\u4e3achar</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/7%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%92%8C%E6%8A%80%E5%B7%A7%28%E9%87%8D%E8%A6%81%29/#execute","title":"\u5728\u8fd9\u4e2a\u9879\u76ee\u4e2d\u6211\u4eec\u5728execute\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u8fdb\u884c\u4e86\u5c01\u88c5\uff0c\u6765\u5904\u7406\u5b57\u7b26\u4e32\u5b57\u6bb5\u4e3a\u7a7a\u7684\u60c5\u51b5","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/8%20%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/","title":"\u51c6\u5907","text":"<p>sql\u6587\u4ef6</p> SQL<pre><code>create table T_ZHOBICODE\n(\n    obtid           varchar(10) not null comment'\u7ad9\u70b9\u4ee3\u7801',\n    cityname    varchar(30) not null comment'\u57ce \u5e02\u540d\u79f0',\n    provname    varchar(30) not null comment' \u7701\u540d\u79f0',\n    lat             int not null comment '\u7eac\u5ea6\uff0c\u5355\u4f4d: 0.01\u5ea6',\n    lon             int not null comment '\u7ecf\u5ea6\uff0c\u5355\u4f4d: 0.01\u5ea6',\n    height      int comment '\u6d77\u62d4\u9ad8\u5ea6\uff0c\u5355\u4f4d: 0.1\u7c73\u3002',\n    upttime     timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\uff0c\u6570\u636e\u88ab\u63d2\u5165\u6216\u66f4\u65b0\u7684\u65f6\u95f4',\n    keyid           int not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217',\n    primary key (obtid),\n    unique key ZHOBTCODE_KEYID (keyid)\n);\n\nalter table T_ZHOBTCODE comment '\u8fd9\u662f\u4e00\u4e2a\u53c2\u6570\u8868,\u5b58\u653e\u4e86\u5168\u56fd\u7684\u7ad9\u70b9\u53c2\u6570,\u7ea6800\u6761\u8bb0\u5f55,\u672c\u8868\u7684\u6570\u636e\u6781\u5c11\u53d8\u66f4.\u5e94\u7528\u7a0b\u5e8f\u5bf9\u672c\u8868\u6709inser\u548cup'\n</code></pre> <p>\u8981\u8bbe\u7f6e\u4e3a\u8fd9\u4e2a\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\uff0c\u63d2\u5165\u4e0d\u8fdb\u53bb</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/8%20%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/#_2","title":"\u5b9e\u73b0\u8fc7\u7a0b","text":"Text Only<pre><code>- \u5e2e\u52a9\u6587\u6863\n- \u5904\u7406\u7a0b\u5e8f\u9000\u51fa\u7684\u4fe1\u53f7\n- \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\n- \u628a\u5168\u56fd\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\n- \u8fde\u63a5\u6570\u636e\u5e93\n- \u51c6\u5907\u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\n- \u51c6\u5907\u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\n- \u904d\u5386vstcode\u5bb9\u5668\n- \u63d0\u4ea4\u4e8b\u52a1\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/8%20%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/#_3","title":"\u6700\u7ec8\u4ee3\u7801","text":"<p>/root/project/idc/c/obtcodetodb1.cpp</p> C++<pre><code>/*\n *  obtcodetodb.cpp\uff0c\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u53c2\u6570\u6570\u636e\u4fdd\u5b58\u5230\u6570\u636e\u5e93T_ZHOBTCODE\u8868\u4e2d\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u3002\nstruct st_stcode\n{\n  char provname[31]; // \u7701\n  char obtid[11];    // \u7ad9\u53f7\n  char cityname[31];  // \u7ad9\u540d\n  char lat[11];      // \u7eac\u5ea6\n  char lon[11];      // \u7ecf\u5ea6\n  char height[11];   // \u6d77\u62d4\u9ad8\u5ea6\n};\n\nvector&lt;struct st_stcode&gt; vstcode; // \u5b58\u653e\u5168\u56fd\u6c14\u8c61\u7ad9\u70b9\u53c2\u6570\u7684\u5bb9\u5668\u3002\n\n// \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002\nbool LoadSTCode(const char *inifile);\n\nCLogFile logfile;\n\nconnection conn;\n\nCPActive PActive;\n\nvoid EXIT(int sig);\n\nint main(int argc,char *argv[])\n{\n  // \u5e2e\u52a9\u6587\u6863\u3002\n  if (argc!=5)\n  {\n    printf(\"\\n\");\n    printf(\"Using:./obtcodetodb inifile connstr charset logfile\\n\");\n\n    printf(\"Example:/root/project/tools1/bin/procctl 120  /root/project/idc/bin/obtcodetodb1 /root/project/idc/ini/stcode.ini \\\"127.0.0.1,root,mysqlpwd,mysql,3306\\\" utf8 /root/project/idc/obtcodetodb1.log\\n\\n\");\n\n    printf(\"\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u53c2\u6570\u6570\u636e\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u8868\u4e2d\uff0c\u5982\u679c\u7ad9\u70b9\u4e0d\u5b58\u5728\u5219\u63d2\u5165\uff0c\u7ad9\u70b9\u5df2\u5b58\u5728\u5219\u66f4\u65b0\u3002\\n\");\n    printf(\"inifile \u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u540d\uff08\u5168\u8def\u5f84\uff09\u3002\\n\");\n    printf(\"connstr \u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff1aip,username,password,dbname,port\\n\");\n    printf(\"charset \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\\n\");\n    printf(\"logfile \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"\u7a0b\u5e8f\u6bcf120\u79d2\u8fd0\u884c\u4e00\u6b21\uff0c\u7531procctl\u8c03\u5ea6\u3002\\n\\n\\n\");\n\n    return -1;\n  }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[4],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[4]); return -1;\n  }\n\n  PActive.AddPInfo(10,\"obtcodetodb1\");   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\uff0c10\u79d2\u8db3\u591f\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(5000,\"obtcodetodb\");\n\n  // \u628a\u5168\u56fd\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002  \n  if (LoadSTCode(argv[1])==false) return -1;\n\n  logfile.Write(\"\u52a0\u8f7d\u53c2\u6570\u6587\u4ef6\uff08%s\uff09\u6210\u529f\uff0c\u7ad9\u70b9\u6570\uff08%d\uff09\u3002\\n\",argv[1],vstcode.size());\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n  if (conn.connecttodb(argv[2],argv[3])!=0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",argv[2],conn.m_cda.message); return -1;\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",argv[2]);\n\n  struct st_stcode stcode;\n\n  // \u51c6\u5907\u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002\n  sqlstatement stmtins(&amp;conn);\n  stmtins.prepare(\"insert into T_ZHOBTCODE(obtid,cityname,provname,lat,lon,height,upttime) values(:1,:2,:3,:4*100,:5*100,:6*10,now())\");\n  stmtins.bindin(1,stcode.obtid,10);\n  stmtins.bindin(2,stcode.cityname,30);\n  stmtins.bindin(3,stcode.provname,30);\n  stmtins.bindin(4,stcode.lat,10);\n  stmtins.bindin(5,stcode.lon,10);\n  stmtins.bindin(6,stcode.height,10);\n\n  // \u51c6\u5907\u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\u3002\n  sqlstatement stmtupt(&amp;conn);\n  stmtupt.prepare(\"update T_ZHOBTCODE set cityname=:1,provname=:2,lat=:3*100,lon=:4*100,height=:5*10,upttime=now() where obtid=:6\");\n  stmtupt.bindin(1,stcode.cityname,30);\n  stmtupt.bindin(2,stcode.provname,30);\n  stmtupt.bindin(3,stcode.lat,10);\n  stmtupt.bindin(4,stcode.lon,10);\n  stmtupt.bindin(5,stcode.height,10);\n  stmtupt.bindin(6,stcode.obtid,10);\n  // \u6284\u4ee5\u4e0a\u4ee3\u7801\u7684\u65f6\u5019\u8981\u5c0f\u5fc3\uff0c\u7ecf\u5e38\u6709\u4eba\u5728\u8fd9\u91cc\u683d\u8ddf\u6597\u3002\n\n  int inscount=0,uptcount=0;\n  CTimer Timer;\n\n  // \u904d\u5386vstcode\u5bb9\u5668\u3002\n  for (int ii=0;ii&lt;vstcode.size();ii++)\n  {\n    // \u4ece\u5bb9\u5668\u4e2d\u53d6\u51fa\u4e00\u6761\u8bb0\u5f55\u5230\u7ed3\u6784\u4f53stcode\u4e2d\u3002\n    memcpy(&amp;stcode,&amp;vstcode[ii],sizeof(struct st_stcode));\n\n    // \u6267\u884c\u63d2\u5165\u7684SQL\u8bed\u53e5\u3002\n    if (stmtins.execute()!=0)\n    {\n      if (stmtins.m_cda.rc==1062)\n      {\n        // \u5982\u679c\u8bb0\u5f55\u5df2\u5b58\u5728\uff0c\u6267\u884c\u66f4\u65b0\u7684SQL\u8bed\u53e5\u3002\n        if (stmtupt.execute()!=0) \n        {\n          logfile.Write(\"stmtupt.execute() failed.\\n%s\\n%s\\n\",stmtupt.m_sql,stmtupt.m_cda.message); return -1;\n        }\n        else\n          uptcount++;\n      }\n      else\n      {\n        // \u6284\u8fd9\u884c\u4ee3\u7801\u7684\u65f6\u5019\u4e5f\u8981\u5c0f\u5fc3\uff0c\u7ecf\u5e38\u6709\u4eba\u5728\u8fd9\u91cc\u683d\u8ddf\u6597\u3002\n        logfile.Write(\"stmtins.execute() failed.\\n%s\\n%s\\n\",stmtins.m_sql,stmtins.m_cda.message); return -1;\n      }\n    }\n    else\n      inscount++;\n  }\n\n  // \u628a\u603b\u8bb0\u5f55\u6570\u3001\u63d2\u5165\u8bb0\u5f55\u6570\u3001\u66f4\u65b0\u8bb0\u5f55\u6570\u3001\u6d88\u8017\u65f6\u957f\u8bb0\u5f55\u65e5\u5fd7\u3002\n  logfile.Write(\"\u603b\u8bb0\u5f55\u6570=%d\uff0c\u63d2\u5165=%d\uff0c\u66f4\u65b0=%d\uff0c\u8017\u65f6=%.2f\u79d2\u3002\\n\",vstcode.size(),inscount,uptcount,Timer.Elapsed());\n\n  // \u63d0\u4ea4\u4e8b\u52a1\u3002\n  conn.commit();\n\n  return 0;\n}\n\n// \u628a\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u52a0\u8f7d\u5230vstcode\u5bb9\u5668\u4e2d\u3002\nbool LoadSTCode(const char *inifile)\n{\n  CFile File;\n\n  // \u6253\u5f00\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u3002\n  if (File.Open(inifile,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) failed.\\n\",inifile); return false;\n  }\n\n  char strBuffer[301];\n\n  CCmdStr CmdStr;\n\n  struct st_stcode stcode;\n\n  while (true)\n  {\n    // \u4ece\u7ad9\u70b9\u53c2\u6570\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\uff0c\u5982\u679c\u5df2\u8bfb\u53d6\u5b8c\uff0c\u8df3\u51fa\u5faa\u73af\u3002\n    if (File.Fgets(strBuffer,300,true)==false) break;\n\n    // \u628a\u8bfb\u53d6\u5230\u7684\u4e00\u884c\u62c6\u5206\u3002\n    CmdStr.SplitToCmd(strBuffer,\",\",true);\n\n    if (CmdStr.CmdCount()!=6) continue;     // \u6254\u6389\u65e0\u6548\u7684\u884c\u3002\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7684\u6bcf\u4e2a\u6570\u636e\u9879\u4fdd\u5b58\u5230\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u4e2d\u3002\n    memset(&amp;stcode,0,sizeof(struct st_stcode));\n    CmdStr.GetValue(0, stcode.provname,30); // \u7701\n    CmdStr.GetValue(1, stcode.obtid,10);    // \u7ad9\u53f7\n    CmdStr.GetValue(2, stcode.cityname,30);  // \u7ad9\u540d\n    CmdStr.GetValue(3, stcode.lat,10);      // \u7eac\u5ea6\n    CmdStr.GetValue(4, stcode.lon,10);      // \u7ecf\u5ea6\n    CmdStr.GetValue(5, stcode.height,10);   // \u6d77\u62d4\u9ad8\u5ea6\n\n    // \u628a\u7ad9\u70b9\u53c2\u6570\u7ed3\u6784\u4f53\u653e\u5165\u7ad9\u70b9\u53c2\u6570\u5bb9\u5668\u3002\n    vstcode.push_back(stcode);\n  }\n\n  /*\n  for (int ii=0;ii&lt;vstcode.size();ii++)\n    logfile.Write(\"provname=%s,obtid=%s,cityname=%s,lat=%.2f,lon=%.2f,height=%.2f\\n\",\\\n                   vstcode[ii].provname,vstcode[ii].obtid,vstcode[ii].cityname,vstcode[ii].lat,\\\n                   vstcode[ii].lon,vstcode[ii].height);\n  */\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/8%20%E7%AB%99%E7%82%B9%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/#_4","title":"\u5c0f\u7ec6\u8282","text":"<p>\u8fd9\u4e2a\u7a0b\u5e8f\u5fc3\u8df3\u65f6\u95f4\u5f88\u77ed\u5982\u679c\u6211\u4eec\u7528gdb\u8c03\u8bd5\u4ee3\u7801\u7684\u65f6\u5019\u5f88\u5bb9\u6613\u88ab\u5b88\u62a4\u8fdb\u7a0b\u6740\u6389\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u8c03\u8bd5\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u5c06\u8fdb\u7a0b\u7684\u5fc3\u8df3\u7ed9\u6ce8\u91ca\u6389\uff0c\u8981\u4e48\u5c31\u8bbe\u7f6e\u4e00\u4e2a\u5f88\u957f\u7684\u65f6\u95f4</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/9%20%E7%AB%99%E7%82%B9%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/","title":"\u8fc7\u7a0b\uff1a","text":"<p>\u56e0\u4e3a\u6ca1\u6709\u5b66\u7b2c\u4e09\u7ae0\uff0c\u6240\u4ee5\u76f4\u63a5\u628a\u751f\u6210\u6d4b\u8bd5\u7684\u5168\u56fd\u7ad9\u70b9\u89c2\u6d4b\u7684\u5206\u949f\u6570\u636e\u76f4\u63a5\u5bfc\u5165/idcdata/surfdata\u4e2d</p> <p>\u6b65\u9aa4\uff1a1\u3001\u5148\u521b\u5efa\u4e0eT_ZHOBTCODE\u76f8\u5173\u7684\u6570\u636e\u5e93T_ZHOBTMIND</p> SQL<pre><code>drop index IDX_ZHOBTMIND_3 on T_ZHOBTMIND;\n\ndrop index IDX_ZHOBTMIND_2 on T_ZHOBTMIND;\n\ndrop index IDX_ZHOBTMIND_1 on T_ZHOBTMIND;\n\ndrop table if exists T_ZHOBTMIND;\n\n/*==============================================================*/\n/* Table: T_ZHOBTMIND                                           */\n/*==============================================================*/\ncreate table T_ZHOBTMIND\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801',\n   ddatetime            datetime not null comment '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f',\n   t                    int comment '\u6e7f\u5ea6\uff0c \u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6',\n   p                    int comment '\u6c14\u538b\uff0c \u5355\u4f4d\uff1a0.1\u767e\u5e15',\n   u                    int comment '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c',\n   wd                   int comment '\u98ce\u5411\uff1a0-360\u4e4b\u95f4\u7684\u503c',\n   wf                   int comment '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s',\n   r                    int comment 'j\u964d\u96e8\u91cf\uff1a0.1mm',\n   vis                  int comment '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4',\n   keyid                bigint not null comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217',\n  primary key (obtid, ddatetime),\n   key AK_ZHOBTMIND_KEYID (obtid, ddatetime)\n);\n\nalter table T_ZHOBTMIND comment '\u672c\u8868\u5b58\u653e\u4e86\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u6570\u636e\uff0c\u7ad9\u70b9\u6570\u7ea6840\u4e2a\uff0c\u6570\u636e\u5468\u671f\u4e3a1\u5206\u949f\uff0c\u5e94\u7528\u7a0b\u5e8f\u5bf9\u672c\u8868\u53ea\u6709insert\u64cd\u4f5c\uff0c\u6ca1\u6709update\u548cd';\n\n/*==============================================================*/\n/* Index: IDX_ZHOBTMIND_1                                       */\n/*==============================================================*/\ncreate unique index IDX_ZHOBTMIND_1 on T_ZHOBTMIND\n(\n   ddatetime,\n     obtid\n);\n\n/*==============================================================*/\n/* Index: IDX_ZHOBTMIND_2                                       */\n/*==============================================================*/\ncreate index IDX_ZHOBTMIND_2 on T_ZHOBTMIND\n(\n   ddatetime\n);\n\n/*==============================================================*/\n/* Index: IDX_ZHOBTMIND_3                                       */\n/*==============================================================*/\ncreate index IDX_ZHOBTMIND_3 on T_ZHOBTMIND\n(\n    obtid\n);\n\nalter table T_ZHOBTMIND add constraint FK_Reference_1 foreign key (obtid)\n      references T_ZHOBTCODE (obtid) on delete restrict on update restrict;\n</code></pre> <p></p> <p>2\u3001\u56e0\u4e3a\u8fd9\u4e2a\u7684\u610f\u601d\u662f\u5f80/idcdata/surfdata\u4e2d\u63d0\u53d6\u6570\u636e\uff0c\u6240\u4ee5\u8981\u8fdb\u5165/idcdata/surfdata\u751f\u6210\u6570\u636e</p> <p></p> <p></p> <p>3.\u8fd9\u4e00\u6b65\u662f\u6253\u5f00\u76ee\u5f55\uff0c\u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u540d</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/5%E3%80%81%E6%90%9E%E5%AE%9AMySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BC%80%E5%8F%91/9%20%E7%AB%99%E7%82%B9%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%85%A5%E5%BA%93/#_2","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  obtmindtodb2.cpp\uff0c\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u5165\u5e93\u5230T_ZHOBTMIND\u8868\u4e2d\uff0c\u652f\u6301xml\u548ccsv\u4e24\u79cd\u6587\u4ef6\u683c\u5f0f\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\nstruct st_zhobtmind\n{\n  char obtid[11];      // \u7ad9\u70b9\u4ee3\u7801\u3002\n  char ddatetime[21];  // \u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002\n  char t[11];          // \u6e29\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002\n  char p[11];          // \u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002\n  char u[11];          // \u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002\n  char wd[11];         // \u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002\n  char wf[11];         // \u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002\n  char r[11];          // \u964d\u96e8\u91cf\uff1a0.1mm\u3002\n  char vis[11];        // \u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002\n}stzhobtmind;\n\nCLogFile logfile;\n\nconnection conn;\n\nCPActive PActive;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset);\n\nint main(int argc,char *argv[])\n{\n  // \u5e2e\u52a9\u6587\u6863\u3002\n  if (argc!=5)\n  {\n    printf(\"\\n\");\n    printf(\"Using:./obtmindtodb pathname connstr charset logfile\\n\");\n\n    printf(\"Example:/project/tools1/bin/procctl 10 /project/idc1/bin/obtmindtodb /idcdata/surfdata \\\"127.0.0.1,root,mysqlpwd,mysql,3306\\\" utf8 /log/idc/obtmindtodb.log\\n\\n\");\n\n    printf(\"\u672c\u7a0b\u5e8f\u7528\u4e8e\u628a\u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u7684T_ZHOBTMIND\u8868\u4e2d\uff0c\u6570\u636e\u53ea\u63d2\u5165\uff0c\u4e0d\u66f4\u65b0\u3002\\n\");\n    printf(\"pathname \u5168\u56fd\u7ad9\u70b9\u5206\u949f\u89c2\u6d4b\u6570\u636e\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n    printf(\"connstr  \u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570\uff1aip,username,password,dbname,port\\n\");\n    printf(\"charset  \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\\n\");\n    printf(\"logfile  \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u540d\u3002\\n\");\n    printf(\"\u7a0b\u5e8f\u6bcf10\u79d2\u8fd0\u884c\u4e00\u6b21\uff0c\u7531procctl\u8c03\u5ea6\u3002\\n\\n\\n\");\n\n    return -1;\n  }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[4],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[4]); return -1;\n  }\n\n  // PActive.AddPInfo(30,\"obtmindtodb\");   // \u8fdb\u7a0b\u7684\u5fc3\u8df3\uff0c30\u79d2\u8db3\u591f\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  PActive.AddPInfo(5000,\"obtmindtodb\");\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _obtmindtodb(argv[1],argv[2],argv[3]);\n\n  return 0;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _obtmindtodb(char *pathname,char *connstr,char *charset)\n{\n  sqlstatement stmt;\n\n  CDir Dir;\n\n  // \u6253\u5f00\u76ee\u5f55\u3002\n  if (Dir.OpenDir(pathname,\"*.xml\")==false)\n  {\n    logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",pathname); return false;\n  }\n\n  CFile File;\n\n  while (true)\n  {\n    // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u540d\u3002\n    if (Dir.ReadDir()==false) break;\n\n    // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n    if (conn.m_state==0)\n    {\n      if (conn.connecttodb(connstr,charset)!=0)\n      {\n        logfile.Write(\"connect database(%s) failed.\\n%s\\n\",connstr,conn.m_cda.message); return -1;\n      }\n\n      logfile.Write(\"connect database(%s) ok.\\n\",connstr);\n    }\n\n    if (stmt.m_state==0)\n    {\n      stmt.connect(&amp;conn);\n      stmt.prepare(\"insert into T_ZHOBTMIND(obtid,ddatetime,t,p,u,wd,wf,r,vis) values(:1,str_to_date(:2,'%%Y%%m%%d%%H%%i%%s'),:3,:4,:5,:6,:7,:8,:9)\");\n      stmt.bindin(1,stzhobtmind.obtid,10);\n      stmt.bindin(2,stzhobtmind.ddatetime,14);\n      stmt.bindin(3,stzhobtmind.t,10);\n      stmt.bindin(4,stzhobtmind.p,10);\n      stmt.bindin(5,stzhobtmind.u,10);\n      stmt.bindin(6,stzhobtmind.wd,10);\n      stmt.bindin(7,stzhobtmind.wf,10);\n      stmt.bindin(8,stzhobtmind.r,10);\n      stmt.bindin(9,stzhobtmind.vis,10);\n    }\n\n    logfile.Write(\"filename=%s\\n\",Dir.m_FullFileName);\n\n    // \u6253\u5f00\u6587\u4ef6\u3002\n    if (File.Open(Dir.m_FullFileName,\"r\")==false)\n    {\n      logfile.Write(\"File.Open(%s) failed.\\n\",Dir.m_FullFileName); return false;\n    }\n\n    char strBuffer[1001];   // \u5b58\u653e\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684\u4e00\u884c\u3002\n\n    while (true)\n    {\n      if (File.FFGETS(strBuffer,1000,\"&lt;endl/&gt;\")==false) break;\n      logfile.Write(\"strBuffer=%s\",strBuffer);\n\n      // \u5904\u7406\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u3002\n      memset(&amp;stzhobtmind,0,sizeof(struct st_zhobtmind));\n      GetXMLBuffer(strBuffer,\"obtid\",stzhobtmind.obtid,10);\n      GetXMLBuffer(strBuffer,\"ddatetime\",stzhobtmind.ddatetime,14);\n      char tmp[11];\n      GetXMLBuffer(strBuffer,\"t\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(stzhobtmind.t,10,\"%d\",(int)(atof(tmp)*10));\n      GetXMLBuffer(strBuffer,\"p\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(stzhobtmind.p,10,\"%d\",(int)(atof(tmp)*10));\n      GetXMLBuffer(strBuffer,\"u\",stzhobtmind.u,10);\n      GetXMLBuffer(strBuffer,\"wd\",stzhobtmind.wd,10);\n      GetXMLBuffer(strBuffer,\"wf\",tmp,10);  if (strlen(tmp)&gt;0) snprintf(stzhobtmind.wf,10,\"%d\",(int)(atof(tmp)*10));\n      GetXMLBuffer(strBuffer,\"r\",tmp,10);   if (strlen(tmp)&gt;0) snprintf(stzhobtmind.r,10,\"%d\",(int)(atof(tmp)*10));\n      GetXMLBuffer(strBuffer,\"vis\",tmp,10); if (strlen(tmp)&gt;0) snprintf(stzhobtmind.vis,10,\"%d\",(int)(atof(tmp)*10));\n\n      logfile.Write(\"obtid=%s,ddatetime=%s,t=%s,p=%s,u=%s,wd=%s,wf=%s,r=%s,vis=%s\\n\",stzhobtmind.obtid,stzhobtmind.ddatetime,stzhobtmind.t,stzhobtmind.p,stzhobtmind.u,stzhobtmind.wd,stzhobtmind.wf,stzhobtmind.r,stzhobtmind.vis);\n\n      // \u628a\u7ed3\u6784\u4f53\u4e2d\u7684\u6570\u636e\u63d2\u5165\u8868\u4e2d\u3002\n      if (stmt.execute()!=0)\n      {\n        // 1\u3001\u5931\u8d25\u7684\u60c5\u51b5\u6709\u54ea\u4e9b\uff1f\u662f\u5426\u5168\u90e8\u7684\u5931\u8d25\u90fd\u8981\u5199\u65e5\u5fd7\uff1f\n        // \u7b54\uff1a\u5931\u8d25\u7684\u539f\u56e0\u4e3b\u8981\u6709\u4e8c\uff1a\u4e00\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e8c\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\u3002\n        // 2\u3001\u5982\u679c\u5931\u8d25\u4e86\u600e\u4e48\u529e\uff1f\u7a0b\u5e8f\u662f\u5426\u9700\u8981\u7ee7\u7eed\uff1f\u662f\u5426rollback\uff1f\u662f\u5426\u8fd4\u56defalse\uff1f\n        // \u7b54\uff1a\u5982\u679c\u5931\u8d25\u7684\u539f\u56e0\u662f\u6570\u636e\u5185\u5bb9\u975e\u6cd5\uff0c\u8bb0\u5f55\u65e5\u5fd7\u540e\u7ee7\u7eed\uff1b\u5982\u679c\u662f\u8bb0\u5f55\u91cd\u590d\uff0c\u4e0d\u5fc5\u8bb0\u5f55\u65e5\u5fd7\uff0c\u4e14\u7ee7\u7eed\u3002\n        if (stmt.m_cda.rc!=1062)\n        {\n          logfile.Write(\"Buffer=%s\\n\",strBuffer);\n          logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message);\n        }\n      }\n    }\n\n    // \u5220\u9664\u6587\u4ef6\u3001\u63d0\u4ea4\u4e8b\u52a1\u3002\n    // File.CloseAndRemove();\n\n    conn.commit();\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/","title":"\u51c6\u5907","text":"<p>\u65f6\u95f4\u51fd\u6570\u5728\u8fd9\u91cc\u767e\u5206\u53f7\u8981\u586b\u56db\u4e2a\uff0c\u56e0\u4e3aprintf\u4e4b\u540e\u56db\u4e2a\u5c31\u53d8\u6210\u4e24\u4e2a\u767e\u5206\u53f7\uff0c\u7136\u540e\u5728\u7a0b\u5e8f\u4e2d\u8fd8\u8981prepare\uff0c\u6700\u540e\u53ea\u5269\u4e0b\u4e00\u4e2a</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#strcmp","title":"strcmp\u51fd\u6570(\u8fd9\u4e00\u8282\u7528\u5230)","text":"<p> strcmp\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u7684\u5927\u5c0f\uff0c\u4e00\u4e2a\u5b57\u7b26\u4e00\u4e2a\u5b57\u7b26\u6bd4\u8f83\uff0c\u6309ASCLL\u7801\u6bd4\u8f83 \u6807\u51c6\u89c4\u5b9a\uff1a \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u5927\u4e8e0\u7684\u6570\u5b57 \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u7b49\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de0 \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u5c0f\u4e8e0\u7684\u6570\u5b57</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#strlen","title":"strlen\u51fd\u6570","text":"<p>strlen\u51fd\u6570\u8fd4\u56de\u7684\u662f\u5728\u5b57\u7b26\u4e32\u4e2d\u2019\\0\u2019\u524d\u9762\u51fa\u73b0\u7684\u5b57\u7b26\u7684\u4e2a\u6570</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#strcpy","title":"strcpy\u51fd\u6570","text":"<p> strcpy\u662f\u8986\u76d6\u62f7\u8d1d\uff0c\u5c06source\u5168\u8986\u76d6\u62f7\u8d1d\u5230destination\uff0c\u4f1a\u628a\u2019\\0\u2019\u4e5f\u62f7\u8fc7\u53bb\uff0c\u4e14\u5fc5\u987b\u8003\u8651destination\u7684\u7a7a\u95f4\u591f\u4e0d\u591f (destination\u7684\u7a7a\u95f4\u5fc5\u987b&gt;=source\u7684\u7a7a\u95f4)</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#strcat","title":"strcat\u51fd\u6570","text":"<p> strcat\u8ffd\u52a0\u62f7\u8d1d,\u8ffd\u52a0\u5230\u76ee\u6807\u7a7a\u95f4\u540e\u9762\uff0c\u76ee\u6807\u7a7a\u95f4\u5fc5\u987b\u8db3\u591f\u5927\uff0c\u80fd\u5bb9\u7eb3\u4e0b\u6e90\u5b57\u7b26\u4e32\u7684\u5185\u5bb9</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#_2","title":"\u8fc7\u7a0b\uff1a","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#1","title":"1 \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u7684\u7ed3\u6784\u4f53","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#2-xmlstarg","title":"2 xml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#3","title":"3 \u7ed3\u6784\u4f53\u91cc\u7684\u53c2\u6570","text":"<p>\u5bf9\u8fd9\u4e24\u4e2a\u53c2\u6570\u8fdb\u884c\u5904\u7406\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e2d\u5143\u7d20\u7684\u4e2a\u6570\u4e00\u5b9a\u8981\u76f8\u540c\uff0c\u5982\u679c\u4e0d\u540c\u8bf4\u660e\u53c2\u6570\u914d\u7f6e\u6709\u95ee\u9898</p> <p></p> <p>\u5982\u679c\u662f\u589e\u91cf\u62bd\u53d6\uff0c\u90a3\u4e48\u7ed3\u679c\u96c6\u4e2d\u4e00\u5b9a\u8981\u5305\u542b\u589e\u91cf\u5b57\u6bb5\uff0c\u4e5f\u5c31\u662f\u8bf4incfield\u4e00\u5b9a\u8981\u5728fieldstr\u4e2d\uff0c\u6211\u4eec\u7528\u589e\u91cf\u5b57\u6bb5\u7684\u503c\u8bb0\u5f55\u5df2\u62bd\u53d6\u6570\u636e\u7684\u4f4d\u7f6e</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#4","title":"4 \u8fdb\u884c\u5177\u4f53\u64cd\u4f5c","text":"<ul> <li>\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d</li> <li>\u628astarg.fieldstr\u89e3\u6790\u5230strfieldname\u6570\u7ec4\u4e2d</li> <li>\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u4e2d\u7684\u4f4d\u7f6e</li> </ul> <p>\u4e00\u3001</p> <p></p> <p>\u4e8c\u3001</p> <p></p> <p>\u4e09\u3001</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/1%20%E6%90%AD%E5%BB%BA%E6%A1%86%E6%9E%B6%E3%80%81%E8%A7%A3%E6%9E%90%E5%8F%82%E6%95%B0/#_3","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1adminingmysql.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char selectsql[1024];  // \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n  //\u7528\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\uff0c\u8981\u5148\u62c6\u5206\n  char fieldstr[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u5b57\u6bb5\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002\n  //\u5728\u7ed1\u5b9a\u7ed3\u679c\u96c6\u8f93\u51fa\u53d8\u91cf\u7684\u65f6\u5019\u4f1a\u7528\u5230\uff0c\n  char fieldlen[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char bfilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\n  char efilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\n  char outpath[301];     // \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char starttime[52];    // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\n  char incfield[31];     // \u9012\u589e\u5b57\u6bb5\u540d\u3002\n  char incfilename[301]; // \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\u3002\n  int  timeout;          // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u8fdb\u7a0b\u540d\uff0c\u5efa\u8bae\u7528\"dminingmysql_\u540e\u7f00\"\u7684\u65b9\u5f0f\u3002\n} starg;\n\n#define MAXFIELDCOUNT  100  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n#define MAXFIELDLEN    500  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\n\nchar strfieldname[MAXFIELDCOUNT][31];    // \u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\u6570\u7ec4\uff0c\u4ecestarg.fieldstr\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldlen[MAXFIELDCOUNT];           // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\u6570\u7ec4\uff0c\u4ecestarg.fieldlen\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldcount;                        // strfieldname\u548cifieldlen\u6570\u7ec4\u4e2d\u6709\u6548\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\nint  incfieldpos=-1;                     // \u9012\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002\n\n\nCLogFile logfile;\n\n// \u7a0b\u5e8f\u9000\u51fa\u548c\u4fe1\u53f72\u300115\u7684\u5904\u7406\u51fd\u6570\u3002\nvoid EXIT(int sig);\n\nvoid _help();\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer);\n\n// \u4e0a\u4f20\u6587\u4ef6\u529f\u80fd\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql();\n\nCPActive PActive;  // \u8fdb\u7a0b\u5fc3\u8df3\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal(); \n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u89e3\u6790xml\uff0c\u5f97\u5230\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\u3002\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  PActive.AddPInfo(starg.timeout,starg.pname);  // \u628a\u8fdb\u7a0b\u7684\u5fc3\u8df3\u4fe1\u606f\u5199\u5165\u5171\u4eab\u5185\u5b58\u3002\n\n  // logfile.Write(\"ftp.login ok.\\n\");  // \u6b63\u5f0f\u8fd0\u884c\u540e\uff0c\u53ef\u4ee5\u6ce8\u91ca\u8fd9\u884c\u4ee3\u7801\u3002\n\n  _dminingmysql();\n\n  return 0;\n}\n\n// \u4e0a\u4f20\u6587\u4ef6\u529f\u80fd\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql()\n{\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  printf(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  exit(0);\n}\n\nvoid _help()\n{\n  printf(\"Using:/project/tools1/bin/dminingmysql logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 3600 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTCODE.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;gbk&lt;/charset&gt;&lt;selectsql&gt;select obtid,cityname,provname,lat,lon,height from T_ZHOBTCODE&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,cityname,provname,lat,lon,height&lt;/fieldstr&gt;&lt;fieldlen&gt;10,30,30,10,10,10&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTCODE&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTCODE&lt;/pname&gt;\\\"\\n\\n\");\n  printf(\"       /project/tools1/bin/procctl   30 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTMIND.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;gbk&lt;/charset&gt;&lt;selectsql&gt;select obtid,date_format(ddatetime,'%%%%Y-%%%%m-%%%%d %%%%H:%%%%i:%%%%s'),t,p,u,wd,wf,r,vis,keyid from t_zhobtmind where keyid&gt;:1 and ddatetime&gt;timestampadd(minute,-120,now())&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,keyid&lt;/fieldstr&gt;&lt;fieldlen&gt;10,19,8,8,8,8,8,8,8,15&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTMIND&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;starttime&gt;&lt;/starttime&gt;&lt;incfield&gt;keyid&lt;/incfield&gt;&lt;incfilename&gt;/idcdata/dmining/dminingmysql_ZHOBTMIND_HYCZ.list&lt;/incfilename&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTMIND_HYCZ&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"selectsql   \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u6ce8\u610f\uff1a\u65f6\u95f4\u51fd\u6570\u7684\u767e\u5206\u53f7%\u9700\u8981\u56db\u4e2a\uff0c\u663e\u793a\u51fa\u6765\u624d\u6709\u4e24\u4e2a\uff0c\u88abprepare\u4e4b\u540e\u5c06\u5269\u4e00\u4e2a\u3002\\n\");\n  printf(\"fieldstr    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5c06\u4f5c\u4e3axml\u6587\u4ef6\u7684\u5b57\u6bb5\u540d\u3002\\n\");\n  printf(\"fieldlen    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002fieldstr\u4e0efieldlen\u7684\u5b57\u6bb5\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002\\n\");\n  printf(\"bfilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\\n\");\n  printf(\"efilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\\n\");\n  printf(\"outpath     \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"starttime   \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\"\\\n         \"\u5982\u679cstarttime\u4e3a\u7a7a\uff0c\u90a3\u4e48starttime\u53c2\u6570\u5c06\u5931\u6548\uff0c\u53ea\u8981\u672c\u7a0b\u5e8f\u542f\u52a8\u5c31\u4f1a\u6267\u884c\u6570\u636e\u62bd\u53d6\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u6e90\"\\\n         \"\u7684\u538b\u529b\uff0c\u4ece\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u822c\u5728\u5bf9\u65b9\u6570\u636e\u5e93\u6700\u95f2\u7684\u65f6\u5019\u65f6\u8fdb\u884c\u3002\\n\");\n  printf(\"incfield    \u9012\u589e\u5b57\u6bb5\u540d\uff0c\u5b83\u5fc5\u987b\u662ffieldstr\u4e2d\u7684\u5b57\u6bb5\u540d\uff0c\u5e76\u4e14\u53ea\u80fd\u662f\u6574\u578b\uff0c\u4e00\u822c\u4e3a\u81ea\u589e\u5b57\u6bb5\u3002\"\\\n          \"\u5982\u679cincfield\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u91c7\u7528\u589e\u91cf\u62bd\u53d6\u65b9\u6848\u3002\");\n  printf(\"incfilename \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4e22\u5931\uff0c\u5c06\u91cd\u65b0\u62bd\u53d6\u5168\u90e8\u7684\u6570\u636e\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"selectsql\",starg.selectsql,1000);\n  if (strlen(starg.selectsql)==0) { logfile.Write(\"selectsql is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldstr\",starg.fieldstr,500);\n  if (strlen(starg.fieldstr)==0) { logfile.Write(\"fieldstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldlen\",starg.fieldlen,500);\n  if (strlen(starg.fieldlen)==0) { logfile.Write(\"fieldlen is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"bfilename\",starg.bfilename,30);\n  if (strlen(starg.bfilename)==0) { logfile.Write(\"bfilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"efilename\",starg.efilename,30);\n  if (strlen(starg.efilename)==0) { logfile.Write(\"efilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"outpath\",starg.outpath,300);\n  if (strlen(starg.outpath)==0) { logfile.Write(\"outpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"starttime\",starg.starttime,50);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfield\",starg.incfield,30);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfilename\",starg.incfilename,300);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);   // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\");  return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);     // \u8fdb\u7a0b\u540d\u3002\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\");  return false; }\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  //\u521b\u5efa\u5b57\u7b26\u4e32\u62c6\u5206\u7684\u5bf9\u8c61\n  CCmdStr CmdStr;\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldlen,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldlen\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,&amp;ifieldlen[ii]);\n  }\n\n  ifieldcount=CmdStr.CmdCount();\n\n  // 2\u3001\u628astarg.fieldstr\u89e3\u6790\u5230strfieldname\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldstr,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldstr\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,strfieldname[ii],30);\n  }\n\n  // \u5224\u65adstrfieldname\u548cifieldlen\u4e24\u4e2a\u6570\u7ec4\u4e2d\u7684\u5b57\u6bb5\u662f\u5426\u4e00\u81f4\u3002\n  if (ifieldcount!=CmdStr.CmdCount())\n  {\n    logfile.Write(\"fieldstr\u548cfieldlen\u7684\u5143\u7d20\u6570\u91cf\u4e0d\u4e00\u81f4\u3002\\n\"); return false;\n  }\n\n  // 3\u3001\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u4e2d\u7684\u4f4d\u7f6e\u3002\n  if (strlen(starg.incfield)!=0)\n  {\n    for (int ii=0;ii&lt;ifieldcount;ii++)\n      if (strcmp(starg.incfield,strfieldname[ii])==0) { incfieldpos=ii; break; }\n\n    if (incfieldpos==-1)\n    {\n      logfile.Write(\"\u9012\u589e\u5b57\u6bb5\u540d%s\u4e0d\u5728\u5217\u8868%s\u4e2d\u3002\\n\",starg.incfield,starg.fieldstr); return false;\n    }\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/2%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%94%9F%E6%88%90xml/","title":"2 \u5168\u91cf\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml","text":"<p>\u4ece\u6570\u636e\u539f\u8868\u4e2d\u62bd\u53d6\u6570\u636e\u751f\u6210xml\u683c\u5f0f</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/2%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%94%9F%E6%88%90xml/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/2%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%94%9F%E6%88%90xml/#_2","title":"\u6700\u91cd\u8981\u7684\u4e00\u6b65","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/2%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%94%9F%E6%88%90xml/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1adminingmysql3.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char selectsql[1024];  // \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n  char fieldstr[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u5b57\u6bb5\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002\n  char fieldlen[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char bfilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\n  char efilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\n  char outpath[301];     // \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char starttime[52];    // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\n  char incfield[31];     // \u9012\u589e\u5b57\u6bb5\u540d\u3002\n  char incfilename[301]; // \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\u3002\n  int  timeout;          // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u8fdb\u7a0b\u540d\uff0c\u5efa\u8bae\u7528\"dminingmysql_\u540e\u7f00\"\u7684\u65b9\u5f0f\u3002\n} starg;\n\n#define MAXFIELDCOUNT  100  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n//#define MAXFIELDLEN    500  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\nint MAXFIELDLEN=-1;   // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\uff0c\u5b58\u653efieldlen\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6700\u5927\u503c\u3002\n\nchar strfieldname[MAXFIELDCOUNT][31];    // \u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\u6570\u7ec4\uff0c\u4ecestarg.fieldstr\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldlen[MAXFIELDCOUNT];           // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\u6570\u7ec4\uff0c\u4ecestarg.fieldlen\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldcount;                        // strfieldname\u548cifieldlen\u6570\u7ec4\u4e2d\u6709\u6548\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\nint  incfieldpos=-1;                     // \u9012\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002\n\nconnection conn;\n\nCLogFile logfile;\n\n// \u7a0b\u5e8f\u9000\u51fa\u548c\u4fe1\u53f72\u300115\u7684\u5904\u7406\u51fd\u6570\u3002\nvoid EXIT(int sig);\n\nvoid _help();\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer);\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime();\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql();\n\nCPActive PActive;  // \u8fdb\u7a0b\u5fc3\u8df3\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal(); \n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u89e3\u6790xml\uff0c\u5f97\u5230\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\u3002\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  // \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\n  if (instarttime()==false) return 0;\n\n  // PActive.AddPInfo(starg.timeout,starg.pname);  // \u628a\u8fdb\u7a0b\u7684\u5fc3\u8df3\u4fe1\u606f\u5199\u5165\u5171\u4eab\u5185\u5b58\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  PActive.AddPInfo(5000,starg.pname);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n  if (conn.connecttodb(starg.connstr,starg.charset)!=0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); return -1;\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  _dminingmysql();\n\n  return 0;\n}\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql()\n{\n  sqlstatement stmt(&amp;conn);\n  stmt.prepare(starg.selectsql);\n  char strfieldvalue[ifieldcount][MAXFIELDLEN+1];  // \u62bd\u53d6\u6570\u636e\u7684SQL\u6267\u884c\u540e\uff0c\u5b58\u653e\u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6570\u7ec4\u3002\n  for (int ii=1;ii&lt;=ifieldcount;ii++)\n  {\n    stmt.bindout(ii,strfieldvalue[ii-1],ifieldlen[ii-1]);\n  }\n\n  if (stmt.execute()!=0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }\n\n  while (true)\n  {\n    memset(strfieldvalue,0,sizeof(strfieldvalue));\n\n    if (stmt.next()!=0) break;\n\n    for (int ii=1;ii&lt;=ifieldcount;ii++)\n      logfile.WriteEx(\"&lt;%s&gt;%s&lt;/%s&gt;\",strfieldname[ii-1],strfieldvalue[ii-1],strfieldname[ii-1]);\n\n    logfile.WriteEx(\"&lt;endl/&gt;\\n\");\n  }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  printf(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  exit(0);\n}\n\nvoid _help()\n{\n  printf(\"Using:/project/tools1/bin/dminingmysql logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 3600 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTCODE.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,cityname,provname,lat,lon,height from T_ZHOBTCODE&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,cityname,provname,lat,lon,height&lt;/fieldstr&gt;&lt;fieldlen&gt;10,30,30,10,10,10&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTCODE&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTCODE&lt;/pname&gt;\\\"\\n\\n\");\n  printf(\"       /project/tools1/bin/procctl   30 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTMIND.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,date_format(ddatetime,'%%%%Y-%%%%m-%%%%d %%%%H:%%%%i:%%%%s'),t,p,u,wd,wf,r,vis,keyid from t_zhobtmind where keyid&gt;:1 and ddatetime&gt;timestampadd(minute,-120,now())&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,keyid&lt;/fieldstr&gt;&lt;fieldlen&gt;10,19,8,8,8,8,8,8,8,15&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTMIND&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;starttime&gt;&lt;/starttime&gt;&lt;incfield&gt;keyid&lt;/incfield&gt;&lt;incfilename&gt;/idcdata/dmining/dminingmysql_ZHOBTMIND_HYCZ.list&lt;/incfilename&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTMIND_HYCZ&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"selectsql   \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u6ce8\u610f\uff1a\u65f6\u95f4\u51fd\u6570\u7684\u767e\u5206\u53f7%\u9700\u8981\u56db\u4e2a\uff0c\u663e\u793a\u51fa\u6765\u624d\u6709\u4e24\u4e2a\uff0c\u88abprepare\u4e4b\u540e\u5c06\u5269\u4e00\u4e2a\u3002\\n\");\n  printf(\"fieldstr    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5c06\u4f5c\u4e3axml\u6587\u4ef6\u7684\u5b57\u6bb5\u540d\u3002\\n\");\n  printf(\"fieldlen    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002fieldstr\u4e0efieldlen\u7684\u5b57\u6bb5\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002\\n\");\n  printf(\"bfilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\\n\");\n  printf(\"efilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\\n\");\n  printf(\"outpath     \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"starttime   \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\"\\\n         \"\u5982\u679cstarttime\u4e3a\u7a7a\uff0c\u90a3\u4e48starttime\u53c2\u6570\u5c06\u5931\u6548\uff0c\u53ea\u8981\u672c\u7a0b\u5e8f\u542f\u52a8\u5c31\u4f1a\u6267\u884c\u6570\u636e\u62bd\u53d6\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u6e90\"\\\n         \"\u7684\u538b\u529b\uff0c\u4ece\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u822c\u5728\u5bf9\u65b9\u6570\u636e\u5e93\u6700\u95f2\u7684\u65f6\u5019\u65f6\u8fdb\u884c\u3002\\n\");\n  printf(\"incfield    \u9012\u589e\u5b57\u6bb5\u540d\uff0c\u5b83\u5fc5\u987b\u662ffieldstr\u4e2d\u7684\u5b57\u6bb5\u540d\uff0c\u5e76\u4e14\u53ea\u80fd\u662f\u6574\u578b\uff0c\u4e00\u822c\u4e3a\u81ea\u589e\u5b57\u6bb5\u3002\"\\\n          \"\u5982\u679cincfield\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u91c7\u7528\u589e\u91cf\u62bd\u53d6\u65b9\u6848\u3002\");\n  printf(\"incfilename \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4e22\u5931\uff0c\u5c06\u91cd\u65b0\u62bd\u53d6\u5168\u90e8\u7684\u6570\u636e\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"selectsql\",starg.selectsql,1000);\n  if (strlen(starg.selectsql)==0) { logfile.Write(\"selectsql is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldstr\",starg.fieldstr,500);\n  if (strlen(starg.fieldstr)==0) { logfile.Write(\"fieldstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldlen\",starg.fieldlen,500);\n  if (strlen(starg.fieldlen)==0) { logfile.Write(\"fieldlen is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"bfilename\",starg.bfilename,30);\n  if (strlen(starg.bfilename)==0) { logfile.Write(\"bfilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"efilename\",starg.efilename,30);\n  if (strlen(starg.efilename)==0) { logfile.Write(\"efilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"outpath\",starg.outpath,300);\n  if (strlen(starg.outpath)==0) { logfile.Write(\"outpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"starttime\",starg.starttime,50);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfield\",starg.incfield,30);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfilename\",starg.incfilename,300);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);   // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\");  return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);     // \u8fdb\u7a0b\u540d\u3002\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\");  return false; }\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CCmdStr CmdStr;\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldlen,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldlen\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,&amp;ifieldlen[ii]);\n    // if (ifieldlen[ii]&gt;MAXFIELDLEN) ifieldlen[ii]=MAXFIELDLEN;   // \u5b57\u6bb5\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7MAXFIELDLEN\u3002\n    if (ifieldlen[ii]&gt;MAXFIELDLEN) MAXFIELDLEN=ifieldlen[ii];   // \u5f97\u5230\u5b57\u6bb5\u957f\u5ea6\u7684\u6700\u5927\u503c\u3002\n  }\n\n  ifieldcount=CmdStr.CmdCount();\n\n  // 2\u3001\u628astarg.fieldstr\u89e3\u6790\u5230strfieldname\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldstr,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldstr\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,strfieldname[ii],30);\n  }\n\n  // \u5224\u65adstrfieldname\u548cifieldlen\u4e24\u4e2a\u6570\u7ec4\u4e2d\u7684\u5b57\u6bb5\u662f\u5426\u4e00\u81f4\u3002\n  if (ifieldcount!=CmdStr.CmdCount())\n  {\n    logfile.Write(\"fieldstr\u548cfieldlen\u7684\u5143\u7d20\u6570\u91cf\u4e0d\u4e00\u81f4\u3002\\n\"); return false;\n  }\n\n  // 3\u3001\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u4e2d\u7684\u4f4d\u7f6e\u3002\n  if (strlen(starg.incfield)!=0)\n  {\n    for (int ii=0;ii&lt;ifieldcount;ii++)\n      if (strcmp(starg.incfield,strfieldname[ii])==0) { incfieldpos=ii; break; }\n\n    if (incfieldpos==-1)\n    {\n      logfile.Write(\"\u9012\u589e\u5b57\u6bb5\u540d%s\u4e0d\u5728\u5217\u8868%s\u4e2d\u3002\\n\",starg.incfield,starg.fieldstr); return false;\n    }\n  }\n\n  return true;\n}\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime()\n{\n  // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\n  if (strlen(starg.starttime)!=0)\n  {\n    char strHH24[3];\n    memset(strHH24,0,sizeof(strHH24));\n    LocalTime(strHH24,\"hh24\");  // \u53ea\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u4e2d\u7684\u5c0f\u65f6\u3002\n    if (strstr(starg.starttime,strHH24)==0) return false;\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/","title":"3 \u5168\u91cf\u62bd\u53d6\u6570\u636e\uff0c\u5199\u5165xml","text":"<ul> <li>\u4e00\u4e2axml\u6587\u4ef6\u5b58\u653e\u7684\u8bb0\u5f55\u6570\u4e0d\u8d85\u8fc71000\u6761</li> <li>\u5728MySQL\u6570\u636e\u5e93\u4e2d\uff0c\u63d2\u5165\u6570\u636e\u7684\u901f\u5ea6\u5927\u6982\u57281000\u6761/\u79d2\u5de6\u53f3</li> <li>\u4e0d\u4f1a\u4ea7\u751f\u5927\u4e8b\u52a1\u548c\u957f\u4e8b\u52a1\uff0c\u4e0d\u4f1a\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u51b2\u51fb</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#1xml","title":"1\u3001\u751f\u6210xml\u6587\u4ef6\u540d","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#2","title":"2 \u6253\u5f00\u6587\u4ef6\u8fdb\u884c\u5904\u7406","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#3","title":"3","text":"<p>\u8fd9\u4e2a\u505a\u6cd5\u662f\u628a\u7ed3\u679c\u96c6\u5168\u90e8\u7684\u8bb0\u5f55\u4fdd\u5b58\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u4e0d\u592a\u5408\u7406\uff0c\u5728\u4ee5\u4e0b\u8fd9\u51e0\u4e2a\u6b65\u9aa4\u8fdb\u884c\u89e3\u51b3</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#4","title":"4","text":"<p>\u5728\u8fd9\u91cc\u8fdb\u884c\u4fee\u6539\uff0c\u751f\u6210\u6587\u4ef6\u540d\u9700\u8981\u4fee\u6539\uff0c\u56e0\u4e3a\u73b0\u5728\u9879\u76ee\uff1b\u6587\u4ef6\u7684\u547d\u540d\u65b9\u5f0f\u662f\u524d\u7f00\u52a0\u5f53\u524d\u65f6\u95f4\u52a0\u540e\u7f00\uff0c\u5982\u679c\u5728\u540c\u4e00\u79d2\u5185\u751f\u6210\u591a\u4e2a\u6587\u4ef6\u4f1a\u91cd\u590d\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u7ed9\u4ed6\u589e\u52a0\u4e00\u4e2a\u5e8f\u53f7</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/3%20%E5%85%A8%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%99%E5%85%A5xml/#_2","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1adminingmysql.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char selectsql[1024];  // \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n  char fieldstr[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u5b57\u6bb5\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002\n  char fieldlen[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char bfilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\n  char efilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\n  char outpath[301];     // \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char starttime[52];    // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\n  char incfield[31];     // \u9012\u589e\u5b57\u6bb5\u540d\u3002\n  char incfilename[301]; // \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\u3002\n  int  timeout;          // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u8fdb\u7a0b\u540d\uff0c\u5efa\u8bae\u7528\"dminingmysql_\u540e\u7f00\"\u7684\u65b9\u5f0f\u3002\n} starg;\n\n#define MAXFIELDCOUNT  100  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n//#define MAXFIELDLEN    500  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\nint MAXFIELDLEN=-1;   // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\uff0c\u5b58\u653efieldlen\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6700\u5927\u503c\u3002\n\nchar strfieldname[MAXFIELDCOUNT][31];    // \u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\u6570\u7ec4\uff0c\u4ecestarg.fieldstr\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldlen[MAXFIELDCOUNT];           // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\u6570\u7ec4\uff0c\u4ecestarg.fieldlen\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldcount;                        // strfieldname\u548cifieldlen\u6570\u7ec4\u4e2d\u6709\u6548\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\nint  incfieldpos=-1;                     // \u9012\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002\n\nconnection conn;\n\nCLogFile logfile;\n\n// \u7a0b\u5e8f\u9000\u51fa\u548c\u4fe1\u53f72\u300115\u7684\u5904\u7406\u51fd\u6570\u3002\nvoid EXIT(int sig);\n\nvoid _help();\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer);\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime();\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql();\n\nCPActive PActive;  // \u8fdb\u7a0b\u5fc3\u8df3\u3002\n\nchar strxmlfilename[301]; // xml\u6587\u4ef6\u540d\u3002\nvoid crtxmlfilename();    // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal(); \n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u89e3\u6790xml\uff0c\u5f97\u5230\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\u3002\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  // \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\n  if (instarttime()==false) return 0;\n\n  // PActive.AddPInfo(starg.timeout,starg.pname);  // \u628a\u8fdb\u7a0b\u7684\u5fc3\u8df3\u4fe1\u606f\u5199\u5165\u5171\u4eab\u5185\u5b58\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  PActive.AddPInfo(5000,starg.pname);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n  if (conn.connecttodb(starg.connstr,starg.charset)!=0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); return -1;\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  _dminingmysql();\n\n  return 0;\n}\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql()\n{\n  sqlstatement stmt(&amp;conn);\n  stmt.prepare(starg.selectsql);\n  char strfieldvalue[ifieldcount][MAXFIELDLEN+1];  // \u62bd\u53d6\u6570\u636e\u7684SQL\u6267\u884c\u540e\uff0c\u5b58\u653e\u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6570\u7ec4\u3002\n  for (int ii=1;ii&lt;=ifieldcount;ii++)\n  {\n    stmt.bindout(ii,strfieldvalue[ii-1],ifieldlen[ii-1]);\n  }\n\n  if (stmt.execute()!=0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }\n\n  CFile File;   // \u7528\u4e8e\u64cd\u4f5cxml\u6587\u4ef6\u3002\n\n  while (true)\n  {\n    memset(strfieldvalue,0,sizeof(strfieldvalue));\n\n    if (stmt.next()!=0) break;\n\n    if (File.IsOpened()==false)\n    {\n      crtxmlfilename();   // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n\n      if (File.OpenForRename(strxmlfilename,\"w+\")==false)\n      {\n        logfile.Write(\"File.OpenForRename(%s) failed.\\n\",strxmlfilename); return false;\n      }\n\n      File.Fprintf(\"&lt;data&gt;\\n\");\n    }\n\n    for (int ii=1;ii&lt;=ifieldcount;ii++)\n      File.Fprintf(\"&lt;%s&gt;%s&lt;/%s&gt;\",strfieldname[ii-1],strfieldvalue[ii-1],strfieldname[ii-1]);\n\n    File.Fprintf(\"&lt;endl/&gt;\\n\");\n\n    // \u5982\u679c\u8bb0\u5f55\u6570\u8fbe\u52301000\u884c\u5c31\u5207\u6362\u4e00\u4e2axml\u6587\u4ef6\u3002\n    if (stmt.m_cda.rpc%250==0)\n    {\n      File.Fprintf(\"&lt;/data&gt;\\n\");\n\n      if (File.CloseAndRename()==false)\n      {\n        logfile.Write(\"File.CloseAndRename(%s) failed.\\n\",strxmlfilename); return false;\n      }\n\n      logfile.Write(\"\u751f\u6210\u6587\u4ef6%s(250)\u3002\\n\",strxmlfilename);      \n    }\n  }\n\n  if (File.IsOpened()==true)\n  {\n    File.Fprintf(\"&lt;/data&gt;\\n\");\n\n    if (File.CloseAndRename()==false)\n    {\n      logfile.Write(\"File.CloseAndRename(%s) failed.\\n\",strxmlfilename); return false;\n    }\n\n    logfile.Write(\"\u751f\u6210\u6587\u4ef6%s(%d)\u3002\\n\",strxmlfilename,stmt.m_cda.rpc%250);\n  }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  printf(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  exit(0);\n}\n\nvoid _help()\n{\n  printf(\"Using:/project/tools1/bin/dminingmysql logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 3600 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTCODE.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,cityname,provname,lat,lon,height from T_ZHOBTCODE&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,cityname,provname,lat,lon,height&lt;/fieldstr&gt;&lt;fieldlen&gt;10,30,30,10,10,10&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTCODE&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTCODE&lt;/pname&gt;\\\"\\n\\n\");\n  printf(\"       /project/tools1/bin/procctl   30 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTMIND.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,date_format(ddatetime,'%%%%Y-%%%%m-%%%%d %%%%H:%%%%i:%%%%s'),t,p,u,wd,wf,r,vis,keyid from t_zhobtmind where keyid&gt;:1 and ddatetime&gt;timestampadd(minute,-120,now())&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,keyid&lt;/fieldstr&gt;&lt;fieldlen&gt;10,19,8,8,8,8,8,8,8,15&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTMIND&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;starttime&gt;&lt;/starttime&gt;&lt;incfield&gt;keyid&lt;/incfield&gt;&lt;incfilename&gt;/idcdata/dmining/dminingmysql_ZHOBTMIND_HYCZ.list&lt;/incfilename&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTMIND_HYCZ&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"selectsql   \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u6ce8\u610f\uff1a\u65f6\u95f4\u51fd\u6570\u7684\u767e\u5206\u53f7%\u9700\u8981\u56db\u4e2a\uff0c\u663e\u793a\u51fa\u6765\u624d\u6709\u4e24\u4e2a\uff0c\u88abprepare\u4e4b\u540e\u5c06\u5269\u4e00\u4e2a\u3002\\n\");\n  printf(\"fieldstr    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5c06\u4f5c\u4e3axml\u6587\u4ef6\u7684\u5b57\u6bb5\u540d\u3002\\n\");\n  printf(\"fieldlen    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002fieldstr\u4e0efieldlen\u7684\u5b57\u6bb5\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002\\n\");\n  printf(\"bfilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\\n\");\n  printf(\"efilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\\n\");\n  printf(\"outpath     \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"starttime   \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\"\\\n         \"\u5982\u679cstarttime\u4e3a\u7a7a\uff0c\u90a3\u4e48starttime\u53c2\u6570\u5c06\u5931\u6548\uff0c\u53ea\u8981\u672c\u7a0b\u5e8f\u542f\u52a8\u5c31\u4f1a\u6267\u884c\u6570\u636e\u62bd\u53d6\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u6e90\"\\\n         \"\u7684\u538b\u529b\uff0c\u4ece\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u822c\u5728\u5bf9\u65b9\u6570\u636e\u5e93\u6700\u95f2\u7684\u65f6\u5019\u65f6\u8fdb\u884c\u3002\\n\");\n  printf(\"incfield    \u9012\u589e\u5b57\u6bb5\u540d\uff0c\u5b83\u5fc5\u987b\u662ffieldstr\u4e2d\u7684\u5b57\u6bb5\u540d\uff0c\u5e76\u4e14\u53ea\u80fd\u662f\u6574\u578b\uff0c\u4e00\u822c\u4e3a\u81ea\u589e\u5b57\u6bb5\u3002\"\\\n          \"\u5982\u679cincfield\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u91c7\u7528\u589e\u91cf\u62bd\u53d6\u65b9\u6848\u3002\");\n  printf(\"incfilename \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4e22\u5931\uff0c\u5c06\u91cd\u65b0\u62bd\u53d6\u5168\u90e8\u7684\u6570\u636e\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"selectsql\",starg.selectsql,1000);\n  if (strlen(starg.selectsql)==0) { logfile.Write(\"selectsql is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldstr\",starg.fieldstr,500);\n  if (strlen(starg.fieldstr)==0) { logfile.Write(\"fieldstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldlen\",starg.fieldlen,500);\n  if (strlen(starg.fieldlen)==0) { logfile.Write(\"fieldlen is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"bfilename\",starg.bfilename,30);\n  if (strlen(starg.bfilename)==0) { logfile.Write(\"bfilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"efilename\",starg.efilename,30);\n  if (strlen(starg.efilename)==0) { logfile.Write(\"efilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"outpath\",starg.outpath,300);\n  if (strlen(starg.outpath)==0) { logfile.Write(\"outpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"starttime\",starg.starttime,50);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfield\",starg.incfield,30);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfilename\",starg.incfilename,300);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);   // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\");  return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);     // \u8fdb\u7a0b\u540d\u3002\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\");  return false; }\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CCmdStr CmdStr;\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldlen,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldlen\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,&amp;ifieldlen[ii]);\n    // if (ifieldlen[ii]&gt;MAXFIELDLEN) ifieldlen[ii]=MAXFIELDLEN;   // \u5b57\u6bb5\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7MAXFIELDLEN\u3002\n    if (ifieldlen[ii]&gt;MAXFIELDLEN) MAXFIELDLEN=ifieldlen[ii];   // \u5f97\u5230\u5b57\u6bb5\u957f\u5ea6\u7684\u6700\u5927\u503c\u3002\n  }\n\n  ifieldcount=CmdStr.CmdCount();\n\n  // 2\u3001\u628astarg.fieldstr\u89e3\u6790\u5230strfieldname\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldstr,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldstr\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,strfieldname[ii],30);\n  }\n\n  // \u5224\u65adstrfieldname\u548cifieldlen\u4e24\u4e2a\u6570\u7ec4\u4e2d\u7684\u5b57\u6bb5\u662f\u5426\u4e00\u81f4\u3002\n  if (ifieldcount!=CmdStr.CmdCount())\n  {\n    logfile.Write(\"fieldstr\u548cfieldlen\u7684\u5143\u7d20\u6570\u91cf\u4e0d\u4e00\u81f4\u3002\\n\"); return false;\n  }\n\n  // 3\u3001\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u4e2d\u7684\u4f4d\u7f6e\u3002\n  if (strlen(starg.incfield)!=0)\n  {\n    for (int ii=0;ii&lt;ifieldcount;ii++)\n      if (strcmp(starg.incfield,strfieldname[ii])==0) { incfieldpos=ii; break; }\n\n    if (incfieldpos==-1)\n    {\n      logfile.Write(\"\u9012\u589e\u5b57\u6bb5\u540d%s\u4e0d\u5728\u5217\u8868%s\u4e2d\u3002\\n\",starg.incfield,starg.fieldstr); return false;\n    }\n  }\n\n  return true;\n}\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime()\n{\n  // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\n  if (strlen(starg.starttime)!=0)\n  {\n    char strHH24[3];\n    memset(strHH24,0,sizeof(strHH24));\n    LocalTime(strHH24,\"hh24\");  // \u53ea\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u4e2d\u7684\u5c0f\u65f6\u3002\n    if (strstr(starg.starttime,strHH24)==0) return false;\n  }\n\n  return true;\n}\n\nvoid crtxmlfilename()   // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n{\n  // xml\u5168\u8def\u5f84\u6587\u4ef6\u540d=start.outpath+starg.bfilename+\u5f53\u524d\u65f6\u95f4+starg.efilename+\u5e8f\u53f7.xml\n  char strLocalTime[21];\n  memset(strLocalTime,0,sizeof(strLocalTime));\n  LocalTime(strLocalTime,\"yyyymmddhh24miss\");\n\n  static int iseq=1;\n  SNPRINTF(strxmlfilename,300,sizeof(strxmlfilename),\"%s/%s_%s_%s_%d.xml\",starg.outpath,starg.bfilename,strLocalTime,starg.efilename,iseq++);\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/4%20%E5%A2%9E%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE/","title":"4 \u589e\u91cf\u62bd\u53d6\u6570\u636e","text":"<p>\u5168\u91cf\u62bd\u53d6\uff1a\u6267\u884c\u4e0d\u5e26\u8f93\u5165\u53c2\u6570\u7684SQL\u8bed\u53e5\uff0c\u4e0d\u4e00\u5b9a\u62bd\u53d6\u5168\u90e8\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u52a0\u6761\u4ef6\uff0c\u9002\u7528\u4e8e\u6570\u636e\u6e90\u8868\u7684\u6570\u636e\u91cf\u4e0d\u5927\uff0c\u9002\u7528\u4e8e\u4e1a\u52a1\u53c2\u6570\u8868\uff0c\u6bd4\u5982\u5168\u56fd\u7ad9\u70b9\u53c2\u6570</p> <p>\u589e\u91cf\u62bd\u53d6\uff1a\u8981\u6c42\u6570\u636e\u6e90\u8868\u6709\u81ea\u589e\u5b57\u6bb5\uff0c\u6267\u884c\u5e26\u8f93\u5165\u53c2\u6570\u7684SQL\u8bed\u53e5(\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id)\uff0c\u6bcf\u6b21\u62bd\u53d6\u6570\u636e\u540e\uff0c\u8bb0\u5f55\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id</p> <p>keyid\u662f\u81ea\u589e\u5b57\u6bb5\uff0c\u6bcf\u6b21\u62bd\u53d6\u6570\u636e\u540e\u628a\u6700\u5927\u7684keyid\u4fdd\u5b58\u5728incfilename\u6587\u4ef6\u91cc\u9762</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/4%20%E5%A2%9E%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE/#_1","title":"\u8fc7\u7a0b","text":"<p>\u5148\u58f0\u660e</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/4%20%E5%A2%9E%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE/#1","title":"1","text":"<p>\u4ecestarg.incfilename\u6587\u4ef6\u4e2d\u83b7\u53d6\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id</p> <p></p> <p>\u518d\u5199\u8fd9\u4e2a\u51fd\u6570\u7684\u7ed3\u6784\u4f53</p> <p></p> <ul> <li>\u5982\u679c\u662f\u589e\u91cf\u62bd\u53d6\uff0c\u7ed1\u5b9a\u8f93\u5165\u53c2\u6570\uff08\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\uff09\u3002</li> </ul> <p></p> <ul> <li>\u66f4\u65b0\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\uff0c\u628a\u7ed3\u679c\u96c6\u4e2d\u81ea\u589e\u5b57\u6bb5\u4e0e\u6587\u4ef6\u62ff\u51fa\u6765\u7684\u6700\u5927\u503c\u6bd4\u8f83\u5927\u5c0f\uff0c\u53d6\u66f4\u5927\u7684\u503c</li> </ul> <p></p> <ul> <li>/\u628a\u6700\u5927\u7684\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u5199\u5165starg,incfilename\u6587\u4ef6\u4e2d</li> </ul> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/4%20%E5%A2%9E%E9%87%8F%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1adminingmysql.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u7a0b\u5e8f\u8fd0\u884c\u53c2\u6570\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char selectsql[1024];  // \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n  char fieldstr[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u5b57\u6bb5\u540d\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002\n  char fieldlen[501];    // \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char bfilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\n  char efilename[31];    // \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\n  char outpath[301];     // \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char starttime[52];    // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\n  char incfield[31];     // \u9012\u589e\u5b57\u6bb5\u540d\u3002\n  char incfilename[301]; // \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\u3002\n  int  timeout;          // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u8fdb\u7a0b\u540d\uff0c\u5efa\u8bae\u7528\"dminingmysql_\u540e\u7f00\"\u7684\u65b9\u5f0f\u3002\n} starg;\n\n#define MAXFIELDCOUNT  100  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n//#define MAXFIELDLEN    500  // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\nint MAXFIELDLEN=-1;   // \u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\uff0c\u5b58\u653efieldlen\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6700\u5927\u503c\u3002\n\nchar strfieldname[MAXFIELDCOUNT][31];    // \u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\u6570\u7ec4\uff0c\u4ecestarg.fieldstr\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldlen[MAXFIELDCOUNT];           // \u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\u6570\u7ec4\uff0c\u4ecestarg.fieldlen\u89e3\u6790\u5f97\u5230\u3002\nint  ifieldcount;                        // strfieldname\u548cifieldlen\u6570\u7ec4\u4e2d\u6709\u6548\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\nint  incfieldpos=-1;                     // \u9012\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u3002\n\nconnection conn;\n\nCLogFile logfile;\n\n// \u7a0b\u5e8f\u9000\u51fa\u548c\u4fe1\u53f72\u300115\u7684\u5904\u7406\u51fd\u6570\u3002\nvoid EXIT(int sig);\n\nvoid _help();\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer);\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime();\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql();\n\nCPActive PActive;  // \u8fdb\u7a0b\u5fc3\u8df3\u3002\n\nchar strxmlfilename[301]; // xml\u6587\u4ef6\u540d\u3002\nvoid crtxmlfilename();    // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n\nlong imaxincvalue;    // \u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3002\nbool readincfile();   // \u4ecestarg.incfilename\u6587\u4ef6\u4e2d\u83b7\u53d6\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u3002\nbool writeincfile();  // \u628a\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u5199\u5165starg.incfilename\u6587\u4ef6\u3002\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal(); \n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  // \u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u3002\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u89e3\u6790xml\uff0c\u5f97\u5230\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\u3002\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  // \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\n  if (instarttime()==false) return 0;\n\n  PActive.AddPInfo(starg.timeout,starg.pname);  // \u628a\u8fdb\u7a0b\u7684\u5fc3\u8df3\u4fe1\u606f\u5199\u5165\u5171\u4eab\u5185\u5b58\u3002\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(5000,starg.pname);\n\n  // \u8fde\u63a5\u6570\u636e\u5e93\u3002\n  if (conn.connecttodb(starg.connstr,starg.charset)!=0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); return -1;\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  _dminingmysql();\n\n  return 0;\n}\n\n// \u6570\u636e\u62bd\u53d6\u7684\u4e3b\u51fd\u6570\u3002\nbool _dminingmysql()\n{\n  // \u4ecestarg.incfilename\u6587\u4ef6\u4e2d\u83b7\u53d6\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u3002\n  readincfile();\n\n  sqlstatement stmt(&amp;conn);\n  stmt.prepare(starg.selectsql);\n  char strfieldvalue[ifieldcount][MAXFIELDLEN+1];  // \u62bd\u53d6\u6570\u636e\u7684SQL\u6267\u884c\u540e\uff0c\u5b58\u653e\u7ed3\u679c\u96c6\u5b57\u6bb5\u503c\u7684\u6570\u7ec4\u3002\n  for (int ii=1;ii&lt;=ifieldcount;ii++)\n  {\n    stmt.bindout(ii,strfieldvalue[ii-1],ifieldlen[ii-1]);\n  }\n\n  // \u5982\u679c\u662f\u589e\u91cf\u62bd\u53d6\uff0c\u7ed1\u5b9a\u8f93\u5165\u53c2\u6570\uff08\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\uff09\u3002\n  if (strlen(starg.incfield)!=0) stmt.bindin(1,&amp;imaxincvalue);\n\n  if (stmt.execute()!=0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }\n\n  PActive.UptATime();\n\n  CFile File;   // \u7528\u4e8e\u64cd\u4f5cxml\u6587\u4ef6\u3002\n\n  while (true)\n  {\n    memset(strfieldvalue,0,sizeof(strfieldvalue));\n\n    if (stmt.next()!=0) break;\n\n    if (File.IsOpened()==false)\n    {\n      crtxmlfilename();   // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n\n      if (File.OpenForRename(strxmlfilename,\"w+\")==false)\n      {\n        logfile.Write(\"File.OpenForRename(%s) failed.\\n\",strxmlfilename); return false;\n      }\n\n      File.Fprintf(\"&lt;data&gt;\\n\");\n    }\n\n    for (int ii=1;ii&lt;=ifieldcount;ii++)\n      File.Fprintf(\"&lt;%s&gt;%s&lt;/%s&gt;\",strfieldname[ii-1],strfieldvalue[ii-1],strfieldname[ii-1]);\n\n    File.Fprintf(\"&lt;endl/&gt;\\n\");\n\n    // \u5982\u679c\u8bb0\u5f55\u6570\u8fbe\u52301000\u884c\u5c31\u5207\u6362\u4e00\u4e2axml\u6587\u4ef6\u3002\n    if (stmt.m_cda.rpc%1000==0)\n    {\n      File.Fprintf(\"&lt;/data&gt;\\n\");\n\n      if (File.CloseAndRename()==false)\n      {\n        logfile.Write(\"File.CloseAndRename(%s) failed.\\n\",strxmlfilename); return false;\n      }\n\n      logfile.Write(\"\u751f\u6210\u6587\u4ef6%s(1000)\u3002\\n\",strxmlfilename);      \n\n      PActive.UptATime();\n    }\n\n    // \u66f4\u65b0\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3002\n    if (imaxincvalue&lt;atol(strfieldvalue[incfieldpos])) imaxincvalue=atol(strfieldvalue[incfieldpos]);\n  }\n\n  if (File.IsOpened()==true)\n  {\n    File.Fprintf(\"&lt;/data&gt;\\n\");\n\n    if (File.CloseAndRename()==false)\n    {\n      logfile.Write(\"File.CloseAndRename(%s) failed.\\n\",strxmlfilename); return false;\n    }\n\n    logfile.Write(\"\u751f\u6210\u6587\u4ef6%s(%d)\u3002\\n\",strxmlfilename,stmt.m_cda.rpc%1000);\n  }\n\n  // \u628a\u6700\u5927\u7684\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u5199\u5165starg.incfilename\u6587\u4ef6\u4e2d\u3002\n  if (stmt.m_cda.rpc&gt;0) writeincfile();\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  printf(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  exit(0);\n}\n\nvoid _help()\n{\n  printf(\"Using:/project/tools1/bin/dminingmysql logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 3600 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTCODE.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,cityname,provname,lat,lon,height from T_ZHOBTCODE&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,cityname,provname,lat,lon,height&lt;/fieldstr&gt;&lt;fieldlen&gt;10,30,30,10,10,10&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTCODE&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTCODE&lt;/pname&gt;\\\"\\n\\n\");\n  printf(\"       /project/tools1/bin/procctl   30 /project/tools1/bin/dminingmysql /log/idc/dminingmysql_ZHOBTMIND.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;selectsql&gt;select obtid,date_format(ddatetime,'%%%%Y-%%%%m-%%%%d %%%%H:%%%%i:%%%%s'),t,p,u,wd,wf,r,vis,keyid from T_ZHOBTMIND where keyid&gt;:1 and ddatetime&gt;timestampadd(minute,-120,now())&lt;/selectsql&gt;&lt;fieldstr&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,keyid&lt;/fieldstr&gt;&lt;fieldlen&gt;10,19,8,8,8,8,8,8,8,15&lt;/fieldlen&gt;&lt;bfilename&gt;ZHOBTMIND&lt;/bfilename&gt;&lt;efilename&gt;HYCZ&lt;/efilename&gt;&lt;outpath&gt;/idcdata/dmindata&lt;/outpath&gt;&lt;starttime&gt;&lt;/starttime&gt;&lt;incfield&gt;keyid&lt;/incfield&gt;&lt;incfilename&gt;/idcdata/dmining/dminingmysql_ZHOBTMIND_HYCZ.list&lt;/incfilename&gt;&lt;timeout&gt;30&lt;/timeout&gt;&lt;pname&gt;dminingmysql_ZHOBTMIND_HYCZ&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u4ecemysql\u6570\u636e\u5e93\u6e90\u8868\u62bd\u53d6\u6570\u636e\uff0c\u751f\u6210xml\u6587\u4ef6\u3002\\n\");\n  printf(\"logfilename \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"selectsql   \u4ece\u6570\u636e\u6e90\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u6ce8\u610f\uff1a\u65f6\u95f4\u51fd\u6570\u7684\u767e\u5206\u53f7%\u9700\u8981\u56db\u4e2a\uff0c\u663e\u793a\u51fa\u6765\u624d\u6709\u4e24\u4e2a\uff0c\u88abprepare\u4e4b\u540e\u5c06\u5269\u4e00\u4e2a\u3002\\n\");\n  printf(\"fieldstr    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u540d\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u5c06\u4f5c\u4e3axml\u6587\u4ef6\u7684\u5b57\u6bb5\u540d\u3002\\n\");\n  printf(\"fieldlen    \u62bd\u53d6\u6570\u636e\u7684SQL\u8bed\u53e5\u8f93\u51fa\u7ed3\u679c\u96c6\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u4e2d\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002fieldstr\u4e0efieldlen\u7684\u5b57\u6bb5\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\u3002\\n\");\n  printf(\"bfilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u524d\u7f00\u3002\\n\");\n  printf(\"efilename   \u8f93\u51faxml\u6587\u4ef6\u7684\u540e\u7f00\u3002\\n\");\n  printf(\"outpath     \u8f93\u51faxml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"starttime   \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\"\\\n         \"\u5982\u679cstarttime\u4e3a\u7a7a\uff0c\u90a3\u4e48starttime\u53c2\u6570\u5c06\u5931\u6548\uff0c\u53ea\u8981\u672c\u7a0b\u5e8f\u542f\u52a8\u5c31\u4f1a\u6267\u884c\u6570\u636e\u62bd\u53d6\uff0c\u4e3a\u4e86\u51cf\u5c11\u6570\u636e\u6e90\"\\\n         \"\u7684\u538b\u529b\uff0c\u4ece\u6570\u636e\u5e93\u62bd\u53d6\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e00\u822c\u5728\u5bf9\u65b9\u6570\u636e\u5e93\u6700\u95f2\u7684\u65f6\u5019\u65f6\u8fdb\u884c\u3002\\n\");\n  printf(\"incfield    \u9012\u589e\u5b57\u6bb5\u540d\uff0c\u5b83\u5fc5\u987b\u662ffieldstr\u4e2d\u7684\u5b57\u6bb5\u540d\uff0c\u5e76\u4e14\u53ea\u80fd\u662f\u6574\u578b\uff0c\u4e00\u822c\u4e3a\u81ea\u589e\u5b57\u6bb5\u3002\"\\\n          \"\u5982\u679cincfield\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u91c7\u7528\u589e\u91cf\u62bd\u53d6\u65b9\u6848\u3002\");\n  printf(\"incfilename \u5df2\u62bd\u53d6\u6570\u636e\u7684\u9012\u589e\u5b57\u6bb5\u6700\u5927\u503c\u5b58\u653e\u7684\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4e22\u5931\uff0c\u5c06\u91cd\u65b0\u62bd\u53d6\u5168\u90e8\u7684\u6570\u636e\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\u3002\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"selectsql\",starg.selectsql,1000);\n  if (strlen(starg.selectsql)==0) { logfile.Write(\"selectsql is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldstr\",starg.fieldstr,500);\n  if (strlen(starg.fieldstr)==0) { logfile.Write(\"fieldstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"fieldlen\",starg.fieldlen,500);\n  if (strlen(starg.fieldlen)==0) { logfile.Write(\"fieldlen is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"bfilename\",starg.bfilename,30);\n  if (strlen(starg.bfilename)==0) { logfile.Write(\"bfilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"efilename\",starg.efilename,30);\n  if (strlen(starg.efilename)==0) { logfile.Write(\"efilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"outpath\",starg.outpath,300);\n  if (strlen(starg.outpath)==0) { logfile.Write(\"outpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"starttime\",starg.starttime,50);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfield\",starg.incfield,30);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"incfilename\",starg.incfilename,300);  // \u53ef\u9009\u53c2\u6570\u3002\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);   // \u8fdb\u7a0b\u5fc3\u8df3\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\");  return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);     // \u8fdb\u7a0b\u540d\u3002\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\");  return false; }\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CCmdStr CmdStr;\n\n  // 1\u3001\u628astarg.fieldlen\u89e3\u6790\u5230ifieldlen\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldlen,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldlen\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,&amp;ifieldlen[ii]);\n    // if (ifieldlen[ii]&gt;MAXFIELDLEN) ifieldlen[ii]=MAXFIELDLEN;   // \u5b57\u6bb5\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7MAXFIELDLEN\u3002\n    if (ifieldlen[ii]&gt;MAXFIELDLEN) MAXFIELDLEN=ifieldlen[ii];   // \u5f97\u5230\u5b57\u6bb5\u957f\u5ea6\u7684\u6700\u5927\u503c\u3002\n  }\n\n  ifieldcount=CmdStr.CmdCount();\n\n  // 2\u3001\u628astarg.fieldstr\u89e3\u6790\u5230strfieldname\u6570\u7ec4\u4e2d\uff1b\n  CmdStr.SplitToCmd(starg.fieldstr,\",\");\n\n  // \u5224\u65ad\u5b57\u6bb5\u6570\u662f\u5426\u8d85\u51faMAXFIELDCOUNT\u7684\u9650\u5236\u3002\n  if (CmdStr.CmdCount()&gt;MAXFIELDCOUNT)\n  {\n    logfile.Write(\"fieldstr\u7684\u5b57\u6bb5\u6570\u592a\u591a\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u9650\u5236%d\u3002\\n\",MAXFIELDCOUNT); return false;\n  }\n\n  for (int ii=0;ii&lt;CmdStr.CmdCount();ii++)\n  {\n    CmdStr.GetValue(ii,strfieldname[ii],30);\n  }\n\n  // \u5224\u65adstrfieldname\u548cifieldlen\u4e24\u4e2a\u6570\u7ec4\u4e2d\u7684\u5b57\u6bb5\u662f\u5426\u4e00\u81f4\u3002\n  if (ifieldcount!=CmdStr.CmdCount())\n  {\n    logfile.Write(\"fieldstr\u548cfieldlen\u7684\u5143\u7d20\u6570\u91cf\u4e0d\u4e00\u81f4\u3002\\n\"); return false;\n  }\n\n  // 3\u3001\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u5728\u7ed3\u679c\u96c6\u4e2d\u7684\u4f4d\u7f6e\u3002\n  if (strlen(starg.incfield)!=0)\n  {\n    for (int ii=0;ii&lt;ifieldcount;ii++)\n      if (strcmp(starg.incfield,strfieldname[ii])==0) { incfieldpos=ii; break; }\n\n    if (incfieldpos==-1)\n    {\n      logfile.Write(\"\u9012\u589e\u5b57\u6bb5\u540d%s\u4e0d\u5728\u5217\u8868%s\u4e2d\u3002\\n\",starg.incfield,starg.fieldstr); return false;\n    }\n  }\n\n  return true;\n}\n\n// \u5224\u65ad\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\u5185\u3002\nbool instarttime()\n{\n  // \u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u533a\u95f4\uff0c\u4f8b\u598202,13\u8868\u793a\uff1a\u5982\u679c\u7a0b\u5e8f\u542f\u52a8\u65f6\uff0c\u8e0f\u4e2d02\u65f6\u548c13\u65f6\u5219\u8fd0\u884c\uff0c\u5176\u5b83\u65f6\u95f4\u4e0d\u8fd0\u884c\u3002\n  if (strlen(starg.starttime)!=0)\n  {\n    char strHH24[3];\n    memset(strHH24,0,sizeof(strHH24));\n    LocalTime(strHH24,\"hh24\");  // \u53ea\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u4e2d\u7684\u5c0f\u65f6\u3002\n    if (strstr(starg.starttime,strHH24)==0) return false;\n  }\n\n  return true;\n}\n\nvoid crtxmlfilename()   // \u751f\u6210xml\u6587\u4ef6\u540d\u3002\n{\n  // xml\u5168\u8def\u5f84\u6587\u4ef6\u540d=start.outpath+starg.bfilename+\u5f53\u524d\u65f6\u95f4+starg.efilename+\u5e8f\u53f7.xml\n  char strLocalTime[21];\n  memset(strLocalTime,0,sizeof(strLocalTime));\n  LocalTime(strLocalTime,\"yyyymmddhh24miss\");\n\n  static int iseq=1;\n  SNPRINTF(strxmlfilename,300,sizeof(strxmlfilename),\"%s/%s_%s_%s_%d.xml\",starg.outpath,starg.bfilename,strLocalTime,starg.efilename,iseq++);\n}\n\n// \u4ecestarg.incfilename\u6587\u4ef6\u4e2d\u83b7\u53d6\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u3002\nbool readincfile()   \n{\n  imaxincvalue=0;    // \u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\u3002\n\n  // \u5982\u679cstarg.incfield\u53c2\u6570\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u662f\u589e\u91cf\u62bd\u53d6\u3002\n  if (strlen(starg.incfield)==0) return true;\n\n  CFile File;\n\n  // \u5982\u679c\u6253\u5f00starg.incfilename\u6587\u4ef6\u5931\u8d25\uff0c\u8868\u793a\u662f\u7b2c\u4e00\u6b21\u8fd0\u884c\u7a0b\u5e8f\uff0c\u4e5f\u4e0d\u5fc5\u8fd4\u56de\u5931\u8d25\u3002\n  // \u4e5f\u53ef\u80fd\u662f\u6587\u4ef6\u4e22\u4e86\uff0c\u90a3\u4e5f\u6ca1\u529e\u6cd5\uff0c\u53ea\u80fd\u91cd\u65b0\u62bd\u53d6\u3002\n  if (File.Open(starg.incfilename,\"r\")==false) return true;\n\n  // \u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u3002\n  char strtemp[31];\n  File.FFGETS(strtemp,30);\n\n  imaxincvalue=atol(strtemp);\n\n  logfile.Write(\"\u4e0a\u6b21\u5df2\u62bd\u53d6\u6570\u636e\u7684\u4f4d\u7f6e\uff08%s=%ld\uff09\u3002\\n\",starg.incfield,imaxincvalue);\n\n  return true;\n}\n\n\n// \u628a\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u5199\u5165starg.incfilename\u6587\u4ef6\u3002\nbool writeincfile()  \n{\n  // \u5982\u679cstarg.incfield\u53c2\u6570\u4e3a\u7a7a\uff0c\u8868\u793a\u4e0d\u662f\u589e\u91cf\u62bd\u53d6\u3002\n  if (strlen(starg.incfield)==0) return true;\n\n  CFile File;\n\n  if (File.Open(starg.incfilename,\"w+\")==false) \n  {\n    logfile.Write(\"File.Open(%s) failed.\\n\",starg.incfilename); return false;\n  }\n\n  // \u628a\u5df2\u62bd\u53d6\u6570\u636e\u7684\u6700\u5927id\u5199\u5165\u6587\u4ef6\u3002\n  File.Fprintf(\"%ld\",imaxincvalue);\n\n  File.Close();\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/%E5%89%8D%E8%A8%80/","title":"\u524d\u8a00","text":"<ul> <li>\u8fd9\u662f\u901a\u7528\u7684\u529f\u80fd\u6a21\u5757\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u811a\u672c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4e0d\u540c\u6570\u636e\u6e90\u7684\u62bd\u53d6</li> <li>\u652f\u6301\u5168\u91cf\u548c\u589e\u91cf\u6570\u636e\u62bd\u53d6\u7684\u4e24\u79cd\u65b9\u5f0f</li> <li>\u652f\u6301\u591a\u79cd\u6570\u636e\u5e93(MySQL\uff0cOracle\uff0cSQL Server\uff0cPostgreSQL)</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/6%E3%80%81%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%A4%8D%E7%9B%98/%E6%80%BB%E7%BB%93/","title":"\u603b\u7ed3","text":"<ul> <li>\u4e0d\u8981\u5bf9\u8868\u8fdb\u884c\u5220\u9664\u64cd\u4f5c</li> <li>\u5c3d\u53ef\u80fd\u628a\u4fee\u6539\u64cd\u4f5c\u8f6c\u6362\u4e3a\u63d2\u5165\u64cd\u4f5c</li> <li>\u8868\u4e00\u5b9a\u8981\u6709\u65f6\u95f4\u6233\u3001\u81ea\u589e\u5b57\u6bb5</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/","title":"\u524d\u8a00","text":"<ul> <li>\u901a\u7528\u7684\u529f\u80fd\u6a21\u5757\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u53c2\u6570\u5c31\u53ef\u4ee5\u628axml\u6587\u4ef6\u5165\u5e93</li> <li>\u652f\u6301\u5bf9\u8868\u7684\u63d2\u5165\u548c\u4fee\u6539\u4e24\u79cd\u64cd\u4f5c</li> <li>\u652f\u6301\u591a\u79cd\u6570\u636e\u5e93</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#_2","title":"\u524d\u63d0","text":"<ul> <li>\u751f\u6210xml\u6587\u4ef6\u65f6\uff0c\u6570\u636e\u7684\u6807\u7b7e\u4e0e\u8868\u5b57\u6bb5\u540d\u76f8\u540c</li> <li>\u5728\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u63cf\u8ff0\u4e86xml\u6587\u4ef6\u4e0e\u8868\u7684\u5bf9\u5e94\u5173\u7cfb</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#_3","title":"\u6b65\u9aa4","text":"<ul> <li>\u8bfb\u53d6\u76ee\u5f55\u4e2d\u7684xml\u6587\u4ef6\uff0c\u67e5\u627eXML\u6587\u4ef6\u4e0e\u8868\u5bf9\u5e94\u7684\u5173\u7cfb</li> <li>\u4ece\u6570\u636e\u5b57\u5178\u4e2d\u67e5\u627e\u8868\u7684\u5b57\u6bb5\u4fe1\u606f</li> <li>\u89e3\u6790xml\u6587\u4ef6\uff0c\u628a\u6570\u636e\u63d2\u5165\u8868\uff0c\u5982\u679c\u8bb0\u5f55\u5df2\u5b58\u5728\uff0c\u4ee5\u4e3b\u952e\u5b57\u6bb5\u4e3a\u6761\u4ef6\uff0c\u66f4\u65b0\u8868\u4e2d\u7684\u8bb0\u5f55</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/","title":"\u6570\u636e\u5165\u5e931-\u89e3\u6790\u5165\u5e93\u53c2\u6570","text":"<p>\u5b9e\u73b0\u52a0\u8f7d\u5165\u5e93\u53c2\u6570\uff0c\u89e3\u6790\u53c2\u6570\uff0c\u8bfb\u53d6\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\uff0c\u5907\u4efd\u6587\u4ef6</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_1","title":"\u51c6\u5907","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_2","title":"\u8fc7\u7a0b","text":"<p>\u5f00\u53d1\u96be\u5ea6\u8f83\u5927</p> <ul> <li>\u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230\u5bb9\u5668\u4e2d</li> <li> <p>\u6253\u5f00start.xmlpath\u76ee\u5f55</p> </li> <li> <p>\u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2axml\u6587\u4ef6</p> </li> <li>\u5904\u7406xml\u6587\u4ef6</li> <li>\u8c03\u7528\u5904\u7406\u6587\u4ef6\u7684\u81ea\u51fd\u6570</li> <li>\u5904\u7406xml\u6587\u4ef6\u6210\u529f\uff0c\u5199\u65e5\u5fd7\uff0c\u5907\u4efd\u6587\u4ef6</li> <li>\u5982\u679c\u5904\u7406xml\u5931\u8d25\uff0c\u5206\u591a\u79cd\u60c5\u51b5</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_3","title":"\u4e00\u3001\u58f0\u660e\u7ed3\u6784\u4f53\u548c\u5bb9\u5668","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_4","title":"\u4e8c\u3001\u5199\u51fd\u6570\u7684\u7ed3\u6784\u4f53","text":"<p>\u5148\u662f\u52a0\u8f7d\u53c2\u6570\u7684\u51fd\u6570</p> <p></p> <p>\u518d\u6765\u5199\u67e5\u627e\u5bb9\u5668\u7684\u51fd\u6570</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_5","title":"\u4e09\u3001","text":"<p>\u52a0\u8f7d\u5165\u5e93\u7684\u53c2\u6570\u7684\u4ee3\u7801\uff0c\u4e0d\u80fd\u53ea\u52a0\u8f7d\u4e00\u6b21\u53c2\u6570\uff0c\u4e5f\u4e0d\u80fd\u6bcf\u6b21\u5faa\u73af\u90fd\u52a0\u8f7d\u53c2\u6570\uff0c\u4e0d\u592a\u5408\u9002\uff0c\u6700\u597d\u7684\u65b9\u6cd5\u662f\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u52a0\u8f7d\u4e00\u6b21\u53c2\u6570\uff0c\u4f7f\u7528\u8ba1\u6570\u5668</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#stargxmlpath","title":"\u56db\u3001\u6253\u5f00\uff0c\u5904\u7406(\u5f85\u5165\u5e93\u6587\u4ef6\u76ee\u5f55)starg.xmlpath","text":"<p>\u4e3b\u51fd\u6570\u4e2d</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_6","title":"\u5199\u51fd\u6570\u7684\u7ed3\u6784\u4f53","text":"<p>\u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u8005\u9519\u8bef\u76ee\u5f55</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%931-%E8%A7%A3%E6%9E%90%E5%85%A5%E5%BA%93%E5%8F%82%E6%95%B0/#_7","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1axmltodb2.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char inifilename[301]; // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\n  char xmlpath[301];     // \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char xmlpathbak[301];  // xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\n  char xmlpatherr[301];  // \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  int  timetvl;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u672c\u7a0b\u5e8f\u5e38\u9a7b\u5185\u5b58\u3002\n  int  timeout;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection conn;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb();\n\nstruct st_xmltotable\n{\n  char filename[101];    // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char tname[31];        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n  int  uptbz;            // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n  char execsql[301];     // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n} stxmltotable;\nvector&lt;struct st_xmltotable&gt; vxmltotable;   // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u7684\u5bb9\u5668\u3002\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable();\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename);\n\n// \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename);\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath);\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  if (conn.connecttodb(starg.connstr,starg.charset) != 0)\n  {\n    printf(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); EXIT(-1);\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _xmltodb();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/xmltodb logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/xmltodb /log/idc/xmltodb_vip1.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;inifilename&gt;/project/tools/ini/xmltodb.xml&lt;/inifilename&gt;&lt;xmlpath&gt;/idcdata/xmltodb/vip1&lt;/xmlpath&gt;&lt;xmlpathbak&gt;/idcdata/xmltodb/vip1bak&lt;/xmlpathbak&gt;&lt;xmlpatherr&gt;/idcdata/xmltodb/vip1err&lt;/xmlpatherr&gt;&lt;timetvl&gt;5&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;xmltodb_vip1&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\\n\");\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"inifilename \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlpath     \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpathbak  xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpatherr  \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"timetvl     \u672c\u7a0b\u5e8f\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u4e1a\u52a1\u9700\u6c42\u800c\u5b9a\uff0c2-30\u4e4b\u95f4\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6xml\u6587\u4ef6\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"inifilename\",starg.inifilename,300);\n  if (strlen(starg.inifilename)==0) { logfile.Write(\"inifilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpath\",starg.xmlpath,300);\n  if (strlen(starg.xmlpath)==0) { logfile.Write(\"xmlpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpathbak\",starg.xmlpathbak,300);\n  if (strlen(starg.xmlpathbak)==0) { logfile.Write(\"xmlpathbak is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpatherr\",starg.xmlpatherr,300);\n  if (strlen(starg.xmlpatherr)==0) { logfile.Write(\"xmlpatherr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"timetvl\",&amp;starg.timetvl);\n  if (starg.timetvl&lt; 2) starg.timetvl=2;   \n  if (starg.timetvl&gt;30) starg.timetvl=30;\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb()\n{\n  int counter=50;  // \u52a0\u8f7d\u5165\u5e93\u53c2\u6570\u7684\u8ba1\u6570\u5668\uff0c\u521d\u59cb\u5316\u4e3a50\u662f\u4e3a\u4e86\u5728\u7b2c\u4e00\u6b21\u8fdb\u5165\u5faa\u73af\u7684\u65f6\u5019\u5c31\u52a0\u8f7d\u53c2\u6570\u3002\n\n  CDir Dir;\n\n  while (true)\n  {\n    if (counter++&gt;30)\n    {\n      counter=0;   // \u91cd\u65b0\u8ba1\u6570\u3002\n      // \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\n      if (loadxmltotable()==false) return false;\n    }\n\n    // \u6253\u5f00starg.xmlpath\u76ee\u5f55\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5148\u751f\u6210\u7684\u6570\u636e\u5165\u5e93\uff0c\u6253\u5f00\u76ee\u5f55\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u3002\n    if (Dir.OpenDir(starg.xmlpath,\"*.XML\",10000,false,true)==false)\n    {\n      logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",starg.xmlpath); return false;\n    }\n\n    while (true)\n    {\n      // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2axml\u6587\u4ef6\u3002\n      if (Dir.ReadDir()==false) break;\n\n      logfile.Write(\"\u5904\u7406\u6587\u4ef6%s...\",Dir.m_FullFileName);\n\n      // \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\u3002\n      int iret=_xmltodb(Dir.m_FullFileName,Dir.m_FileName);\n\n      // \u5904\u7406xml\u6587\u4ef6\u6210\u529f\uff0c\u5199\u65e5\u5fd7\uff0c\u5907\u4efd\u6587\u4ef6\u3002\n      if (iret==0)\n      {\n        logfile.WriteEx(\"ok.\\n\");\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpathbak\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpathbak)==false) return false;\n      }\n\n      // \u5982\u679c\u5904\u7406xml\u6587\u4ef6\u5931\u8d25\uff0c\u5206\u591a\u79cd\u60c5\u51b5\u3002\n      if (iret==1)    // iret==1\uff0c\u627e\u4e0d\u5230\u5165\u5e93\u53c2\u6570\u3002\n      {\n        logfile.WriteEx(\"failed\uff0c\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\u3002\\n\");\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpatherr\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpatherr)==false) return false;\n      }\n    }\n\n    break;\n    sleep(starg.timetvl);\n  }\n\n  return true;\n}\n\n// \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename)\n{\n  // \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627efilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\n  if (findxmltotable(filename)==false) return 1; \n\n  return 0;\n}\n\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable()\n{\n  vxmltotable.clear();\n\n  CFile File;\n  if (File.Open(starg.inifilename,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) \u5931\u8d25\u3002\\n\",starg.inifilename); return false;\n  }\n\n  char strBuffer[501];\n\n  while (true)\n  {\n    if (File.FFGETS(strBuffer,500,\"&lt;endl/&gt;\")==false) break;\n\n    memset(&amp;stxmltotable,0,sizeof(struct st_xmltotable));\n\n    GetXMLBuffer(strBuffer,\"filename\",stxmltotable.filename,100); // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n    GetXMLBuffer(strBuffer,\"tname\",stxmltotable.tname,30);        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n    GetXMLBuffer(strBuffer,\"uptbz\",&amp;stxmltotable.uptbz);          // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n    GetXMLBuffer(strBuffer,\"execsql\",stxmltotable.execsql,300);   // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n\n    vxmltotable.push_back(stxmltotable);\n  }\n\n  logfile.Write(\"loadxmltotable(%s) ok.\\n\",starg.inifilename);\n\n  return true;\n}\n\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename)\n{\n  for (int ii=0;ii&lt;vxmltotable.size();ii++)\n  {\n    if (MatchStr(xmlfilename,vxmltotable[ii].filename)==true)\n    {\n      memcpy(&amp;stxmltotable,&amp;vxmltotable[ii],sizeof(struct st_xmltotable));\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath)\n{\n  char dstfilename[301];   // \u76ee\u6807\u6587\u4ef6\u540d\u3002\n  STRCPY(dstfilename,sizeof(dstfilename),fullfilename);\n\n  UpdateStr(dstfilename,srcpath,dstpath,false);    // \u5c0f\u5fc3\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c\u4e00\u5b9a\u8981\u586bfalse\u3002\n\n  if (RENAME(fullfilename,dstfilename)==false)\n  {\n    logfile.Write(\"RENAME(%s,%s) failed.\\n\",fullfilename,dstfilename); return false;\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/","title":"\u76ee\u7684","text":"<p>\u5f00\u59cb\u5904\u7406\u6587\u4ef6</p> <p>\u5728\u5165\u5e93\u53c2\u6570\u4e2d\uff0c\u6709xml\u6587\u4ef6\u540d\u4e0e\u8868\u5bf9\u5e94\u5173\u7cfb\uff0c\u5728\u5904\u7406\u6587\u4ef6\u4e4b\u524d\u5148\u67e5\u8be2mysql\u7684\u6570\u636e\u5b57\u5178\uff0c\u628a\u8868\u7684\u5b57\u6bb5\u4fe1\u606f\u62ff\u51fa\u6765\uff0c\u6709\u4e86\u5b57\u6bb5\u548c\u8868\u7684\u4fe1\u606f\u5c31\u53ef\u4ee5\u62fc\u63a5\u51fa\u63d2\u5165\u548c\u4fee\u6539\u8868\u7684SQL\u8bed\u53e5\uff0c\u518d\u51c6\u5907\u63d2\u5165\u548c\u4fee\u6539\u8868\u7684SQL\u8bed\u53e5\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf </p> <ul> <li> <p>\u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f</p> </li> <li> <p>\u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83</p> </li> <li>\u6253\u5f00xml\u6587\u4ef6</li> <li>\u7528\u5faa\u73af\u6765\u5904\u7406\u6587\u4ef6\u7684\u6bcf\u4e00\u884c</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/#1","title":"1\u3001 \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/#_3","title":"\u5b9e\u73b0\u8fd9\u4e2a\u7c7b\u7684\u529f\u80fd","text":"<p>\u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f</p> <p></p> <p>\u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/#2","title":"2 \u5904\u7406\u8fd0\u884c\u65f6\u62a5\u9519","text":"<p>\u5728xmltodb\u4e1a\u52a1\u5b50\u51fd\u6570\u6dfb\u52a0</p> <p></p> <p>\u5728\u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u4e2d\u6dfb\u52a0</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%932-%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/#_4","title":"\u6700\u7ec8\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1axmltodb3.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\n *  \u4f5c\u8005\uff1a\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nclass CTABCOLS\n{\npublic:\n  CTABCOLS();\n\n  int m_allcount;   // \u5168\u90e8\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n  int m_pkcount;    // \u4e3b\u952e\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n\n  vector&lt;struct st_columns&gt; m_vallcols;  // \u5b58\u653e\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n  vector&lt;struct st_columns&gt; m_vpkcols;   // \u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n\n  char m_allcols[3001];  // \u5168\u90e8\u7684\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n  char m_pkcols[301];    // \u4e3b\u952e\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n\n  void initdata();  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool allcols(connection *conn,char *tablename);\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool pkcols(connection *conn,char *tablename);\n};\n\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char inifilename[301]; // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\n  char xmlpath[301];     // \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char xmlpathbak[301];  // xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\n  char xmlpatherr[301];  // \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  int  timetvl;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u672c\u7a0b\u5e8f\u5e38\u9a7b\u5185\u5b58\u3002\n  int  timeout;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection conn;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb();\n\nstruct st_xmltotable\n{\n  char filename[101];    // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char tname[31];        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n  int  uptbz;            // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n  char execsql[301];     // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n} stxmltotable;\nvector&lt;struct st_xmltotable&gt; vxmltotable;   // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u7684\u5bb9\u5668\u3002\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable();\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename);\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename);\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath);\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  if (conn.connecttodb(starg.connstr,starg.charset) != 0)\n  {\n    printf(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); EXIT(-1);\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _xmltodb();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/xmltodb logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/xmltodb /log/idc/xmltodb_vip1.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;inifilename&gt;/project/tools/ini/xmltodb.xml&lt;/inifilename&gt;&lt;xmlpath&gt;/idcdata/xmltodb/vip1&lt;/xmlpath&gt;&lt;xmlpathbak&gt;/idcdata/xmltodb/vip1bak&lt;/xmlpathbak&gt;&lt;xmlpatherr&gt;/idcdata/xmltodb/vip1err&lt;/xmlpatherr&gt;&lt;timetvl&gt;5&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;xmltodb_vip1&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\\n\");\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"inifilename \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlpath     \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpathbak  xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpatherr  \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"timetvl     \u672c\u7a0b\u5e8f\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u4e1a\u52a1\u9700\u6c42\u800c\u5b9a\uff0c2-30\u4e4b\u95f4\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6xml\u6587\u4ef6\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"inifilename\",starg.inifilename,300);\n  if (strlen(starg.inifilename)==0) { logfile.Write(\"inifilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpath\",starg.xmlpath,300);\n  if (strlen(starg.xmlpath)==0) { logfile.Write(\"xmlpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpathbak\",starg.xmlpathbak,300);\n  if (strlen(starg.xmlpathbak)==0) { logfile.Write(\"xmlpathbak is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpatherr\",starg.xmlpatherr,300);\n  if (strlen(starg.xmlpatherr)==0) { logfile.Write(\"xmlpatherr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"timetvl\",&amp;starg.timetvl);\n  if (starg.timetvl&lt; 2) starg.timetvl=2;   \n  if (starg.timetvl&gt;30) starg.timetvl=30;\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb()\n{\n  int counter=50;  // \u52a0\u8f7d\u5165\u5e93\u53c2\u6570\u7684\u8ba1\u6570\u5668\uff0c\u521d\u59cb\u5316\u4e3a50\u662f\u4e3a\u4e86\u5728\u7b2c\u4e00\u6b21\u8fdb\u5165\u5faa\u73af\u7684\u65f6\u5019\u5c31\u52a0\u8f7d\u53c2\u6570\u3002\n\n  CDir Dir;\n\n  while (true)\n  {\n    if (counter++&gt;30)\n    {\n      counter=0;   // \u91cd\u65b0\u8ba1\u6570\u3002\n      // \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\n      if (loadxmltotable()==false) return false;\n    }\n\n    // \u6253\u5f00starg.xmlpath\u76ee\u5f55\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5148\u751f\u6210\u7684\u6570\u636e\u5165\u5e93\uff0c\u6253\u5f00\u76ee\u5f55\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u3002\n    if (Dir.OpenDir(starg.xmlpath,\"*.XML\",10000,false,true)==false)\n    {\n      logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",starg.xmlpath); return false;\n    }\n\n    while (true)\n    {\n      // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2axml\u6587\u4ef6\u3002\n      if (Dir.ReadDir()==false) break;\n\n      logfile.Write(\"\u5904\u7406\u6587\u4ef6%s...\",Dir.m_FullFileName);\n\n      // \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\u3002\n      int iret=_xmltodb(Dir.m_FullFileName,Dir.m_FileName);\n\n      // \u5904\u7406xml\u6587\u4ef6\u6210\u529f\uff0c\u5199\u65e5\u5fd7\uff0c\u5907\u4efd\u6587\u4ef6\u3002\n      if (iret==0)\n      {\n        logfile.WriteEx(\"ok.\\n\");\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpathbak\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpathbak)==false) return false;\n      }\n\n      // 1-\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\uff1b2-\u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\uff1b\n      if ( (iret==1) || (iret==2) )\n      {\n        if (iret==1) logfile.WriteEx(\"failed\uff0c\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\u3002\\n\");\n        if (iret==2) logfile.WriteEx(\"failed\uff0c\u5f85\u5165\u5e93\u7684\u8868\uff08%s\uff09\u4e0d\u5b58\u5728\u3002\\n\",stxmltotable.tname);\n\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpatherr\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpatherr)==false) return false;\n      }\n\n      // \u6570\u636e\u5e93\u9519\u8bef\uff0c\u51fd\u6570\u8fd4\u56de\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n      if (iret==4)\n      {\n        logfile.WriteEx(\"failed\uff0c\u6570\u636e\u5e93\u9519\u8bef\u3002\\n\"); return false;\n      }\n    }\n\n    break;\n    sleep(starg.timetvl);\n  }\n\n  return true;\n}\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename)\n{\n  // \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627efilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\n  if (findxmltotable(filename)==false) return 1; \n\n  CTABCOLS TABCOLS;\n\n  // \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f\uff0c\u5982\u679c\u83b7\u53d6\u5931\u8d25\uff0c\u5e94\u8be5\u662f\u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\u3002\n  // \u5728\u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6570\u636e\u5e93\u51fa\u73b0\u5f02\u5e38\uff0c\u4e00\u5b9a\u4f1a\u5728\u8fd9\u91cc\u53d1\u73b0\u3002\n  //\u6570\u636e\u5e93\u7684\u9519\u8bef\u4ee3\u7801\u7edf\u4e00\u75284\n  if (TABCOLS.allcols(&amp;conn,stxmltotable.tname)==false) return 4;\n  if (TABCOLS.pkcols(&amp;conn,stxmltotable.tname)==false)  return 4;\n\n  // \u5982\u679cTABCOLS.m_allcount\u4e3a0\uff0c\u8bf4\u660e\u8868\u6839\u672c\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de2\u3002\n  if (TABCOLS.m_allcount==0) return 2; // \u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\u3002\n\n  // \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\n\n  // prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\n\n  // \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83\u3002\n\n  // \u6253\u5f00xml\u6587\u4ef6\u3002\n\n/*\n  while (true)\n  {\n    // \u4ecexml\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\u3002\n\n    // \u89e3\u6790xml\uff0c\u5b58\u653e\u5728\u5df2\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cf\u4e2d\u3002\n\n    // \u6267\u884c\u63d2\u5165\u548c\u66f4\u65b0\u7684SQL\u3002\n  }\n*/\n\n  return 0;\n}\n\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable()\n{\n  vxmltotable.clear();\n\n  CFile File;\n  if (File.Open(starg.inifilename,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) \u5931\u8d25\u3002\\n\",starg.inifilename); return false;\n  }\n\n  char strBuffer[501];\n\n  while (true)\n  {\n    if (File.FFGETS(strBuffer,500,\"&lt;endl/&gt;\")==false) break;\n\n    memset(&amp;stxmltotable,0,sizeof(struct st_xmltotable));\n\n    GetXMLBuffer(strBuffer,\"filename\",stxmltotable.filename,100); // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n    GetXMLBuffer(strBuffer,\"tname\",stxmltotable.tname,30);        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n    GetXMLBuffer(strBuffer,\"uptbz\",&amp;stxmltotable.uptbz);          // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n    GetXMLBuffer(strBuffer,\"execsql\",stxmltotable.execsql,300);   // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n\n    vxmltotable.push_back(stxmltotable);\n  }\n\n  logfile.Write(\"loadxmltotable(%s) ok.\\n\",starg.inifilename);\n\n  return true;\n}\n\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename)\n{\n  for (int ii=0;ii&lt;vxmltotable.size();ii++)\n  {\n    if (MatchStr(xmlfilename,vxmltotable[ii].filename)==true)\n    {\n      memcpy(&amp;stxmltotable,&amp;vxmltotable[ii],sizeof(struct st_xmltotable));\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath)\n{\n  char dstfilename[301];   // \u76ee\u6807\u6587\u4ef6\u540d\u3002\n  STRCPY(dstfilename,sizeof(dstfilename),fullfilename);\n\n  UpdateStr(dstfilename,srcpath,dstpath,false);    // \u5c0f\u5fc3\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c\u4e00\u5b9a\u8981\u586bfalse\u3002\n\n  if (RENAME(fullfilename,dstfilename)==false)\n  {\n    logfile.Write(\"RENAME(%s,%s) failed.\\n\",fullfilename,dstfilename); return false;\n  }\n\n  return true;\n}\n\n/*\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n*/\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nCTABCOLS::CTABCOLS()\n{\n  initdata();  // \u8c03\u7528\u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u51fd\u6570\u3002\n}\n\nvoid CTABCOLS::initdata()  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n{\n  m_allcount=m_pkcount=0;\n  m_vallcols.clear();\n  m_vpkcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n  memset(m_pkcols,0,sizeof(m_pkcols));\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::allcols(connection *conn,char *tablename)\n{\n  m_allcount=0;\n  m_vallcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),lower(data_type),character_maximum_length from information_schema.COLUMNS where table_name=:1\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2, stcolumns.datatype,30);\n  stmt.bindout(3,&amp;stcolumns.collen);\n\n  if (stmt.execute()!=0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next()!=0) break;\n\n    // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n    if (strcmp(stcolumns.datatype,\"char\")==0)    strcpy(stcolumns.datatype,\"char\");\n    if (strcmp(stcolumns.datatype,\"varchar\")==0) strcpy(stcolumns.datatype,\"char\");\n\n    if (strcmp(stcolumns.datatype,\"datetime\")==0)  strcpy(stcolumns.datatype,\"date\");\n    if (strcmp(stcolumns.datatype,\"timestamp\")==0) strcpy(stcolumns.datatype,\"date\");\n\n    if (strcmp(stcolumns.datatype,\"tinyint\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"smallint\")==0)  strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"mediumint\")==0) strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"int\")==0)       strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"integer\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"bigint\")==0)    strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"numeric\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"decimal\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"float\")==0)     strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"double\")==0)    strcpy(stcolumns.datatype,\"number\");\n\n    // \u5982\u679c\u4e1a\u52a1\u6709\u9700\u8981\uff0c\u53ef\u4ee5\u4fee\u6539\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u589e\u52a0\u5bf9\u66f4\u591a\u6570\u636e\u7c7b\u578b\u7684\u652f\u6301\u3002\n    // \u5982\u679c\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5728\u4e0a\u9762\u5217\u51fa\u6765\u7684\u4e2d\uff0c\u5ffd\u7565\u5b83\u3002\n    if ( (strcmp(stcolumns.datatype,\"char\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"date\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"number\")!=0) ) continue;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fdate\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a19\u3002yyyy-mm-dd hh:mi:ss\n    if (strcmp(stcolumns.datatype,\"date\")==0) stcolumns.collen=19;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fnumber\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a20\u3002\n    if (strcmp(stcolumns.datatype,\"number\")==0) stcolumns.collen=20;\n\n    strcat(m_allcols,stcolumns.colname); strcat(m_allcols,\",\");\n\n    m_vallcols.push_back(stcolumns);\n\n    m_allcount++;\n  }\n  //\u4e0a\u9762\u90a3\u4e2a\u7a0b\u5e8f\u5b8c\u6210\u4e4b\u540em_allcount\u4e3a1\u5c31\u5927\u4e8e0\u4e86\n  // \u5220\u9664m_allcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n  if (m_allcount&gt;0) m_allcols[strlen(m_allcols)-1]=0;\n\n  return true;\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::pkcols(connection *conn,char *tablename)\n{\n  m_pkcount=0;\n  memset(m_pkcols,0,sizeof(m_pkcols));\n  m_vpkcols.clear();\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),seq_in_index from information_schema.STATISTICS where table_name=:1 and index_name='primary' order by seq_in_index\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2,&amp;stcolumns.pkseq);\n\n  if (stmt.execute() != 0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next() != 0) break;\n\n    strcat(m_pkcols,stcolumns.colname); strcat(m_pkcols,\",\");\n\n    m_vpkcols.push_back(stcolumns);\n\n    m_pkcount++;\n  }\n\n  if (m_pkcount&gt;0) m_pkcols[strlen(m_pkcols)-1]=0;    // \u5220\u9664m_pkcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/","title":"\u6570\u636e\u5165\u5e933-\u62fc\u63a5SQL\u8bed\u53e5","text":"<p>\u4e0a\u4e00\u8282\u6211\u4eec\u628a\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u7ec4\u4ef6\u4fe1\u606f\u4ece\u6570\u636e\u5b57\u5178\u4e2d\u62ff\u51fa\u6765\u4e86\uff0c\u5e76\u4e14\u8fd8\u505a\u4e86\u4e00\u4e9b\u5408\u6cd5\u6027\u7684\u5224\u65ad\uff0c\u8fd9\u4e00\u8282\u6839\u636e\u8868\u7684\u5b57\u6bb5\u548c\u7ec4\u4ef6\u4fe1\u606f\u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u7684sql\u8bed\u53e5</p> <p>\u8fd9\u4e00\u8282\u5728\u5904\u7406\u8fd9\u91cc\u65f6\u6709\u4e9b\u9ebb\u70e6</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/#1","title":"1 \u58f0\u660e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/#2","title":"2 \u5199\u7ed3\u6784\u4f53","text":"<p>\u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002</p> <p>\u6709\u4e24\u4e2a\u4efb\u52a1\uff1a</p> <ul> <li>\u751f\u6210\u63d2\u5165\u8868\u7684SQL\u8bed\u53e5 insert into \u8868\u540d(%s) values(%s)</li> </ul> <p></p> <ul> <li>\u751f\u6210\u4fee\u6539\u8868\u7684SQL\u8bed\u53e5</li> </ul> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/#_2","title":"\u7ec6\u8282","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%933-%E6%8B%BC%E6%8E%A5SQL%E8%AF%AD%E5%8F%A5/#_3","title":"\u77e5\u8bc6\u70b9","text":"<p>1 \u6570\u636e\u66f4\u65b0\u65f6\u95f4\u5b57\u6bb5\u662f\u6211\u4eec\u7279\u610f\u8bbe\u8ba1\u51fa\u6765\u7684\uff0c\u4e3a\u4e86\u517c\u5bb9\u7f8e\u5176\u4ed6\u7684\u6570\u636e\u5e93\u7528\u51fd\u6570\u53d6\u5f53\u524d\u65f6\u95f4</p> <p>2 \u4fee\u6539\u8868\u7684sql\u8bed\u53e5\u4e5f\u4e0d\u7528\u7ba1keyid\u5b57\u6bb5</p> <p>3 \u65e5\u671f\u578b\u5b57\u6bb5\u90fd\u9700\u8981\u7528\u51fd\u6570\u8f6c\u6362</p> <p></p> <p>4 \u4e3a\u4e86\u65b9\u4fbf\u5199\u4ee3\u7801\u6211\u4eecm_vpkcols\u5bb9\u5668\u7684pkseq\u6210\u5458\uff0c\u66f4\u65b0m_vallcols\u5bb9\u5668\u7684pkseq\u6210\u5458\uff0c\u4e0d\u66f4\u65b0\u4e5f\u53ef\u4ee5\uff0c\u4f46\u62fc\u63a5sql\u8bed\u53e5\u7684\u65f6\u5019\u8981\u53cd\u590d\u67e5\u627e\u4e24\u4e2a\u5bb9\u5668\u6bd4\u8f83\u9ebb\u70e6</p> <p>5 \u5982\u679c\u662f\u4e3b\u952e\u5b57\u6bb5\u4e5f\u4e0d\u9700\u8981\u62fc\u63a5\u5728set\u540e\u9762\uff0c\u56e0\u4e3a\u66f4\u65b0\u7684\u6761\u4ef6\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u6240\u4ee5\u4e3b\u952e\u5b57\u6bb5\u53ea\u4f1a\u51fa\u73b0\u5728where\u540e\u9762</p> <p>6 \u7528where 1=1 \u8fd9\u6837\u540e\u9762\u53ea\u8981\u6709\u6761\u4ef6\u5c31\u662f\u4e00\u4e2aand\u6761\u4ef6\uff0cand\u6761\u4ef6</p> <p>\u5982\u679c\u7528\u6237\u5728\u591a\u6761\u4ef6\u67e5\u8be2\u9875\u9762\u4e2d\uff0c\u4e0d\u9009\u62e9\u4efb\u4f55\u5b57\u6bb5\u3001\u4e0d\u8f93\u5165\u4efb\u4f55\u5173\u952e\u8bcd\uff0c\u90a3\u4e48\uff0c\u5fc5\u5c06\u8fd4\u56de\u8868\u4e2d\u6240\u6709\u6570\u636e\uff1b\u5982\u679c\u7528\u6237\u5728\u9875\u9762\u4e2d\uff0c\u9009\u62e9\u4e86\u90e8\u5206\u5b57\u6bb5\u5e76\u4e14\u8f93\u5165\u4e86\u90e8\u5206\u67e5\u8be2\u5173\u952e\u8bcd\uff0c\u90a3\u4e48\uff0c\u5c31\u6309\u7528\u6237\u8bbe\u7f6e\u7684\u6761\u4ef6\u8fdb\u884c\u67e5\u8be2\u3002</p> <p></p> <p>7 TABCOLS.m_allcols\u5305\u542b\u4e86\u8868\u5168\u90e8\u7684\u5b57\u6bb5\uff0c\u5728\u63d2\u5165\u8868\u4e2d\u6709\u4e24\u4e2a\u5b57\u6bb5\u6211\u4eec\u662f\u4e0d\u9700\u8981\u586b\u7684 \u66f4\u65b0\u65f6\u95f4(upttime)\u53d6\u7cfb\u7edf\u5f53\u524d\u65f6\u95f4\uff0c\u53e6\u4e00\u4e2a\u662f\u81ea\u589e\u5b57\u6bb5keyid</p> <p>\u62fc\u63a5strinsertp2 \u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5,\u5982\u679c\u4e0d\u662f\u65e5\u671f\u578b\u62fc\u63a5\u4e00\u4e2a:\u548c\u4e00\u4e2a\u5e8f\u53f7colseq</p> <p></p> <p>8</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/","title":"\u6570\u636e\u5165\u5e934-\u7ed1\u5b9aSQL\u8bed\u53e5\u7684\u53c2\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/#_2","title":"\u58f0\u660e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/#_3","title":"\u5199\u7ed3\u6784\u4f53","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/#_4","title":"\u77e5\u8bc6\u70b9","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%934-%E7%BB%91%E5%AE%9ASQL%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8F%82%E6%95%B0/#_5","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1axmltodb5.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\n *  \u4f5c\u8005\uff1agmc\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nclass CTABCOLS\n{\npublic:\n  CTABCOLS();\n\n  int m_allcount;   // \u5168\u90e8\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n  int m_pkcount;    // \u4e3b\u952e\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n\n  vector&lt;struct st_columns&gt; m_vallcols;  // \u5b58\u653e\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n  vector&lt;struct st_columns&gt; m_vpkcols;   // \u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n\n  char m_allcols[3001];  // \u5168\u90e8\u7684\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n  char m_pkcols[301];    // \u4e3b\u952e\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n\n  void initdata();  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool allcols(connection *conn,char *tablename);\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool pkcols(connection *conn,char *tablename);\n};\n\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char inifilename[301]; // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\n  char xmlpath[301];     // \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char xmlpathbak[301];  // xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\n  char xmlpatherr[301];  // \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  int  timetvl;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u672c\u7a0b\u5e8f\u5e38\u9a7b\u5185\u5b58\u3002\n  int  timeout;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection conn;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb();\n\nstruct st_xmltotable\n{\n  char filename[101];    // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char tname[31];        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n  int  uptbz;            // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n  char execsql[301];     // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n} stxmltotable;\nvector&lt;struct st_xmltotable&gt; vxmltotable;   // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u7684\u5bb9\u5668\u3002\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable();\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename);\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename);\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath);\n\nCTABCOLS TABCOLS;  // \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u5b57\u6bb5\u3002\n\nchar strinsertsql[10241];    // \u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002\nchar strupdatesql[10241];    // \u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\u3002\n\n// \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\nvoid crtsql();\n\n// prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\n#define MAXCOLCOUNT  300                    // \u6bcf\u4e2a\u8868\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n#define MAXCOLLEN    100                    // \u8868\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\nchar strcolvalue[MAXCOLCOUNT][MAXCOLLEN+1]; // \u5b58\u653e\u4ecexml\u6bcf\u4e00\u884c\u4e2d\u89e3\u6790\u51fa\u6765\u7684\u503c\u3002\nsqlstatement stmtins,stmtupt;               // \u63d2\u5165\u548c\u66f4\u65b0\u8868\u7684sqlstatement\u5bf9\u8c61\u3002\nvoid preparesql();\n\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  if (conn.connecttodb(starg.connstr,starg.charset) != 0)\n  {\n    printf(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); EXIT(-1);\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _xmltodb();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/xmltodb logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/xmltodb /log/idc/xmltodb_vip1.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;inifilename&gt;/project/tools/ini/xmltodb.xml&lt;/inifilename&gt;&lt;xmlpath&gt;/idcdata/xmltodb/vip1&lt;/xmlpath&gt;&lt;xmlpathbak&gt;/idcdata/xmltodb/vip1bak&lt;/xmlpathbak&gt;&lt;xmlpatherr&gt;/idcdata/xmltodb/vip1err&lt;/xmlpatherr&gt;&lt;timetvl&gt;5&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;xmltodb_vip1&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\\n\");\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"inifilename \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlpath     \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpathbak  xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpatherr  \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"timetvl     \u672c\u7a0b\u5e8f\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u4e1a\u52a1\u9700\u6c42\u800c\u5b9a\uff0c2-30\u4e4b\u95f4\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6xml\u6587\u4ef6\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"inifilename\",starg.inifilename,300);\n  if (strlen(starg.inifilename)==0) { logfile.Write(\"inifilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpath\",starg.xmlpath,300);\n  if (strlen(starg.xmlpath)==0) { logfile.Write(\"xmlpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpathbak\",starg.xmlpathbak,300);\n  if (strlen(starg.xmlpathbak)==0) { logfile.Write(\"xmlpathbak is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpatherr\",starg.xmlpatherr,300);\n  if (strlen(starg.xmlpatherr)==0) { logfile.Write(\"xmlpatherr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"timetvl\",&amp;starg.timetvl);\n  if (starg.timetvl&lt; 2) starg.timetvl=2;   \n  if (starg.timetvl&gt;30) starg.timetvl=30;\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb()\n{\n  int counter=50;  // \u52a0\u8f7d\u5165\u5e93\u53c2\u6570\u7684\u8ba1\u6570\u5668\uff0c\u521d\u59cb\u5316\u4e3a50\u662f\u4e3a\u4e86\u5728\u7b2c\u4e00\u6b21\u8fdb\u5165\u5faa\u73af\u7684\u65f6\u5019\u5c31\u52a0\u8f7d\u53c2\u6570\u3002\n\n  CDir Dir;\n\n  while (true)\n  {\n    if (counter++&gt;30)\n    {\n      counter=0;   // \u91cd\u65b0\u8ba1\u6570\u3002\n      // \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\n      if (loadxmltotable()==false) return false;\n    }\n\n    // \u6253\u5f00starg.xmlpath\u76ee\u5f55\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5148\u751f\u6210\u7684\u6570\u636e\u5165\u5e93\uff0c\u6253\u5f00\u76ee\u5f55\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u3002\n    if (Dir.OpenDir(starg.xmlpath,\"*.XML\",10000,false,true)==false)\n    {\n      logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",starg.xmlpath); return false;\n    }\n\n    while (true)\n    {\n      // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2axml\u6587\u4ef6\u3002\n      if (Dir.ReadDir()==false) break;\n\n      logfile.Write(\"\u5904\u7406\u6587\u4ef6%s...\",Dir.m_FullFileName);\n\n      // \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\u3002\n      int iret=_xmltodb(Dir.m_FullFileName,Dir.m_FileName);\n\n      // \u5904\u7406xml\u6587\u4ef6\u6210\u529f\uff0c\u5199\u65e5\u5fd7\uff0c\u5907\u4efd\u6587\u4ef6\u3002\n      if (iret==0)\n      {\n        logfile.WriteEx(\"ok.\\n\");\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpathbak\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpathbak)==false) return false;\n      }\n\n      // 1-\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\uff1b2-\u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\uff1b\n      if ( (iret==1) || (iret==2) )\n      {\n        if (iret==1) logfile.WriteEx(\"failed\uff0c\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\u3002\\n\");\n        if (iret==2) logfile.WriteEx(\"failed\uff0c\u5f85\u5165\u5e93\u7684\u8868\uff08%s\uff09\u4e0d\u5b58\u5728\u3002\\n\",stxmltotable.tname);\n\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpatherr\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpatherr)==false) return false;\n      }\n\n      // \u6570\u636e\u5e93\u9519\u8bef\uff0c\u51fd\u6570\u8fd4\u56de\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n      if (iret==4)\n      {\n        logfile.WriteEx(\"failed\uff0c\u6570\u636e\u5e93\u9519\u8bef\u3002\\n\"); return false;\n      }\n    }\n\n    break;\n    sleep(starg.timetvl);\n  }\n\n  return true;\n}\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename)\n{\n  // \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627efilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\n  if (findxmltotable(filename)==false) return 1; \n\n  // \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f\uff0c\u5982\u679c\u83b7\u53d6\u5931\u8d25\uff0c\u5e94\u8be5\u662f\u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\u3002\n  // \u5728\u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6570\u636e\u5e93\u51fa\u73b0\u5f02\u5e38\uff0c\u4e00\u5b9a\u4f1a\u5728\u8fd9\u91cc\u53d1\u73b0\u3002\n  if (TABCOLS.allcols(&amp;conn,stxmltotable.tname)==false) return 4;\n  if (TABCOLS.pkcols(&amp;conn,stxmltotable.tname)==false)  return 4;\n\n  // \u5982\u679cTABCOLS.m_allcount\u4e3a0\uff0c\u8bf4\u660e\u8868\u6839\u672c\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de2\u3002\n  if (TABCOLS.m_allcount==0) return 2; // \u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\u3002\n\n  // \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\n  crtsql();\n\n  // prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\n  preparesql();\n\n  // \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83\u3002\n\n  // \u6253\u5f00xml\u6587\u4ef6\u3002\n\n/*\n  while (true)\n  {\n    // \u4ecexml\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\u3002\n\n    // \u89e3\u6790xml\uff0c\u5b58\u653e\u5728\u5df2\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cf\u4e2d\u3002\n\n    // \u6267\u884c\u63d2\u5165\u548c\u66f4\u65b0\u7684SQL\u3002\n  }\n*/\n\n  return 0;\n}\n\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable()\n{\n  vxmltotable.clear();\n\n  CFile File;\n  if (File.Open(starg.inifilename,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) \u5931\u8d25\u3002\\n\",starg.inifilename); return false;\n  }\n\n  char strBuffer[501];\n\n  while (true)\n  {\n    if (File.FFGETS(strBuffer,500,\"&lt;endl/&gt;\")==false) break;\n\n    memset(&amp;stxmltotable,0,sizeof(struct st_xmltotable));\n\n    GetXMLBuffer(strBuffer,\"filename\",stxmltotable.filename,100); // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n    GetXMLBuffer(strBuffer,\"tname\",stxmltotable.tname,30);        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n    GetXMLBuffer(strBuffer,\"uptbz\",&amp;stxmltotable.uptbz);          // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n    GetXMLBuffer(strBuffer,\"execsql\",stxmltotable.execsql,300);   // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n\n    vxmltotable.push_back(stxmltotable);\n  }\n\n  logfile.Write(\"loadxmltotable(%s) ok.\\n\",starg.inifilename);\n\n  return true;\n}\n\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename)\n{\n  for (int ii=0;ii&lt;vxmltotable.size();ii++)\n  {\n    if (MatchStr(xmlfilename,vxmltotable[ii].filename)==true)\n    {\n      memcpy(&amp;stxmltotable,&amp;vxmltotable[ii],sizeof(struct st_xmltotable));\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath)\n{\n  char dstfilename[301];   // \u76ee\u6807\u6587\u4ef6\u540d\u3002\n  STRCPY(dstfilename,sizeof(dstfilename),fullfilename);\n\n  UpdateStr(dstfilename,srcpath,dstpath,false);    // \u5c0f\u5fc3\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c\u4e00\u5b9a\u8981\u586bfalse\u3002\n\n  if (RENAME(fullfilename,dstfilename)==false)\n  {\n    logfile.Write(\"RENAME(%s,%s) failed.\\n\",fullfilename,dstfilename); return false;\n  }\n\n  return true;\n}\n\n/*\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n*/\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nCTABCOLS::CTABCOLS()\n{\n  initdata();  // \u8c03\u7528\u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u51fd\u6570\u3002\n}\n\nvoid CTABCOLS::initdata()  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n{\n  m_allcount=m_pkcount=0;\n  m_vallcols.clear();\n  m_vpkcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n  memset(m_pkcols,0,sizeof(m_pkcols));\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::allcols(connection *conn,char *tablename)\n{\n  m_allcount=0;\n  m_vallcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),lower(data_type),character_maximum_length from information_schema.COLUMNS where table_name=:1\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2, stcolumns.datatype,30);\n  stmt.bindout(3,&amp;stcolumns.collen);\n\n  if (stmt.execute()!=0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next()!=0) break;\n\n    // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n    if (strcmp(stcolumns.datatype,\"char\")==0)    strcpy(stcolumns.datatype,\"char\");\n    if (strcmp(stcolumns.datatype,\"varchar\")==0) strcpy(stcolumns.datatype,\"char\");\n\n    if (strcmp(stcolumns.datatype,\"datetime\")==0)  strcpy(stcolumns.datatype,\"date\");\n    if (strcmp(stcolumns.datatype,\"timestamp\")==0) strcpy(stcolumns.datatype,\"date\");\n\n    if (strcmp(stcolumns.datatype,\"tinyint\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"smallint\")==0)  strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"mediumint\")==0) strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"int\")==0)       strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"integer\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"bigint\")==0)    strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"numeric\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"decimal\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"float\")==0)     strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"double\")==0)    strcpy(stcolumns.datatype,\"number\");\n\n    // \u5982\u679c\u4e1a\u52a1\u6709\u9700\u8981\uff0c\u53ef\u4ee5\u4fee\u6539\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u589e\u52a0\u5bf9\u66f4\u591a\u6570\u636e\u7c7b\u578b\u7684\u652f\u6301\u3002\n    // \u5982\u679c\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5728\u4e0a\u9762\u5217\u51fa\u6765\u7684\u4e2d\uff0c\u5ffd\u7565\u5b83\u3002\n    if ( (strcmp(stcolumns.datatype,\"char\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"date\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"number\")!=0) ) continue;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fdate\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a19\u3002yyyy-mm-dd hh:mi:ss\n    if (strcmp(stcolumns.datatype,\"date\")==0) stcolumns.collen=19;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fnumber\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a20\u3002\n    if (strcmp(stcolumns.datatype,\"number\")==0) stcolumns.collen=20;\n\n    strcat(m_allcols,stcolumns.colname); strcat(m_allcols,\",\");\n\n    m_vallcols.push_back(stcolumns);\n\n    m_allcount++;\n  }\n\n  // \u5220\u9664m_allcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n  if (m_allcount&gt;0) m_allcols[strlen(m_allcols)-1]=0;\n\n  return true;\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::pkcols(connection *conn,char *tablename)\n{\n  m_pkcount=0;\n  memset(m_pkcols,0,sizeof(m_pkcols));\n  m_vpkcols.clear();\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),seq_in_index from information_schema.STATISTICS where table_name=:1 and index_name='primary' order by seq_in_index\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2,&amp;stcolumns.pkseq);\n\n  if (stmt.execute() != 0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next() != 0) break;\n\n    strcat(m_pkcols,stcolumns.colname); strcat(m_pkcols,\",\");\n\n    m_vpkcols.push_back(stcolumns);\n\n    m_pkcount++;\n  }\n\n  if (m_pkcount&gt;0) m_pkcols[strlen(m_pkcols)-1]=0;    // \u5220\u9664m_pkcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n\n  return true;\n}\n\n// \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\nvoid crtsql()\n{\n  memset(strinsertsql,0,sizeof(strinsertsql));    // \u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002\n  memset(strupdatesql,0,sizeof(strupdatesql));    // \u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\u3002\n\n  // \u751f\u6210\u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002 insert into \u8868\u540d(%s) values(%s)\n  char strinsertp1[3001];    // insert\u8bed\u53e5\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char strinsertp2[3001];    // insert\u8bed\u53e5values\u540e\u7684\u5185\u5bb9\u3002\n\n  memset(strinsertp1,0,sizeof(strinsertp1));\n  memset(strinsertp2,0,sizeof(strinsertp2));\n\n  int colseq=1;   // values\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u62fc\u63a5strinsertp1\n    strcat(strinsertp1,TABCOLS.m_vallcols[ii].colname); strcat(strinsertp1,\",\");\n\n    // \u62fc\u63a5strinsertp2\uff0c\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\":%d\",colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",colseq);\n\n    strcat(strinsertp2,strtemp);  strcat(strinsertp2,\",\");\n\n    colseq++;\n  }\n\n  strinsertp1[strlen(strinsertp1)-1]=0;  // \u628a\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u5220\u9664\u3002\n  strinsertp2[strlen(strinsertp2)-1]=0;  // \u628a\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u5220\u9664\u3002\n\n  SNPRINTF(strinsertsql,10240,sizeof(strinsertsql),\\\n           \"insert into %s(%s) values(%s)\",stxmltotable.tname,strinsertp1,strinsertp2);\n\n  // logfile.Write(\"strinsertsql=%s=\\n\",strinsertsql);\n\n  // \u5982\u679c\u5165\u5e93\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86\u8868\u6570\u636e\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u4e0d\u751f\u6210update\u8bed\u53e5\u4e86\uff0c\u51fd\u6570\u8fd4\u56de\u3002\n  if (stxmltotable.uptbz!=1) return;\n\n  // \u751f\u6210\u4fee\u6539\u8868\u7684SQL\u8bed\u53e5\u3002\n  // update T_ZHOBTMIND1 set t=:1,p=:2,u=:3,wd=:4,wf=:5,r=:6,vis=:7,upttime=now(),mint=:8,minttime=str_to_date(:9,'%Y%m%d%H%i%s') where obtid=:10 and ddatetime=str_to_date(:11,'%Y%m%d%H%i%s')\n\n  // \u66f4\u65b0TABCOLS.m_vallcols\u4e2d\u7684pkseq\u5b57\u6bb5\uff0c\u5728\u62fc\u63a5update\u8bed\u53e5\u7684\u65f6\u5019\u8981\u7528\u5230\u5b83\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vpkcols.size();ii++)\n    for (int jj=0;jj&lt;TABCOLS.m_vallcols.size();jj++)\n      if (strcmp(TABCOLS.m_vpkcols[ii].colname,TABCOLS.m_vallcols[jj].colname)==0)\n      {\n        // \u66f4\u65b0m_vallcols\u5bb9\u5668\u4e2d\u7684pkseq\u3002\n        TABCOLS.m_vallcols[jj].pkseq=TABCOLS.m_vpkcols[ii].pkseq; break;\n      }\n\n   // \u5148\u62fc\u63a5update\u8bed\u53e5\u5f00\u59cb\u7684\u90e8\u5206\u3002\n   sprintf(strupdatesql,\"update %s set \",stxmltotable.tname);\n\n  // \u62fc\u63a5update\u8bed\u53e5set\u540e\u9762\u7684\u90e8\u5206\u3002\n  colseq=1;\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // keyid\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) continue;\n\n    // \u5982\u679c\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u4e5f\u4e0d\u9700\u8981\u62fc\u63a5\u5728set\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq!=0) continue;\n\n    // upttime\u5b57\u6bb5\u76f4\u63a5\u7b49\u4e8enow()\uff0c\u8fd9\u4e48\u505a\u662f\u4e3a\u4e86\u8003\u8651\u6570\u636e\u5e93\u7684\u517c\u5bb9\u6027\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0)\n    {\n      strcat(strupdatesql,\"upttime=now(),\"); continue;\n    }\n\n    // \u5176\u5b83\u5b57\u6bb5\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"%s=:%d\",TABCOLS.m_vallcols[ii].colname,colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"%s=str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",TABCOLS.m_vallcols[ii].colname,colseq);\n\n    strcat(strupdatesql,strtemp);  strcat(strupdatesql,\",\");\n\n    colseq++;\n  }\n\n  strupdatesql[strlen(strupdatesql)-1]=0;    // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n\n  // \u7136\u540e\u518d\u62fc\u63a5update\u8bed\u53e5where\u540e\u9762\u7684\u90e8\u5206\u3002\n  strcat(strupdatesql,\" where 1=1 \");      // \u75281=1\u662f\u4e3a\u4e86\u540e\u9762\u7684\u62fc\u63a5\u65b9\u4fbf\uff0c\u8fd9\u662f\u5e38\u7528\u7684\u5904\u7406\u65b9\u6cd5\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    if (TABCOLS.m_vallcols[ii].pkseq==0) continue;   // \u5982\u679c\u4e0d\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u8df3\u8fc7\u3002\n\n    // \u628a\u4e3b\u952e\u5b57\u6bb5\u62fc\u63a5\u5230update\u8bed\u53e5\u4e2d\uff0c\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\" and %s=:%d\",TABCOLS.m_vallcols[ii].colname,colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\" and %s=str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",TABCOLS.m_vallcols[ii].colname,colseq);\n\n    strcat(strupdatesql,strtemp);  \n\n    colseq++;\n  }\n\n  // logfile.Write(\"strupdatesql=%s\\n\",strupdatesql);\n}\n\n// prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\nvoid preparesql()\n{\n  // \u7ed1\u5b9a\u63d2\u5165sql\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\u3002\n  stmtins.connect(&amp;conn);\n  stmtins.prepare(strinsertsql);\n\n  int colseq=1;        // values\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtins.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n    colseq++;\n  }\n  // \u7ed1\u5b9a\u66f4\u65b0sql\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\u3002\n  // \u5982\u679c\u5165\u5e93\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86\u8868\u6570\u636e\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u4e0d\u5904\u7406update\u8bed\u53e5\u4e86\uff0c\u51fd\u6570\u8fd4\u56de\u3002\n  if (stxmltotable.uptbz!=1) return;\n\n  stmtupt.connect(&amp;conn);\n  stmtupt.prepare(strupdatesql);\n\n  colseq=1;        // set\u548cwhere\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  // \u7ed1\u5b9aset\u90e8\u5206\u7684\u8f93\u5165\u53c2\u6570\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u5982\u679c\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u4e5f\u4e0d\u9700\u8981\u62fc\u63a5\u5728set\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq!=0) continue;\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtupt.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n\n    colseq++;\n  }\n\n  // \u7ed1\u5b9awhere\u90e8\u5206\u7684\u8f93\u5165\u53c2\u6570\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // \u5982\u679c\u4e0d\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u8df3\u8fc7\uff0c\u53ea\u6709\u4e3b\u952e\u5b57\u6bb5\u624d\u62fc\u63a5\u5728where\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq==0) continue;\n\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtupt.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n\n    colseq++;\n  }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/","title":"\u6570\u636e\u5165\u5e935-\u6267\u884c\u63d2\u5165\u548c\u66f4\u65b0","text":"<p>\u8fd9\u8282\u8bfe\u4e3b\u8981\u5185\u5bb9\u662f\u8bfb\u53d6xml\u6587\u4ef6\u628a\u6570\u636e\u63d2\u5165\u548c\u66f4\u65b0\u5230\u8868\u4e2d</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#_1","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#1","title":"1 \u58f0\u660e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#2","title":"2 \u5199\u7ed3\u6784\u4f53","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#3-xml","title":"3 \u5728\u5904\u7406XML\u6587\u4ef6\u7684\u5b50\u51fd\u6570\u6dfb\u52a0","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#4","title":"4 \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/7%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E5%AD%90%E7%B3%BB%E7%BB%9F/%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%935-%E6%89%A7%E8%A1%8C%E6%8F%92%E5%85%A5%E5%92%8C%E6%9B%B4%E6%96%B0/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1axmltodb6.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_public.h\"\n#include \"_mysql.h\"\n\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nclass CTABCOLS\n{\npublic:\n  CTABCOLS();\n\n  int m_allcount;   // \u5168\u90e8\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n  int m_pkcount;    // \u4e3b\u952e\u5b57\u6bb5\u7684\u4e2a\u6570\u3002\n\n  vector&lt;struct st_columns&gt; m_vallcols;  // \u5b58\u653e\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n  vector&lt;struct st_columns&gt; m_vpkcols;   // \u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u7684\u5bb9\u5668\u3002\n\n  char m_allcols[3001];  // \u5168\u90e8\u7684\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n  char m_pkcols[301];    // \u4e3b\u952e\u5b57\u6bb5\u540d\u5217\u8868\uff0c\u4ee5\u5b57\u7b26\u4e32\u5b58\u653e\uff0c\u4e2d\u95f4\u7528\u534a\u89d2\u7684\u9017\u53f7\u5206\u9694\u3002\n\n  void initdata();  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool allcols(connection *conn,char *tablename);\n\n  // \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\n  bool pkcols(connection *conn,char *tablename);\n};\n\nstruct st_arg\n{\n  char connstr[101];     // \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];      // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char inifilename[301]; // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\n  char xmlpath[301];     // \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  char xmlpathbak[301];  // xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\n  char xmlpatherr[301];  // \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\n  int  timetvl;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u672c\u7a0b\u5e8f\u5e38\u9a7b\u5185\u5b58\u3002\n  int  timeout;          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];        // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection conn;\n\nvoid EXIT(int sig);\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb();\n\nstruct st_xmltotable\n{\n  char filename[101];    // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n  char tname[31];        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n  int  uptbz;            // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n  char execsql[301];     // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n} stxmltotable;\nvector&lt;struct st_xmltotable&gt; vxmltotable;   // \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u7684\u5bb9\u5668\u3002\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable();\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename);\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename);\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath);\n\nCTABCOLS TABCOLS;  // \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u5b57\u6bb5\u3002\n\nchar strinsertsql[10241];    // \u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002\nchar strupdatesql[10241];    // \u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\u3002\n\n// \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\nvoid crtsql();\n\n// prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\n#define MAXCOLCOUNT  300                    // \u6bcf\u4e2a\u8868\u5b57\u6bb5\u7684\u6700\u5927\u6570\u3002\n#define MAXCOLLEN    100                    // \u8868\u5b57\u6bb5\u503c\u7684\u6700\u5927\u957f\u5ea6\u3002\nchar strcolvalue[MAXCOLCOUNT][MAXCOLLEN+1]; // \u5b58\u653e\u4ecexml\u6bcf\u4e00\u884c\u4e2d\u89e3\u6790\u51fa\u6765\u7684\u503c\u3002\nsqlstatement stmtins,stmtupt;               // \u63d2\u5165\u548c\u66f4\u65b0\u8868\u7684sqlstatement\u5bf9\u8c61\u3002\nvoid preparesql();\n\n// \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83\u3002\nbool execsql();\n\n// \u89e3\u6790xml\uff0c\u5b58\u653e\u5728\u5df2\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cfstrcolvalue\u6570\u7ec4\u4e2d\u3002\nvoid splitbuffer(char *strBuffer);\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\u3002\n  // \u8bbe\u7f6e\u4fe1\u53f7,\u5728shell\u72b6\u6001\u4e0b\u53ef\u7528 \"kill + \u8fdb\u7a0b\u53f7\" \u6b63\u5e38\u7ec8\u6b62\u4e9b\u8fdb\u7a0b\u3002\n  // \u4f46\u8bf7\u4e0d\u8981\u7528 \"kill -9 +\u8fdb\u7a0b\u53f7\" \u5f3a\u884c\u7ec8\u6b62\u3002\n  // CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  if (conn.connecttodb(starg.connstr,starg.charset) != 0)\n  {\n    printf(\"connect database(%s) failed.\\n%s\\n\",starg.connstr,conn.m_cda.message); EXIT(-1);\n  }\n\n  logfile.Write(\"connect database(%s) ok.\\n\",starg.connstr);\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _xmltodb();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/xmltodb logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/xmltodb /log/idc/xmltodb_vip1.log \\\"&lt;connstr&gt;127.0.0.1,root,mysqlpwd,mysql,3306&lt;/connstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;inifilename&gt;/project/tools/ini/xmltodb.xml&lt;/inifilename&gt;&lt;xmlpath&gt;/idcdata/xmltodb/vip1&lt;/xmlpath&gt;&lt;xmlpathbak&gt;/idcdata/xmltodb/vip1bak&lt;/xmlpathbak&gt;&lt;xmlpatherr&gt;/idcdata/xmltodb/vip1err&lt;/xmlpatherr&gt;&lt;timetvl&gt;5&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;xmltodb_vip1&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u7528\u4e8e\u628axml\u6587\u4ef6\u5165\u5e93\u5230MySQL\u7684\u8868\u4e2d\u3002\\n\");\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"connstr     \u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset     \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u6570\u636e\u6e90\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n  printf(\"inifilename \u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlpath     \u5f85\u5165\u5e93xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpathbak  xml\u6587\u4ef6\u5165\u5e93\u540e\u7684\u5907\u4efd\u76ee\u5f55\u3002\\n\");\n  printf(\"xmlpatherr  \u5165\u5e93\u5931\u8d25\u7684xml\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\u3002\\n\");\n  printf(\"timetvl     \u672c\u7a0b\u5e8f\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u4e1a\u52a1\u9700\u6c42\u800c\u5b9a\uff0c2-30\u4e4b\u95f4\u3002\\n\");\n  printf(\"timeout     \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6xml\u6587\u4ef6\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname       \u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  GetXMLBuffer(strxmlbuffer,\"connstr\",starg.connstr,100);\n  if (strlen(starg.connstr)==0) { logfile.Write(\"connstr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"inifilename\",starg.inifilename,300);\n  if (strlen(starg.inifilename)==0) { logfile.Write(\"inifilename is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpath\",starg.xmlpath,300);\n  if (strlen(starg.xmlpath)==0) { logfile.Write(\"xmlpath is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpathbak\",starg.xmlpathbak,300);\n  if (strlen(starg.xmlpathbak)==0) { logfile.Write(\"xmlpathbak is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"xmlpatherr\",starg.xmlpatherr,300);\n  if (strlen(starg.xmlpatherr)==0) { logfile.Write(\"xmlpatherr is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"timetvl\",&amp;starg.timetvl);\n  if (starg.timetvl&lt; 2) starg.timetvl=2;   \n  if (starg.timetvl&gt;30) starg.timetvl=30;\n\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  conn.disconnect();\n\n  exit(0);\n}\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _xmltodb()\n{\n  int counter=50;  // \u52a0\u8f7d\u5165\u5e93\u53c2\u6570\u7684\u8ba1\u6570\u5668\uff0c\u521d\u59cb\u5316\u4e3a50\u662f\u4e3a\u4e86\u5728\u7b2c\u4e00\u6b21\u8fdb\u5165\u5faa\u73af\u7684\u65f6\u5019\u5c31\u52a0\u8f7d\u53c2\u6570\u3002\n\n  CDir Dir;\n\n  while (true)\n  {\n    if (counter++&gt;30)\n    {\n      counter=0;   // \u91cd\u65b0\u8ba1\u6570\u3002\n      // \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\n      if (loadxmltotable()==false) return false;\n    }\n\n    // \u6253\u5f00starg.xmlpath\u76ee\u5f55\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5148\u751f\u6210\u7684\u6570\u636e\u5165\u5e93\uff0c\u6253\u5f00\u76ee\u5f55\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u6309\u6587\u4ef6\u540d\u6392\u5e8f\u3002\n    if (Dir.OpenDir(starg.xmlpath,\"*.XML\",10000,false,true)==false)\n    {\n      logfile.Write(\"Dir.OpenDir(%s) failed.\\n\",starg.xmlpath); return false;\n    }\n\n    while (true)\n    {\n      // \u8bfb\u53d6\u76ee\u5f55\uff0c\u5f97\u5230\u4e00\u4e2axml\u6587\u4ef6\u3002\n      if (Dir.ReadDir()==false) break;\n\n      logfile.Write(\"\u5904\u7406\u6587\u4ef6%s...\",Dir.m_FullFileName);\n\n      // \u8c03\u7528\u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\u3002\n      int iret=_xmltodb(Dir.m_FullFileName,Dir.m_FileName);\n\n      // \u5904\u7406xml\u6587\u4ef6\u6210\u529f\uff0c\u5199\u65e5\u5fd7\uff0c\u5907\u4efd\u6587\u4ef6\u3002\n      if (iret==0)\n      {\n        logfile.WriteEx(\"ok.\\n\");\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpathbak\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpathbak)==false) return false;\n      }\n\n      // 1-\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\uff1b2-\u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\uff1b\n      if ( (iret==1) || (iret==2) )\n      {\n        if (iret==1) logfile.WriteEx(\"failed\uff0c\u6ca1\u6709\u914d\u7f6e\u5165\u5e93\u53c2\u6570\u3002\\n\");\n        if (iret==2) logfile.WriteEx(\"failed\uff0c\u5f85\u5165\u5e93\u7684\u8868\uff08%s\uff09\u4e0d\u5b58\u5728\u3002\\n\",stxmltotable.tname);\n\n        // \u628axml\u6587\u4ef6\u79fb\u52a8\u5230starg.xmlpatherr\u53c2\u6570\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\uff0c\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\u9519\u8bef\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n        if (xmltobakerr(Dir.m_FullFileName,starg.xmlpath,starg.xmlpatherr)==false) return false;\n      }\n\n      // \u6253\u5f00xml\u6587\u4ef6\u9519\u8bef\uff0c\u8fd9\u79cd\u9519\u8bef\u4e00\u822c\u4e0d\u4f1a\u53d1\u751f\uff0c\u5982\u679c\u771f\u53d1\u751f\u4e86\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n      if (iret==3)\n      {\n        logfile.WriteEx(\"failed\uff0c\u6253\u5f00xml\u6587\u4ef6\u5931\u8d25\u3002\\n\"); return false;\n      }\n\n      // \u6570\u636e\u5e93\u9519\u8bef\uff0c\u51fd\u6570\u8fd4\u56de\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n      if (iret==4)\n      {\n        logfile.WriteEx(\"failed\uff0c\u6570\u636e\u5e93\u9519\u8bef\u3002\\n\"); return false;\n      }\n\n      // \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679c\u6267\u884cstxmltotable.execsql\u5931\u8d25\uff0c\u51fd\u6570\u8fd4\u56de\uff0c\u7a0b\u5e8f\u5c06\u9000\u51fa\u3002\n      if (iret==6)\n      {\n        logfile.WriteEx(\"failed\uff0c\u6267\u884cexecsql\u5931\u8d25\u3002\\n\"); return false;\n      }\n    }\n\n    break;\n    sleep(starg.timetvl);\n  }\n\n  return true;\n}\n\n// \u5904\u7406xml\u6587\u4ef6\u7684\u5b50\u51fd\u6570\uff0c\u8fd4\u56de\u503c\uff1a0-\u6210\u529f\uff0c\u5176\u5b83\u7684\u90fd\u662f\u5931\u8d25\uff0c\u5931\u8d25\u7684\u60c5\u51b5\u6709\u5f88\u591a\u79cd\uff0c\u6682\u65f6\u4e0d\u786e\u5b9a\u3002\nint _xmltodb(char *fullfilename,char *filename)\n{\n  // \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627efilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\n  if (findxmltotable(filename)==false) return 1; \n\n  // \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5b57\u6bb5\u548c\u4e3b\u952e\u4fe1\u606f\uff0c\u5982\u679c\u83b7\u53d6\u5931\u8d25\uff0c\u5e94\u8be5\u662f\u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\u3002\n  // \u5728\u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u6570\u636e\u5e93\u51fa\u73b0\u5f02\u5e38\uff0c\u4e00\u5b9a\u4f1a\u5728\u8fd9\u91cc\u53d1\u73b0\u3002\n  if (TABCOLS.allcols(&amp;conn,stxmltotable.tname)==false) return 4;\n  if (TABCOLS.pkcols(&amp;conn,stxmltotable.tname)==false)  return 4;\n\n  // \u5982\u679cTABCOLS.m_allcount\u4e3a0\uff0c\u8bf4\u660e\u8868\u6839\u672c\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de2\u3002\n  if (TABCOLS.m_allcount==0) return 2; // \u5f85\u5165\u5e93\u7684\u8868\u4e0d\u5b58\u5728\u3002\n\n  // \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\n  crtsql();\n\n  // prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\n  preparesql();\n\n  // \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83\u3002\n  if (execsql()==false) return 6;\n\n  // \u6253\u5f00xml\u6587\u4ef6\u3002\n  CFile File;\n  if (File.Open(fullfilename,\"r\")==false) { conn.rollback(); return 3; } // \u6253\u5f00xml\u6587\u4ef6\u9519\u8bef\u3002\n\n  char strBuffer[10241];\n\n  while (true)\n  {\n    // \u4ecexml\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4e00\u884c\u3002\n    if (File.FFGETS(strBuffer,10240,\"&lt;endl/&gt;\")==false) break;\n\n    // \u89e3\u6790xml\uff0c\u5b58\u653e\u5728\u5df2\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cfstrcolvalue\u6570\u7ec4\u4e2d\u3002\n    splitbuffer(strBuffer);\n\n    // \u6267\u884c\u63d2\u5165\u548c\u66f4\u65b0\u7684SQL\u3002\n    if (stmtins.execute()!=0)\n    {\n      if (stmtins.m_cda.rc==1062)  // \u8fdd\u53cd\u552f\u4e00\u6027\u7ea6\u675f\uff0c\u8868\u793a\u8bb0\u5f55\u5df2\u5b58\u5728\u3002\n      {\n        // \u5224\u65ad\u5165\u5e93\u53c2\u6570\u7684\u66f4\u65b0\u6807\u5fd7\u3002\n        if (stxmltotable.uptbz==1)\n        {\n          if (stmtupt.execute()!=0)\n          {\n            // \u5982\u679cupdate\u5931\u8d25\uff0c\u8bb0\u5f55\u51fa\u9519\u7684\u884c\u548c\u9519\u8bef\u5185\u5bb9\uff0c\u51fd\u6570\u4e0d\u8fd4\u56de\uff0c\u7ee7\u7eed\u5904\u7406\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7406\u8fd9\u4e00\u884c\u3002\n            logfile.Write(\"%s\",strBuffer);\n            logfile.Write(\"stmtupt.execute() failed.\\n%s\\n%s\\n\",stmtupt.m_sql,stmtupt.m_cda.message);\n\n            // \u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u7ee7\u7eed\uff0c\u53ea\u80fd\u8fd4\u56de\u3002 \n            // 1053-\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u670d\u52a1\u5668\u5173\u95ed\u30022013-\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4e22\u5931\u4e86\u4e0eMySQL\u670d\u52a1\u5668\u7684\u8fde\u63a5\u3002\n            if ( (stmtupt.m_cda.rc==1053) || (stmtupt.m_cda.rc==2013) ) return 4;\n          }\n        }\n      }\n      else\n      {\n        // \u5982\u679cinsert\u5931\u8d25\uff0c\u8bb0\u5f55\u51fa\u9519\u7684\u884c\u548c\u9519\u8bef\u5185\u5bb9\uff0c\u51fd\u6570\u4e0d\u8fd4\u56de\uff0c\u7ee7\u7eed\u5904\u7406\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7406\u8fd9\u4e00\u884c\u3002\n        logfile.Write(\"%s\",strBuffer);\n        logfile.Write(\"stmtins.execute() failed.\\n%s\\n%s\\n\",stmtins.m_sql,stmtins.m_cda.message);\n\n        // \u6570\u636e\u5e93\u8fde\u63a5\u5df2\u5931\u6548\uff0c\u65e0\u6cd5\u7ee7\u7eed\uff0c\u53ea\u80fd\u8fd4\u56de\u3002\n        // 1053-\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u670d\u52a1\u5668\u5173\u95ed\u30022013-\u67e5\u8be2\u8fc7\u7a0b\u4e2d\u4e22\u5931\u4e86\u4e0eMySQL\u670d\u52a1\u5668\u7684\u8fde\u63a5\u3002\n        if ( (stmtins.m_cda.rc==1053) || (stmtins.m_cda.rc==2013) ) return 4; \n      }\n    }\n  }\n\n  conn.commit();\n\n  return 0;\n}\n\n// \u628a\u6570\u636e\u5165\u5e93\u7684\u53c2\u6570\u914d\u7f6e\u6587\u4ef6starg.inifilename\u52a0\u8f7d\u5230vxmltotable\u5bb9\u5668\u4e2d\u3002\nbool loadxmltotable()\n{\n  vxmltotable.clear();\n\n  CFile File;\n  if (File.Open(starg.inifilename,\"r\")==false)\n  {\n    logfile.Write(\"File.Open(%s) \u5931\u8d25\u3002\\n\",starg.inifilename); return false;\n  }\n\n  char strBuffer[501];\n\n  while (true)\n  {\n    if (File.FFGETS(strBuffer,500,\"&lt;endl/&gt;\")==false) break;\n\n    memset(&amp;stxmltotable,0,sizeof(struct st_xmltotable));\n\n    GetXMLBuffer(strBuffer,\"filename\",stxmltotable.filename,100); // xml\u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\uff0c\u7528\u9017\u53f7\u5206\u9694\u3002\n    GetXMLBuffer(strBuffer,\"tname\",stxmltotable.tname,30);        // \u5f85\u5165\u5e93\u7684\u8868\u540d\u3002\n    GetXMLBuffer(strBuffer,\"uptbz\",&amp;stxmltotable.uptbz);          // \u66f4\u65b0\u6807\u5fd7\uff1a1-\u66f4\u65b0\uff1b2-\u4e0d\u66f4\u65b0\u3002\n    GetXMLBuffer(strBuffer,\"execsql\",stxmltotable.execsql,300);   // \u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\n\n    vxmltotable.push_back(stxmltotable);\n  }\n\n  logfile.Write(\"loadxmltotable(%s) ok.\\n\",starg.inifilename);\n\n  return true;\n}\n\n// \u4ecevxmltotable\u5bb9\u5668\u4e2d\u67e5\u627exmlfilename\u7684\u5165\u5e93\u53c2\u6570\uff0c\u5b58\u653e\u5728stxmltotable\u7ed3\u6784\u4f53\u4e2d\u3002\nbool findxmltotable(char *xmlfilename)\n{\n  for (int ii=0;ii&lt;vxmltotable.size();ii++)\n  {\n    if (MatchStr(xmlfilename,vxmltotable[ii].filename)==true)\n    {\n      memcpy(&amp;stxmltotable,&amp;vxmltotable[ii],sizeof(struct st_xmltotable));\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// \u628axml\u6587\u4ef6\u79fb\u52a8\u5230\u5907\u4efd\u76ee\u5f55\u6216\u9519\u8bef\u76ee\u5f55\u3002\nbool xmltobakerr(char *fullfilename,char *srcpath,char *dstpath)\n{\n  char dstfilename[301];   // \u76ee\u6807\u6587\u4ef6\u540d\u3002\n  STRCPY(dstfilename,sizeof(dstfilename),fullfilename);\n\n  UpdateStr(dstfilename,srcpath,dstpath,false);    // \u5c0f\u5fc3\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c\u4e00\u5b9a\u8981\u586bfalse\u3002\n\n  if (RENAME(fullfilename,dstfilename)==false)\n  {\n    logfile.Write(\"RENAME(%s,%s) failed.\\n\",fullfilename,dstfilename); return false;\n  }\n\n  return true;\n}\n\n/*\n// \u8868\u7684\u5217(\u5b57\u6bb5)\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\u3002\nstruct st_columns\n{\n  char  colname[31];  // \u5217\u540d\u3002\n  char  datatype[31]; // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n  int   collen;       // \u5217\u7684\u957f\u5ea6\uff0cnumber\u56fa\u5b9a20\uff0cdate\u56fa\u5b9a19\uff0cchar\u7684\u957f\u5ea6\u7531\u8868\u7ed3\u6784\u51b3\u5b9a\u3002\n  int   pkseq;        // \u5982\u679c\u5217\u662f\u4e3b\u952e\u7684\u5b57\u6bb5\uff0c\u5b58\u653e\u4e3b\u952e\u5b57\u6bb5\u7684\u987a\u5e8f\uff0c\u4ece1\u5f00\u59cb\uff0c\u4e0d\u662f\u4e3b\u952e\u53d6\u503c0\u3002\n};\n*/\n\n// \u83b7\u53d6\u8868\u5168\u90e8\u7684\u5217\u548c\u4e3b\u952e\u5217\u4fe1\u606f\u7684\u7c7b\u3002\nCTABCOLS::CTABCOLS()\n{\n  initdata();  // \u8c03\u7528\u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u51fd\u6570\u3002\n}\n\nvoid CTABCOLS::initdata()  // \u6210\u5458\u53d8\u91cf\u521d\u59cb\u5316\u3002\n{\n  m_allcount=m_pkcount=0;\n  m_vallcols.clear();\n  m_vpkcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n  memset(m_pkcols,0,sizeof(m_pkcols));\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u5168\u90e8\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::allcols(connection *conn,char *tablename)\n{\n  m_allcount=0;\n  m_vallcols.clear();\n  memset(m_allcols,0,sizeof(m_allcols));\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),lower(data_type),character_maximum_length from information_schema.COLUMNS where table_name=:1\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2, stcolumns.datatype,30);\n  stmt.bindout(3,&amp;stcolumns.collen);\n\n  if (stmt.execute()!=0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next()!=0) break;\n\n    // \u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3anumber\u3001date\u548cchar\u4e09\u5927\u7c7b\u3002\n    if (strcmp(stcolumns.datatype,\"char\")==0)    strcpy(stcolumns.datatype,\"char\");\n    if (strcmp(stcolumns.datatype,\"varchar\")==0) strcpy(stcolumns.datatype,\"char\");\n\n    if (strcmp(stcolumns.datatype,\"datetime\")==0)  strcpy(stcolumns.datatype,\"date\");\n    if (strcmp(stcolumns.datatype,\"timestamp\")==0) strcpy(stcolumns.datatype,\"date\");\n\n    if (strcmp(stcolumns.datatype,\"tinyint\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"smallint\")==0)  strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"mediumint\")==0) strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"int\")==0)       strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"integer\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"bigint\")==0)    strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"numeric\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"decimal\")==0)   strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"float\")==0)     strcpy(stcolumns.datatype,\"number\");\n    if (strcmp(stcolumns.datatype,\"double\")==0)    strcpy(stcolumns.datatype,\"number\");\n\n    // \u5982\u679c\u4e1a\u52a1\u6709\u9700\u8981\uff0c\u53ef\u4ee5\u4fee\u6539\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u589e\u52a0\u5bf9\u66f4\u591a\u6570\u636e\u7c7b\u578b\u7684\u652f\u6301\u3002\n    // \u5982\u679c\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5728\u4e0a\u9762\u5217\u51fa\u6765\u7684\u4e2d\uff0c\u5ffd\u7565\u5b83\u3002\n    if ( (strcmp(stcolumns.datatype,\"char\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"date\")!=0) &amp;&amp;\n         (strcmp(stcolumns.datatype,\"number\")!=0) ) continue;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fdate\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a19\u3002yyyy-mm-dd hh:mi:ss\n    if (strcmp(stcolumns.datatype,\"date\")==0) stcolumns.collen=19;\n\n    // \u5982\u679c\u5b57\u6bb5\u7c7b\u578b\u662fnumber\uff0c\u628a\u957f\u5ea6\u8bbe\u7f6e\u4e3a20\u3002\n    if (strcmp(stcolumns.datatype,\"number\")==0) stcolumns.collen=20;\n\n    strcat(m_allcols,stcolumns.colname); strcat(m_allcols,\",\");\n\n    m_vallcols.push_back(stcolumns);\n\n    m_allcount++;\n  }\n\n  // \u5220\u9664m_allcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n  if (m_allcount&gt;0) m_allcols[strlen(m_allcols)-1]=0;\n\n  return true;\n}\n\n// \u83b7\u53d6\u6307\u5b9a\u8868\u7684\u4e3b\u952e\u5b57\u6bb5\u4fe1\u606f\u3002\nbool CTABCOLS::pkcols(connection *conn,char *tablename)\n{\n  m_pkcount=0;\n  memset(m_pkcols,0,sizeof(m_pkcols));\n  m_vpkcols.clear();\n\n  struct st_columns stcolumns;\n\n  sqlstatement stmt;\n  stmt.connect(conn);\n  stmt.prepare(\"select lower(column_name),seq_in_index from information_schema.STATISTICS where table_name=:1 and index_name='primary' order by seq_in_index\");\n  stmt.bindin(1,tablename,30);\n  stmt.bindout(1, stcolumns.colname,30);\n  stmt.bindout(2,&amp;stcolumns.pkseq);\n\n  if (stmt.execute() != 0) return false;\n\n  while (true)\n  {\n    memset(&amp;stcolumns,0,sizeof(struct st_columns));\n\n    if (stmt.next() != 0) break;\n\n    strcat(m_pkcols,stcolumns.colname); strcat(m_pkcols,\",\");\n\n    m_vpkcols.push_back(stcolumns);\n\n    m_pkcount++;\n  }\n\n  if (m_pkcount&gt;0) m_pkcols[strlen(m_pkcols)-1]=0;    // \u5220\u9664m_pkcols\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n\n  return true;\n}\n\n// \u62fc\u63a5\u751f\u6210\u63d2\u5165\u548c\u66f4\u65b0\u8868\u6570\u636e\u7684SQL\u3002\nvoid crtsql()\n{\n  memset(strinsertsql,0,sizeof(strinsertsql));    // \u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002\n  memset(strupdatesql,0,sizeof(strupdatesql));    // \u66f4\u65b0\u8868\u7684SQL\u8bed\u53e5\u3002\n\n  // \u751f\u6210\u63d2\u5165\u8868\u7684SQL\u8bed\u53e5\u3002 insert into \u8868\u540d(%s) values(%s)\n  char strinsertp1[3001];    // insert\u8bed\u53e5\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char strinsertp2[3001];    // insert\u8bed\u53e5values\u540e\u7684\u5185\u5bb9\u3002\n\n  memset(strinsertp1,0,sizeof(strinsertp1));\n  memset(strinsertp2,0,sizeof(strinsertp2));\n\n  int colseq=1;   // values\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u62fc\u63a5strinsertp1\n    strcat(strinsertp1,TABCOLS.m_vallcols[ii].colname); strcat(strinsertp1,\",\");\n\n    // \u62fc\u63a5strinsertp2\uff0c\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\":%d\",colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",colseq);\n\n    strcat(strinsertp2,strtemp);  strcat(strinsertp2,\",\");\n\n    colseq++;\n  }\n\n  strinsertp1[strlen(strinsertp1)-1]=0;  // \u628a\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u5220\u9664\u3002\n  strinsertp2[strlen(strinsertp2)-1]=0;  // \u628a\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u5220\u9664\u3002\n\n  SNPRINTF(strinsertsql,10240,sizeof(strinsertsql),\\\n           \"insert into %s(%s) values(%s)\",stxmltotable.tname,strinsertp1,strinsertp2);\n\n  // logfile.Write(\"strinsertsql=%s=\\n\",strinsertsql);\n\n  // \u5982\u679c\u5165\u5e93\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86\u8868\u6570\u636e\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u4e0d\u751f\u6210update\u8bed\u53e5\u4e86\uff0c\u51fd\u6570\u8fd4\u56de\u3002\n  if (stxmltotable.uptbz!=1) return;\n\n  // \u751f\u6210\u4fee\u6539\u8868\u7684SQL\u8bed\u53e5\u3002\n  // update T_ZHOBTMIND1 set t=:1,p=:2,u=:3,wd=:4,wf=:5,r=:6,vis=:7,upttime=now(),mint=:8,minttime=str_to_date(:9,'%Y%m%d%H%i%s') where obtid=:10 and ddatetime=str_to_date(:11,'%Y%m%d%H%i%s')\n\n  // \u66f4\u65b0TABCOLS.m_vallcols\u4e2d\u7684pkseq\u5b57\u6bb5\uff0c\u5728\u62fc\u63a5update\u8bed\u53e5\u7684\u65f6\u5019\u8981\u7528\u5230\u5b83\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vpkcols.size();ii++)\n    for (int jj=0;jj&lt;TABCOLS.m_vallcols.size();jj++)\n      if (strcmp(TABCOLS.m_vpkcols[ii].colname,TABCOLS.m_vallcols[jj].colname)==0)\n      {\n        // \u66f4\u65b0m_vallcols\u5bb9\u5668\u4e2d\u7684pkseq\u3002\n        TABCOLS.m_vallcols[jj].pkseq=TABCOLS.m_vpkcols[ii].pkseq; break;\n      }\n\n   // \u5148\u62fc\u63a5update\u8bed\u53e5\u5f00\u59cb\u7684\u90e8\u5206\u3002\n   sprintf(strupdatesql,\"update %s set \",stxmltotable.tname);\n\n  // \u62fc\u63a5update\u8bed\u53e5set\u540e\u9762\u7684\u90e8\u5206\u3002\n  colseq=1;\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // keyid\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) continue;\n\n    // \u5982\u679c\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u4e5f\u4e0d\u9700\u8981\u62fc\u63a5\u5728set\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq!=0) continue;\n\n    // upttime\u5b57\u6bb5\u76f4\u63a5\u7b49\u4e8enow()\uff0c\u8fd9\u4e48\u505a\u662f\u4e3a\u4e86\u8003\u8651\u6570\u636e\u5e93\u7684\u517c\u5bb9\u6027\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0)\n    {\n      strcat(strupdatesql,\"upttime=now(),\"); continue;\n    }\n\n    // \u5176\u5b83\u5b57\u6bb5\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"%s=:%d\",TABCOLS.m_vallcols[ii].colname,colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\"%s=str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",TABCOLS.m_vallcols[ii].colname,colseq);\n\n    strcat(strupdatesql,strtemp);  strcat(strupdatesql,\",\");\n\n    colseq++;\n  }\n\n  strupdatesql[strlen(strupdatesql)-1]=0;    // \u5220\u9664\u6700\u540e\u4e00\u4e2a\u591a\u4f59\u7684\u9017\u53f7\u3002\n\n  // \u7136\u540e\u518d\u62fc\u63a5update\u8bed\u53e5where\u540e\u9762\u7684\u90e8\u5206\u3002\n  strcat(strupdatesql,\" where 1=1 \");      // \u75281=1\u662f\u4e3a\u4e86\u540e\u9762\u7684\u62fc\u63a5\u65b9\u4fbf\uff0c\u8fd9\u662f\u5e38\u7528\u7684\u5904\u7406\u65b9\u6cd5\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    if (TABCOLS.m_vallcols[ii].pkseq==0) continue;   // \u5982\u679c\u4e0d\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u8df3\u8fc7\u3002\n\n    // \u628a\u4e3b\u952e\u5b57\u6bb5\u62fc\u63a5\u5230update\u8bed\u53e5\u4e2d\uff0c\u9700\u8981\u533a\u5206date\u5b57\u6bb5\u548c\u975edate\u5b57\u6bb5\u3002\n    char strtemp[101];\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")!=0)\n      SNPRINTF(strtemp,100,sizeof(strtemp),\" and %s=:%d\",TABCOLS.m_vallcols[ii].colname,colseq);\n    else\n      SNPRINTF(strtemp,100,sizeof(strtemp),\" and %s=str_to_date(:%d,'%%%%Y%%%%m%%%%d%%%%H%%%%i%%%%s')\",TABCOLS.m_vallcols[ii].colname,colseq);\n\n    strcat(strupdatesql,strtemp);  \n\n    colseq++;\n  }\n\n  // logfile.Write(\"strupdatesql=%s\\n\",strupdatesql);\n}\n\n// prepare\u63d2\u5165\u548c\u66f4\u65b0\u7684sql\u8bed\u53e5\uff0c\u7ed1\u5b9a\u8f93\u5165\u53d8\u91cf\u3002\nvoid preparesql()\n{\n  // \u7ed1\u5b9a\u63d2\u5165sql\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\u3002\n  stmtins.connect(&amp;conn);\n  stmtins.prepare(strinsertsql);\n\n  int colseq=1;        // values\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtins.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n\n    colseq++;\n  }\n\n  // \u7ed1\u5b9a\u66f4\u65b0sql\u8bed\u53e5\u7684\u8f93\u5165\u53d8\u91cf\u3002\n  // \u5982\u679c\u5165\u5e93\u53c2\u6570\u4e2d\u6307\u5b9a\u4e86\u8868\u6570\u636e\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u4e0d\u5904\u7406update\u8bed\u53e5\u4e86\uff0c\u51fd\u6570\u8fd4\u56de\u3002\n  if (stxmltotable.uptbz!=1) return;\n\n  stmtupt.connect(&amp;conn);\n  stmtupt.prepare(strupdatesql);\n\n  colseq=1;        // set\u548cwhere\u90e8\u5206\u5b57\u6bb5\u7684\u5e8f\u53f7\u3002\n\n  // \u7ed1\u5b9aset\u90e8\u5206\u7684\u8f93\u5165\u53c2\u6570\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // upttime\u548ckeyid\u8fd9\u4e24\u4e2a\u5b57\u6bb5\u4e0d\u9700\u8981\u5904\u7406\u3002\n    if ( (strcmp(TABCOLS.m_vallcols[ii].colname,\"upttime\")==0) ||\n         (strcmp(TABCOLS.m_vallcols[ii].colname,\"keyid\")==0) ) continue;\n\n    // \u5982\u679c\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u4e5f\u4e0d\u9700\u8981\u62fc\u63a5\u5728set\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq!=0) continue;\n\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtupt.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n\n    colseq++;\n  }\n\n  // \u7ed1\u5b9awhere\u90e8\u5206\u7684\u8f93\u5165\u53c2\u6570\u3002\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // \u5982\u679c\u4e0d\u662f\u4e3b\u952e\u5b57\u6bb5\uff0c\u8df3\u8fc7\uff0c\u53ea\u6709\u4e3b\u952e\u5b57\u6bb5\u624d\u62fc\u63a5\u5728where\u7684\u540e\u9762\u3002\n    if (TABCOLS.m_vallcols[ii].pkseq==0) continue;\n\n    // \u6ce8\u610f\uff0cstrcolvalue\u6570\u7ec4\u7684\u4f7f\u7528\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u662f\u548cTABCOLS.m_vallcols\u7684\u4e0b\u6807\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\n    stmtupt.bindin(colseq,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n\n    colseq++;\n  }\n}\n\n// \u5728\u5904\u7406xml\u6587\u4ef6\u4e4b\u524d\uff0c\u5982\u679cstxmltotable.execsql\u4e0d\u4e3a\u7a7a\uff0c\u5c31\u6267\u884c\u5b83\u3002\nbool execsql()\n{\n  if (strlen(stxmltotable.execsql)==0) return true;\n\n  sqlstatement stmt;\n  stmt.connect(&amp;conn);\n  stmt.prepare(stxmltotable.execsql);\n  if (stmt.execute()!=0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }\n\n  return true;\n}\n\n// \u89e3\u6790xml\uff0c\u5b58\u653e\u5728\u5df2\u7ed1\u5b9a\u7684\u8f93\u5165\u53d8\u91cfstrcolvalue\u6570\u7ec4\u4e2d\u3002\nvoid splitbuffer(char *strBuffer)\n{\n  memset(strcolvalue,0,sizeof(strcolvalue));\n\n  char strtemp[31];\n\n  for (int ii=0;ii&lt;TABCOLS.m_vallcols.size();ii++)\n  {\n    // \u5982\u679c\u662f\u65e5\u671f\u65f6\u95f4\u5b57\u6bb5\uff0c\u63d0\u53d6\u6570\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n    // \u4e5f\u5c31\u662f\u8bf4\uff0cxml\u6587\u4ef6\u4e2d\u7684\u65e5\u671f\u65f6\u95f4\u53ea\u8981\u5305\u542b\u4e86yyyymmddhh24miss\u5c31\u884c\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u5206\u9694\u7b26\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"date\")==0)\n    {\n      GetXMLBuffer(strBuffer,TABCOLS.m_vallcols[ii].colname,strtemp,TABCOLS.m_vallcols[ii].collen);\n      PickNumber(strtemp,strcolvalue[ii],false,false);\n      continue;\n    }\n\n    // \u5982\u679c\u662f\u6570\u503c\u5b57\u6bb5\uff0c\u53ea\u63d0\u53d6\u6570\u5b57\u3001+-\u7b26\u53f7\u548c\u5706\u70b9\u3002\n    if (strcmp(TABCOLS.m_vallcols[ii].datatype,\"number\")==0)\n    {\n      GetXMLBuffer(strBuffer,TABCOLS.m_vallcols[ii].colname,strtemp,TABCOLS.m_vallcols[ii].collen);\n      PickNumber(strtemp,strcolvalue[ii],true,true);\n      continue;\n    }\n\n    // \u5982\u679c\u662f\u5b57\u7b26\u5b57\u6bb5\uff0c\u76f4\u63a5\u63d0\u53d6\u3002\n    GetXMLBuffer(strBuffer,TABCOLS.m_vallcols[ii].colname,strcolvalue[ii],TABCOLS.m_vallcols[ii].collen);\n  }\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/","title":"2 \u5237\u65b0\u540c\u6b65-\u642d\u5efa\u7a0b\u5e8f\u7684\u6846\u67b6","text":"<p>\u8fd9\u91cc\u7684remotecols\u5bf9\u5e94\u7740\u8fd9\u4e2a</p> <p>\u91cc\u9762\u7684localcols\u5bf9\u5e94\u7740\u8fd9\u4e2a</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/#_1","title":"\u6ce8\u610f\uff1a","text":"<p>1\uff09remotekeycol\u548clocalkeycol\u5b57\u6bb5\u7684\u9009\u53d6\u5f88\u91cd\u8981\uff0c\u5982\u679c\u7528\u4e86MySQL\u7684\u81ea\u589e\u5b57\u6bb5\uff0c\u90a3\u4e48\u5728\u8fdc\u7a0b\u8868\u4e2d\u6570\u636e\u751f\u6210\u540e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u4e0d\u53ef\u6539\u53d8\uff0c\u5426\u5219\u540c\u6b65\u4f1a\u5931\u8d25\uff1b</p> <p>2\uff09\u5f53\u8fdc\u7a0b\u8868\u4e2d\u5b58\u5728delete\u64cd\u4f5c\u65f6\uff0c\u65e0\u6cd5\u5206\u6279\u540c\u6b65\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u8868\u7684\u8bb0\u5f55\u88abdelete\u540e\u5c31\u627e\u4e0d\u5230\u4e86\uff0c\u65e0\u6cd5\u4ece\u672c\u5730\u8868\u4e2d\u6267\u884cdelete\u64cd\u4f5c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/2%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E6%90%AD%E5%BB%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A1%86%E6%9E%B6/#_2","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1asyncupdate1.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u5237\u65b0\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_tools.h\"\n\nstruct st_arg\n{\n  char localconnstr[101];  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];        // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char fedtname[31];       // Federated\u8868\u540d\u3002\n  char localtname[31];     // \u672c\u5730\u8868\u540d\u3002\n  char remotecols[1001];   // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char localcols[1001];    // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char where[1001];        // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\u3002\n  int  synctype;           // \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\n  char remoteconnstr[101]; // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char remotetname[31];    // \u8fdc\u7a0b\u8868\u540d\u3002\n  char remotekeycol[31];   // \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\u3002\n  char localkeycol[31];    // \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\u3002\n  int  maxcount;           // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\u3002\n  int  timeout;            // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection connloc;   // \u672c\u5730\u6570\u636e\u5e93\u8fde\u63a5\u3002\nconnection connrem;   // \u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u3002\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncupdate();\n\nvoid EXIT(int sig);\n\nCPActive PActive;\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\uff0c\u5904\u7406\u7a0b\u5e8f\u9000\u51fa\u7684\u4fe1\u53f7\u3002\n  //CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  // PActive.AddPInfo(starg.timeout,starg.pname);\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(starg.timeout*100,starg.pname);\n\n  if (connloc.connecttodb(starg.localconnstr,starg.charset) != 0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.localconnstr,connloc.m_cda.message); EXIT(-1);\n  }\n\n  // logfile.Write(\"connect database(%s) ok.\\n\",starg.localconnstr);\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _syncupdate();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/syncupdate logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTCODE2.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTCODE1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTCODE2&lt;/localtname&gt;&lt;remotecols&gt;obtid,cityname,provname,lat,lon,height/10,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,cityname,provname,lat,lon,altitude,upttime,keyid&lt;/localcols&gt;&lt;synctype&gt;1&lt;/synctype&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTCODE2&lt;/pname&gt;\\\"\\n\\n\");\n\n  // \u56e0\u4e3a\u6d4b\u8bd5\u7684\u9700\u8981\uff0cxmltodb\u7a0b\u5e8f\u6bcf\u6b21\u4f1a\u5220\u9664LK_ZHOBTCODE1\u4e2d\u7684\u6570\u636e\uff0c\u5168\u90e8\u7684\u8bb0\u5f55\u91cd\u65b0\u5165\u5e93\uff0ckeyid\u4f1a\u53d8\u3002\n  // \u6240\u4ee5\u4ee5\u4e0b\u811a\u672c\u4e0d\u80fd\u7528keyid\uff0c\u8981\u7528obtid\uff0c\u7528keyid\u4f1a\u51fa\u95ee\u9898\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u3002\n  printf(\"       /project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTCODE3.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTCODE1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTCODE3&lt;/localtname&gt;&lt;remotecols&gt;obtid,cityname,provname,lat,lon,height/10,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,cityname,provname,lat,lon,altitude,upttime,keyid&lt;/localcols&gt;&lt;where&gt;where obtid like '54%%%%'&lt;/where&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;remotetname&gt;T_ZHOBTCODE1&lt;/remotetname&gt;&lt;remotekeycol&gt;obtid&lt;/remotekeycol&gt;&lt;localkeycol&gt;stid&lt;/localkeycol&gt;&lt;maxcount&gt;10&lt;/maxcount&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTCODE3&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"       /project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTMIND2.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTMIND1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTMIND2&lt;/localtname&gt;&lt;remotecols&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,ddatetime,t,p,u,wd,wf,r,vis,upttime,recid&lt;/localcols&gt;&lt;where&gt;where ddatetime&gt;timestampadd(minute,-120,now())&lt;/where&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;remotetname&gt;T_ZHOBTMIND1&lt;/remotetname&gt;&lt;remotekeycol&gt;keyid&lt;/remotekeycol&gt;&lt;localkeycol&gt;recid&lt;/localkeycol&gt;&lt;maxcount&gt;300&lt;/maxcount&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTMIND2&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u5237\u65b0\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\\n\");\n\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"localconnstr  \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset       \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n\n  printf(\"fedtname      Federated\u8868\u540d\u3002\\n\");\n  printf(\"localtname    \u672c\u5730\u8868\u540d\u3002\\n\");\n\n  printf(\"remotecols    \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  printf(\"localcols     \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n\n  printf(\"where         \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u5373select\u8bed\u53e5\u7684where\u90e8\u5206\uff0c\u672c\u53c2\u6570\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u8868\u793a\u540c\u6b65\u5168\u90e8\u7684\u8bb0\u5f55\u3002\\n\");\n\n  printf(\"synctype      \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\\n\");\n  printf(\"remoteconnstr \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"remotetname   \u8fdc\u7a0b\u8868\u540d\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"remotekeycol  \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"localkeycol   \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n\n  printf(\"maxcount      \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n\n  printf(\"timeout       \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname         \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n  printf(\"\u6ce8\u610f\uff1a1\uff09remotekeycol\u548clocalkeycol\u5b57\u6bb5\u7684\u9009\u53d6\u5f88\u91cd\u8981\uff0c\u5982\u679c\u7528\u4e86MySQL\u7684\u81ea\u589e\u5b57\u6bb5\uff0c\u90a3\u4e48\u5728\u8fdc\u7a0b\u8868\u4e2d\u6570\u636e\u751f\u6210\u540e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u4e0d\u53ef\u6539\u53d8\uff0c\u5426\u5219\u540c\u6b65\u4f1a\u5931\u8d25\uff1b2\uff09\u5f53\u8fdc\u7a0b\u8868\u4e2d\u5b58\u5728delete\u64cd\u4f5c\u65f6\uff0c\u65e0\u6cd5\u5206\u6279\u540c\u6b65\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u8868\u7684\u8bb0\u5f55\u88abdelete\u540e\u5c31\u627e\u4e0d\u5230\u4e86\uff0c\u65e0\u6cd5\u4ece\u672c\u5730\u8868\u4e2d\u6267\u884cdelete\u64cd\u4f5c\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\n  GetXMLBuffer(strxmlbuffer,\"localconnstr\",starg.localconnstr,100);\n  if (strlen(starg.localconnstr)==0) { logfile.Write(\"localconnstr is null.\\n\"); return false; }\n\n  // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  // Federated\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"fedtname\",starg.fedtname,30);\n  if (strlen(starg.fedtname)==0) { logfile.Write(\"fedtname is null.\\n\"); return false; }\n\n  // \u672c\u5730\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"localtname\",starg.localtname,30);\n  if (strlen(starg.localtname)==0) { logfile.Write(\"localtname is null.\\n\"); return false; }\n\n  // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\n  // \u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  GetXMLBuffer(strxmlbuffer,\"remotecols\",starg.remotecols,1000);\n\n  // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\n  GetXMLBuffer(strxmlbuffer,\"localcols\",starg.localcols,1000);\n\n  // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u5373select\u8bed\u53e5\u7684where\u90e8\u5206\u3002\n  GetXMLBuffer(strxmlbuffer,\"where\",starg.where,1000);\n\n  // \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\n  GetXMLBuffer(strxmlbuffer,\"synctype\",&amp;starg.synctype);\n  if ( (starg.synctype!=1) &amp;&amp; (starg.synctype!=2) ) { logfile.Write(\"synctype is not in (1,2).\\n\"); return false; }\n\n  if (starg.synctype==2)\n  {\n    // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remoteconnstr\",starg.remoteconnstr,100);\n    if (strlen(starg.remoteconnstr)==0) { logfile.Write(\"remoteconnstr is null.\\n\"); return false; }\n\n    // \u8fdc\u7a0b\u8868\u540d\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remotetname\",starg.remotetname,30);\n    if (strlen(starg.remotetname)==0) { logfile.Write(\"remotetname is null.\\n\"); return false; }\n\n    // \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remotekeycol\",starg.remotekeycol,30);\n    if (strlen(starg.remotekeycol)==0) { logfile.Write(\"remotekeycol is null.\\n\"); return false; }\n\n    // \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"localkeycol\",starg.localkeycol,30);\n    if (strlen(starg.localkeycol)==0) { logfile.Write(\"localkeycol is null.\\n\"); return false; }\n\n    // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"maxcount\",&amp;starg.maxcount);\n    if (starg.maxcount==0) { logfile.Write(\"maxcount is null.\\n\"); return false; }\n    if (starg.maxcount&gt;MAXPARAMS) starg.maxcount=MAXPARAMS;\n  }\n\n  // \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  connloc.disconnect();\n\n  connrem.disconnect();\n\n  exit(0);\n}\n\n/*\ncreate table LK_ZHOBTCODE1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801',\n   cityname             varchar(30) not null comment '\u57ce\u5e02\u540d\u79f0',\n   provname             varchar(30) not null comment '\u7701\u540d\u79f0',\n   lat                  int not null comment '\u7eac\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   lon                  int not null comment '\u7ecf\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   height               int not null comment '\u6d77\u62d4\u9ad8\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                int not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid),\n   unique key ZHOBTCODE1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTCODE1';\n\ncreate table LK_ZHOBTMIND1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801\u3002',\n   ddatetime            datetime not null comment '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002',\n   t                    int comment '\u6e7f\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002',\n   p                    int comment '\u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002',\n   u                    int comment '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002',\n   wd                   int comment '\u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002',\n   wf                   int comment '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002',\n   r                    int comment '\u964d\u96e8\u91cf\uff1a0.1mm\u3002',\n   vis                  int comment '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                bigint not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid, ddatetime),\n   unique key ZHOBTMIND1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTMIND1';\n*/\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncupdate()\n{\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/3%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/","title":"\u6ce8\u610f\u26a0\ufe0f","text":"<p>\u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u4e3a\u7a7a\u5219\u8868\u793a\u540c\u6b65\u5168\u90e8\u7684\u8bb0\u5f55\uff0c\u586b\u5145\u5728delete\u672c\u5730\u8868\u548cselect Federated\u8868\u4e4b\u540e\uff0c</p> <p>\u6ce8\u610f\uff1a</p> <p>1\uff09where\u4e2d\u7684\u5b57\u6bb5\u5fc5\u987b\u540c\u65f6\u5728\u672c\u5730\u8868\u548cFederated\u8868\u4e2d\uff1b</p> <p>\u4e3a\u4e86\u89e3\u51b3\u672c\u5730\u8868\u548cFederated\u8868\u5b57\u6bb5\u540d\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u7528\u4e24\u4e2awhere\u53c2\u6570\uff0c\u4e00\u4e2a\u7528\u4e8eFeaderated\u8868\u7684\u67e5\u8be2\uff0c\u4e00\u4e2a\u7528\u4e8e\u672c\u5730\u8868\u7684\u5220\u9664\uff0c\u5728\u5b9e\u9645\u9879\u76ee\u4e2dFeaderated\u8868\u548c\u672c\u5730\u8868\u7684\u7ed3\u6784\u662f\u76f8\u540c\u7684\uff0c\u5c31\u53ef\u4ee5\u4e0d\u8003\u8651\u8fd9\u79cd\u60c5\u51b5</p> <p>2\uff09\u4e0d\u8981\u7528\u7cfb\u7edf\u65f6\u95f4\u4f5c\u4e3a\u6761\u4ef6\u3002</p> <p>\u5728\u540c\u6b65\u4e4b\u524d\u628awhere\u4e2d\u7684\u65f6\u95f4\u51fd\u6570\u66ff\u6362\u6210\u5177\u4f53\u7684\u503c</p> <p>\u6211\u4eec\u73b0\u5728\u4e0d\u4e00\u5b9a\u9700\u8981\u4f18\u5316\u4ed6\uff0c\u56e0\u4e3a\u4e0d\u5206\u6279\u540c\u6b65\u6570\u636e\u7684\u65b9\u6cd5\u4e1a\u52a1\u4e0a\u7528\u4e8e\u5904\u7406\u6570\u636e\u91cf\u5f88\u5c0f\u7684\u8868\uff0c\u8bb0\u5f55\u6570\u5728\u4e00\u4e07\u4ee5\u4e0b\u5373\u7136\u6570\u636e\u91cf\u4e0d\u5927\uff0c\u90a3\u5c31\u4e0d\u5e26\u6761\u4ef6\u5168\u8868\u5237\u65b0\uff0c\u8fd9\u79cd\u95ee\u9898\u5c31\u4e0d\u4f1a\u6709\uff0c\u540e\u9762\u7684\u5206\u6279\u540c\u6b65\u548c\u589e\u91cf\u540c\u6b65\u4e5f\u4e0d\u4f1a\u6709</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/3%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/#_2","title":"\u8fc7\u7a0b","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/3%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/#1","title":"1\u3001\u5148\u5904\u7406\u8fd9\u4e2a\u5c0f\u7ec6\u8282","text":"<p>\u5982\u679c\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e3a\u7a7a\u5c31\u67e5\u627e\u6570\u636e\u5b57\u5178\u7528\u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u4ed6</p> <p></p> <p>\u5728\u4e3b\u51fd\u6570\u4e2d\u6dfb\u52a0</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/3%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/#2","title":"2\u3001\u4e1a\u52a1\u5b9e\u73b0","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/3%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%85%A8%E8%A1%A8%E5%88%B7%E6%96%B0/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"Text Only<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1asyncupdate.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u5237\u65b0\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_tools.h\"\n\nstruct st_arg\n{\n  char localconnstr[101];  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];        // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char fedtname[31];       // Federated\u8868\u540d\u3002\n  char localtname[31];     // \u672c\u5730\u8868\u540d\u3002\n  char remotecols[1001];   // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char localcols[1001];    // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char where[1001];        // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\u3002\n  int  synctype;           // \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\n  char remoteconnstr[101]; // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char remotetname[31];    // \u8fdc\u7a0b\u8868\u540d\u3002\n  char remotekeycol[31];   // \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\u3002\n  char localkeycol[31];    // \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\u3002\n  int  maxcount;           // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\u3002\n  int  timeout;            // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection connloc;   // \u672c\u5730\u6570\u636e\u5e93\u8fde\u63a5\u3002\nconnection connrem;   // \u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u3002\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncupdate();\n\nvoid EXIT(int sig);\n\nCPActive PActive;\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\uff0c\u5904\u7406\u7a0b\u5e8f\u9000\u51fa\u7684\u4fe1\u53f7\u3002\n  //CloseIOAndSignal();\n  signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  // PActive.AddPInfo(starg.timeout,starg.pname);\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(starg.timeout*100,starg.pname);\n\n  if (connloc.connecttodb(starg.localconnstr,starg.charset) != 0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.localconnstr,connloc.m_cda.message); EXIT(-1);\n  }\n\n  // logfile.Write(\"connect database(%s) ok.\\n\",starg.localconnstr);\n\n  // \u5982\u679cstarg.remotecols\u6216starg.localcols\u4e3a\u7a7a\uff0c\u5c31\u7528starg.localtname\u8868\u7684\u5168\u90e8\u5217\u6765\u586b\u5145\u3002\n  if ( (strlen(starg.remotecols)==0) || (strlen(starg.localcols)==0) )\n  {\n    CTABCOLS TABCOLS;\n\n    // \u83b7\u53d6starg.localtname\u8868\u7684\u5168\u90e8\u5217\u3002\n    if (TABCOLS.allcols(&amp;connloc,starg.localtname)==false)\n    {\n      logfile.Write(\"\u8868%s\u4e0d\u5b58\u5728\u3002\\n\",starg.localtname); EXIT(-1); \n    }\n\n    if (strlen(starg.remotecols)==0)  strcpy(starg.remotecols,TABCOLS.m_allcols);\n    if (strlen(starg.localcols)==0)   strcpy(starg.localcols,TABCOLS.m_allcols);\n  }\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  _syncupdate();\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/syncupdate logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTCODE2.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTCODE1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTCODE2&lt;/localtname&gt;&lt;remotecols&gt;obtid,cityname,provname,lat,lon,height/10,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,cityname,provname,lat,lon,altitude,upttime,keyid&lt;/localcols&gt;&lt;synctype&gt;1&lt;/synctype&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTCODE2&lt;/pname&gt;\\\"\\n\\n\");\n\n  // \u56e0\u4e3a\u6d4b\u8bd5\u7684\u9700\u8981\uff0cxmltodb\u7a0b\u5e8f\u6bcf\u6b21\u4f1a\u5220\u9664LK_ZHOBTCODE1\u4e2d\u7684\u6570\u636e\uff0c\u5168\u90e8\u7684\u8bb0\u5f55\u91cd\u65b0\u5165\u5e93\uff0ckeyid\u4f1a\u53d8\u3002\n  // \u6240\u4ee5\u4ee5\u4e0b\u811a\u672c\u4e0d\u80fd\u7528keyid\uff0c\u8981\u7528obtid\uff0c\u7528keyid\u4f1a\u51fa\u95ee\u9898\uff0c\u53ef\u4ee5\u8bd5\u8bd5\u3002\n  printf(\"       /project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTCODE3.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTCODE1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTCODE3&lt;/localtname&gt;&lt;remotecols&gt;obtid,cityname,provname,lat,lon,height/10,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,cityname,provname,lat,lon,altitude,upttime,keyid&lt;/localcols&gt;&lt;where&gt;where obtid like '54%%%%'&lt;/where&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;remotetname&gt;T_ZHOBTCODE1&lt;/remotetname&gt;&lt;remotekeycol&gt;obtid&lt;/remotekeycol&gt;&lt;localkeycol&gt;stid&lt;/localkeycol&gt;&lt;maxcount&gt;10&lt;/maxcount&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTCODE3&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"       /project/tools1/bin/procctl 10 /project/tools1/bin/syncupdate /log/idc/syncupdate_ZHOBTMIND2.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;fedtname&gt;LK_ZHOBTMIND1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTMIND2&lt;/localtname&gt;&lt;remotecols&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,ddatetime,t,p,u,wd,wf,r,vis,upttime,recid&lt;/localcols&gt;&lt;where&gt;where ddatetime&gt;timestampadd(minute,-120,now())&lt;/where&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;synctype&gt;2&lt;/synctype&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;remotetname&gt;T_ZHOBTMIND1&lt;/remotetname&gt;&lt;remotekeycol&gt;keyid&lt;/remotekeycol&gt;&lt;localkeycol&gt;recid&lt;/localkeycol&gt;&lt;maxcount&gt;300&lt;/maxcount&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncupdate_ZHOBTMIND2&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u5237\u65b0\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\\n\\n\");\n\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"localconnstr  \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset       \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n\n  printf(\"fedtname      Federated\u8868\u540d\u3002\\n\");\n  printf(\"localtname    \u672c\u5730\u8868\u540d\u3002\\n\");\n\n  printf(\"remotecols    \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\\n\"\\\n         \"              \u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  printf(\"localcols     \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\\n\"\\\n         \"              \u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n\n  printf(\"where         \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u4e3a\u7a7a\u5219\u8868\u793a\u540c\u6b65\u5168\u90e8\u7684\u8bb0\u5f55\uff0c\u586b\u5145\u5728delete\u672c\u5730\u8868\u548cselect Federated\u8868\\n\"\\\n         \"              \u4e4b\u540e\uff0c\u6ce8\u610f\uff1a1\uff09where\u4e2d\u7684\u5b57\u6bb5\u5fc5\u987b\u540c\u65f6\u5728\u672c\u5730\u8868\u548cFederated\u8868\u4e2d\uff1b2\uff09\u4e0d\u8981\u7528\u7cfb\u7edf\u65f6\u95f4\u4f5c\\n\"\\\n         \"              \u4e3a\u6761\u4ef6\u3002\\n\");\n\n  printf(\"synctype      \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\\n\");\n  printf(\"remoteconnstr \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"remotetname   \u8fdc\u7a0b\u8868\u540d\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"remotekeycol  \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n  printf(\"localkeycol   \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n\n  printf(\"maxcount      \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n\n  printf(\"timeout       \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname         \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\");\n  printf(\"\u6ce8\u610f\uff1a\\n1\uff09remotekeycol\u548clocalkeycol\u5b57\u6bb5\u7684\u9009\u53d6\u5f88\u91cd\u8981\uff0c\u5982\u679c\u7528\u4e86MySQL\u7684\u81ea\u589e\u5b57\u6bb5\uff0c\u90a3\u4e48\u5728\u8fdc\u7a0b\u8868\u4e2d\u6570\u636e\u751f\u6210\u540e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u4e0d\u53ef\u6539\u53d8\uff0c\u5426\u5219\u540c\u6b65\u4f1a\u5931\u8d25\uff1b\\n2\uff09\u5f53\u8fdc\u7a0b\u8868\u4e2d\u5b58\u5728delete\u64cd\u4f5c\u65f6\uff0c\u65e0\u6cd5\u5206\u6279\u540c\u6b65\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u8868\u7684\u8bb0\u5f55\u88abdelete\u540e\u5c31\u627e\u4e0d\u5230\u4e86\uff0c\u65e0\u6cd5\u4ece\u672c\u5730\u8868\u4e2d\u6267\u884cdelete\u64cd\u4f5c\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\n  GetXMLBuffer(strxmlbuffer,\"localconnstr\",starg.localconnstr,100);\n  if (strlen(starg.localconnstr)==0) { logfile.Write(\"localconnstr is null.\\n\"); return false; }\n\n  // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  // Federated\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"fedtname\",starg.fedtname,30);\n  if (strlen(starg.fedtname)==0) { logfile.Write(\"fedtname is null.\\n\"); return false; }\n\n  // \u672c\u5730\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"localtname\",starg.localtname,30);\n  if (strlen(starg.localtname)==0) { logfile.Write(\"localtname is null.\\n\"); return false; }\n\n  // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\n  // \u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  GetXMLBuffer(strxmlbuffer,\"remotecols\",starg.remotecols,1000);\n\n  // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\n  GetXMLBuffer(strxmlbuffer,\"localcols\",starg.localcols,1000);\n\n  // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u5373select\u8bed\u53e5\u7684where\u90e8\u5206\u3002\n  GetXMLBuffer(strxmlbuffer,\"where\",starg.where,1000);\n\n  // \u540c\u6b65\u65b9\u5f0f\uff1a1-\u4e0d\u5206\u6279\u540c\u6b65\uff1b2-\u5206\u6279\u540c\u6b65\u3002\n  GetXMLBuffer(strxmlbuffer,\"synctype\",&amp;starg.synctype);\n  if ( (starg.synctype!=1) &amp;&amp; (starg.synctype!=2) ) { logfile.Write(\"synctype is not in (1,2).\\n\"); return false; }\n\n  if (starg.synctype==2)\n  {\n    // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remoteconnstr\",starg.remoteconnstr,100);\n    if (strlen(starg.remoteconnstr)==0) { logfile.Write(\"remoteconnstr is null.\\n\"); return false; }\n\n    // \u8fdc\u7a0b\u8868\u540d\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remotetname\",starg.remotetname,30);\n    if (strlen(starg.remotetname)==0) { logfile.Write(\"remotetname is null.\\n\"); return false; }\n\n    // \u8fdc\u7a0b\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"remotekeycol\",starg.remotekeycol,30);\n    if (strlen(starg.remotekeycol)==0) { logfile.Write(\"remotekeycol is null.\\n\"); return false; }\n\n    // \u672c\u5730\u8868\u7684\u952e\u503c\u5b57\u6bb5\u540d\uff0c\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"localkeycol\",starg.localkeycol,30);\n    if (strlen(starg.localkeycol)==0) { logfile.Write(\"localkeycol is null.\\n\"); return false; }\n\n    // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n    GetXMLBuffer(strxmlbuffer,\"maxcount\",&amp;starg.maxcount);\n    if (starg.maxcount==0) { logfile.Write(\"maxcount is null.\\n\"); return false; }\n    if (starg.maxcount&gt;MAXPARAMS) starg.maxcount=MAXPARAMS;\n  }\n\n  // \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  connloc.disconnect();\n\n  connrem.disconnect();\n\n  exit(0);\n}\n\n/*\ncreate table LK_ZHOBTCODE1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801',\n   cityname             varchar(30) not null comment '\u57ce\u5e02\u540d\u79f0',\n   provname             varchar(30) not null comment '\u7701\u540d\u79f0',\n   lat                  int not null comment '\u7eac\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   lon                  int not null comment '\u7ecf\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   height               int not null comment '\u6d77\u62d4\u9ad8\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                int not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid),\n   unique key ZHOBTCODE1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTCODE1';\n\ncreate table LK_ZHOBTMIND1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801\u3002',\n   ddatetime            datetime not null comment '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002',\n   t                    int comment '\u6e7f\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002',\n   p                    int comment '\u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002',\n   u                    int comment '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002',\n   wd                   int comment '\u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002',\n   wf                   int comment '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002',\n   r                    int comment '\u964d\u96e8\u91cf\uff1a0.1mm\u3002',\n   vis                  int comment '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                bigint not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid, ddatetime),\n   unique key ZHOBTMIND1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTMIND1';\n*/\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncupdate()\n{\n  CTimer Timer;\n\n  sqlstatement stmtdel(&amp;connloc);    // \u6267\u884c\u5220\u9664\u672c\u5730\u8868\u4e2d\u8bb0\u5f55\u7684SQL\u8bed\u53e5\u3002\n  sqlstatement stmtins(&amp;connloc);    // \u6267\u884c\u5411\u672c\u5730\u8868\u4e2d\u63d2\u5165\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n\n  // \u5982\u679c\u662f\u4e0d\u5206\u6279\u540c\u6b65\uff0c\u8868\u793a\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\u91cf\u6bd4\u8f83\u5c11\uff0c\u6267\u884c\u4e00\u6b21SQL\u8bed\u53e5\u5c31\u53ef\u4ee5\u641e\u5b9a\u3002\n  if (starg.synctype==1)\n  {\n    logfile.Write(\"sync %s to %s ...\",starg.fedtname,starg.localtname);\n\n    // \u5148\u5220\u9664starg.localtname\u8868\u4e2d\u6ee1\u8db3where\u6761\u4ef6\u7684\u8bb0\u5f55\u3002\n    stmtdel.prepare(\"delete from %s %s\",starg.localtname,starg.where);\n    if (stmtdel.execute()!=0)\n    {\n      logfile.Write(\"stmtdel.execute() failed.\\n%s\\n%s\\n\",stmtdel.m_sql,stmtdel.m_cda.message); return false;\n    }\n\n    // \u518d\u628astarg.fedtname\u8868\u4e2d\u6ee1\u8db3where\u6761\u4ef6\u7684\u8bb0\u5f55\u63d2\u5165\u5230starg.localtname\u8868\u4e2d\u3002\n    stmtins.prepare(\"insert into %s(%s) select %s from %s %s\",starg.localtname,starg.localcols,starg.remotecols,starg.fedtname,starg.where);\n    if (stmtins.execute()!=0)\n    {\n      logfile.Write(\"stmtins.execute() failed.\\n%s\\n%s\\n\",stmtins.m_sql,stmtins.m_cda.message); \n      connloc.rollback();   // \u5982\u679c\u8fd9\u91cc\u5931\u8d25\u4e86\uff0c\u4e00\u5b9a\u8981\u56de\u6eda\u4e8b\u52a1\u3002\n      return false;\n    }\n\n    logfile.WriteEx(\" %d rows in %.2fsec.\\n\",stmtins.m_cda.rpc,Timer.Elapsed());\n\n    connloc.commit();\n\n    return true;\n  }\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/4%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%88%86%E6%89%B9%E5%88%B7%E6%96%B0/","title":"4 \u5237\u65b0\u540c\u6b65-\u5206\u6279\u5237\u65b0","text":"<p>\u8d26\u6237\u57fa\u672c\u4fe1\u606f\u6570\u636e\u91cf\u6bd4\u8f83\u5927\uff0c\u5bf9\u8868\u6709\u63d2\u5165\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u8fd9\u79cd\u6570\u636e\u6211\u4eec\u5047\u8bbe\u5168\u56fd\u7ad9\u70b9\u53c2\u6570\u8868\u7684\u6570\u636e\u91cf\u5f88\u5927\uff0c\u91c7\u7528\u5206\u6279\u540c\u6b65\u7684\u65b9\u6cd5\uff0c\u540c\u6b65\u7684\u6761\u4ef6\u4e00\u822c\u4e3a\u65f6\u95f4\u6233\u5b57\u6bb5\uff0c\u6bd4\u5982\u8bf4\u66f4\u65b0\u65f6\u95f4\uff0c\u5982\u679c\u540c\u6b65\u7a0b\u5e8f\u6bcf\u9694\u4e00\u5c0f\u65f6\u542f\u52a8\u4e00\u6b21\u90a3\u4e48\u53ef\u4ee5\u628a\u540c\u6b65\u6761\u4ef6\u8bbe\u7f6e\u4e3a\u66f4\u65b0\u65f6\u95f4\u57281.5\u5c0f\u65f6\u62162\u5c0f\u65f6\u4e4b\u5185</p> <p>\u4ea4\u6613\u6d41\u6c34\u8fd9\u79cd\u8868\u7684\u6570\u636e\u91cf\u975e\u5e38\u5927\uff0c\u53ea\u6709\u63d2\u5165\u64cd\u4f5c\uff0c\u6ca1\u6709\u4fee\u6539\u64cd\u4f5c\uff0c\u540c\u6b65\u8fd9\u79cd\u8868\u6700\u597d\u7684\u65b9\u6cd5\u662f\u589e\u91cf\u540c\u6b65\uff0c\u4e5f\u53ef\u4ee5\u91c7\u7528\u5237\u65b0\u540c\u6b65\u7684\u65b9\u6cd5</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/4%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%88%86%E6%89%B9%E5%88%B7%E6%96%B0/#_1","title":"\u8fc7\u7a0b","text":"<ul> <li>\u8fde\u63a5\u8fdc\u7a0b\u6570\u636e\u5e93</li> <li>\u4ece\u8fdc\u7a0b\u8868\u4e2d\u67e5\u627e\u7684\u9700\u8981\u540c\u6b65\u8bb0\u5f55\u7684key\u5b57\u6bb5\u7684\u503c</li> <li>\u62fc\u63a5\u7ed1\u5b9a\u540c\u6b65SQL\u8bed\u53e5\u53c2\u6570\u7684\u5b57\u7b26\u4e32</li> </ul> <p>\u5c31\u662f\u8fd9\u4e2a\u6548\u679c</p> <p></p> <ul> <li>\u51c6\u5907\u5220\u9664\u672c\u5730\u8868\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u4e00\u6b21\u5220\u9664starg.maxcount\u6761\u8bb0\u5f55</li> <li>\u51c6\u5907\u63d2\u5165\u672c\u5730\u8868\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u4e00\u6b21\u63d2\u5165starg.maxcount\u6761\u8bb0\u5f55</li> <li>\u83b7\u53d6\u9700\u8981\u540c\u6b65\u6570\u636e\u7684\u7ed3\u679c\u96c6</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/4%20%E5%88%B7%E6%96%B0%E5%90%8C%E6%AD%A5-%E5%88%86%E6%89%B9%E5%88%B7%E6%96%B0/#_2","title":"\u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/","title":"\u6761\u4ef6","text":"<ul> <li>\u8fdc\u7a0b\u8868\u7684\u6570\u636e\u53ea\u6709\u63d2\u5165\uff0c\u6ca1\u6709\u4fee\u6539\u548c\u5220\u9664\u64cd\u4f5c</li> <li>\u8fdc\u7a0b\u8868\u4e00\u5b9a\u8981\u6709\u81ea\u589e\u5b57\u6bb5</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#_2","title":"\u8fc7\u7a0b","text":"<p>\u589e\u91cf\u540c\u6b65\u80af\u5b9a\u662f\u5206\u6279\u7684\uff0c\u6240\u4ee5\u4e0d\u5206\u6279\u540c\u6b65\u7684\u4ee3\u7801\u9700\u8981\u5220\u9664</p> <p>\u589e\u91cf\u540c\u6b65\u662f\u6839\u636e\u81ea\u589e\u5b57\u6bb5\u6765\u590d\u5236\u6570\u636e\u7684\uff0c\u6240\u4ee5\u6bcf\u6b21\u540c\u6b65\u4e4b\u524d\u4ece\u672c\u5730\u8868\u4e2d\u628a\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\u53d6\u51fa\u6765\u653e\u5230maxkeyvalue\u5168\u5c40\u53d8\u91cf\u4e2d</p> <p>\u518d\u4ece\u8fdc\u7a0b\u8868\u4e2d\u67e5\u627e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u5927\u4e8emaxkeyvalue\u7684\u8bb0\u5f55\uff0c\u628a\u90a3\u4e9b\u6570\u636e\u540c\u6b65\u8fc7\u6765\u5c31\u884c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#1","title":"1\u3001\u4fee\u6539\u5e2e\u52a9","text":"<p>\u9700\u8981\u589e\u52a0\u8fd9\u4e2a\u53c2\u6570\uff0c\u6267\u884c\u540c\u6b65\u7684\u65f6\u95f4\u95f4\u9694\u5355\u4f4d\u662f\u79d2\uff0c\u5237\u65b0\u540c\u6b65\uff0c\u6ca1\u6709\u8fd9\u4e2a\u53c2\u6570\u7a0b\u5e8f\uff0c\u6bcf\u6b21\u8fd0\u884c\u53ea\u6267\u884c\u4e00\u6b21\u540c\u6b65\u3002\u7136\u540e\u5c31\u9000\u51fa\u53bb\u4e86\uff0c\u7531\u8c03\u5ea6\u7a0b\u5e8f\u7684\u53c2\u6570\u51b3\u5b9a\u540c\u6b65\u6570\u636e\u7684\u5468\u671f\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u8ba9\u5237\u65b0\u540c\u6b65\u7a0b\u5e8f\uff1f\u5e38\u9a7b\u5185\u5b58\u5462\uff0c\u56e0\u4e3a\u6ca1\u8fd9\u4e2a\u5fc5\u8981\uff0c\u5237\u65b0\u540c\u6b65\u6570\u636e\u7684\u5468\u671f\u4e00\u822c\u6bd4\u8f83\u957f\uff0c\u6bd4\u5982\u8bf4\u3002\u7ad9\u70b9\u53c2\u6570\u8868\u51e0\u5206\u949f\u540c\u6b65\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86\uff0c\u6ca1\u5fc5\u8981\u51e0\u79d2\u949f\u5c31\u5237\u65b0\u4e00\u6b21\uff0c\u8fd8\u6709\u90a3\u4e9b\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u8868\u3002\u51e0\u5206\u949f\u6216\u8005\u51e0\u4e2a\u5c0f\u65f6\u6216\u8005\u4e00\u5929\u624d\u540c\u6b65\u4e00\u6b21\uff0c\u8981\u770b\u4e1a\u52a1\u7684\u9700\u6c42\uff0c\u4f46\u662f\u5237\u65b0\u540c\u6b65\u7684\u65f6\u95f4\u95f4\u9694\u3002\u80af\u5b9a\u4e0d\u4f1a\u592a\u77ed\uff0c\u589e\u91cf\u540c\u6b65\u5c31\u4e0d\u4e00\u6837\u4e86\uff0c\u6bd4\u5982\u8bf4\u7ad9\u70b9\u89c2\u6d4b\u6570\u636e\u4e1a\u52a1\u9700\u6c42\u662f\u8d8a\u5feb\u8d8a\u597d\u3002\u540c\u6b65\u6570\u636e\u7684\u65f6\u95f4\u95f4\u9694\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u51e0\u79d2\u5230\u51e0\u5341\u79d2\uff0c\u8fd8\u6709\u771f\u6b63\u540c\u6b65\u662f\u6839\u636e\u81ea\u81ea\u589e\u5b57\u6bb5\u7684\u67e5\u627e\u6570\u636e\u7684\u3002\u6709\u6570\u636e\u5c31\u540c\u6b65\uff0c\u6ca1\u6570\u636e\u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u5bf9\u6570\u636e\u5e93\u9020\u6210\u7684\u538b\u529b\u975e\u5e38\u5c0f\uff0c\u6240\u4ee5\u589e\u91cf\u540c\u6b65\u7a0b\u5e8f\u662f\u5e38\u9a7b\u5185\u5b58\u4e2d\u7684\u6bcf\u95f4\u9694\u82e5\u5e72\u79d2\u3002\u6267\u884c\u4e00\u6b21\u540c\u6b65\u65f6\u95f4\u95f4\u9694\u7684\u5927\u5c0f\uff0c\u8981\u770b\u4e1a\u52a1\u9700\u6c42\uff0c</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#2","title":"2\u3001\u589e\u52a0\u540c\u6b65\u65f6\u95f4\u95f4\u9694\u7684\u53c2\u6570","text":"<p>\u6267\u884c\u540c\u6b65\u65f6\u95f4\u95f4\u9694\u8ddf\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\u8fd9\u4e24\u4e2a\u53c2\u6570\u9700\u8981\u534f\u8c03\uff0c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\u80af\u5b9a\u8981\u6bd4\u540c\u6b65\u65f6\u95f4\u95f4\u9694\u8981\u5927</p> <p></p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#3","title":"3 \u58f0\u660e","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#4","title":"4 \u5199\u51fd\u6570\u4f53","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#5","title":"5 \u4ece\u672c\u5730\u8868\u4e2d\u628a\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\u53d6\u51fa\u6765","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#6-maxkeyvalue","title":"6 \u4ece\u8fdc\u7a0b\u8868\u4e2d\u67e5\u627e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u5927\u4e8emaxkeyvalue\u7684\u8bb0\u5f55","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#7","title":"7 \u8ba9\u7a0b\u5e8f\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u540c\u6b65","text":"<p>\u73b0\u5728\u7684\u540c\u6b65\u7a0b\u5e8f\u6267\u884c\u4e00\u6b21\u540c\u6b65\u5c31\u9000\u51fa\u4e86\uff0c\u8ba9\u4ed6\u5e38\u9a7b\u5185\u5b58\uff0c\u6570\u636e\u53ef\u80fd\u5728\u4e0d\u65ad\u7684\u751f\u6210\u4e2d\uff0c\u6240\u4ee5\u5c31\u4e0dsleep\uff0c\u7ee7\u7eed\u8fdb\u884c\u540c\u6b65</p> <p>\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u5148\u628acontinue\u8fd9\u4e2a\u53d8\u91cf\u521d\u59cb\u5316\u4e3afalse\u5982\u679c\u6709\u540c\u6b65\u5230\u6570\u636e\uff0c\u518d\u628a\u5b83\u7f6e\u4e3atrue</p> <p></p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#false","title":"\u5148\u521d\u59cb\u5316\u4e3afalse","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#true","title":"\u6539\u4e3atrue","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#_3","title":"\u7ec6\u8282","text":"<p>maxcount\u4e2d\u6bcf\u6279\u540c\u6b65\u6570\u636e\u8d8a\u591a\uff0c\u5b83\u7684\u6027\u80fd\u5c31\u8d8a\u9ad8\uff0c\u4f46\u8d85\u8fc7100\u53d6\u503c200\u6216300\u7684\u8bdd\u6ca1\u4ec0\u4e48\u5dee\u522b\uff0c\u5f53\u8fd9\u4e2a\u53c2\u6570\u53d6\u503c\u5230100\u7684\u65f6\u5019\u6570\u636e\u5e93\u7684\u541e\u5410\u80fd\u529b\u57fa\u672c\u4e0a\u8fbe\u5230\u4e86\u6781\u9650</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/5%20%E5%A2%9E%E9%87%8F%E5%90%8C%E6%AD%A5-%E5%9F%BA%E4%BA%8EFederated%E5%BC%95%E6%93%8E/#_4","title":"\u5b8c\u6574\u4ee3\u7801","text":"C++<pre><code>/*\n *  \u7a0b\u5e8f\u540d\uff1asyncincrement.cpp\uff0c\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u589e\u91cf\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\n *  \u4f5c\u8005\uff1agmc\u3002\n*/\n#include \"_tools.h\"\n\nstruct st_arg\n{\n  char localconnstr[101];  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char charset[51];        // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\u3002\n  char fedtname[31];       // Federated\u8868\u540d\u3002\n  char localtname[31];     // \u672c\u5730\u8868\u540d\u3002\n  char remotecols[1001];   // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char localcols[1001];    // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\u3002\n  char where[1001];        // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\u3002\n  char remoteconnstr[101]; // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\u3002\n  char remotetname[31];    // \u8fdc\u7a0b\u8868\u540d\u3002\n  char remotekeycol[31];   // \u8fdc\u7a0b\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\n  char localkeycol[31];    // \u672c\u5730\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\n  int  maxcount;           // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\u3002\n  int  timetvl;            // \u540c\u6b65\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u53d6\u503c1-30\u3002\n  int  timeout;            // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8d85\u65f6\u65f6\u95f4\u3002\n  char pname[51];          // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u7a0b\u5e8f\u540d\u3002\n} starg;\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[]);\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer);\n\nCLogFile logfile;\n\nconnection connloc;   // \u672c\u5730\u6570\u636e\u5e93\u8fde\u63a5\u3002\nconnection connrem;   // \u8fdc\u7a0b\u6570\u636e\u5e93\u8fde\u63a5\u3002\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncincrement(bool &amp;bcontinue);\n\n// \u4ece\u672c\u5730\u8868starg.localtname\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\uff0c\u5b58\u653e\u5728maxkeyvalue\u5168\u5c40\u53d8\u91cf\u4e2d\u3002\nlong maxkeyvalue=0;\nbool findmaxkey();\n\nvoid EXIT(int sig);\n\nCPActive PActive;\n\nint main(int argc,char *argv[])\n{\n  if (argc!=3) { _help(argv); return -1; }\n\n  // \u5173\u95ed\u5168\u90e8\u7684\u4fe1\u53f7\u548c\u8f93\u5165\u8f93\u51fa\uff0c\u5904\u7406\u7a0b\u5e8f\u9000\u51fa\u7684\u4fe1\u53f7\u3002\n  CloseIOAndSignal(); signal(SIGINT,EXIT); signal(SIGTERM,EXIT);\n\n  if (logfile.Open(argv[1],\"a+\")==false)\n  {\n    printf(\"\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25\uff08%s\uff09\u3002\\n\",argv[1]); return -1;\n  }\n\n  // \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\n  if (_xmltoarg(argv[2])==false) return -1;\n\n  PActive.AddPInfo(starg.timeout,starg.pname);\n  // \u6ce8\u610f\uff0c\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u542f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u4ee3\u7801\uff0c\u9632\u6b62\u8d85\u65f6\u3002\n  // PActive.AddPInfo(starg.timeout*100,starg.pname);\n\n  if (connloc.connecttodb(starg.localconnstr,starg.charset) != 0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.localconnstr,connloc.m_cda.message); EXIT(-1);\n  }\n\n  // logfile.Write(\"connect database(%s) ok.\\n\",starg.localconnstr);\n\n  if (connrem.connecttodb(starg.remoteconnstr,starg.charset) != 0)\n  {\n    logfile.Write(\"connect database(%s) failed.\\n%s\\n\",starg.remoteconnstr,connrem.m_cda.message); return false;\n  }\n\n  // logfile.Write(\"connect database(%s) ok.\\n\",starg.remoteconnstr);\n\n  // \u5982\u679cstarg.remotecols\u6216starg.localcols\u4e3a\u7a7a\uff0c\u5c31\u7528starg.localtname\u8868\u7684\u5168\u90e8\u5217\u6765\u586b\u5145\u3002\n  if ( (strlen(starg.remotecols)==0) || (strlen(starg.localcols)==0) )\n  {\n    CTABCOLS TABCOLS;\n\n    // \u83b7\u53d6starg.localtname\u8868\u7684\u5168\u90e8\u5217\u3002\n    if (TABCOLS.allcols(&amp;connloc,starg.localtname)==false)\n    {\n      logfile.Write(\"\u8868%s\u4e0d\u5b58\u5728\u3002\\n\",starg.localtname); EXIT(-1); \n    }\n\n    if (strlen(starg.remotecols)==0)  strcpy(starg.remotecols,TABCOLS.m_allcols);\n    if (strlen(starg.localcols)==0)   strcpy(starg.localcols,TABCOLS.m_allcols);\n  }\n\n  bool bcontinue;\n\n  // \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\n  while (true)\n  {\n    if (_syncincrement(bcontinue)==false) EXIT(-1);\n    //\u6570\u636e\u53ef\u80fd\u5728\u4e0d\u65ad\u7684\u751f\u6210\u4e2d\uff0c\u6240\u4ee5\u5c31\n    if (bcontinue==false) sleep(starg.timetvl);\n\n    PActive.UptATime();\n  }\n}\n\n// \u663e\u793a\u7a0b\u5e8f\u7684\u5e2e\u52a9\nvoid _help(char *argv[])\n{\n  printf(\"Using:/project/tools1/bin/syncincrement logfilename xmlbuffer\\n\\n\");\n\n  printf(\"Sample:/project/tools1/bin/procctl 10 /project/tools1/bin/syncincrement /log/idc/syncincrement_ZHOBTMIND2.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;remotetname&gt;T_ZHOBTMIND1&lt;/remotetname&gt;&lt;fedtname&gt;LK_ZHOBTMIND1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTMIND2&lt;/localtname&gt;&lt;remotecols&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,ddatetime,t,p,u,wd,wf,r,vis,upttime,recid&lt;/localcols&gt;&lt;remotekeycol&gt;keyid&lt;/remotekeycol&gt;&lt;localkeycol&gt;recid&lt;/localkeycol&gt;&lt;maxcount&gt;300&lt;/maxcount&gt;&lt;timetvl&gt;2&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncincrement_ZHOBTMIND2&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"       /project/tools1/bin/procctl 10 /project/tools1/bin/syncincrement /log/idc/syncincrement_ZHOBTMIND3.log \\\"&lt;localconnstr&gt;192.168.174.129,root,mysqlpwd,mysql,3306&lt;/localconnstr&gt;&lt;remoteconnstr&gt;192.168.174.132,root,mysqlpwd,mysql,3306&lt;/remoteconnstr&gt;&lt;charset&gt;utf8&lt;/charset&gt;&lt;remotetname&gt;T_ZHOBTMIND1&lt;/remotetname&gt;&lt;fedtname&gt;LK_ZHOBTMIND1&lt;/fedtname&gt;&lt;localtname&gt;T_ZHOBTMIND3&lt;/localtname&gt;&lt;remotecols&gt;obtid,ddatetime,t,p,u,wd,wf,r,vis,upttime,keyid&lt;/remotecols&gt;&lt;localcols&gt;stid,ddatetime,t,p,u,wd,wf,r,vis,upttime,recid&lt;/localcols&gt;&lt;where&gt;and obtid like '54%%%%'&lt;/where&gt;&lt;remotekeycol&gt;keyid&lt;/remotekeycol&gt;&lt;localkeycol&gt;recid&lt;/localkeycol&gt;&lt;maxcount&gt;300&lt;/maxcount&gt;&lt;timetvl&gt;2&lt;/timetvl&gt;&lt;timeout&gt;50&lt;/timeout&gt;&lt;pname&gt;syncincrement_ZHOBTMIND3&lt;/pname&gt;\\\"\\n\\n\");\n\n  printf(\"\u672c\u7a0b\u5e8f\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u516c\u5171\u529f\u80fd\u6a21\u5757\uff0c\u91c7\u7528\u589e\u91cf\u7684\u65b9\u6cd5\u540c\u6b65MySQL\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u8868\u3002\\n\\n\");\n\n  printf(\"logfilename   \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\\n\");\n  printf(\"xmlbuffer     \u672c\u7a0b\u5e8f\u8fd0\u884c\u7684\u53c2\u6570\uff0c\u7528xml\u8868\u793a\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\\n\\n\");\n\n  printf(\"localconnstr  \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\\n\");\n  printf(\"charset       \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\\n\");\n\n  printf(\"fedtname      Federated\u8868\u540d\u3002\\n\");\n  printf(\"localtname    \u672c\u5730\u8868\u540d\u3002\\n\");\n\n  printf(\"remotecols    \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\\n\"\\\n         \"              \u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  printf(\"localcols     \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\\n\"\\\n         \"              \u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n\n  printf(\"where         \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u586b\u5145\u5728select remotekeycol from remotetname where remotekeycol&gt;:1\u4e4b\u540e\uff0c\\n\"\\\n         \"              \u6ce8\u610f\uff0c\u4e0d\u8981\u52a0where\u5173\u952e\u5b57\uff0c\u4f46\u662f\uff0c\u9700\u8981\u52a0and\u5173\u952e\u5b57\u3002\\n\");\n\n  printf(\"remoteconnstr \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\u3002\\n\");\n  printf(\"remotetname   \u8fdc\u7a0b\u8868\u540d\u3002\\n\");\n  printf(\"remotekeycol  \u8fdc\u7a0b\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\\n\");\n  printf(\"localkeycol   \u672c\u5730\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\\n\");\n\n  printf(\"maxcount      \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\\n\");\n\n  printf(\"timetvl       \u6267\u884c\u540c\u6b65\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u53d6\u503c1-30\u3002\\n\");\n  printf(\"timeout       \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\\n\");\n  printf(\"pname         \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\\n\\n\\n\");\n}\n\n// \u628axml\u89e3\u6790\u5230\u53c2\u6570starg\u7ed3\u6784\u4e2d\nbool _xmltoarg(char *strxmlbuffer)\n{\n  memset(&amp;starg,0,sizeof(struct st_arg));\n\n  // \u672c\u5730\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\uff1aip,username,password,dbname,port\u3002\n  GetXMLBuffer(strxmlbuffer,\"localconnstr\",starg.localconnstr,100);\n  if (strlen(starg.localconnstr)==0) { logfile.Write(\"localconnstr is null.\\n\"); return false; }\n\n  // \u6570\u636e\u5e93\u7684\u5b57\u7b26\u96c6\uff0c\u8fd9\u4e2a\u53c2\u6570\u8981\u4e0e\u8fdc\u7a0b\u6570\u636e\u5e93\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u4e2d\u6587\u4e71\u7801\u7684\u60c5\u51b5\u3002\n  GetXMLBuffer(strxmlbuffer,\"charset\",starg.charset,50);\n  if (strlen(starg.charset)==0) { logfile.Write(\"charset is null.\\n\"); return false; }\n\n  // Federated\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"fedtname\",starg.fedtname,30);\n  if (strlen(starg.fedtname)==0) { logfile.Write(\"fedtname is null.\\n\"); return false; }\n\n  // \u672c\u5730\u8868\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"localtname\",starg.localtname,30);\n  if (strlen(starg.localtname)==0) { logfile.Write(\"localtname is null.\\n\"); return false; }\n\n  // \u8fdc\u7a0b\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u7528\u4e8e\u586b\u5145\u5728select\u548cfrom\u4e4b\u95f4\uff0c\u6240\u4ee5\uff0cremotecols\u53ef\u4ee5\u662f\u771f\u5b9e\u7684\u5b57\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u662f\u51fd\u6570\n  // \u7684\u8fd4\u56de\u503c\u6216\u8005\u8fd0\u7b97\u7ed3\u679c\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\\n\");\n  GetXMLBuffer(strxmlbuffer,\"remotecols\",starg.remotecols,1000);\n\n  // \u672c\u5730\u8868\u7684\u5b57\u6bb5\u5217\u8868\uff0c\u4e0eremotecols\u4e0d\u540c\uff0c\u5b83\u5fc5\u987b\u662f\u771f\u5b9e\u5b58\u5728\u7684\u5b57\u6bb5\u3002\u5982\u679c\u672c\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u7528localtname\u8868\u7684\u5b57\u6bb5\u5217\u8868\u586b\u5145\u3002\n  GetXMLBuffer(strxmlbuffer,\"localcols\",starg.localcols,1000);\n\n  // \u540c\u6b65\u6570\u636e\u7684\u6761\u4ef6\uff0c\u5373select\u8bed\u53e5\u7684where\u90e8\u5206\u3002\n  GetXMLBuffer(strxmlbuffer,\"where\",starg.where,1000);\n\n  // \u8fdc\u7a0b\u6570\u636e\u5e93\u7684\u8fde\u63a5\u53c2\u6570\uff0c\u683c\u5f0f\u4e0elocalconnstr\u76f8\u540c\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n  GetXMLBuffer(strxmlbuffer,\"remoteconnstr\",starg.remoteconnstr,100);\n  if (strlen(starg.remoteconnstr)==0) { logfile.Write(\"remoteconnstr is null.\\n\"); return false; }\n\n  // \u8fdc\u7a0b\u8868\u540d\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n  GetXMLBuffer(strxmlbuffer,\"remotetname\",starg.remotetname,30);\n  if (strlen(starg.remotetname)==0) { logfile.Write(\"remotetname is null.\\n\"); return false; }\n\n  // \u8fdc\u7a0b\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"remotekeycol\",starg.remotekeycol,30);\n  if (strlen(starg.remotekeycol)==0) { logfile.Write(\"remotekeycol is null.\\n\"); return false; }\n\n  // \u672c\u5730\u8868\u7684\u81ea\u589e\u5b57\u6bb5\u540d\u3002\n  GetXMLBuffer(strxmlbuffer,\"localkeycol\",starg.localkeycol,30);\n  if (strlen(starg.localkeycol)==0) { logfile.Write(\"localkeycol is null.\\n\"); return false; }\n\n  // \u6bcf\u6279\u6267\u884c\u4e00\u6b21\u540c\u6b65\u64cd\u4f5c\u7684\u8bb0\u5f55\u6570\uff0c\u4e0d\u80fd\u8d85\u8fc7MAXPARAMS\u5b8f\uff08\u5728_mysql.h\u4e2d\u5b9a\u4e49\uff09\uff0c\u5f53synctype==2\u65f6\u6709\u6548\u3002\n  GetXMLBuffer(strxmlbuffer,\"maxcount\",&amp;starg.maxcount);\n  if (starg.maxcount==0) { logfile.Write(\"maxcount is null.\\n\"); return false; }\n  if (starg.maxcount&gt;MAXPARAMS) starg.maxcount=MAXPARAMS;\n\n  // \u6267\u884c\u540c\u6b65\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u53d6\u503c1-30\u3002\n  GetXMLBuffer(strxmlbuffer,\"timetvl\",&amp;starg.timetvl);\n  if (starg.timetvl&lt;=0) { logfile.Write(\"timetvl is null.\\n\"); return false; }\n  if (starg.timetvl&gt;30) starg.timetvl=30;\n\n  // \u672c\u7a0b\u5e8f\u7684\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\uff0c\u89c6\u6570\u636e\u91cf\u7684\u5927\u5c0f\u800c\u5b9a\uff0c\u5efa\u8bae\u8bbe\u7f6e30\u4ee5\u4e0a\u3002\n  GetXMLBuffer(strxmlbuffer,\"timeout\",&amp;starg.timeout);\n  if (starg.timeout==0) { logfile.Write(\"timeout is null.\\n\"); return false; }\n\n  // \u4ee5\u4e0b\u5904\u7406timetvl\u548ctimeout\u7684\u65b9\u6cd5\u867d\u7136\u6709\u70b9\u968f\u610f\uff0c\u4f46\u4e5f\u95ee\u9898\u4e0d\u5927\uff0c\u4e0d\u8ba9\u7a0b\u5e8f\u8d85\u65f6\u5c31\u53ef\u4ee5\u4e86\u3002\n  if (starg.timeout&lt;starg.timetvl+10) starg.timeout=starg.timetvl+10;\n\n  // \u672c\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u8fdb\u7a0b\u540d\uff0c\u5c3d\u53ef\u80fd\u91c7\u7528\u6613\u61c2\u7684\u3001\u4e0e\u5176\u5b83\u8fdb\u7a0b\u4e0d\u540c\u7684\u540d\u79f0\uff0c\u65b9\u4fbf\u6545\u969c\u6392\u67e5\u3002\n  GetXMLBuffer(strxmlbuffer,\"pname\",starg.pname,50);\n  if (strlen(starg.pname)==0) { logfile.Write(\"pname is null.\\n\"); return false; }\n\n  return true;\n}\n\nvoid EXIT(int sig)\n{\n  logfile.Write(\"\u7a0b\u5e8f\u9000\u51fa\uff0csig=%d\\n\\n\",sig);\n\n  connloc.disconnect();\n\n  connrem.disconnect();\n\n  exit(0);\n}\n\n/*\ncreate table LK_ZHOBTCODE1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801',\n   cityname             varchar(30) not null comment '\u57ce\u5e02\u540d\u79f0',\n   provname             varchar(30) not null comment '\u7701\u540d\u79f0',\n   lat                  int not null comment '\u7eac\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   lon                  int not null comment '\u7ecf\u5ea6\uff0c\u5355\u4f4d\uff1a0.01\u5ea6\u3002',\n   height               int not null comment '\u6d77\u62d4\u9ad8\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                int not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid),\n   unique key ZHOBTCODE1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTCODE1';\n\ncreate table LK_ZHOBTMIND1\n(\n   obtid                varchar(10) not null comment '\u7ad9\u70b9\u4ee3\u7801\u3002',\n   ddatetime            datetime not null comment '\u6570\u636e\u65f6\u95f4\uff0c\u7cbe\u786e\u5230\u5206\u949f\u3002',\n   t                    int comment '\u6e7f\u5ea6\uff0c\u5355\u4f4d\uff1a0.1\u6444\u6c0f\u5ea6\u3002',\n   p                    int comment '\u6c14\u538b\uff0c\u5355\u4f4d\uff1a0.1\u767e\u5e15\u3002',\n   u                    int comment '\u76f8\u5bf9\u6e7f\u5ea6\uff0c0-100\u4e4b\u95f4\u7684\u503c\u3002',\n   wd                   int comment '\u98ce\u5411\uff0c0-360\u4e4b\u95f4\u7684\u503c\u3002',\n   wf                   int comment '\u98ce\u901f\uff1a\u5355\u4f4d0.1m/s\u3002',\n   r                    int comment '\u964d\u96e8\u91cf\uff1a0.1mm\u3002',\n   vis                  int comment '\u80fd\u89c1\u5ea6\uff1a0.1\u7c73\u3002',\n   upttime              timestamp not null comment '\u66f4\u65b0\u65f6\u95f4\u3002',\n   keyid                bigint not null auto_increment comment '\u8bb0\u5f55\u7f16\u53f7\uff0c\u81ea\u52a8\u589e\u957f\u5217\u3002',\n   primary key (obtid, ddatetime),\n   unique key ZHOBTMIND1_KEYID (keyid)\n)ENGINE=FEDERATED CONNECTION='mysql://root:mysqlpwd@192.168.174.132:3306/mysql/T_ZHOBTMIND1';\n*/\n\n// \u4e1a\u52a1\u5904\u7406\u4e3b\u51fd\u6570\u3002\nbool _syncincrement(bool &amp;bcontinue)\n{\n  CTimer Timer;\n\n  bcontinue=false;\n\n  // \u4ece\u672c\u5730\u8868starg.localtname\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\uff0c\u5b58\u653e\u5728maxkeyvalue\u5168\u5c40\u53d8\u91cf\u4e2d\u3002\n  if (findmaxkey()==false) return false;\n\n  // \u4ece\u8fdc\u7a0b\u8868\u67e5\u627e\u81ea\u589e\u5b57\u6bb5\u7684\u503c\u5927\u4e8emaxkeyvalue\u7684\u8bb0\u5f55\u3002\n  char remkeyvalue[51];    // \u4ece\u8fdc\u7a0b\u8868\u67e5\u5230\u7684\u9700\u8981\u540c\u6b65\u8bb0\u5f55\u7684key\u5b57\u6bb5\u7684\u503c\u3002\n  sqlstatement stmtsel(&amp;connrem);\n  stmtsel.prepare(\"select %s from %s where %s&gt;:1 %s order by %s\",starg.remotekeycol,starg.remotetname,starg.remotekeycol,starg.where,starg.remotekeycol);\n  stmtsel.bindin(1,&amp;maxkeyvalue);\n  stmtsel.bindout(1,remkeyvalue,50);\n\n  // \u62fc\u63a5\u7ed1\u5b9a\u540c\u6b65SQL\u8bed\u53e5\u53c2\u6570\u7684\u5b57\u7b26\u4e32\uff08:1,:2,:3,...,:starg.maxcount\uff09\u3002\n  char bindstr[2001];    // \u7ed1\u5b9a\u540c\u6b65SQL\u8bed\u53e5\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u3002\n  char strtemp[11];\n\n  memset(bindstr,0,sizeof(bindstr));\n\n  for (int ii=0;ii&lt;starg.maxcount;ii++)\n  {\n    memset(strtemp,0,sizeof(strtemp));\n    sprintf(strtemp,\":%lu,\",ii+1);\n    strcat(bindstr,strtemp);\n  }\n\n  bindstr[strlen(bindstr)-1]=0;    // \u6700\u540e\u4e00\u4e2a\u9017\u53f7\u662f\u591a\u4f59\u7684\u3002\n\n  char keyvalues[starg.maxcount][51]; // \u5b58\u653ekey\u5b57\u6bb5\u7684\u503c\u3002\n\n  // \u51c6\u5907\u63d2\u5165\u672c\u5730\u8868\u6570\u636e\u7684SQL\u8bed\u53e5\uff0c\u4e00\u6b21\u63d2\u5165starg.maxcount\u6761\u8bb0\u5f55\u3002\n  // insert into T_ZHOBTMIND2(stid ,ddatetime,t,p,u,wd,wf,r,vis,upttime,recid)\n  //                   select obtid,ddatetime,t,p,u,wd,wf,r,vis,upttime,keyid from LK_ZHOBTMIND1\n  //                    where keyid in (:1,:2,:3);\n  sqlstatement stmtins(&amp;connloc);    // \u5411\u672c\u5730\u8868\u4e2d\u63d2\u5165\u6570\u636e\u7684SQL\u8bed\u53e5\u3002\n  stmtins.prepare(\"insert into %s(%s) select %s from %s where %s in (%s)\",starg.localtname,starg.localcols,starg.remotecols,starg.fedtname,starg.remotekeycol,bindstr);\n  for (int ii=0;ii&lt;starg.maxcount;ii++)\n  {\n    stmtins.bindin(ii+1,keyvalues[ii],50);\n  }\n\n  int ccount=0;    // \u8bb0\u5f55\u4ece\u7ed3\u679c\u96c6\u4e2d\u5df2\u83b7\u53d6\u8bb0\u5f55\u7684\u8ba1\u6570\u5668\u3002\n\n  memset(keyvalues,0,sizeof(keyvalues));\n\n  if (stmtsel.execute()!=0)\n  {\n    logfile.Write(\"stmtsel.execute() failed.\\n%s\\n%s\\n\",stmtsel.m_sql,stmtsel.m_cda.message); return false;\n  }\n\n  while (true)\n  {\n    // \u83b7\u53d6\u9700\u8981\u540c\u6b65\u6570\u636e\u7684\u7ed3\u679c\u96c6\u3002\n    if (stmtsel.next()!=0) break;\n\n    strcpy(keyvalues[ccount],remkeyvalue);\n\n    ccount++;\n\n    // \u6bcfstarg.maxcount\u6761\u8bb0\u5f55\u6267\u884c\u4e00\u6b21\u540c\u6b65\u3002\n    if (ccount==starg.maxcount)\n    {\n      // \u5411\u672c\u5730\u8868\u4e2d\u63d2\u5165\u8bb0\u5f55\u3002\n      if (stmtins.execute()!=0)\n      {\n        // \u6267\u884c\u5411\u672c\u5730\u8868\u4e2d\u63d2\u5165\u8bb0\u5f55\u7684\u64cd\u4f5c\u4e00\u822c\u4e0d\u4f1a\u51fa\u9519\u3002\n        // \u5982\u679c\u62a5\u9519\uff0c\u5c31\u80af\u5b9a\u662f\u6570\u636e\u5e93\u7684\u95ee\u9898\u6216\u540c\u6b65\u7684\u53c2\u6570\u914d\u7f6e\u4e0d\u6b63\u786e\uff0c\u6d41\u7a0b\u4e0d\u5fc5\u7ee7\u7eed\u3002\n        logfile.Write(\"stmtins.execute() failed.\\n%s\\n%s\\n\",stmtins.m_sql,stmtins.m_cda.message); return false;\n      }\n\n      // logfile.Write(\"sync %s to %s(%d rows) in %.2fsec.\\n\",starg.fedtname,starg.localtname,ccount,Timer.Elapsed());\n\n      connloc.commit();\n\n      ccount=0;    // \u8bb0\u5f55\u4ece\u7ed3\u679c\u96c6\u4e2d\u5df2\u83b7\u53d6\u8bb0\u5f55\u7684\u8ba1\u6570\u5668\u3002\n\n      memset(keyvalues,0,sizeof(keyvalues));\n\n      PActive.UptATime();\n    }\n  }\n\n  // \u5982\u679cccount&gt;0\uff0c\u8868\u793a\u8fd8\u6709\u6ca1\u540c\u6b65\u7684\u8bb0\u5f55\uff0c\u518d\u6267\u884c\u4e00\u6b21\u540c\u6b65\u3002\n  if (ccount&gt;0)\n  {\n    // \u5411\u672c\u5730\u8868\u4e2d\u63d2\u5165\u8bb0\u5f55\u3002\n    if (stmtins.execute()!=0)\n    {\n      logfile.Write(\"stmtins.execute() failed.\\n%s\\n%s\\n\",stmtins.m_sql,stmtins.m_cda.message); return false;\n    }\n\n    // logfile.Write(\"sync %s to %s(%d rows) in %.2fsec.\\n\",starg.fedtname,starg.localtname,ccount,Timer.Elapsed());\n\n    connloc.commit();\n  }\n  //\u5982\u679c\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u5927\u4e8e0\uff0c\u8868\u793a\u8fd9\u4e00\u6b21\u540c\u6b65\u6709\u6570\u636e\uff0c\u628abcontinue\u4f5c\u4e3atrue\n  if (stmtsel.m_cda.rpc&gt;0) \n  {\n    logfile.Write(\"sync %s to %s(%d rows) in %.2fsec.\\n\",starg.fedtname,starg.localtname,stmtsel.m_cda.rpc,Timer.Elapsed());\n    bcontinue=true;\n  }\n\n  return true;\n}\n\n// \u4ece\u672c\u5730\u8868starg.localtname\u83b7\u53d6\u81ea\u589e\u5b57\u6bb5\u7684\u6700\u5927\u503c\uff0c\u5b58\u653e\u5728maxkeyvalue\u5168\u5c40\u53d8\u91cf\u4e2d\u3002\nbool findmaxkey()\n{\n  maxkeyvalue=0;\n\n  sqlstatement stmt(&amp;connloc);\n  stmt.prepare(\"select max(%s) from %s\",starg.localkeycol,starg.localtname);\n  stmt.bindout(1,&amp;maxkeyvalue);\n\n  if (stmt.execute()!=0)\n  {\n    logfile.Write(\"stmt.execute() failed.\\n%s\\n%s\\n\",stmt.m_sql,stmt.m_cda.message); return false;\n  }  \n\n  stmt.next();\n\n  // logfile.Write(\"maxkeyvalue=%ld\\n\",maxkeyvalue);\n\n  return true;\n}\n</code></pre>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/","title":"\u5f00\u53d1\u5237\u65b0\u540c\u6b65\u6570\u636e\u6a21\u5757","text":"<ul> <li>\u5168\u8868\u5237\u65b0\uff0c\u9002\u7528\u4e8e\u6570\u636e\u91cf\u4e0d\u5927\u7684\u8868\uff0c\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027</li> <li>\u5206\u6279\u5237\u65b0\uff0c\u9002\u7528\u4e8e\u6570\u636e\u91cf\u8f83\u5927\u7684\u8868\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#-","title":"\u5237\u65b0\u540c\u6b65-\u5168\u8868\u5237\u65b0","text":"<ul> <li>\u5220\u9664\u672c\u5730\u8868\u4e2d\u5168\u90e8\u7684\u8bb0\u5f55</li> <li>\u628aFederated\u8868\u4e2d\u5168\u90e8\u7684\u8bb0\u5f55\u63d2\u5165\u672c\u5730\u8868</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#-_1","title":"\u5237\u65b0\u540c\u6b65-\u5206\u6279\u5237\u65b0","text":""},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#_2","title":"\u6709\u4e24\u4e2a\u7ec6\u8282\uff1a","text":"<p>\u5728\u7b2c\u4e00\u4e2a\u6b65\u9aa4\uff0c\u4ece\u8fdc\u7a0b\u8868\u67e5\u8be2\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\u800c\u4e0d\u662fFederated\u8868\uff0c\u539f\u56e0\u662fFederated\u8868\u4e0d\u652f\u6301\u666e\u901a\u7d22\u5f15\uff0c\u5982\u679c\u540c\u6b65\u7684\u6761\u4ef6\u4e0d\u662f\u4e3b\u952e\uff0c\u4e5f\u4e0d\u662f\u552f\u4e00\u952e\uff0c\u5c31\u4f1a\u8fdb\u884c\u5168\u8868\u626b\u63cf\uff0c\u7b2c\u4e8c\u4e2a\u539f\u56e0\u662f\u5c31\u7b97Federated\u8868\u652f\u6301\u666e\u901a\u7d22\u5f15\u6548\u7387\u4e5f\u4e0d\u5982\u76f4\u63a5\u8bbf\u95ee\u8fdc\u7a0b\u8868\u7684\u6548\u7387\u9ad8</p> <p></p> <p>\u9700\u8981\u4e00\u4e2a\u5faa\u73af\uff0c\u5728\u5faa\u73af\u91cc\u9762\u6267\u884c\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65\uff0c\u76f4\u5230\u5168\u90e8\u7684\u6570\u636e\u88ab\u5904\u7406\u5b8c</p>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/%E6%B0%94%E8%B1%A1%E4%B8%AD%E5%BF%83%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/9%E3%80%81%E5%BC%80%E5%8F%91%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%AD%90%E7%B3%BB%E7%BB%9F/%E5%89%8D%E8%A8%80/#_3","title":"\u7f3a\u70b9\uff1a","text":"<p>\u5206\u6279\u540c\u6b65\uff0c\u4e0d\u80fd\u591f\u540c\u6b65\u5220\u9664\u64cd\u4f5c\uff0c\u4f46\u662f\u6211\u4eec\u5728\u8bbe\u8ba1\u8868\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u907f\u514d\u5220\u9664\u64cd\u4f5c</p> <ul> <li>\u4ece\u8fdc\u7a0b\u8868\u4e2d\u67e5\u8be2\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\uff0c\u628a\u7ed3\u679c\u96c6\u5206\u6210\u82e5\u5e72\u6279\uff0c\u6bcf\u6279\u8bb0\u5f55\u6570\u572850-256\u4e4b\u95f4</li> <li>\u5220\u9664\u672c\u5730\u8868\u4e2d\u6307\u5b9a\u6279\u7684\u8bb0\u5f55</li> <li>\u628aFederated\u8868\u4e2d\u6307\u5b9a\u6279\u7684\u8bb0\u5f55\u63d2\u5165\u672c\u5730\u8868</li> </ul>"},{"location":"%E5%BC%80%E5%8F%91/CPP%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/%E9%97%AE%E9%A2%98/7-11%E6%95%B0%E6%8D%AE%E5%85%A5%E5%BA%93%E4%BC%98%E5%8C%96/","title":"7 11\u6570\u636e\u5165\u5e93\u4f18\u5316","text":"<p>\u5434\u8001\u5e08\uff0c\u6211\u60f3\u95ee\u60a8\u4e00\u4e2a\u91ca\u653e\u52a8\u6001\u5206\u914d\u5185\u5b58\u7684\u4f4d\u7f6e\u7684\u95ee\u9898   \u5728<code>_xmltodb()</code>\u8fd9\u4e2a\u51fd\u6570\u7684\u5f00\u59cb\u90e8\u5206\u91ca\u653e\u4e0a\u4e00\u6b21\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u65f6\u672a\u91ca\u653e\u7684\u52a8\u6001\u5206\u914d\u7684\u5185\u5b58\u3002  \u8fd9\u6837\u5f53\u6211\u4eec\u5c06\u6700\u540e\u4e00\u4e2axml\u6587\u4ef6\u6570\u636e\u5165\u5e93\u540e\uff0c\u4e3a\u8fd9\u6700\u540e\u4e00\u4e2aXML\u6587\u4ef6\u6240\u5206\u914d\u7684\u5185\u5b58\uff0c\u4e0d\u5c31\u6ca1\u6709\u529e\u6cd5\u8fdb\u884c\u91ca\u653e\u4e86\u5417 </p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/","title":"\u5b66\u4e60","text":"<p>\u5b66\u4e60\u7684\u77e5\u8bc6\u5206\u4e3aCPP\u3001JAVA\u3001\u524d\u7aef\u3001\u7b97\u6cd5\u7b49</p> <p>\u70b9\u51fb\u5de6\u4fa7\u6587\u7ae0\u6807\u9898\u4ee5\u67e5\u770b\u6587\u7ae0</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/Byte_bit_16%E8%BF%9B%E5%88%B6/","title":"Byte bit 16\u8fdb\u5236\u4e4b\u95f4\u7684\u5173\u7cfb","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/Byte_bit_16%E8%BF%9B%E5%88%B6/#bit","title":"bit","text":"<p>\u8ba1\u7b97\u673a\u5185\u5b58\u50a8\u548c\u5904\u7406\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u4f4d(bit\uff0c\u6bd4\u7279)\uff0c\u4e00\u4e2a\u6bd4\u7279\u503c\u53ef\u4ee5\u662f0\u62161\uff0c\u4e0d\u80fd\u518d\u5206\u5272\u3002 1bit = \u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d 01011110 = \u4e00\u4e2a8\u4f4d\u7684\u5b57\uff08\u6bd4\u7279\uff09\u8868\u793a8\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/Byte_bit_16%E8%BF%9B%E5%88%B6/#byte","title":"Byte","text":"<p>\u8868\u793a8\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e3a\u4e00\u4e2a\u5b57\u8282</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/Byte_bit_16%E8%BF%9B%E5%88%B6/#_1","title":"\u6362\u7b97\u5173\u7cfb","text":"<p>8\u4e2a\u4e8c\u8fdb\u5236\u4f4d(bit) = 1\u5b57\u8282(byte)</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/Byte_bit_16%E8%BF%9B%E5%88%B6/#16","title":"\u4e0e16\u8fdb\u5236\u7684\u5173\u7cfb","text":"<p>\u901a\u5e38\u4e00\u4e2a\u5b57\u8282 = \u4e24\u4e2a16\u8fdb\u5236\u4f4d \u8fc7\u7a0b\u89e3\u6790\uff1a1\u4e2a16\u8fdb\u5236\u6570 = 4\u4e2a\u4e8c\u8fdb\u5236\u6570\u4f4d\uff0c 2\u4e2a16\u8fdb\u5236\u6570 = 8\u4e2a\u4e8c\u8fdb\u5236\u6570\u4f4d = 1\u5b57\u8282 \u4f8b\u5982\uff1a 0x22AA_55AA \uff0c\u8868\u793a\u7684\u662f4\u5b57\u8282\uff08byte\uff09\uff0c\u5bf9\u5e94\u7684\u662f\uff1a8\u4e2a16\u8fdb\u5236\u6570</p> <p>\u4e24\u4e2a16\u8fdb\u5236\u6570 \u4e00\u4e2a\u5b57\u8282\u516b\u4e2a\u6bd4\u7279,\u5c31\u662f\u516b\u4e2a\u4e8c\u8fdb\u5236\u4f4d \u56db\u4e2a\u4e8c\u8fdb\u5236\u6570\u6700\u5927\u8868\u793a\u4e3a15,\u5c31\u662f\u4e00\u4e2a16\u8fdb\u5236\u6570,\u6240\u4ee5\u516b\u4f4d\u53ef\u4ee5\u8868\u793a\u6210\u4e24\u4e2a16\u8fdb\u5236\u7684\u6570! 0xFF -&gt; 11111111 0xF -&gt; 1111 -&gt; 8+4+2+1=15</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/gcc/","title":"gcc","text":"<p>vim a.out :%!xxd\u53ef\u4ee5\u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u8f6c\u6362\u4e3a\u53ef\u8bfb\u7684\u6587\u672c</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/gcc/#include-include","title":"#include \"\" \u548c #include &lt;&gt; \u6709\u4ec0\u4e48\u533a\u522b","text":"<p>\u4f7f\u7528<code>gcc --verbose a.c</code>\u547d\u4ee4 <code>verbose</code>\u6709\u5570\u55e6\u7684\u610f\u601d</p> <p>\u9ed8\u8ba4\u7684gcc \u914d\u7f6e\u53c2\u6570 Bash<pre><code>Configured with: ../src/configure -v --with-pkgversion='Ubuntu 9.4.0-1ubuntu1~20.04.1' --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=aarch64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-libquadmath --disable-libquadmath-support --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --enable-fix-cortex-a53-843419 --disable-werror --enable-checking=release --build=aarch64-linux-gnu --host=aarch64-linux-gnu --target=aarch64-linux-gnu\n</code></pre></p> <p>\u9ed8\u8ba4\u7684\u7f16\u8bd1\u6307\u4ee4 Bash<pre><code>/usr/lib/gcc/aarch64-linux-gnu/9/cc1 -quiet -v -imultiarch aarch64-linux-gnu a.c -quiet -dumpbase a.c -mlittle-endian -mabi=lp64 -auxbase a -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -o /tmp/ccJQ5nG1.s\n</code></pre></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528gcc -E \u6765\u67e5\u770b \u5982\u679c\u5728\u6211\u4eec\u7684C\u6587\u4ef6\u4e2d\uff0c\u53ea\u7528\u5230\u4e86printf\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u53ea\u6dfb\u52a0<code>extern int printf (const char *__restrict __format, ...);</code>\u51fd\u6570\uff0c\u800c\u4e0d\u7528\u4f7f\u7528#include  \u8fd9\u65f6\u7684gcc -E a.c\u4e3a\uff1a"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/gcc/#include","title":"include \"\" / &lt;&gt;","text":"<p>Bash<pre><code>#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /usr/lib/gcc/aarch64-linux-gnu/9/include\n /usr/local/include\n /usr/include/aarch64-linux-gnu\n /usr/include\n</code></pre> \u5982\u679c\u6211\u4eec\u628aa.c\u4e2d\u7684<code>#include \"a.inc\"</code> \u6539\u4e3a <code>#include &lt;a.inc&gt;</code> \u90a3\u4e48\u4f1a\u51fa\u9519\uff0c\u53d8\u6210\u5230\u4e0a\u9762\u5217\u51fa\u7684\u8def\u5f84\u4e2d\u67e5\u627ea.inc \u8fd9\u65f6\u9700\u8981\u6dfb\u52a0\u7f16\u8bd1\u53c2\u6570 <code>gcc a.c -I./</code> <code>-I.</code>\u7684\u610f\u601d\u662f\u5c06\u5f53\u524d\u76ee\u5f55\u6dfb\u52a0\u5230 <code>&lt;&gt;</code> \u67e5\u627e\u7684path\u4e2d \u6b64\u65f6\u7684path\u4e3a\uff1a \uff08\u5bf9\u4e86<code>.</code> \u5f53\u524d\u76ee\u5f55\uff09 Bash<pre><code>#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n .\n /usr/lib/gcc/aarch64-linux-gnu/9/include\n /usr/local/include\n /usr/include/aarch64-linux-gnu\n /usr/include\n</code></pre></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/gcc/#include_1","title":"include \u5c31\u662f\u590d\u5236\u7c98\u8d34","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/gcc/#aa-bb","title":"\u4e3a\u4ec0\u4e48 aa == bb\u5462\uff1f","text":"<p>C<pre><code>extern int printf (const char *__restrict __format, ...);\n\nint main()\n{\n#ifdef __x86_64__\n    printf(\"x86_64\\n\");\n#else\n    printf(\"aarch\\n\");\n#endif\n\n#if aa == bb\n    printf(\"Yes\\n\");\n#else\n    printf(\"No\\n\");\n#endif\n}\n</code></pre> \u56e0\u4e3a\u5b8faa \u548c bb\u672a\u88ab\u5b9a\u4e49\u3002\u6b64\u65f6\u4e3a\u7a7a == \u7a7a\u3002\u6240\u4ee5\u8f93\u51faYes</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/make_makefile_cmake_qmake/","title":"make_cmake_pmake","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/make_makefile_cmake_qmake/#gcc-make-makefile","title":"gcc make makefile","text":"<ul> <li><code>gcc</code>\u662f<code>GNU Compiler Collection</code>\uff08\u5c31\u662fGNU\u7f16\u8bd1\u5668\u5957\u4ef6\uff09\uff0c\u4e5f\u53ef\u4ee5\u7b80\u5355\u8ba4\u4e3a\u662f\u7f16\u8bd1\u5668\uff0c\u5b83\u53ef\u4ee5\u7f16\u8bd1\u5f88\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff08\u62ec<code>C\u3001C++\u3001Objective-C\u3001Fortran\u3001Java</code>\u7b49\u7b49\uff09\u3002 <p>\u5f53\u6211\u4eec\u7684\u7a0b\u5e8f\u53ea\u6709\u4e00\u4e2a\u6e90\u6587\u4ef6\u65f6\uff0c\u76f4\u63a5\u53ef\u4ee5\u7528<code>gcc</code>\u7f16\u8bd1\u5b83\u3002\u4f46\u662f\u5f53\u4f60\u7684\u7a0b\u5e8f\u5305\u542b\u5f88\u591a\u4e2a\u6e90\u6587\u4ef6\u65f6\uff0c\u7528<code>gcc</code>\u547d\u4ee4\u9010\u4e2a\u53bb\u7f16\u8bd1\u65f6\uff0c\u4f60\u5c31\u5f88\u5bb9\u6613\u6df7\u4e71\u800c\u4e14\u5de5\u4f5c\u91cf\u5927\u3002\u6240\u4ee5\u51fa\u73b0\u4e86<code>make</code>\u5de5\u5177</p> </li> <li><code>make</code>\u5de5\u5177\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u667a\u80fd\u7684\u6279\u5904\u7406\u5de5\u5177\uff0c\u5b83\u672c\u8eab\u5e76\u6ca1\u6709\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u529f\u80fd\uff0c\u800c\u662f\u7528\u7c7b\u4f3c\u4e8e\u6279\u5904\u7406\u7684\u65b9\u5f0f\u2014\u901a\u8fc7\u8c03\u7528<code>makefile</code>\u6587\u4ef6\u4e2d\u7528\u6237\u6307\u5b9a\u7684\u547d\u4ee4\u6765\u8fdb\u884c\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u3002</li> <li><code>makefile</code>\u662f\u4ec0\u4e48\uff1f\u7b80\u5355\u7684\u8bf4\u5c31\u50cf\u4e00\u9996\u6b4c\u7684\u4e50\u8c31\uff0c<code>make</code>\u5de5\u5177\u5c31\u50cf\u6307\u6325\u5bb6\uff0c\u6307\u6325\u5bb6\u6839\u636e\u4e50\u8c31\u6307\u6325\u6574\u4e2a\u4e50\u56e2\u600e\u4e48\u6837\u6f14\u594f\uff0c<code>make</code>\u5de5\u5177\u5c31\u6839\u636e<code>makefile</code>\u4e2d\u7684\u547d\u4ee4\u8fdb\u884c\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u3002<code>makefile</code>\u547d\u4ee4\u4e2d\u5c31\u5305\u542b\u4e86\u8c03\u7528<code>gcc</code>\uff08\u4e5f\u53ef\u4ee5\u662f\u522b\u7684\u7f16\u8bd1\u5668\uff09\u53bb\u7f16\u8bd1\u67d0\u4e2a\u6e90\u6587\u4ef6\u7684\u547d\u4ee4\u3002<code>makefile</code>\u5728\u4e00\u4e9b\u7b80\u5355\u7684\u5de5\u7a0b\u5b8c\u5168\u53ef\u4ee5\u4eba\u5de5\u624b\u4e0b\uff0c\u4f46\u662f\u5f53\u5de5\u7a0b\u975e\u5e38\u5927\u7684\u65f6\u5019\uff0c\u624b\u5199<code>makefile</code>\u4e5f\u662f\u975e\u5e38\u9ebb\u70e6\u7684\uff0c\u5982\u679c\u6362\u4e86\u4e2a\u5e73\u53f0<code>makefile</code>\u53c8\u8981\u91cd\u65b0\u4fee\u6539\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/make_makefile_cmake_qmake/#cmake","title":"cmake","text":"<ul> <li>\u8fd9\u65f6\u5019\u5c31\u51fa\u73b0\u4e86<code>Cmake</code>\u8fd9\u4e2a\u5de5\u5177\uff0c<code>cmake</code>\u5c31\u53ef\u4ee5\u66f4\u52a0\u7b80\u5355\u7684\u751f\u6210<code>makefile</code>\u6587\u4ef6\u7ed9\u4e0a\u9762\u90a3\u4e2a<code>make</code>\u7528\u3002\u5f53\u7136<code>cmake</code>\u8fd8\u6709\u5176\u4ed6\u529f\u80fd\uff0c\u5c31\u662f\u53ef\u4ee5\u8de8\u5e73\u53f0\u751f\u6210\u5bf9\u5e94\u5e73\u53f0\u80fd\u7528\u7684<code>makefile</code>\uff0c\u4f60\u4e0d\u7528\u518d\u81ea\u5df1\u53bb\u4fee\u6539\u4e86\u3002\u53ef\u662f<code>cmake</code>\u6839\u636e\u4ec0\u4e48\u751f\u6210<code>makefile</code>\u5462\uff1f\u5b83\u53c8\u8981\u6839\u636e\u4e00\u4e2a\u53eb<code>CMakeLists.txt</code>\u6587\u4ef6\uff08\u5b66\u540d\uff1a\u7ec4\u6001\u6863\uff09\u53bb\u751f\u6210<code>makefile</code>\u3002\u5f53\u7136\u5982\u679c\u4f60\u7528IDE\uff0c\u7c7b\u4f3cVS\u8fd9\u4e9b\u4e00\u822c\u5b83\u90fd\u80fd\u5e2e\u4f60\u5f04\u597d\u4e86\uff0c\u4f60\u53ea\u9700\u8981\u6309\u4e00\u4e0b\u90a3\u4e2a\u4e09\u89d2\u5f62\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/make_makefile_cmake_qmake/#qmake","title":"qmake","text":"<ul> <li><code>qmake</code>\u662f\u4ec0\u4e48\uff0c\u5148\u8bf4\u4e00\u4e0bQt\u8fd9\u4e2a\u4e1c\u897f\u3002Qt\u662f\u8de8\u5e73\u53f0C++\u56fe\u5f62\u7528\u6237\u754c\u9762\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u65e2\u53ef\u4ee5\u5f00\u53d1GUI\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u7528\u4e8e\u5f00\u53d1\u975eGUI\u7a0b\u5e8f\uff0c\u6bd4\u5982\u63a7\u5236\u53f0\u5de5\u5177\u548c\u670d\u52a1\u5668\u3002\u7b80\u5355\u7684\u8bf4\u5c31\u662fC++\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4f7f\u7528\u8fd9\u4e2a\u5e93\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u751f\u6210windows\uff0cLinux\uff0cMAC os\u7b49\u7b49\u5e73\u53f0\u7684\u56fe\u5f62\u754c\u9762\u3002\u73b0\u5728\u7684Qt\u8fd8\u5305\u542b\u4e86\u5f00\u53d1\u5404\u79cd\u8f6f\u4ef6\u4e00\u822c\u9700\u8981\u7528\u5230\u7684\u529f\u80fd\u6a21\u5757\uff08\u7f51\u7edc\uff0c\u6570\u636e\u5e93\uff0cXML\uff0c\u591a\u7ebf\u7a0b\u554a\u7b49\u7b49\uff09\uff0c\u6bd4\u4f60\u76f4\u63a5\u7528C++\uff08\u53ea\u5e26\u6807\u51c6\u5185\u88e4\u90a3\u79cd\uff09\u8981\u65b9\u4fbf\u548c\u7b80\u5355\u3002</li> <li>\u4f60\u53ef\u4ee5\u7528Qt\u7b80\u7b80\u5355\u5355\u5c31\u5b9e\u73b0\u975e\u5e38\u590d\u6742\u7684\u529f\u80fd\uff0c\u662f\u56e0\u4e3aQt\u5bf9C++\u8fdb\u884c\u4e86\u6269\u5c55\uff0c\u4f60\u5199\u4e00\u884c\u4ee3\u7801\uff0cQt\u5728\u80cc\u540e\u5e2e\u4f60\u5199\u4e86\u51e0\u767e\u4e0a\u5343\u884c\uff0c\u800c\u8fd9\u4e9b\u591a\u51fa\u6765\u7684\u4ee3\u7801\u5c31\u662f\u9760Qt\u4e13\u6709\u7684moc\u7f16\u8bd1\u5668\uff08The Meta-Object Compiler\uff09\u548cuic\u7f16\u8bd1\u5668\uff08User Interface Complier\uff09\u6765\u91cd\u65b0\u7ffb\u8bd1\u4f60\u90a3\u4e00\u884c\u4ee3\u7801\u3002\u95ee\u9898\u6765\u4e86\uff0c\u4f60\u5728\u8fdb\u884c\u7a0b\u5e8f\u7f16\u8bd1\u524d\u5c31\u5fc5\u987b\u5148\u8c03\u7528moc\u548cuic\u5bf9Qt\u6e90\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406\uff0c\u7136\u540e\u518d\u8c03\u7528\u7f16\u8bd1\u5668\u8fdb\u884c\u7f16\u8bd1\u3002\u4e0a\u9762\u8bf4\u7684\u90a3\u79cd\u666e\u901amakefile\u6587\u4ef6\u662f\u4e0d\u9002\u7528\u7684\uff0c\u5b83\u6ca1\u529e\u6cd5\u5bf9qt\u6e90\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406\u3002\u6240\u4ee5qmake\u5c31\u4ea7\u751f\u4e86\u3002</li> <li>qmake\u5de5\u5177\u5c31\u662fQt\u516c\u53f8\u5236\u9020\u51fa\u6765\uff0c\u7528\u6765\u751f\u6210Qt \u4e13\u7528makefile\u6587\u4ef6\uff0c\u8fd9\u79cdmakefile\u6587\u4ef6\u5c31\u80fd\u81ea\u52a8\u667a\u80fd\u8c03\u7528moc\u548cuic\u5bf9\u6e90\u7a0b\u5e8f\u8fdb\u884c\u9884\u5904\u7406\u548c\u7f16\u8bd1\u3002qmake\u5f53\u7136\u5fc5\u987b\u4e5f\u662f\u8de8\u5e73\u53f0\u7684\uff0c\u8ddfcmake\u4e00\u6837\u80fd\u5bf9\u5e94\u5404\u79cd\u5e73\u53f0\u751f\u6210\u5bf9\u5e94makefile\u6587\u4ef6\u3002</li> <li>qmake\u662f\u6839\u636eQt \u5de5\u7a0b\u6587\u4ef6\uff08.pro\uff09\u6765\u751f\u6210\u5bf9\u5e94\u7684makefile\u7684\u3002\u5de5\u7a0b\u6587\u4ef6\uff08.pro\uff09\u76f8\u5bf9\u6765\u8bf4\u6bd4\u8f83\u7b80\u5355\uff0c\u4e00\u822c\u5de5\u7a0b\u4f60\u90fd\u53ef\u4ee5\u81ea\u5df1\u624b\u5199\uff0c\u4f46\u662f\u4e00\u822c\u90fd\u662f\u7531Qt\u7684\u5f00\u53d1\u73af\u5883 Qt Creator\u81ea\u52a8\u751f\u6210\u7684\u3002</li> <li>\u8fd8\u6ca1\u6709\u5b8c\uff0c\u7531\u4e8eqmake\u5f88\u7b80\u5355\u5f88\u597d\u7528\u53c8\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u800c\u4e14\u662f\u53ef\u4ee5\u72ec\u7acb\u4e8e\u5b83\u7684IDE\uff0c\u6240\u4ee5\u4f60\u4e5f\u53ef\u4ee5\u7528\u5728\u975eQt\u5de5\u7a0b\u4e0a\u9762\uff0c\u7167\u6837\u53ef\u4ee5\u751f\u6210\u666e\u901a\u7684makefile\uff0c\u53ea\u8981\u5728pro\u6587\u4ef6\u4e2d\u52a0\u5165CONFIG -= qt \u5c31\u53ef\u4ee5\u4e86</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/make_makefile_cmake_qmake/#qmake-cmake","title":"qmake cmake \u533a\u522b","text":"<p>cmake\u4e5f\u662f\u540c\u6837\u652f\u6301Qt\u7a0b\u5e8f\u7684\uff0ccmake\u4e5f\u80fd\u751f\u6210\u9488\u5bf9qt \u7a0b\u5e8f\u7684\u90a3\u79cd\u7279\u6b8amakefile\uff0c</p> <p>\u200b \u53ea\u662fcmake\u7684CMakeLists.txt \u5199\u8d77\u6765\u76f8\u5bf9\u4e0eqmake\u7684pro\u6587\u4ef6\u590d\u6742\u70b9\u3002</p> <p>\u200b qmake \u662f\u4e3a Qt \u91cf\u8eab\u6253\u9020\u7684\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u65b9\u4fbf\uff0c\u4f46\u662fcmake\u529f\u80fd\u6bd4qmake\u5f3a\u5927\u3002</p> <p>\u200b \u4e00\u822c\u7684Qt\u5de5\u7a0b\u4f60\u5c31\u76f4\u63a5\u4f7f\u7528qmake\u5c31\u53ef\u4ee5\u4e86\uff0ccmake\u7684\u5f3a\u5927\u529f\u80fd\u4e00\u822c\u4eba\u662f\u7528\u4e0d\u5230\u7684\u3002</p> <p>\u200b \u5f53\u4f60\u7684\u5de5\u7a0b\u975e\u5e38\u5927\u7684\u65f6\u5019\uff0c\u53c8\u6709qt\u90e8\u5206\u7684\u5b50\u5de5\u7a0b\uff0c\u53c8\u6709\u5176\u4ed6\u8bed\u8a00\u7684\u90e8\u5206\u5b50\u5de5\u7a0b\uff0c\u636e\u8bf4\u7528cmake\u4f1a \u65b9\u4fbf\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E7%B1%BB%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E7%94%A8memset%E5%88%9D%E5%A7%8B%E5%8C%96/","title":"\u7c7b\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u7528memset\u521d\u59cb\u5316","text":"<p>memset \u67d0\u4e2a\u7ed3\u6784\uff08\u6216\u5176\u5b83\u7684\u6570\u636e\u7c7b\u578b\uff09\u5728C\u8bed\u8a00\u4e2d\u662f\u5f88\u5e38\u89c1\u7684\u4ee3\u7801\uff0c\u5176\u76ee\u7684\u662f\u5bf9\u7ed3\u6784\uff08\u6216\u5176\u5b83\u7684\u6570\u636e\u7c7b\u578b\uff09\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u901a\u5e38\u90fd\u662f\u5c06\u53d8\u91cf\u7f6e\u4e3aNULL\u6216\u80050\u3002\u5728C++ \u4e2d\uff0c\u9488\u5bf9\u7c7b\u5bf9\u8c61\u9664\u4e86\u7528\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5bf9\u8c61\u5916\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528memset\u6765\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\uff08\u786e\u5b9e\u6709\u8fd9\u79cd\u60c5\u51b5\uff0c\u4e0d\u5f97\u5df2\u800c\u4e3a\u4e4b\uff0c\u8bf7\u5927\u5bb6\u4e0d\u8981\u628a\u9e21\u86cb\u7838\u8fc7\u6765\uff01\uff09\u3002\u4f46\u662f \u4e00\u5b9a\u8981\u6ce8\u610f\u4ee5\u4e0b\u6240\u8bf4\u7684\u8fd9\u79cd\u60c5\u51b5\uff1a\u5982\u679c\u7c7b\u5305\u542b\u865a\u62df\u51fd\u6570\uff0c\u5219\u4e0d\u80fd\u7528 memset \u6765\u521d\u59cb\u5316\u7c7b\u5bf9\u8c61\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> C++<pre><code>class GraphicsObject\n{\nprotected:\n    char *m_pcName;\n    int    m_iId;\n    //etc\npublic:\n    virtual void Draw() {}\n    virtual int Area() {}\n    char* Name() { return m_pcName;}\n};\n\nclass Circle: public GraphicsObject\n{\n    void Draw() { /*draw something*/ }\n    int Area() { /*calculate Area*/ }\n};\n\nvoid main()\n{\n    GraphicsObject *obj = new Circle; // \u521b\u5efa\u5bf9\u8c61\n    memset((void *)obj,NULL,sizeof(Circle)); // memset to 0\n    obj-&gt;Name(); // \u975e\u865a\u51fd\u6570\u8c03\u7528\u6ca1\u95ee\u9898\n    obj-&gt;Draw(); // \u5728\u8fd9\u91cc\u6b7b\u5f97\u5f88\u96be\u770b\n}\n</code></pre> <p>\u7ed3\u679c\u6211\u5c31\u4e0d\u8bf4\u4e86\u3002\u56e0\u4e3a\u6bcf\u4e2a\u5305\u542b\u865a\u51fd\u6570\u7684\u7c7b\u5bf9\u8c61\u90fd\u6709\u4e00\u4e2a\u6307\u9488\u6307\u5411\u865a\u51fd\u6570\u8868\uff08vtbl\uff09\u3002\u8fd9\u4e2a\u6307\u9488\u88ab\u7528\u4e8e\u89e3\u51b3\u8fd0\u884c\u65f6\u4ee5\u53ca\u52a8\u6001\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u65f6\u865a\u51fd\u6570\u7684\u8c03\u7528\u95ee\u9898\u3002\u8be5 \u6307\u9488\u662f\u88ab\u9690\u85cf\u7684\uff0c\u5bf9\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u8fd9\u4e2a\u6307\u9488\u4e5f\u662f\u4e0d\u53ef\u5b58\u53d6\u7684\u3002\u5f53\u8fdb\u884cmemset\u64cd\u4f5c\u65f6\uff0c\u8fd9\u4e2a\u6307\u9488\u7684\u503c\u4e5f\u8981\u88aboverwrite\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u53ea\u8981\u4e00\u8c03\u7528\u865a\u51fd \u6570\uff0c\u7a0b\u5e8f\u4fbf\u5d29\u6e83\u3002\u8fd9\u5728\u5f88\u591a\u7531C\u8f6c\u5411C++\u7684\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u72af\u8fd9\u4e2a\u9519\u8bef\uff0c\u800c\u4e14\u8fd9\u4e2a\u9519\u8bef\u5f88\u96be\u67e5\u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bb0\u4f4f\u5bf9\u4e8e\u6709\u865a\u62df\u51fd\u6570\u7684\u7c7b\u5bf9\u8c61\uff0c\u51b3\u4e0d\u80fd\u4f7f\u7528 memset \u6765\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\u3002\u800c\u662f\u8981\u7528\u7f3a\u7701\u7684\u6784\u9020\u51fd\u6570\u6216\u5176\u5b83\u7684 init \u4f8b\u7a0b\u6765\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/","title":"\u54c8\u5e0c\u8868","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_2","title":"\u54c8\u5e0c\u8868\u67e5\u627e\u5173\u952e\u5b57\u7684\u65b9\u6cd5\u2014\u2014\u5f15\u5165\u54c8\u5e0c\u8868","text":"<p>\u7ebf\u6027\u8868\u548c\u6811\u8868\u7684\u67e5\u627e\u90fd\u662f\u901a\u8fc7\u6bd4\u8f83\u5173\u952e\u5b57\u7684\u65b9\u6cd5, \u67e5\u627e\u6548\u7387\u53d6\u51b3\u4e8e\u5173\u952e\u5b57\u7684\u6bd4\u8f83\u6b21\u6570. \u800c\u54c8\u5e0c\u8868(\u6563\u5217\u8868)\u53ef\u4ee5\u4e0d\u8fdb\u884c\u5173\u952e\u5b57\u7b14\u8bb0\u54e6, \u76f4\u63a5\u627e\u5230\u76ee\u6807.</p> <p>\u54c8\u5e0c\u8868\u662f\u6839\u636e\u5173\u952e\u5b57\u76f4\u63a5\u8fdb\u884c\u8bbf\u95ee\u7684\u6570\u636e\u7ed3\u6784. \u6563\u5217\u8868\u901a\u8fc7\u6563\u5217\u51fd\u6570\u5c06\u5173\u952e\u5b57\u6620\u5c04\u5230\u5b58\u50a8\u5730\u5740, \u5efa\u7acb\u4e86\u5173\u952e\u5b57\u548c\u5b58\u50a8\u5730\u5740\u4e4b\u95f4\u7684\u4e00\u79cd\u76f4\u63a5\u6620\u5c04\u5173\u7cfb.</p> <p>\u4f8b\u5982: \u5173\u952e\u5b57key = (17, 48, 76, 12), \u6563\u5217\u51fd\u6570H(key) = key % 5(5\u8868\u793a\u54c8\u5e0c\u8868\u8868\u957f), \u6563\u5217\u51fd\u6570\u5c06\u5173\u952e\u5b57\u7684\u6620\u5c04(key\u6309\u7167\u4f59\u6570\u7684\u5927\u5c0f)\u5b58\u50a8\u5230\u5730\u5740\u4e0b\u6807, \u5c06\u5173\u952e\u5b57\u5b58\u50a8\u5230\u6570\u7ec4\u7684\u5bf9\u5e94\u4e0b\u6807\u4f4d\u7f6e. \u8fd9\u6837, \u5728\u8fdb\u884c\u67e5\u627ekey\u7684\u4f4d\u7f6e\u65f6, \u53ea\u9700\u4f7f\u7528\u6563\u5217\u51fd\u6570\u8fdb\u884c\u53d6\u6a21\u8fd0\u7b97, \u5373\u53ef\u76f4\u63a5\u627e\u5230\u8be5key\u6240\u5bf9\u5e94\u7684\u4f4d\u7f6e</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u4f7f\u7528\u7684\u662f\u9664\u7559\u4f59\u6570\u6cd5</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#key","title":"\u54c8\u5e0c\u8868\u67e5\u627ekey\u7684\u65f6\u95f4\u590d\u6742\u5ea6","text":"<p>\u7406\u60f3\u60c5\u51b5\u4e0b, \u6563\u5217\u8868\u67e5\u627e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1). \u4f46\u662f, \u6563\u5217\u8868\u51fd\u6570\u53ef\u80fd\u4f1a\u628a\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u5173\u952e\u5b57\u6620\u5c04\u5230\u540c\u4e00\u5730\u5740, \u53d1\u751f==\u201c\u51b2\u7a81\u201d==, \u53d1\u751f\u201c\u51b2\u7a81\u201d\u7684\u4e24\u4e2a\u5173\u952e\u5b57\u88ab\u79f0\u4e3a\u201d==\u540c\u4e49\u8bcd==\u201c</p> <p>\u4f8b\u5982: 48\u548c13\u901a\u8fc7\u6563\u5217\u51fd\u6570$H(key) = key\\%5$\u8ba1\u7b97\u7684\u6620\u5c04\u5730\u5740\u90fd\u662f3, 13\u548c48\u4e3a\u201c\u540c\u4e49\u8bcd\u201d. \u56e0\u6b64, \u8bbe\u8ba1\u6563\u5217\u51fd\u6570\u65f6\u5e94\u5c3d\u91cf\u51cf\u5c11\u51b2\u7a81, \u5982\u679c\u51b2\u7a81\u65e0\u6cd5\u907f\u514d, \u5219\u9700\u8981\u8bbe\u8ba1\u5904\u7406\u51b2\u7a81\u7684\u65b9\u6cd5</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_3","title":"\u54c8\u5e0c\u51fd\u6570\u7684\u6982\u5ff5","text":"<p>\u6563\u5217\u51fd\u6570, \u53c8\u79f0\u54c8\u5e0c\u51fd\u6570, \u662f\u5c06\u5173\u952e\u5b57\u6620\u5c04\u5230\u5b58\u50a8\u5730\u5740\u7684\u51fd\u6570, \u8bb0\u4e3ahash(key) = Addr. \u8bbe\u8ba1\u6563\u5217\u51fd\u6570\u65f6\u9700\u8981\u9075\u5faa\u4ee5\u4e0b2\u4e2a\u539f\u5219:</p> <ul> <li>\u6563\u5217\u51fd\u6570\u5c3d\u53ef\u80fd\u7b80\u5355, \u80fd\u591f\u5feb\u901f\u8ba1\u7b97\u5173\u952e\u5b57\u7684\u6563\u5217\u5730\u5740.</li> <li>\u6563\u5217\u51fd\u6570\u6620\u5c04\u7684\u5730\u5740\u5e94\u5747\u5300\u5206\u5e03\u6574\u4e2a\u5730\u5740\u7a7a\u95f4, \u907f\u514d\u805a\u96c6, \u4ee5\u51cf\u5c11\u51b2\u7a81.</li> </ul> <p>\u6563\u5217\u51fd\u6570\u8bbe\u8ba1\u539f\u5219\u7684\u56db\u5b57\u7bb4\u8a00: \u7b80\u5355\u3001 \u5747\u5300</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_4","title":"\u5e38\u89c1\u7684\u6563\u5217\u51fd\u6570","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_5","title":"\u76f4\u63a5\u5b9a\u5740\u6cd5","text":"<p>\u76f4\u63a5\u53d6\u5173\u952e\u5b57\u7684\u67d0\u4e2a\u7ebf\u6027\u51fd\u6570\u4f5c\u4e3a\u6563\u5217\u51fd\u6570</p> <p>\u200b                           ==$hash(key) = a*key+b$==</p> <p>\u200b               \u5176\u4e2da\u3001b\u4e3a\u5e38\u6570</p> <p>\u9002\u7528\u573a\u666f: \u4e8b\u5148\u77e5\u9053\u5173\u952e\u5b57, \u5173\u952e\u5b57\u96c6\u5408\u4e0d\u662f\u5f88\u5927\u4e14\u8fde\u7eed\u6027\u8f83\u597d. \u5173\u952e\u5b57\u5982\u679c\u4e0d\u8fde\u7eed, \u5219\u6709\u5927\u91cf\u7a7a\u4f4d, \u9020\u6210\u7a7a\u95f4\u6d6a\u8d39.</p> <ul> <li>\u5b66\u751f\u7684\u6210\u7ee9\u5c31\u53ef\u4ee5\u7528\u76f4\u63a5\u5b9a\u5740\u6cd5\u6765\u505a</li> </ul> <p>\u901a\u8fc7\u7ed8\u5236\u76f4\u63a5\u5b9a\u5740\u6cd5\u7684\u6563\u5217\u51fd\u6570\u7684\u51fd\u6570\u56fe\u50cf\u53ef\u4ee5\u53d1\u73b0, \u662f\u4e00\u4e2a\u5355\u8c03\u589e\\\u51cf\u7684\u4e00\u5143\u4e00\u6b21\u51fd\u6570, \u82e5\u5173\u952e\u5b57\u96c6\u5408\u7684\u6570\u636e\u5f88\u5927\u6216\u8005\u8fde\u7eed\u6027\u4e0d\u597d, \u5219\u9700\u8981\u5efa\u7acb\u7684\u6563\u5217\u8868\u7684\u957f\u5ea6\u4e5f\u9700\u8981\u5f88\u957f, \u8fdb\u800c\u9020\u6210\u4e86\u7a7a\u95f4\u4e0a\u7684\u6d6a\u8d39.</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_6","title":"\u9664\u7559\u4f59\u6570\u6cd5","text":"<p>\u9664\u7559\u4f59\u6570\u6cd5\u662f\u4e00\u79cd\u6700\u7b80\u5355\u548c\u5e38\u7528\u7684\u6784\u9020\u6563\u5217\u51fd\u6570\u7684\u65b9\u6cd5, \u5e76\u4e14\u4e0d\u9700\u8981\u4e8b\u5148\u77e5\u9053\u5173\u952e\u5b57\u7684\u5206\u5e03. \u5047\u5b9a\u6563\u5217\u8868\u7684\u8868\u957f\u4e3am, \u53d6\u4e00\u4e2a\u4e0d\u5927\u4e8e\u8868\u957f\u7684\u6700\u5927\u7d20\u6570p, \u5219\u8bbe\u8ba1\u6563\u5217\u51fd\u6570\u4e3a:</p> <p>\u200b                           ==$hash(key) = key\\%p$.==</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#p","title":"\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9p\u4e3a\u6700\u5927\u7d20\u6570","text":"<p>\u7d20\u6570:\u53ea\u80fd\u88ab1\u548c\u81ea\u8eab\u6574\u9664\u7684\u6570</p> <p>\u56e0\u4e3a\u7d20\u6570\u4f1a\u4f7f\u201c\u51b2\u7a81\u201d\u51fa\u73b0\u7684\u6982\u7387\u51cf\u5c0f. ==\u6682\u65f6\u672a\u7406\u89e3==</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#p_1","title":"\u4e3a\u4ec0\u4e48p\u8981\u4e0d\u5927\u4e8e\u8868\u957f","text":"<p>\u5982\u679cp\u5927\u4e8e\u8868\u957f, \u90a3\u4e48\u7ecf\u8fc7\u6563\u5217\u51fd\u6570\u8fdb\u884c\u6620\u5c04\u540e\u7684\u5173\u952e\u5b57\u53ef\u80fd\u4f1a\u5b58\u50a8\u5230\u8d85\u51fa\u8868\u957f\u8303\u56f4\u7684\u5730\u65b9, \u5bfc\u81f4\u6563\u5217\u8868\u65e0\u6cd5\u5b58\u50a8\u8be5\u5173\u952e\u5b57</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_7","title":"\u51b2\u7a81\u7684\u5904\u7406\u65b9\u6cd5","text":"<p>\u65e0\u8bba\u5982\u4f55\u8bbe\u8ba1\u6563\u5217\u51fd\u6570, \u90fd\u65e0\u6cd5\u907f\u514d\u51b2\u7a81\u95ee\u9898. \u53d1\u751f\u51b2\u7a81\u65f6, \u9700\u8981\u8fdb\u884c\u51b2\u7a81\u5904\u7406. \u51b2\u7a81\u5904\u7406\u65b9\u6cd5\u5206\u4e3a3\u79cd:</p> <p>==\u5f00\u653e\u5730\u5740\u6cd5\u3001 \u94fe\u5730\u5740\u6cd5\u3001 \u5efa\u7acb\u516c\u5171\u6ea2\u51fa\u533a==</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_8","title":"\u5f00\u653e\u5730\u5740\u6cd5","text":"<p>\u5f00\u653e\u5730\u5740\u6cd5\u662f\u5728\u7ebf\u6027\u5b58\u50a8\u7a7a\u95f4\u4e0a\u7684\u89e3\u51b3\u65b9\u6848, \u79f0\u4e3a==\u95ed\u6563\u5217==. \u53d1\u751f\u51b2\u7a81\u65f6, \u91c7\u7528\u51b2\u7a81\u5904\u7406\u65b9\u6cd5\u5728\u7ebf\u6027\u5b58\u50a8\u7a7a\u95f4\u4e0a\u63a2\u6d4b\u5176\u4ed6\u4f4d\u7f6e.          hash^\u2018^(key) = (hash(key)+d~i~)%m           \u5176\u4e2d, hash(key)\u4e3a\u539f\u6563\u5217\u51fd\u6570, hash^\u2019^(key)\u4e3a\u63a2\u6d4b\u51fd\u6570, d~i~\u4e3a\u589e\u91cf\u5e8f\u5217, m\u4e3a\u8868\u957f.</p> <ul> <li>\u95ed\u6563\u5217: \u5173\u952e\u5b57\u5728\u76f8\u5e94\u4f4d\u7f6e\u4e0a\u5df2\u7ecf\u6709\u5176\u4ed6\u7684\u5173\u952e\u5b57\u5b58\u50a8\u4e86, \u90a3\u4e48\u5c31\u53bb\u627e\u6563\u5217\u8868\u5269\u4e0b\u7684\u5176\u4ed6\u7a7a\u95f4\u5b58\u50a8\u8be5\u5173\u952e\u5b57, \u800c\u4e0d\u662f\u53e6\u5916\u518d\u5f00\u8f9f\u7a7a\u95f4</li> </ul> <p>\u6839\u636e\u589e\u91cf\u5e8f\u5217d~i~\u7684\u4e0d\u540c, \u5f00\u653e\u5730\u5740\u6cd5\u53c8\u5206\u4e3a\u7ebf\u6027\u63a2\u6d4b\u3001 \u4e8c\u6b21\u63a2\u6d4b\u3001 \u968f\u673a\u63a2\u6d4b\u3001 \u518d\u6563\u5217\u6cd5.</p> <p>\u6700\u5e38\u7528\u7684\u662f\u7ebf\u6027\u63a2\u6d4b</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_9","title":"\u7ebf\u6027\u63a2\u6d4b","text":"<p>\u7ebf\u6027\u63a2\u6d4b\u6cd5\u662f\u6700\u7b80\u5355\u7684\u5f00\u653e\u5730\u5740\u6cd5, \u7ebf\u6027\u63a2\u6d4b\u7684\u589e\u91cf\u5e8f\u5217: d~i~ = 1, 2, \u2026, m-1.</p> <p></p> <ul> <li> <p>\u67e5\u627e\u6210\u529f\u7684\u5e73\u5747\u6bd4\u8f83\u6b21\u6570</p> <ul> <li>\u5047\u8bbe\u6bcf\u4e2a\u5173\u952e\u5b57\u51fa\u73b0\u6982\u7387\u76f8\u7b49</li> <li>\u6b21\u6570 = (\u5173\u952e\u5b57\u51fa\u73b0\u7684\u6982\u7387 \u2716\ufe0f \u6bcf\u4e2a\u5173\u952e\u8bcd\u7684\u6bd4\u8f83\u6b21\u6570)\u4e4b\u548c</li> </ul> </li> <li> <p>\u67e5\u627e\u5931\u8d25\u7684\u5e73\u5747\u6bd4\u8f83\u6b21\u6570</p> <ul> <li> <p>\u4ec0\u4e48\u65f6\u5019\u4f1a\u67e5\u627e\u5931\u8d25?</p> <ul> <li> <p>\u4e0a\u8ff0\u4f8b\u9898: p\u7684\u503c\u4e3a13, \u4e5f\u5c31\u662f\u8bf4\u4f1a\u6709 (0, 1, 2, \u2026, 12) 13\u79cd\u67e5\u627e\u5931\u8d25\u7684\u53ef\u80fd.</p> <p>\u5047\u8bbe\u67e5\u627e\u5173\u952e\u5b5726\u5728\u6563\u5217\u8868\u4e2d\u7684\u4f4d\u7f6e, 26%13 = 0. \u627e0\u7684\u4f4d\u7f6e(\u5b58\u653e\u4e8665), \u4e00\u76f4\u627e, \u76f4\u5230\u627e\u5230\u6563\u5217\u8868\u7684\u7a7a\u4f4d\u7f6e\u4e5f\u6ca1\u6709\u627e\u5230\u7684\u8bdd\u5c31\u7ec8\u6b62\u67e5\u627e, \u8fd9\u6837\u67e5\u627e26\u5931\u8d25, \u6b21\u6570\u4e3a<code>8</code>.</p> </li> <li> <p>\u5f53\u67e5\u627e\u5230\u6563\u5217\u8868\u7684\u7a7a\u4f4d\u7f6e, \u4ecd\u6ca1\u6709\u627e\u5230, \u90a3\u4e48\u67e5\u627e\u5931\u8d25</p> </li> </ul> </li> <li> <p>\u5c06\u6240\u6709\u5931\u8d25\u7684\u67e5\u627e\u6b21\u6570\u90fd\u5217\u51fa\u6765, \u76f8\u52a0 \u2797 13 (p\u7684\u503c) = \u67e5\u627e\u5931\u8d25\u7684\u5e73\u5747\u6bd4\u8f83\u6b21\u6570</p> </li> </ul> </li> </ul> <p></p> <p>==\u4e0d\u7406\u89e3\u7684\u5730\u65b9: \u4e3a\u4ec0\u4e48\u670913\u79cd\u5931\u8d25\u7684\u60c5\u51b5, \u5374\u8003\u8651\u8fdb\u53bb\u4e86\u5730\u5740\u4e0b\u6807\u4e3a13\u300114\u7684\u67e5\u627e\u5931\u8d25\u6b21\u6570?==</p> <p>\u6ce8\u610f: \u7ebf\u6027\u63a2\u6d4b\u6cd5\u5f88\u7b80\u5355, \u53ea\u8981\u6709\u7a7a\u95f4, \u5c31\u4e00\u5b9a\u80fd\u591f\u63a2\u6d4b\u5230\u4f4d\u7f6e. \u4f46\u662f, \u5728\u5904\u7406\u51b2\u7a81\u7684\u8fc7\u7a0b\u4e2d, \u4f1a\u51fa\u73b0\u975e\u540c\u4e49\u8bcd\u4e4b\u95f4\u5bf9\u540c\u4e00\u4e2a\u6563\u5217\u5730\u5740\u4e89\u593a\u7684\u73b0\u8c61, \u79f0\u4e3a==\u201d\u5806\u79ef\u201c==. \u5806\u79ef\u5927\u5927\u5730\u964d\u4f4e\u4e86\u67e5\u627e\u6548\u7387</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_10","title":"\u4e8c\u6b21\u63a2\u6d4b\u6cd5","text":"<p>\u4e8c\u6b21\u63a2\u6d4b\u6cd5\u91c7\u7528\u524d\u540e\u8df3\u8dc3\u5f0f\u63a2\u6d4b\u7684\u65b9\u6cd5, \u53d1\u751f\u51b2\u7a81\u65f6, \u5411\u540e1\u4f4d\u63a2\u6d4b, \u5411\u524d1\u4f4d\u63a2\u6d4b, \u5411\u540e2^2^\u4f4d\u63a2\u6d4b, \u5411\u524d2^2^\u4f4d\u63a2\u6d4b\u2026\u2026\u8df3\u8dc3\u5f0f\u63a2\u6d4b, \u907f\u514d\u5806\u79ef.</p> <p>\u4e8c\u6b21\u63a2\u6d4b\u7684\u589e\u91cf\u5e8f\u5217\u5982\u4e0b:    d~i~ = 1^2^, -1^2^, 2^2^, -2^2^, \u2026, k^2^, -k^2^ (k&lt;=m/2)</p> <p></p> <p>hash(25) = 25%13 = 12, 12\u53f7\u7a7a\u95f4\u5df2\u5b58\u50a8\u6570\u636e, \u91c7\u7528\u4e8c\u6b21\u63a2\u6d4b\u5904\u7406\u51b2\u7a81hash\u2018(key): 12\u2013&gt;13\u2013&gt;11\u2013&gt;1\u2013&gt;8\u2013&gt;6\u2013&gt;3\u2013&gt;13\u2013&gt;11\u2013&gt;7\u2013&gt;2\u2013&gt;3\u2013&gt;6\u2013&gt;1\u2013&gt;8. \u5df2\u63a2\u6d4b\u5230(m/2)^2^, \u4ecd\u7136\u6ca1\u6709\u627e\u5230\u4f4d\u7f6e, \u63a2\u6d4b\u7ed3\u675f, \u5b58\u50a8\u5931\u8d25, \u6b64\u65f6\u4ecd\u67094\u4e2a\u7a7a\u95f4, \u5374\u63a2\u6d4b\u5931\u8d25.</p> <p>\u4e8c\u6b21\u63a2\u6d4b\u8fc7\u7a0b\u4e2d\u5982\u679c\u4e8c\u6b21\u63a2\u6d4b\u5730\u5740\u4e3a\u8d1f\u503c, \u52a0\u4e0a\u8868\u957f\u5373\u53ef</p> <p>\u4f8b\u5982: \u5982\u679c\u6309\u7167\u54c8\u5e0c\u51fd\u6570: hash\u2019(key) = (hash(key) + d~i~) % m\u8ba1\u7b97\u65f6, hash(key) + d~i~\u4e3a\u8d1f\u6570, \u90a3\u4e48\u9700\u8981\u5728\u5f97\u5230hash\u2018(key)\u540e, \u518d\u5bf9hash\u2019(key)\u52a0m</p> <p>\u4e8c\u6b21\u63a2\u6d4b\u6cd5\u65f6\u8df3\u8dc3\u5f0f\u63a2\u6d4b, \u6548\u7387\u8f83\u9ad8,\u4f46\u662f\u4f1a\u51fa\u73b0\u660e\u660e\u6709\u7a7a\u95f4\u5374\u63a2\u6d4b\u4e0d\u5230\u7684\u60c5\u51b5, \u56e0\u800c\u5b58\u50a8\u5931\u8d25, \u800c\u7ebf\u6027\u63a2\u6d4b\u53ea\u8981\u6709\u7a7a\u95f4\u5c31\u4e00\u5b9a\u80fd\u591f\u63a2\u6d4b\u6210\u529f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E5%93%88%E5%B8%8C%E8%A1%A8/#_11","title":"\u94fe\u5730\u5740\u6cd5","text":"<p>\u94fe\u5730\u5740\u6cd5\u53c8\u79f0\u4e3a\u62c9\u94fe\u6cd5. \u5982\u679c\u4e0d\u540c\u5173\u952e\u5b57\u901a\u8fc7\u6563\u5217\u51fd\u6570\u6620\u5c04\u5230\u540c\u4e00\u5730\u5740, \u8fd9\u4e9b\u5173\u952e\u5b57\u4e3a\u540c\u4e49\u8bcd, \u5c06\u6240\u6709\u7684\u540c\u4e49\u8bcd\u5b58\u50a8\u5728\u4e00\u4e2a\u7ebf\u6027\u8868\u4e2d. \u67e5\u627e\u3001\u63d2\u5165\u3001\u5220\u9664\u64cd\u4f5c\u4e3b\u8981\u5728\u8fd9\u4e2a\u94fe\u8868\u4e2d\u8fdb\u884c, \u94fe\u5730\u5740\u6cd5\u9002\u7528\u4e8e\u7ecf\u5e38\u63d2\u5165\u3001\u5220\u9664\u7684\u60c5\u51b5.</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/","title":"\u6570\u636e\u7ed3\u6784\u57fa\u7840-\u6563\u5217\u8868(Hash)","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_1","title":"\u5b9e\u9a8c\u4ecb\u7ecd","text":"<p>\u6211\u4eec\u672c\u6b21\u5b9e\u9a8c\u4e3b\u8981\u76ee\u6807\u662f\u5b66\u4f1a\u6563\u5217\u8868\uff08hash \u7b97\u6cd5\uff09\u7684\u539f\u7406\u4e0e\u5b9e\u73b0\uff0c\u5b66\u4f1a\u7075\u6d3b\u7684\u8fd0\u7528\uff0c\u80fd\u591f\u4e0d\u4f9d\u8d56\u4e8e\u6a21\u677f\u6839\u636e\u9898\u76ee\u72ec\u7acb\u5199\u51fa\u5404\u7c7b\u6563\u5217\u8868\u3002\u6570\u636e\u7ed3\u6784 Hash \u5c5e\u4e8e\u67e5\u627e\u7b97\u6cd5\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u5728\u6bd4\u8d5b\u4e2d\u901a\u5e38\u4e5f\u4f1a\u5360\u636e\u4e00\u5b9a\u7684\u6bd4\u4f8b\uff0c\u76f8\u5bf9\u8f83\u96be\u4e5f\u6bd4\u8f83\u91cd\u8981\uff0c\u5927\u5bb6\u4e00\u5b9a\u8981\u8ba4\u771f\u5b66\u4e60\u54e6\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_2","title":"\u77e5\u8bc6\u70b9","text":"<ul> <li>Hash \u7684\u6982\u5ff5</li> <li>\u6784\u9020\u65b9\u6cd5</li> <li>\u51b2\u7a81\u5904\u7406</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_3","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528\u54c8\u5e0c\u8868","text":"<p>\u6211\u4eec\u4e0a\u9762\u6240\u63d0\u5230\u7684\u67e5\u627e\u7b97\u6cd5\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u5224\u65ad\u73b0\u6709\u6570\u636e\u96c6\u5408\u4e2d\u662f\u5426\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u6216\u8005\u662f\u5426\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002</p> <p>\u5176\u4e2d\u7684 Hash \u7b97\u6cd5\u5219\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5224\u65ad\u662f\u5426\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u867d\u7136\u529f\u80fd\u7b80\u5355\uff0c\u4f46\u662f\u5176 O(1) \u65f6\u95f4\u590d\u6742\u5ea6\u662f\u5177\u6709\u9ad8\u6027\u80fd\u7684\u3002\u901a\u8fc7\u5728\u8bb0\u5f55\u7684\u5b58\u50a8\u5730\u5740\u548c\u5b83\u7684\u5173\u952e\u7801\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u786e\u5b9a\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u8fd9\u6837\uff0c\u4e0d\u7ecf\u8fc7\u6bd4\u8f83\uff0c\u4e00\u6b21\u8bfb\u53d6\u5c31\u80fd\u5f97\u5230\u6240\u67e5\u5143\u7d20\u7684\u67e5\u627e\u65b9\u6cd5\u3002\u76f8\u6bd4\u666e\u901a\u7684\u67e5\u627e\u7b97\u6cd5\u6765\u8bf4\uff0c\u4ec5\u4ec5\u5728\u6bd4\u8f83\u7684\u73af\u8282\uff0c\u5c31\u4f1a\u5927\u5927\u51cf\u5c11\u67e5\u627e\u6216\u6620\u5c04\u6240\u9700\u8981\u7684\u65f6\u95f4\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_4","title":"\u4ec0\u4e48\u662f\u54c8\u5e0c\u8868\uff08\u6563\u5217\u8868\uff09","text":"<p>\u6211\u4eec\u91c7\u7528\u6563\u5217\u6280\u672f\u5c06\u8bb0\u5f55\u5b58\u50a8\u5728\u4e00\u5757\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4\u4e2d\uff0c\u8fd9\u5757\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4\u5373\u79f0\u4e3a\u6563\u5217\u8868\u3002\u4e0b\u9762\u7528\u4e00\u5f20\u56fe\u7ed9\u5927\u5bb6\u5c55\u793a\u4e00\u4e0b\u6563\u5217\u8868\u7684\u5b9e\u73b0\u8fc7\u7a0b\uff1a</p> <p></p> <p>\u5982\u679c\u8fd8\u662f\u4e0d\u592a\u660e\u767d\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u6570\u5b66\u51fd\u6570\uff0cY=F(X)\uff0cX \u4e3a\u81ea\u53d8\u91cf\u4e5f\u5c31\u662f\u8fd9\u91cc\u7684 Key, F( ) \u5bf9\u5e94\u56fe\u4e2d\u7684 H( )\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u6620\u5c04\u5173\u7cfb\uff0cY \u56e0\u53d8\u91cf\u4e5f\u5c31\u662f\u5bf9\u5e94\u7684\u503c\u7684 \u5b58\u653e\u4f4d\u7f6e\uff0c\u6b64\u5904\u4e00\u5b9a\u8981\u6ce8\u610f\u54e6\u3002</p> <p>\u6b64\u5904\u8ba9\u6211\u4eec\u601d\u8003\u4e00\u4e0b\uff1a</p> <ul> <li> <p>\u6563\u5217\u6280\u672f\u4ec5\u4ec5\u662f\u4e00\u79cd\u67e5\u627e\u6280\u672f\u5417\uff1f</p> <p>\u5e94\u8be5\u8bf4\uff0c\u6563\u5217\u65e2\u662f\u4e00\u79cd\u67e5\u627e\u6280\u672f\uff0c\u4e5f\u662f\u4e00\u79cd\u5b58\u50a8\u6280\u672f\u3002</p> </li> <li> <p>\u6563\u5217\u662f\u4e00\u79cd\u5b8c\u6574\u7684\u5b58\u50a8\u7ed3\u6784\u5417\uff1f</p> <p>\u6563\u5217\u53ea\u662f\u901a\u8fc7\u8bb0\u5f55\u7684\u5173\u952e\u7801\u5b9a\u4f4d\u8be5\u8bb0\u5f55\uff0c\u6ca1\u6709\u5b8c\u6574\u5730\u8868\u8fbe\u8bb0\u5f55\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb\uff0c\u5373\u901a\u8fc7\u5173\u952e\u7801\u80fd\u63a8\u51fa Key \u503c\uff0c\u4f46\u662f\u901a\u8fc7\u5173\u952e\u7801\u5bf9\u5e94\u7684\u503c\uff08\u5373\u4f4d\u7f6e\u5904\u7684\u503c\uff09\u4e0d\u80fd\u63a8\u51fa\u5173\u952e\u7801\uff0c\u6240\u4ee5\u6563\u5217\u5b58\u50a8\u7684\u5173\u952e\u7801\u548c\u503c\u4e4b\u95f4\u5e76\u4e0d\u5bf9\u79f0\uff0c\u56e0\u6b64\u6563\u5217\u4e3b\u8981\u662f\u9762\u5411\u67e5\u627e\u7684\u5b58\u50a8\u7ed3\u6784\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_5","title":"\u6563\u5217\u8868\u7684\u521d\u4f53\u9a8c","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u4ecb\u7ecd\uff0c\u5927\u5bb6\u5df2\u7ecf\u57fa\u672c\u4e86\u89e3\u4e86\u6563\u5217\u8868\u7684\u539f\u7406\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u5b66\u4e60\u4e00\u4e0b\u5173\u4e8e\u6563\u5217\u8868\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u4e0b\u9762\u6211\u4eec\u7528\u4e00\u4e2a\u9898\u76ee\u6765\u5f15\u5165\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_6","title":"\u5f17\u91cc\u7684\u8bed\u8a00","text":"<p>\u5c0f\u53d1\u660e\u5bb6\u5f17\u91cc\u60f3\u521b\u9020\u4e00\u79cd\u65b0\u7684\u8bed\u8a00\uff0c\u4f17\u6240\u5468\u77e5\uff0c\u53d1\u660e\u4e00\u95e8\u8bed\u8a00\u662f\u975e\u5e38\u56f0\u96be\u7684\uff0c\u9996\u5148\u4f60\u5c31\u8981\u514b\u670d\u4e00\u4e2a\u56f0\u96be\u5c31\u662f\uff0c\u6709\u5927\u91cf\u7684\u5355\u8bcd\u9700\u8981\u5904\u7406\uff0c\u73b0\u5728\u5f17\u91cc\u6c42\u52a9\u4f60\u5e2e\u4ed6\u5199\u4e00\u6b3e\u7a0b\u5e8f\uff0c\u5224\u65ad\u662f\u5426\u51fa\u73b0\u91cd\u590d\u7684\u4e24\u4e2a\u5355\u8bcd\u3002</p> <p>\u8981\u6c42\uff1a\u6709\u91cd\u590d\u7684\u5355\u8bcd\uff0c\u5c31\u8f93\u51fa\u91cd\u590d\u5355\u8bcd\uff0c\u6ca1\u6709\u91cd\u590d\u5355\u8bcd\uff0c\u5c31\u8f93\u51fa NO\uff0c\u591a\u4e2a\u91cd\u590d\u5355\u8bcd\u8f93\u51fa\u6700\u5148\u51fa\u73b0\u7684\u3002</p> <p>\u8f93\u5165\u8f93\u51fa\u5982\u4e0b\u9762\u793a\u4f8b\u6240\u793a\uff1a</p> <p>\u9996\u5148\u8f93\u5165\uff1a</p> Text Only<pre><code>\u7b2c 1 \u884c\uff0c\u8f93\u5165 N\uff0c\u4ee3\u8868\u5171\u8ba1\u521b\u9020\u4e86\u591a\u5c11\u4e2a\u5355\u8bcd \u7b2c 2 \u884c\u81f3\u7b2c N+1 \u884c\uff0c\u8f93\u5165 N \u4e2a\u5355\u8bcd \u683c\u5f0f\u5982\u4e0b\uff1a     fjsdfgdfsg  fdfsgsdfg  bcvxbxfyres  \n</code></pre> <p>\u73b0\u5728\u6709\u4ee5\u4e0b\u6837\u4f8b\u8f93\u5165\u3002</p> <p>\u6837\u4f8b 1\uff1a</p> Text Only<pre><code>\u8f93\u5165\uff1a 6 1fagas  dsafa32j lkiuopybncv hfgdjytr cncxfg sdhrest \u8f93\u51fa\uff1a NO \n</code></pre> <p>\u6837\u4f8b 2\uff1a</p> Text Only<pre><code>\u8f93\u5165\uff1a 5 sdfggfds fgsdhsdf dsfhsdhr sdfhdfh sdfggfds  \u8f93\u51fa\uff1a sdfggfds \n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\u89e3\u9898\u601d\u8def\uff0c\u8bf7\u5927\u5bb6\u8ddf\u7740\u4e0b\u9762\u7684\u601d\u8def\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\uff0c\u7136\u540e\u518d\u5bf9\u6bd4\u540e\u9762\u7ed9\u51fa\u7684\u7b54\u6848\u3002</p> <p>\u7b2c\u4e00\u6b65\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u6563\u5217\u8868\u548c\u4e00\u4e2a\u516c\u5171\u6ea2\u51fa\u533a\u3002</p> Text Only<pre><code>\u6563\u5217\u8868 \u516c\u5171\u6ea2\u51fa\u533a \n</code></pre> <p>\u5373\u4f7f\u4f60\u73b0\u5728\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f\u6563\u5217\u8868\u548c\u6ea2\u51fa\u533a\uff0c\u6ca1\u5173\u7cfb\uff01\u6211\u4eec\u540e\u8fb9\u4f1a\u505a\u8be6\u7ec6\u7684\u8bb2\u89e3\u3002</p> <p>\u7b2c\u4e8c\u6b65\uff0c\u9700\u8981\u5b9a\u4e49\u63d2\u5165\u6563\u5217\u8868\u51fd\u6570\u3002</p> <ul> <li>\u6309\u7167\u6563\u5217\u8868\u7684\u6620\u5c04\u65b9\u5f0f\u8bbe\u8ba1\u5373\u53ef</li> <li>\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\u6765\u8868\u793a\u653e\u4ec0\u4e48\u6570\u636e</li> </ul> Text Only<pre><code>in(Name) {    1. \u65e0\u51b2\u7a81    2. \u51b2\u7a81\u5904\u7406 } \n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5b9a\u4e49\u67e5\u8be2\u51fd\u6570\u3002</p> Text Only<pre><code>isAt() {    1. \u5982\u679c\u6563\u5217\u8868\u67e5\u8be2\u6210\u529f\u8fd4\u56de True    2. \u4e0d\u4e3a\u6210\u529f\u8fd4\u56de False } \n</code></pre> <p>4. \u7b2c\u56db\u6b65\uff0c\u5b9a\u4e49\u6563\u5217\u8868\u6620\u5c04\u51fd\u6570\u3002</p> <p>\u6b64\u5904\u6211\u4eec\u91c7\u7528\u9664\u7559\u4f59\u6570\u6cd5\u5373\u53ef\uff0c\u4e0d\u4e86\u89e3\u8fd9\u4e2a\u65b9\u6cd5\u7684\u540c\u5b66\u522b\u62c5\u5fc3\uff0c\u540e\u9762\u5728\u5199\u89e3\u9898\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u6211\u4f1a\u5177\u4f53\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u3002</p> Text Only<pre><code>int out(string s) {     \u5904\u7406\u5b57\u7b26\u4e32 s \u751f\u6210\u5bf9\u5e94\u7684 Key \u503c } \n</code></pre> <p>\u7b2c\u4e94\u6b65\uff0c\u7f16\u5199\u4e3b\u51fd\u6570\u4ee3\u7801\u3002</p> Text Only<pre><code>    \u8f93\u5165 N     \u5faa\u73af N \u6b21://            \u8f93\u5165 word\uff1b                 \u5148\u67e5\u8be2\uff0c\u6709\u76f8\u540c\u7684\u5355\u8bcd\u6709\u5c31\u8bbe\u7f6e flag \u4e3a 1\uff0cans = word        \u6ca1\u6709\u7684\u8bdd\uff0c\u5c31\u6267\u884c\u63d2\u5165\u64cd\u4f5c        \u6839\u636e flag \u51b3\u5b9a\u8f93\u51fa\u4ec0\u4e48\u3002 \n</code></pre> <p>\u5927\u81f4\u7684\u4ee3\u7801\u903b\u8f91\u5c31\u662f\u8fd9\u6837\uff0c\u76f8\u4fe1\u5927\u5bb6\u5df2\u7ecf\u90fd\u5b66\u4f1a\u4e86\u3002\u53ef\u80fd\u6709\u7684\u5c0f\u4f19\u4f34\u5df2\u7ecf\u5728\u5600\u5495\u4e86\u201c\u8fd9\u6709\u4ec0\u4e48\u96be\u7684\u201d\uff0c\u5148\u522b\u6025\uff0c\u54b1\u4eec\u7ee7\u7eed\u5f80\u4e0b\u770b\u3002</p> <p>\u8fd9\u9053\u9898\u7684\u4ee3\u7801\u601d\u8def\u5176\u5b9e\u5e76\u4e0d\u96be\uff0c\u4f46\u662f\u4ee3\u7801\u5e94\u8be5\u5982\u4f55\u6765\u5199\u5462\uff0c\u5927\u5bb6\u662f\u5426\u8fd8\u6478\u4e0d\u7740\u5934\u8111\uff1f\u5728\u6bd4\u8d5b\u4e2d\u6211\u4eec\u4e3a\u4e86\u8ffd\u6c42\u9ad8\u6548\u7387\uff0c\u5fc5\u987b\u719f\u77e5\u54b1\u4eec\u6240\u4f7f\u7528\u5230\u7684\u6bcf\u4e00\u4e2a\u51fd\u6570\u7684\u4f18\u7f3a\u70b9\uff0c\u505a\u5230\u201c\u626c\u957f\u907f\u77ed\u201d\uff0c\u6240\u4ee5\u5728\u5199\u4ee3\u7801\u524d\uff0c\u6211\u4eec\u5148\u6765\u804a\u804a\u6563\u5217\u8868\u7684\u4f18\u7f3a\u70b9\u3002\u524d\u9762\u54b1\u4eec\u5df2\u7ecf\u4e86\u89e3\u5230\u4e86\uff0c\u6563\u5217\u8868\u5177\u6709\u9ad8\u6027\u80fd\uff0c\u67e5\u627e\u6548\u7387\u9ad8\u7b49\u4f18\u70b9\uff0c\u4e0b\u9762\u5c31\u4e3b\u8981\u4e86\u89e3\u4e00\u4e0b\u5b83\u7684\u7f3a\u9677\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_7","title":"\u6563\u5217\u8868\u7684\u7f3a\u9677","text":"<p>\u6563\u5217\u8868\u5e76\u4e0d\u662f\u9002\u7528\u4e8e\u6240\u6709\u7684\u9700\u6c42\u573a\u666f\uff0c\u90a3\u4e48\u54ea\u4e9b\u60c5\u51b5\u4e0b\u4e0d\u9002\u5408\u4f7f\u7528\u5462\uff1f</p> <ol> <li> <p>\u6563\u5217\u6280\u672f\u4e00\u822c\u4e0d\u9002\u5408\u5728\u5141\u8bb8\u591a\u4e2a\u8bb0\u5f55\u6709\u540c\u6837\u5173\u952e\u7801\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u3002</p> <p>\u56e0\u4e3a\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u901a\u5e38\u4f1a\u6709\u51b2\u7a81\u5b58\u5728\uff0c\u5c06\u4f1a\u964d\u4f4e\u67e5\u627e\u6548\u7387\uff0c\u4f53\u73b0\u4e0d\u51fa\u6563\u5217\u8868\u67e5\u627e\u6548\u7387\u9ad8\u7684\u4f18\u70b9\u3002</p> <p>\u5e76\u4e14\u5982\u679c\u4e00\u5b9a\u8981\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u8bdd\uff0c\u8fd8\u9700\u8981\u60f3\u529e\u6cd5\u6d88\u9664\u51b2\u7a81\uff0c\u8fd9\u5c06\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\uff0c\u90a3\u4e48\u5c31\u5931\u53bb\u4e86 O(1) \u65f6\u95f4\u590d\u6742\u5ea6\u7684\u4f18\u52bf\uff0c\u6240\u4ee5\u5728\u5b58\u5728\u5927\u91cf\u7684\u51b2\u7a81\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u8981\u5f03\u7528\u6563\u5217\u8868\u3002</p> </li> <li> <p>\u6563\u5217\u65b9\u6cd5\u4e5f\u4e0d\u9002\u7528\u4e8e\u8303\u56f4\u67e5\u627e\uff0c\u6bd4\u5982\u4ee5\u4e0b\u4e24\u4e2a\u60c5\u51b5\u3002</p> </li> <li> <p>\u67e5\u627e\u6700\u5927\u503c\u6216\u8005\u6700\u5c0f\u503c</p> <p>\u56e0\u4e3a\u6563\u5217\u8868\u7684\u503c\u662f\u7c7b\u4f3c\u51fd\u6570\u7684\uff0c\u6620\u5c04\u51fd\u6570\u4e00\u4e2a\u53d8\u91cf\u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a\u503c\uff0c\u4e0d\u77e5\u9053\u5176\u4ed6\u503c\uff0c\u4e5f\u4e0d\u80fd\u67e5\u627e\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\uff0cRMQ(\u533a\u95f4\u6700\u503c\u95ee\u9898\uff09\u53ef\u4ee5\u91c7\u7528 ST \u7b97\u6cd5\u3001\u6811\u72b6\u6570\u7ec4\u548c\u7ebf\u6bb5\u6811\u89e3\u51b3\u3002</p> </li> <li> <p>\u4e5f\u4e0d\u53ef\u80fd\u627e\u5230\u5728\u67d0\u4e00\u8303\u56f4\u5185\u7684\u8bb0\u5f55</p> <p>\u6bd4\u5982\u67e5\u627e\u5c0f\u4e8e N \u7684\u6570\u6709\u591a\u5c11\u4e2a\uff0c\u662f\u4e0d\u80fd\u5b9e\u73b0\u7684\uff0c\u539f\u56e0\u4e5f\u662f\u6620\u5c04\u51fd\u6570\u4e00\u4e2a\u53d8\u91cf\u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a\u503c\uff0c\u4e0d\u77e5\u9053\u5176\u4ed6\u503c\u3002</p> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_8","title":"\u6563\u5217\u6280\u672f\u7684\u5173\u952e\u95ee\u9898","text":"<p>\u5728\u4f7f\u7528\u6563\u5217\u8868\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6709\u4e24\u4e2a\u5173\u952e\u7684\u6280\u672f\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff1a</p> <ol> <li>\u6563\u5217\u51fd\u6570\u7684\u8bbe\u8ba1\uff0c\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u7b80\u5355\u3001\u5747\u5300\u3001\u5b58\u50a8\u5229\u7528\u7387\u9ad8\u7684\u6563\u5217\u51fd\u6570\uff1f</li> <li>\u51b2\u7a81\u7684\u5904\u7406\uff0c\u5982\u4f55\u91c7\u53d6\u5408\u9002\u7684\u5904\u7406\u51b2\u7a81\u65b9\u6cd5\u6765\u89e3\u51b3\u51b2\u7a81\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_9","title":"\u5982\u4f55\u8bbe\u8ba1\u5b9e\u73b0\u6563\u5217\u51fd\u6570","text":"<p>\u5728\u6784\u5efa\u6563\u5217\u51fd\u6570\u65f6\uff0c\u6211\u4eec\u9700\u8981\u79c9\u6301\u4e24\u4e2a\u539f\u5219\uff1a</p> <ol> <li>\u7b80\u5355<ul> <li>\u6563\u5217\u51fd\u6570\u4e0d\u5e94\u8be5\u6709\u5f88\u5927\u7684\u8ba1\u7b97\u91cf\uff0c\u5426\u5219\u4f1a\u964d\u4f4e\u67e5\u627e\u6548\u7387\u3002</li> </ul> </li> <li>\u5747\u5300\uff1a<ul> <li>\u51fd\u6570\u503c\u8981\u5c3d\u91cf\u5747\u5300\u6563\u5e03\u5728\u5730\u5740\u7a7a\u95f4\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u5b58\u50a8\u7a7a\u95f4\u7684\u6709\u6548\u5229\u7528\u5e76\u51cf\u5c11\u51b2\u7a81\u3002</li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_10","title":"\u6563\u5217\u51fd\u6570\u5b9e\u73b0\u4e09\u79cd\u65b9\u6cd5","text":"<p>1. \u76f4\u63a5\u5b9a\u5740\u6cd5\u3002</p> <p>\u6563\u5217\u51fd\u6570\u662f\u5173\u952e\u7801\uff08Key\uff09\u7684\u6620\u5c04\u7684\u7ebf\u6027\u51fd\u6570\uff0c\u5f62\u5982\uff1a</p> <p>H(key)=a\u2217key+bH(key)=a\u2217key+b</p> <p>\u6765\u770b\u4e00\u4e2a\u5c0f\u6848\u4f8b\uff1a</p> <p>\u5982\u679c\u5173\u952e\u7801\u7684\u96c6\u5408\u5df2\u77e5\u4e14\u4e3a [11,22,33,66,88,44,99]</p> <p>H(key)=111\u2217key+0H(key)=111\u2217key+0</p> <p>\u5982\u56fe\uff1a</p> <p></p> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u6211\u4eec\u662f\u770b\u5230\u4e86\u8fd9\u4e2a\u96c6\u5408\uff0c\u7136\u540e\u60f3\u5230\u4ed6\u4eec\u90fd\u662f 11 \u7684\u500d\u6570\u624d\u60f3\u5230\u8fd9 Hash \u51fd\u6570\u3002\u6211\u4eec\u5728\u5e73\u5e38\u7684\u4f7f\u7528\u4e2d\u4e00\u822c\u4e0d\u4f1a\u63d0\u524d\u77e5\u9053 Key \u503c\u96c6\u5408\uff0c\u6240\u4ee5\u4f7f\u7528\u8f83\u5c11\u3002</li> </ul> <p>\u9002\u7528\u8303\u56f4\uff1a</p> <ul> <li>\u4e8b\u5148\u77e5\u9053\u5173\u952e\u7801\uff0c\u5173\u952e\u7801\u96c6\u5408\u4e0d\u5927\u4e14\u8f83\u4e3a\u8fde\u7eed\u800c\u4e0d\u79bb\u6563\u3002</li> </ul> <p>2. \u9664\u7559\u4f59\u6570\u6cd5\u3002</p> <p>H(key)=key mod pH(key)=key mod p</p> <p>\u6765\u4e2a\u5c0f\u4f8b\u5b50\uff1a</p> <p>H(key)=key mod 21H(key)=key mod 21</p> <p></p> <p>\u4f1a\u53d1\u73b0\u4ea7\u751f\u4e86\u5f88\u591a\u76f8\u540c\u7684 H(K)\uff0c\u8fd9\u5c31\u662f\u53d1\u751f\u51b2\u7a81\uff0c\u56e0\u4e3a\u4e00\u4e2a\u4f4d\u7f6e\u53ea\u80fd\u653e\u4e00\u4e2a\u6570\uff0c\u6709\u4e24\u4e2a\u503c\u5bf9\u5e94\u8fd9\u91cc\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u662f\u4e0d\u53ef\u4ee5\u7684\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u662f\u6700\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5173\u952e\u5728\u4e8e\u5982\u4f55\u9009\u53d6 P\uff0c\u4f7f\u5f97\u5229\u7528\u7387\u8f83\u9ad8\u5e76\u4e14\u51b2\u7a81\u7387\u8f83\u4f4e\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f1a\u9009\u53d6\u6700\u63a5\u8fd1\u8868\u957f\u4e14\u5c0f\u4e8e\u7b49\u4e8e\u8868\u957f\u7684\u6700\u5927\u7d20\u6570\u3002</p> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>P \u9009\u53d6\u4e0d\u5f53\uff0c\u4f1a\u5bfc\u81f4\u51b2\u7a81\u7387\u4e0a\u5347\u3002</li> </ul> <p>\u9002\u7528\u8303\u56f4\uff1a</p> <ul> <li>\u9664\u7559\u4f59\u6570\u6cd5\u662f\u4e00\u79cd\u6700\u7b80\u5355\u3001\u4e5f\u662f\u6700\u5e38\u7528\u7684\u6784\u9020\u6563\u5217\u51fd\u6570\u7684\u65b9\u6cd5\uff0c\u5e76\u4e14\u4e0d\u8981\u6c42\u4e8b\u5148\u77e5\u9053\u5173\u952e\u7801\u7684\u5206\u5e03\u3002</li> </ul> <p>\u8fd9\u4e2a\u65b9\u6cd5\u975e\u5e38\u5e38\u7528\uff0c\u6211\u4eec\u540e\u9762\u9898\u76ee\u7684\u5c55\u5f00\u5c31\u662f\u4f7f\u7528\u7684\u8fd9\u4e2a\u65b9\u6cd5\u3002\u5728\u5927\u90e8\u5206\u7684\u7b97\u6cd5\u5b9e\u73b0\u4e2d\u4e5f\u90fd\u662f\u9009\u53d6\u7684\u8fd9\u4e00\u79cd\u65b9\u5f0f\u3002</p> <p>\u4ee3\u7801\u5b9e\u73b0\uff1a</p> Text Only<pre><code>C++    const int MOD=P;     int Hx(int n)    {        return n%MOD;    } Java            final Integer MOD=P;     Integer Hx(int n)    {        return n%MOD;    }  python      MOD=P #\u7531\u4e8ePython\u4e0d\u542b\u5e38\u91cf\uff0c\u6211\u4eec\u8fd9\u91cc\u5c31\u4e0d\u505a\u4fee\u9970     Hx(n):        global MOD        return n%MOD \n</code></pre> <p></p> <p>3. \u6570\u5b57\u5206\u6790\u6cd5\u3002</p> <p>\u6bd4\u5982\u6211\u5c06\u6211\u7684\u96c6\u5408\u5168\u90e8\u8f6c\u5316\u4e3a 16 \u8fdb\u5236\u6570\uff0c\u6839\u636e\u5173\u952e\u7801\u5728\u5404\u4e2a\u4f4d\u4e0a\u7684\u5206\u5e03\u60c5\u51b5\uff0c\u9009\u53d6\u5206\u5e03\u6bd4\u8f83\u5747\u5300\u7684\u82e5\u5e72\u4f4d\u7ec4\u6210\u6563\u5217\u5730\u5740\u3002\u6216\u8005\u5c06 N \u4f4d 10 \u8fdb\u5236\u6570\uff0c\u89c2\u5bdf\u5404\u5404\u4f4d\u7684\u6570\u5b57\u5206\u5e03\uff0c\u9009\u53d6\u5206\u5e03\u5747\u5300\u7684\u6563\u5217\u5730\u5740\u3002</p> <p>\u4e3e\u4e2a\u5c0f\u4f8b\u5b50\uff1a</p> <p></p> <p>\u9996\u5148\u6211\u4eec\u8003\u8651\u4e00\u4f4d\u4f5c\u4e3a\u6563\u5217\u51fd\u6570\uff0c\u53d1\u73b0\u90fd\u662f\u5f88\u591a\u51b2\u7a81\uff0c\u9009\u53d6\u4e24\u4f4d\u65f6\uff0c\u767e\u4f4d\u548c\u5341\u4f4d\u7ec4\u5408\u6700\u9002\u5b9c\uff0c\u5206\u5e03\u5747\u5300\u4e14\u6ca1\u6709\u51b2\u7a81\u3002</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u8bf4\u7684\u662f\u8fd9\u4e00\u65b9\u6cd5\u7684\u4e00\u4e2a\u5177\u4f53\u5b9e\u5217\uff0c\u65e2\u7136\u53eb\u505a\u6570\u5b57\u5206\u6790\u6cd5\uff0c\u90a3\u4e48\u53ea\u6709\u5bf9\u4e8e\u4e0d\u540c\u6570\u636e\u7684\u4e0d\u540c\u5206\u6790\uff0c\u624d\u80fd\u5199\u51fa\u66f4\u662f\u9002\u914d\u7684 H(x)\u3002</p> <p>\u53e6\u5916\u8fd8\u6709\u4e24\u79cd\u5e73\u65f6\u4f7f\u7528\u6781\u5c11\u7684\u65b9\u6cd5\uff0c\u5206\u522b\u662f\u5e73\u65b9\u53d6\u4e2d\u6cd5\u548c\u6298\u53e0\u6cd5\uff0c\u6211\u4eec\u5c31\u4e0d\u518d\u505a\u8fc7\u591a\u7684\u8bb2\u89e3\uff0c\u611f\u5174\u8da3\u7684\u5c0f\u4f19\u4f34\u53ef\u4ee5\u5728\u7f51\u4e0a\u81ea\u884c\u67e5\u627e\u76f8\u5173\u7684\u8d44\u6599\u4e86\u89e3\u54e6\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_11","title":"\u51b2\u7a81\u7684\u5904\u7406\u65b9\u6cd5","text":"<ol> <li> <p>\u5f00\u6563\u5217\u65b9\u6cd5\uff1a</p> <p>open hashing \u4e5f\u79f0\u4e3a\u62c9\u94fe\u6cd5\uff0cseparate chaining \u79f0\u4e3a\u94fe\u5730\u5740\u6cd5\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u7531\u5173\u952e\u7801\u5f97\u5230\u7684\u6563\u5217\u5730\u5740\u4e00\u65e6\u4ea7\u751f\u4e86\u51b2\u7a81\uff0c\u5c31\u53bb\u5bfb\u627e\u4e0b\u4e00\u4e2a\u7a7a\u7684\u6563\u5217\u5730\u5740\uff0c\u5e76\u5c06\u8bb0\u5f55\u5b58\u5165\u3002</p> <p>\u5bfb\u627e\u4e0b\u4e00\u4e2a\u7a7a\u7684\u6563\u5217\u5730\u5740\u7684\u65b9\u6cd5\uff1a</p> </li> <li> <p>\u7ebf\u6027\u63a2\u6d4b\u6cd5</p> </li> </ol> <p>\u5f53\u53d1\u751f\u51b2\u7a81\u65f6\uff0c\u4ece\u51b2\u7a81\u4f4d\u7f6e\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u8d77\uff0c\u4f9d\u6b21\u5bfb\u627e\u7a7a\u7684\u6563\u5217\u5730\u5740\u3002</p> <p>\u5bf9\u4e8e\u952e\u503c key\uff0c\u8bbe H(key)=d\uff0c\u95ed\u6563\u5217\u8868\u7684\u957f\u5ea6\u4e3a m\uff0c\u5219\u53d1\u751f\u51b2\u7a81\u65f6\uff0c\u5bfb\u627e\u4e0b\u4e00\u4e2a\u6563\u5217\u5730\u5740\u7684\u516c\u5f0f\u4e3a\uff1a</p> <p>Hi=(H(key)\uff0bdi) MOD m\uff08di=1\uff0c2\uff0c...\uff0cm\u22121\uff09Hi=(H(key)\uff0bdi) MOD m\uff08di=1\uff0c2\uff0c...\uff0cm\u22121\uff09</p> <p>\u5806\u79ef\u73b0\u8c61\uff1a</p> <p>\u5728\u5904\u7406\u51b2\u7a81\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u975e\u540c\u4e49\u8bcd\u4e4b\u95f4\u5bf9\u540c\u4e00\u4e2a\u6563\u5217\u5730\u5740\u4e89\u593a\u7684\u73b0\u8c61\u3002</p> <p>\u4f8b\u5b50\uff1a</p> <p>Key \u96c6\u5408\u4e3a 47, 7, 29, 11, 27, 92, 22, 8, 3\u3002</p> <p>P \u503c\u4e3a 11\uff0c\u8fdb\u884c Hash \u6620\u5c04\uff0c\u91c7\u7528\u7ebf\u6027\u63a2\u6d4b\u6cd5\u5904\u7406\u51b2\u7a81\u3002</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <ul> <li>\u4e8c\u6b21\u63a2\u6d4b\u6cd5</li> </ul> <p>\u5373\u5f53\u53d1\u751f\u51b2\u7a81\u65f6\uff0c\u5bfb\u627e\u4e0b\u4e00\u4e2a\u6563\u5217\u5730\u5740\u7684\u516c\u5f0f\u4e3a\uff1a</p> <p>Hi=(H(key)\uff0bdi)Hi=(H(key)\uff0bdi)</p> <p>\u5176\u4e2d\uff08di=12\uff0c\uff0d12\uff0c22\uff0c\uff0d22\uff0c...\uff0cq2\uff0c\uff0dq2\u4e14q\u2264m/2\uff09\u5176\u4e2d\uff08di=12\uff0c\uff0d12\uff0c22\uff0c\uff0d22\uff0c...\uff0cq2\uff0c\uff0dq2\u4e14q\u2264m/2\uff09</p> <ul> <li> <p>\u968f\u673a\u63a2\u6d4b\u6cd5</p> <p>\u5f53\u53d1\u751f\u51b2\u7a81\u65f6\uff0c\u4e0b\u4e00\u4e2a\u6563\u5217\u5730\u5740\u7684\u4f4d\u79fb\u91cf\u662f\u4e00\u4e2a\u968f\u673a\u6570\u5217\uff0c\u5373\u5bfb\u627e\u4e0b\u4e00\u4e2a\u6563\u5217\u5730\u5740\u7684\u516c\u5f0f\u4e3a\uff1a</p> </li> </ul> <p>Hi=(H(key)+round)Hi=(H(key)+round)</p> <p>\u5176\u4e2dround\u4e3a\u968f\u673a\u6570\u5176\u4e2dround\u4e3a\u968f\u673a\u6570</p> <ul> <li>\u518d hash \u6cd5</li> </ul> <p>\u6ce8\u610f\uff1a\u7528\u5f00\u653e\u5b9a\u5740\u6cd5\u5904\u7406\u51b2\u7a81\u5f97\u5230\u7684\u6563\u5217\u8868\u53eb\u95ed\u6563\u5217\u8868\u3002</p> <ol> <li> <p>\u95ed\u6563\u5217\u65b9\u6cd5</p> <p>closed hashing \u4e5f\u79f0\u4e3a\u5f00\u5730\u5740\u65b9\u6cd5\uff0copen addressing \u5f00\u653e\u5730\u5740\u6cd5\uff0c\u5f00\u653e\u5730\u5740\u6cd5\u4e2d\u6db5\u76d6\u4e86\u4ee5\u4e0b\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1b</p> <ul> <li> <p>\u62c9\u94fe\u6cd5\uff08\u94fe\u5730\u5740\u6cd5\uff09</p> <p>\u5c06\u6240\u6709\u6563\u5217\u5730\u5740\u76f8\u540c\u7684\u8bb0\u5f55\u5373 Key \u503c\u76f8\u540c\u7684\u9879\u76ee\uff0c\u5760\u6210\u4e00\u4e2a\u94fe\u8868\uff0c\u6bcf\u4e2a\u94fe\u8868\u7684\u5934\u6307\u9488\u5b58\u653e\u4f4d\u7f6e\u4e3a Key \u503c\u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002</p> <p>\u4e3e\u4e00\u4e2a\u5c0f\u4f8b\u5b50\uff1a</p> <p></p> </li> <li> <p>\u5efa\u7acb\u516c\u5171\u6ea2\u51fa\u533a</p> <p>\u6563\u5217\u8868\u5305\u542b\u57fa\u672c\u8868\u548c\u6ea2\u51fa\u8868\u4e24\u90e8\u5206\uff08\u901a\u5e38\u6ea2\u51fa\u8868\u548c\u57fa\u672c\u8868\u7684\u5927\u5c0f\u76f8\u540c\uff09\uff0c\u5c06\u53d1\u751f\u51b2\u7a81\u7684\u8bb0\u5f55\u5b58\u50a8\u5728\u6ea2\u51fa\u8868\u4e2d\u3002</p> <p>\u67e5\u627e\u65f6\uff0c\u5982\u679c\u5728\u57fa\u672c\u8868\u91cc\u627e\u7684\u5230\u5c31\u8fd4\u56de\u6210\u529f\uff0c\u6ca1\u627e\u5230\u5c31\u5728\u6ea2\u51fa\u533a\u987a\u5e8f\u67e5\u627e\uff0c\u6ce8\u610f\u8fd9\u91cc\u4e0d\u518d\u662f\u6620\u5c04\u800c\u662f\u987a\u5e8f\u67e5\u627e\uff0c\u653e\u7f6e\u65f6\u4e5f\u662f\u6309\u7167\u987a\u5e8f\u7684\u65b9\u5f0f\u3002</p> <p></p> </li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_12","title":"\u7b97\u6cd5\u6d41\u7a0b","text":"<ol> <li>\u5047\u8bbe\u7ed9\u5b9a\u7684\u503c\u4e3a K\uff0c\u6839\u636e\u6240\u8bbe\u5b9a\u7684\u6563\u5217\u51fd\u6570 h\uff0c\u8ba1\u7b97\u51fa\u6563\u5217\u5730\u5740 h(K)\uff1b</li> <li>\u5982\u679c\u5c06\u8be5\u5730\u5740\u4e2d\u7684\u503c\u4e0e K \u6bd4\u8f83\uff0c\u82e5\u76f8\u7b49\u5219\u68c0\u7d22\u6210\u529f\uff0c\u8df3\u8f6c\u5230\u7b2c 5 \u6b65\uff1b</li> <li>\u5426\u5219\uff0c\u6309\u5efa\u8868\u65f6\u8bbe\u5b9a\u7684\u5904\u7406\u51b2\u7a81\u65b9\u6cd5\u67e5\u627e\u63a2\u67e5\u5e8f\u5217\u7684\u4e0b\u4e00\u4e2a\u5730\u5740,\u53cd\u590d\u6267\u884c\u5e76\u68c0\u67e5<ul> <li>\u5982\u679c\u67d0\u4e2a\u5730\u5740\u7a7a\u95f4\u672a\u88ab\u5360\u7528\uff08\u67e5\u627e\u4e0d\u6210\u529f\uff0c\u53ef\u4ee5\u63d2\u5165\uff09\uff0c\u8df3\u8f6c\u5230\u7b2c 5 \u6b65\uff1b</li> <li>\u5982\u679c\u5173\u952e\u7801\u6bd4\u8f83\u76f8\u7b49\uff08\u6709\u91cd\u590d\u8bb0\u5f55\uff0c\u4e0d\u9700\u8981\u63d2\u5165\uff09\u4e3a\u6b62 \uff0c\u8df3\u8f6c\u5230\u7b2c 5 \u6b65\uff1b</li> </ul> </li> <li>\u5982\u679c\u63a2\u6d4b\u5b8c\u6574\u4e2a hash \u8868\uff0c\u90fd\u6ca1\u6709\u8fdb\u884c\u63d2\u5165\u6216\u67e5\u627e\u5931\u8d25\uff0c\u8df3\u8f6c\u5230\u7b2c 5 \u6b65\uff1b</li> <li>end \u7b97\u6cd5\u7ed3\u675f\u3002</li> </ol> <p>\u867d\u7136\u5728\u89e3\u9898\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u4f9d\u636e\u8868\u957f\u8d28\u6570 h \u8bbe\u7f6e\u5f97\u5f53\uff0c\u5219\u5f88\u5c11\u4f1a\u51fa\u73b0\u51b2\u7a81\u60c5\u51b5\uff0c\u4f46\u662f\u57fa\u672c\u7684\u89e3\u51b3\u65b9\u6cd5\u6211\u4eec\u4e5f\u987b\u5f97\u638c\u63e1\uff0c\u6839\u636e\u7b14\u8005\u7684\u5b9e\u6218\u7ecf\u9a8c\u6765\u770b\uff0c\u516c\u5171\u6ea2\u51fa\u533a\u7684\u65b9\u5f0f\u66f4\u52a0\u7b80\u6d01\u9ad8\u6548\u7387\uff08\u5728\u51b2\u7a81\u6b21\u6570\u8fdc\u5c0f\u4e8e\u5143\u7d20\u6570\u91cf\u65f6\uff09\uff0c\u6240\u4ee5\u672c\u8282\u5b9e\u9a8c\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u638c\u63e1\u5982\u4f55\u8bbe\u7f6e\u516c\u5171\u6ea2\u51fa\u533a\u7684\u65b9\u6cd5\u3002</p> <p>\u81f3\u6b64\u6211\u4eec\u5df2\u7ecf\u5b66\u5b8c\u4e86\u6563\u5217\u8868\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u4e0b\u9762\u6211\u4eec\u7ed3\u5408\u5efa\u7acb\u516c\u5171\u6ea2\u51fa\u533a\u7684\u65b9\u5f0f\uff0c\u4eb2\u81ea\u52a8\u624b\u89e3\u51b3\u4e00\u4e0b\u201c\u5f17\u91cc\u7684\u8bed\u8a00\u201d\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_13","title":"\u9898\u76ee\u89e3\u6790","text":"<p>\u7b2c\u4e00\u6b65\uff0c\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u6563\u5217\u8868\u548c\u4e00\u4e2a\u516c\u5171\u6ea2\u51fa\u533a\uff1a</p> Text Only<pre><code>const long long h=1e8+7; string Value[h+5]; string UpValue[h+5]; \n</code></pre> <p></p> <p>\u7b2c\u4e8c\u6b65\uff0c\u6211\u4eec\u8981\u5b9a\u4e49\u6563\u5217\u8868\u6620\u5c04\u51fd\u6570\uff1a</p> <p>\u6211\u4eec\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cd\u5728\u7b97\u6cd5\u7ade\u8d5b\u4e2d\u7279\u522b\u5e38\u7528\u7684\u5b57\u7b26\u4e32\u6620\u5c04\u6210\u6570\u5b57\u7684\u65b9\u5f0f\u3002</p> <p>\u5b9e\u73b0\u539f\u7406\uff1a</p> <ol> <li> <p>\u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u6bcd\u90fd\u770b\u505a\u662f\u4e00\u4e2a\u6570\u5b57\uff08\u4f8b\uff1a\u4ece a-z \uff0c\u89c6\u4e3a 1-26 \uff09\uff1b</p> </li> <li> <p>\u9009\u53d6\u4e24\u4e2a\u5408\u9002\u7684\u4e92\u8d28\u5e38\u6570 b \u548c h\uff0c\u5176\u4e2d h \u8981\u5c3d\u53ef\u80fd\u7684\u5927\u4e00\u70b9\uff0c\u4e3a\u4e86\u964d\u4f4e\u51b2\u7a81\u7684\u6982\u7387\u3002b \u5e38\u7528 131\uff0ch \u5e38\u7528 1e9+7\uff0c\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u516c\u5171\u6ea2\u51fa\u533a\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u968f\u4fbf\u627e\u4e00\u4e2a string \u6570\u7ec4\u80fd\u5f00\u51fa\u6765\u7684\u6570\u5b57\uff0c\u8fd9\u91cc\u9009\u53d6 999983\u3002</p> </li> <li> <p>\u5b9a\u4e49\u54c8\u5e0c\u51fd\u6570\uff1a</p> <p></p> </li> </ol> <p>\u5904\u7406\u65b9\u5f0f\uff1a</p> <ol> <li>C \u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7528 C =c1 c2 c3 c4..cm \u8868\u793a\u8be5\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d ci \u8868\u793a\u4ece\u524d\u5411\u540e\u6570\u7684\u7b2c i \u4e2a\u5b57\u7b26\uff1b</li> <li>C \u5f53\u505a b \u8fdb\u5236\u6570 \u6765\u5904\u7406\uff0cb \u662f\u57fa\u6570\uff1b</li> <li>\u5173\u4e8e\u5bf9 h \u53d6\u6a21\uff0c\u82e5 b\u3001h \u6709\u516c\u56e0\u5b50\uff0c\u90a3\u4e48\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u53d6\u4f59\u4e4b\u540e\u7684\u7ed3\u679c\u53d1\u751f\u51b2\u7a81\u7684\u51e0\u7387\u5c06\u5927\u5927\u5927\u589e\u52a0\uff08\u51b2\u7a81\uff1a\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u4f46\u4f1a\u6709\u76f8\u540c\u7684 hash \u503c\uff09\u3002</li> </ol> <p>\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p>\u73b0\u5728\u6709\u4e00\u5b57\u7b26\u4e32 S=s1s2s3s4s5s1s2s3s4s5</p> <p>hash[1]=s1hash[1]=s1</p> <p>hash[2]=s1\u2217p+s2hash[2]=s1\u2217p+s2</p> <p>hash[3]=s1\u2217p2+s2\u2217p+s3hash[3]=s1\u2217p2+s2\u2217p+s3</p> <p>hash[4]=s1\u2217p3+s2\u2217p2+s3\u2217p+s4hash[4]=s1\u2217p3+s2\u2217p2+s3\u2217p+s4</p> <p>hash[5]=s1\u2217p4+s2\u2217p3+s3\u2217p2+s4\u2217p+s5hash[5]=s1\u2217p4+s2\u2217p3+s3\u2217p2+s4\u2217p+s5</p> <p>\u6240\u4ee5 S \u7684\u54c8\u5e0c\u503c\u4e3a Hash[5]</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_14","title":"\u5b9e\u73b0","text":"Text Only<pre><code>const long long h = 999983; int Hx(string s) {     int n = s.size();    int sum1 = 0;     for (int i = 0; i &lt; n; i++)    {        sum1 = sum1 * 131 % h + (s[i] - 'a' + 1) % h;    }     return (sum1 + h) % h; } \n</code></pre> <p>\u5728\u6bd4\u8d5b\u6309\u6b64\u65b9\u6cd5\u8bbe\u8ba1 Hash \u51fd\u6570\u4e00\u822c\u4e0d\u9700\u8981\u8bbe\u7f6e\u51b2\u7a81\u7684\u516c\u5171\u6ea2\u51fa\u533a\uff0c\u8fd9\u91cc\u6211\u4eec\u4e3a\u4e86\u65b9\u4fbf\u8bb2\u89e3\uff0c\u624d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5728\u6bd4\u8d5b\u4e2d\u6211\u4eec\u4e0d\u7528\u8bbe\u7f6e\u6ea2\u51fa\u533a\uff0c\u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u5f88\u5927\u7684 h\uff0c\u907f\u514d\u51fa\u73b0\u51b2\u7a81\u3002</p> <p>\u7b2c\u4e09\u6b65\uff0c\u6211\u4eec\u5b9a\u4e49\u67e5\u8be2\u51fd\u6570\uff1a</p> <p>\u901a\u8fc7\u6563\u5217\u8868\u9876\u6307\u9488\u5927\u5c0f\u5373\u53ef\u5224\u65ad\u3002</p> Text Only<pre><code>bool isAt(string s) {    int n=Hx(s);     if(Value[n]==\"\")         return false;     else if(Value[n]==s)         return true;     else {        for(int i=0;i&lt;UpValueCount;i++)            if(UpValue[n]==s) return true;                    return false;    } } \n</code></pre> <p></p> <p>\u7b2c\u56db\u6b65\uff0c\u5b9a\u4e49\u63d2\u5165\u6563\u5217\u8868\u51fd\u6570\uff1a</p> <ol> <li>\u6309\u7167\u6563\u5217\u8868\u7684\u6620\u5c04\u65b9\u5f0f\u8bbe\u8ba1\u5373\u53ef\uff1b</li> <li>\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u53c2\u6570\u6765\u8868\u793a\u653e\u4ec0\u4e48\u6570\u636e\u3002</li> </ol> Text Only<pre><code>bool in(string s) {    int n=Hx(s);    if(Value[n]==\"\") {        Value[n]=s;        return true;    }    else if(Value[n]==s) return false;    else {        for(int i=0;i&lt;UpValueCount;i++)            if(UpValue[n]==s) return false;         UpValue[UpValueCount++]=s;        return true;    } } \n</code></pre> <p></p> <p>\u7b2c\u4e94\u6b65\uff0c\u7f16\u5199\u4e3b\u51fd\u6570\u4ee3\u7801\uff1a</p> <p>\u4e3b\u51fd\u6570\u4ee3\u7801\u6211\u4eec\u6709\u4e09\u79cd\u5b9a\u4e49\u65b9\u5f0f</p> <ul> <li>\u6cd5\u4e00</li> </ul> <p>\u4e2d\u89c4\u4e2d\u77e9\u5b9a\u4e49\u6cd5\uff0c\u8bbe\u7f6e flag \u53d8\u91cf\u7528\u4e8e\u8df3\u8fc7\u627e\u5230\u7b54\u6848\u540e\u7684\u8f93\u5165\u5904\u7406\u3002</p> Text Only<pre><code>int main() {     int n;    bool flag = 0;    string ans = \"NO\";    cin &gt;&gt; n;    for (int i = 0; i &lt; n; i++)    {        string word;        cin &gt;&gt; word;        if (flag)            continue;         if (isAt(word))        {            flag = 1;            ans = word;        }        else        {            in(word);        }    }    cout &lt;&lt; ans &lt;&lt; endl; } \n</code></pre> <p></p> <ul> <li>\u6cd5\u4e8c</li> </ul> <p>\u7531\u4e8e\u6211\u4eec\u8bbe\u7f6e\u7684\u63d2\u5165\u51fd\u6570\u4e5f\u5177\u6709\u67e5\u8be2\u529f\u80fd\uff0c\u63d2\u5165\u6210\u529f\u5373\u4e3a\u6ca1\u6709\u91cd\u590d\u503c\uff0c\u63d2\u5165\u5931\u8d25\u5373\u4e3a\u6709\u91cd\u590d\u503c\uff0c\u6211\u4eec\u8fd9\u91cc\u4e0d\u5b58\u5728\u5355\u72ec\u67e5\u8be2\u7684\u64cd\u4f5c\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u67e5\u8be2\u7701\u7565\u3002</p> Text Only<pre><code> int main() {     int n;    bool flag = 0;    string ans = \"NO\";    cin &gt;&gt; n;    for (int i = 0; i &lt; n; i++)    {        string word;        cin &gt;&gt; word;        if (flag)            continue;         if (!in(word))        {            flag = 1;            ans = word;        }    }    cout &lt;&lt; ans &lt;&lt; endl; } \n</code></pre> <p></p> <ul> <li>\u6cd5\u4e09</li> </ul> <p>\u5728\u6cd5\u4e8c\u7684\u57fa\u7840\u4e0a\uff0c\u5229\u7528 OJ \u7684\u7279\u6027\uff0cOJ \u662f\u5224\u5b9a\u8f93\u51fa\u7684\u7b54\u6848\u662f\u5426\u4e0e\u7b54\u6848\u76f8\u540c\u8fdb\u884c\u5224\u5b9a\uff0c\u5f53\u6211\u4eec\u77e5\u9053\u7b54\u6848\u4e4b\u540e\u76f4\u63a5\u8f93\u51fa\uff0c\u7ed3\u675f\u7a0b\u5e8f\u90a3\u4e48\u5c31\u4f1a\u4f7f\u5f97\u7a0b\u5e8f\u8fd0\u884c\u65f6\u95f4\u5927\u5e45\u5ea6\u51cf\u5c11\u3002</p> Text Only<pre><code> int main() {     int n;    string ans = \"NO\";    cin &gt;&gt; n;    for (int i = 0; i &lt; n; i++)    {        string word;        cin &gt;&gt; word;         if (!in(word))        {            cout &lt;&lt; word &lt;&lt; endl;            return 0;        }    }    cout &lt;&lt; ans &lt;&lt; endl; } \n</code></pre> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/hash/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80-%E6%95%A3%E5%88%97%E8%A1%A8%28Hash%29/#_15","title":"\u5b8c\u6574\u89e3\u9898\u4ee3\u7801","text":"<p>C++\u5b9e\u73b0\u65b9\u6cd5\uff1a</p> C++<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\nusing namespace std;\n\nconst int h = 999983;\n\nstring Value[h];\n\nstring UpValue[h];\n\nint UpValueCount = 0;\n\nint Hx(string s)\n{\n\n    int n = s.size();\n\n    int sum1 = 0;\n\n    for (int i = 0; i &lt; n; i++)\n    {\n\n        sum1 = sum1 * 131 % h + (s[i] - 'a' + 1) % h;\n    }\n\n    return (sum1 + h) % h;\n}\n\nbool isAt(string s)\n{\n    int n = Hx(s);\n    if (Value[n] == \"\")\n        return false;\n    else if (Value[n] == s)\n        return true;\n    else\n    {\n        for (int i = 0; i &lt; UpValueCount; i++)\n            if (UpValue[n] == s)\n                return true;\n\n        return false;\n    }\n}\n\nbool in(string s)\n{\n    int n = Hx(s);\n    if (Value[n] == \"\")\n    {\n        Value[n] = s;\n        return true;\n    }\n    else if (Value[n] == s)\n        return false;\n    else\n    {\n        for (int i = 0; i &lt; UpValueCount; i++)\n            if (UpValue[n] == s)\n                return false;\n\n        UpValue[UpValueCount++] = s;\n        return true;\n    }\n}\n\nint main()\n{\n\n    int n;\n    string ans = \"NO\";\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++)\n    {\n        string word;\n        cin &gt;&gt; word;\n\n        if (!in(word))\n        {\n            cout &lt;&lt; word &lt;&lt; endl;\n            return 0;\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt; endl;\n}\n\nJava \u5b9e\u73b0\u65b9\u6cd5Python \u5199\u6cd5\u6700\u540e\u603b\u7ed3\u7ed9\u5927\u5bb6\u4e00\u4e2a\u5c0f\u7a8d\u95e8\uff0c\u5728\u89e3\u9898\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u4f7f\u7528\uff1aC++ \u4e2d\u6709\u4e00\u4e2a UnorderedMap\uff0c\u53ef\u4ee5\u65b9\u4fbf\u6211\u4eec\u7684\u89e3\u9898\u8fc7\u7a0b\uff1bPython \u548c Java \u4e2d\u90fd\u6709\u63d0\u524d\u5b9a\u4e49\u597d\u7684 Hash \u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u5b9e\u9a8c\u603b\u7ed3\u672c\u6b21\u5b9e\u9a8c\uff0c\u6211\u4eec\u5b66\u4e60\u4e86\u6563\u5217\u8868\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u4e86\u89e3\u4e86\u6563\u5217\u8868\u7684\u539f\u7406\u4e0e\u57fa\u672c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u5b66\u4e86\u5404\u79cd\u7684\u51b2\u7a81\u5904\u7406\u65b9\u5f0f\u548c\u6563\u5217\u51fd\u6570\u7684\u6784\u9020\u65b9\u5f0f\uff0c\u6211\u4eec\u8fd8\u8bb2\u4e86\u4e00\u79cd\u7ade\u8d5b\u5e38\u7528\u7684\u5b57\u7b26\u4e32 hash \u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u90fd\u8981\u591a\u52a0\u7ec3\u4e60\u5e76\u719f\u7ec3\u4f7f\u7528\u3002\n\u8fdb\u5165\u4e0b\u4e00\u7ae0\u8282\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/","title":"\u7eea\u8bba","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_2","title":"\u7a0b\u5e8f = \u6570\u636e\u7ed3\u6784 + \u7b97\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_3","title":"\u6570\u636e &gt; \u6570\u636e\u5143\u7d20 &gt; \u6570\u636e\u9879","text":"<p>\u5b66\u751f\u8868 &gt; \u4e2a\u4eba\u8bb0\u5f55 &gt; \u5b66\u53f7\u3001\u59d3\u540d</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_4","title":"\u6570\u636e\u5143\u7d20\u4e0e\u6570\u636e\u5bf9\u8c61","text":"<p>\u6570\u636e\u5143\u7d20\u2014\u2014\u7ec4\u6210\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d</p> <p>\u4e0e\u6570\u636e\u7684\u5173\u7cfb\uff1a\u662f\u96c6\u5408\u7684\u4e2a\u4f53</p> <p>\u6570\u636e\u5bf9\u8c61\u2014\u2014\u6027\u8d28\u76f8\u540c\u7684\u6570\u636e\u5143\u7d20\u7684\u96c6\u5408</p> <p>\u4e0e\u6570\u636e\u7684\u5173\u7cfb\uff1a\u662f\u96c6\u5408\u7684\u5b50\u96c6</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_5","title":"\u6570\u636e\u7ed3\u6784\u7684\u6982\u5ff5","text":"<p>\u6570\u636e\u5143\u7d20\u4e0d\u662f\u5b64\u7acb\u5b58\u5728\u7684\uff0c\u4ed6\u4eec\u4e4b\u95f4\u5b58\u5728\u7740\u67d0\u79cd\u5173\u7cfb\uff0c\u6570\u636e\u5143\u7d20\u4e92\u76f8\u4e4b\u95f4\u7684\u5173\u7cfb\u79f0\u4e3a\u7ed3\u6784 \u00a0\u00a0\u00a0\u00a0\u6307\u4e92\u76f8\u4e4b\u95f4\u5b58\u5728\u4e00\u79cd\u6216\u591a\u79cd\u7279\u5b9a\u5173\u7cfb\u7684\u6570\u636e\u5143\u7d20\u7684\u96c6\u5408 \u00a0\u00a0\u00a0\u00a0\u6216\u8005\u8bf4\uff0c\u6570\u636e\u7ed3\u6784\u662f\u5e26\u7ed3\u6784\u7684\u6570\u636e\u5143\u7d20\u7684\u96c6\u5408</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_6","title":"\u6570\u636e\u7ed3\u6784\u5305\u542b\u7684\u5185\u5bb9","text":"<ul> <li> <p>\u903b\u8f91\u7ed3\u6784</p> </li> <li> <p>\u5b58\u50a8\u7ed3\u6784 </p> </li> <li> <p>\u8fd0\u7b97\u548c\u5b9e\u73b0 </p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_7","title":"\u903b\u8f91\u7ed3\u6784","text":"<ul> <li> <p>\u7ebf\u6027\u7ed3\u6784   \u4e00\u5bf9\u4e00</p> </li> <li> <p>\u975e\u7ebf\u6027\u7ed3\u6784   \u4e00\u5bf9\u591a</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_8","title":"\u5b58\u50a8\u7ed3\u6784","text":"<ul> <li> <p>\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784 </p> </li> <li> <p>\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784</p> </li> <li> <p>\u7d22\u5f15\u5b58\u50a8\u7ed3\u6784</p> <p>\u7c7b\u4f3c\u4e8e\u901a\u8baf\u5f55</p> </li> <li> <p>\u6563\u5217\u5b58\u50a8</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_9","title":"\u6570\u636e\u7c7b\u578b\u548c\u62bd\u8c61\u6570\u636e\u7c7b\u578b","text":"<p>\u200b   \u4e00\u4e9b\u57fa\u672c\u7684\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u7531\u6570\u636e\u7c7b\u578b\u6765\u5b9e\u73b0</p> <p>\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u7b49</p> <p>\u200b   \u800c\u53e6\u4e00\u4e9b\u5e38\u7528\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e0d\u80fd\u76f4\u63a5\u7531\u6570\u636e\u7c7b\u578b\u6765\u8868\u793a</p> <p>\u6808\u3001\u961f\u5217\u3001\u6811\u3001\u56fe\u7b49</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_10","title":"\u6570\u636e\u7c7b\u578b","text":"<ul> <li> <p>\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u660e\u663e\u6216\u9690\u542b\u5730\u89c4\u5b9a\u4e86\u7a0b\u5e8f\u5728\u6267\u884c\u671f\u95f4\u53d8\u91cf\u7684\u6240\u6709\u53ef\u80fd\u7684\u53d6\u503c\u8303\u56f4\uff0c\u4ee5\u53ca\u5728\u8fd9\u4e9b\u6570\u503c\u8303\u56f4\u4e0a\u6240\u5141\u8bb8\u8fdb\u884c\u7684\u64cd\u4f5c\u3002</p> <p>C\u8bed\u8a00\u4e2d\u5b9a\u4e49\u53d8\u91cfi\u4f4dint\u7c7b\u578b\uff0c\u5c31\u8868\u793ai\u4e8b[-max,max]\u8303\u56f4\u7684\u6574\u6570\uff0c\u5728\u8fd9\u4e2a\u6574\u6570\u96c6\u4e0a\u53ef\u4ee5\u8fdb\u884c+\u3001-\u3001*\u3001\\\u3001%\u7b49\u64cd\u4f5c</p> </li> <li> <p>\u6570\u636e\u7c7b\u578b\u662f\u4e00\u7ec4\u6027\u8d28\u76f8\u540c\u7684\u503c\u7684\u96c6\u5408\u4ee5\u53ca\u5b9a\u4e49\u5728\u8fd9\u4e2a\u503c\u7684\u96c6\u5408\u4e0a\u7684\u4e00\u7ec4\u64cd\u4f5c\u7684\u603b\u79f0</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#adt-abstract-data-type","title":"\u62bd\u8c61\u6570\u636e\u7c7b\u578b(ADT Abstract Data Type)","text":"<ul> <li> <p>\u6307\u4e00\u4e2a\u6570\u5b66\u6a21\u578b\u4ee5\u53ca\u5b9a\u4e49\u5728\u6b64\u6570\u5b66\u6a21\u578b\u4e0a\u7684\u4e00\u7ec4\u64cd\u4f5c\u3002\uff08\u4e0d\u8003\u8651\u8ba1\u7b97\u673a\u5185\u7684\u5177\u4f53\u5b58\u50a8\u7ed3\u6784\u4e0e\u8fd0\u7b97\u7684\u5177\u4f53\u5b9e\u73b0\u7b97\u6cd5\uff09</p> </li> <li> <p>\u5f62\u5f0f\u5b9a\u4e49</p> <p>\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u53ef\u7528(D\u3001S\u3001P)\u4e09\u5143\u7ec4\u8868\u793a</p> <p>\u5176\u4e2d\uff1aD\u662f\u6570\u636e\u5bf9\u8c61;</p> <p>\u200b          S\u662fD\u4e0a\u7684\u5173\u7cfb\u96c6</p> <p>\u200b          P\u662f\u5bf9D\u7684\u57fa\u672c\u64cd\u4f5c\u96c6</p> <p>\u5b9a\u4e49\u683c\u5f0f</p> C<pre><code>ADT \u62bd\u8c61\u6570\u636e\u7c7b\u578b\u540d\n{\n    \u6570\u636e\u5bf9\u8c61:&lt;\u6570\u636e\u5bf9\u8c61\u7684\u5b9a\u4e49&gt;      //\u6570\u636e\u5bf9\u8c61\u3001\u6570\u636e\u5173\u7cfb\u7684\u5b9a\u4e49\u7528\u4f2a\u4ee3\u7801\u63cf\u8ff0\n    \u6570\u636e\u5173\u7cfb:&lt;\u6570\u636e\u5173\u7cfb\u7684\u5b9a\u4e49&gt;\n    \u57fa\u672c\u64cd\u4f5c:&lt;\u57fa\u672c\u64cd\u4f5c\u7684\u5b9a\u4e49&gt;      \n}ADT \u62bd\u8c61\u6570\u636e\u7c7b\u578b\u540d\n</code></pre> <p>\u57fa\u672c\u64cd\u4f5c\u5b9a\u4e49\u683c\u5f0f\uff1a</p> <ul> <li> <p>\u57fa\u672c\u64cd\u4f5c\u540d(\u53c2\u6570\u8868)</p> <p>\u6c42\u5706\u7684\u9762\u79ef\u65f6\uff1a</p> <p>area      (r)   ^           ^   \u64cd\u4f5c\u540d   \u53c2\u6570\u8868</p> </li> <li> <p>\u521d\u59cb\u6761\u4ef6\uff1a\u63cf\u8ff0\u64cd\u4f5c\u6267\u884c\u4e4b\u524d\u6570\u636e\u7ed3\u6784\u548c\u53c2\u6570\u5e94\u6ee1\u8db3\u7684\u6761\u4ef6\uff0c\u82e5\u4e0d\u6ee1\u8db3\u3002\u5219\u64cd\u4f5c\u5931\u8d25\uff0c\u5e76\u8fd4\u56de\u76f8\u5e94\u7684\u51fa\u9519\u4fe1\u606f\u3002\u82e5\u521d\u59cb\u6761\u4ef6\u4e3a\u7a7a\uff0c\u5219\u5ffd\u7565\u3002</p> </li> <li> <p>\u64cd\u4f5c\u7ed3\u679c\uff1a\u8bf4\u660e\u64cd\u4f5c\u6b63\u5e38\u5b8c\u6210\u4e4b\u540e\uff0c\u6570\u636e\u7ed3\u6784\u7684\u53d8\u5316\u72b6\u51b5\u548c\u5e94\u5f53\u8fd4\u56de\u7684\u7ed3\u679c</p> </li> </ul> </li> </ul> <p>\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u5706\u5f62\u4f8b\u5b50</p> C<pre><code>ADT Circle\n{\n    \u6570\u636e\u5bf9\u8c61: D={r,s,y|r,x,y\u5747\u4e3a\u5b9e\u6570}\n    \u6570\u636e\u5173\u7cfb: R={&lt;r,x,y&gt;|r\u662f\u534a\u5f84,&lt;x,y&gt;\u662f\u5706\u5fc3\u5750\u6807}\n    \u57fa\u672c\u64cd\u4f5c:\n        Circle(&amp;C,r,x,y)\n            \u57fa\u672c\u64cd\u4f5c:\u6784\u9020\u4e00\u4e2a\u5706\u3002\n        double Area(C)\n                \u521d\u59cb\u6761\u4ef6:\u5706\u5df2\u5b58\u5728\u3002\n                \u64cd\u4f5c\u7ed3\u679c:\u8ba1\u7b97\u9762\u79ef\u3002\n        double Circumference(C)\n                \u521d\u59cb\u6761\u4ef6:\u5706\u5df2\u5b58\u5728\u3002\n                \u64cd\u4f5c\u7ed3\u679c:\u8ba1\u7b97\u5468\u957f\u3002\n    ........\n}ADT Circle\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_11","title":"\u7b97\u6cd5\u548c\u7b97\u6cd5\u5206\u6790","text":"<ul> <li> <p>\u5bf9\u7279\u5b9a\u95ee\u9898\u6c42\u89e3\u65b9\u6cd5\u548c\u6b65\u9aa4\u7684\u4e00\u79cd\u63cf\u8ff0,\u5b83\u662f\u6307\u4ee4\u7684\u6709\u9650\u5e8f\u5217.\u5176\u4e2d\u6bcf\u4e2a\u6307\u4ee4\u8868\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u64cd\u4f5c.</p> </li> <li> <p>\u7b97\u6cd5\u7684\u63cf\u8ff0</p> <ul> <li> <p>\u81ea\u7136\u8bed\u8a00\u63cf\u8ff0</p> <p>\u7b97\u6cd5,\u6c42\u4e00\u5143\u4e8c\u6b21\u65b9\u7a0b\u7684\u6839:</p> <ol> <li>\u8f93\u5165\u65b9\u7a0b\u7684\u7cfb\u6570a\u3001b\u3001c.</li> <li>\u5224\u65ada\u662f\u5426\u7b49\u4e8e\u96f6.\u5982\u679c\u7b49\u4e8e,\u5219\u63d0\u793a\u4e0d\u662f\u4e00\u5143\u4e8c\u6b21\u65b9\u7a0b.\u4e0d\u7b49\u4e8e\u96f6,\u5219\u6267\u884c3.</li> <li>\u8ba1\u7b97d = b^2 - 4ac</li> <li>\u5224\u65add.\u5982\u679cd\u7b49\u4e8e\u96f6\u2026\u2026\u5c0f\u4e8e\u96f6\u2026\u2026\u5927\u4e8e\u96f6\u2026\u2026</li> <li>\u7ed3\u675f</li> </ol> </li> <li> <p>\u6d41\u7a0b\u56fe: \u4f20\u7edf\u6d41\u7a0b\u56fe\u3001NS\u6d41\u7a0b\u56fe</p> </li> <li> <p>\u4f2a\u4ee3\u7801: \u7c7bC\u8bed\u8a00</p> </li> </ul> </li> <li> <p>\u7b97\u6cd5\u4e0e\u7a0b\u5e8f</p> <ul> <li> <p>\u7b97\u6cd5\u662f\u89e3\u51b3\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\u6216\u4e00\u4e2a\u8fc7\u7a0b,\u8003\u8651\u5982\u4f55\u5c06\u8f93\u5165\u8f6c\u6362\u6210\u8f93\u51fa,\u4e00\u4e2a\u95ee\u9898\u53ef\u4ee5\u7531\u591a\u79cd\u7b97\u6cd5</p> </li> <li> <p>\u7a0b\u5e8f\u662f\u7528\u67d0\u79cd\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u5bf9\u7b97\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0</p> <p>\u7a0b\u5e8f = \u6570\u636e\u7ed3\u6784 + \u7b97\u6cd5</p> </li> </ul> </li> <li> <p>\u7b97\u6cd5\u7684\u7279\u6027</p> <ul> <li>\u6709\u7a77\u6027: \u6709\u7a77\u6b65\u4e4b\u540e\u7ed3\u675f,\u6bcf\u4e00\u6b65\u5728\u6709\u7a77\u65f6\u95f4\u5185\u7ed3\u675f</li> <li>\u786e\u5b9a\u6027: \u6bcf\u4e00\u6761\u6307\u4ee4\u5fc5\u987b\u6709\u786e\u5207\u542b\u4e49,\u6ca1\u6709\u4e8c\u4e49\u6027</li> <li>\u53ef\u884c\u6027:</li> <li>\u8f93\u5165:     \u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u8f93\u5165</li> <li>\u8f93\u51fa:     \u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u51fa</li> </ul> </li> <li> <p>\u7b97\u6cd5\u8bbe\u8ba1\u7684\u8981\u6c42</p> <ul> <li>\u6b63\u786e\u6027: \u4f7f\u7a0b\u5e8f\u8fd0\u884c\u65f6,\u7cbe\u5fc3\u9009\u62e9\u3001\u5178\u578b\u3001\u82db\u523b\u4e14\u5e26\u6709\u5201\u96be\u6027\u7684\u51e0\u7ec4\u6570\u636e\u8f93\u5165\u4ecd\u7136\u80fd\u591f\u5f97\u5230\u6ee1\u8db3\u7684\u7ed3\u679c</li> <li>\u53ef\u8bfb\u6027</li> <li>\u5065\u58ee\u6027: \u8f93\u5165\u975e\u6cd5\u6570\u636e\u662f,\u7b97\u6cd5\u80fd\u6070\u5f53\u7684\u505a\u51fa\u53cd\u5e94\u6216\u8fdb\u884c\u76f8\u5e94\u5904\u7406,\u800c\u4e0d\u662f\u4ea7\u751f\u83ab\u540d\u5176\u5999\u7684\u8f93\u51fa\u7ed3\u679c</li> <li>\u9ad8\u6548\u6027: \u5c11\u65f6\u95f4,\u5c11\u7a7a\u95f4</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_12","title":"\u7b97\u6cd5\u5206\u6790","text":"<ul> <li>\u4e00\u4e2a\u597d\u7684\u7b97\u6cd5\u9996\u5148\u8981\u5177\u5907\u6b63\u786e\u6027,\u5065\u58ee\u6027,\u53ef\u8bfb\u6027,\u5728\u51e0\u4e2a\u65b9\u9762\u90fd\u6ee1\u8db3\u7684\u60c5\u51b5\u4e0b,\u4e3b\u8981\u8003\u8651\u7b97\u6cd5\u7684\u6548\u7387,\u901a\u8fc7\u7b97\u6cd5\u7684\u6548\u7387\u9ad8\u4f4e\u6765\u5224\u65ad\u4e0d\u540c\u7b97\u6cd5\u7684\u4f18\u52a3\u7a0b\u5ea6</li> <li> <p>\u65f6\u95f4\u6548\u7387\u548c\u7a7a\u95f4\u6548\u7387\u6709\u65f6\u5019\u662f\u77db\u76fe\u7684 </p> </li> <li> </li> </ul> <p>\u200b           \u7a0b\u5e8f\u5728\u8ba1\u7b97\u673a\u4e0a\u6267\u884c\u6240\u6d88\u8017\u7684\u65f6\u95f4</p> <p>\u200b       \u4e8b\u540e\u7edf\u8ba1</p> <p>\u200b               \u9700\u8981\u5148\u5c06\u7b97\u6cd5\u8f6c\u6362\u4e3a\u7a0b\u5e8f.\u6240\u5f97\u7ed3\u679c\u4f9d\u8d56\u4e8e\u8ba1\u7b97\u673a\u7684\u8f6f\u786c\u4ef6\u73af\u5883,\u53ef\u80fd\u63a9\u76d6\u4f4f\u7b97\u6cd5\u672c\u8eab\u7684\u4f18\u52a3</p> <p>\u200b       \u4e8b\u524d\u5206\u6790</p> <p>\u200b               \u53ef\u4ee5\u7b49\u4e8e\u8ba1\u7b97\u673a\u6267\u884c\u4e00\u79cd\u7b80\u5355\u7684\u64cd\u4f5c(\u8d4b\u503c\u3001\u79fb\u52a8\u3001\u6bd4\u8f83\u7b49)\u6240\u9700\u7684\u65f6\u95f4\u4e0e\u7b97\u6cd5\u4e2d\u8fdb\u884c\u7684\u7b80\u5355\u64cd\u4f5c\u6b21\u6570\u7684\u4e58\u79ef</p> <p>\u200b       \u7b97\u6cd5\u8fd0\u884c\u65f6\u95f4 = \u6bcf\u6761\u8bed\u53e5\u6267\u884c\u7684\u6b21\u6570(\u8bed\u53e5\u9891\u5ea6) * \u8be5\u8bed\u53e5\u6267\u884c\u4e00\u6b21\u6240\u9700\u7684\u65f6\u95f4</p> <p>\u200b           \u8bed\u53e5\u6267\u884c\u4e00\u6b21\u6240\u9700\u7684\u65f6\u95f4:\u662f\u7531\u8ba1\u7b97\u673a\u8f6f\u786c\u4ef6\u51b3\u5b9a\u7684,\u4e0e\u7b97\u6cd5\u65e0\u5173.\u4e00\u822c\u5047\u8bbe\u4e3a\u5355\u4f4d\u65f6\u95f4.\u56e0\u6b64\u7b97\u6cd5\u7684\u8fd0\u884c\u65f6\u95f4\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6240\u6709\u8bed\u53e5\u7684\u6267\u884c\u6b21\u6570.\u5373\u8bed\u53e5\u9891\u5ea6\u4e4b\u548c.</p> C<pre><code>for(i=1; i&lt;=n; i++)                 //n+1\n{\n    for(i=1; i&lt;=n; i++)             //n*(n+1)\n    {\n        printf(\"hello world\");      //n*n\n    }\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5757\u4e2d\u7684\u8bed\u53e5\u9891\u5ea6\u4e4b\u548c\u4e3a: $2n^2 + 2n + 1$</p> <p>\u7531\u4e8e\u6bcf\u6b21\u90fd\u9700\u8981\u6328\u4e2a\u8bed\u53e5\u7684\u770b\u592a\u8fc7\u9ebb\u70e6,\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u6bd4\u8f83\u5b83\u4eec\u7684\u6570\u91cf\u7ea7\u5373\u53ef.</p> <p>$T(n) = 2n^3 + 3n^2 +2n +1$</p> <p>n-&gt;\u221e\u65f6,$T(n)/n^3$ -&gt; 2,\u8fd9\u8868\u793an\u5145\u5206\u5927\u65f6,T(n)\u4e0en^3\u662f\u540c\u9636\u6216\u540c\u6570\u91cf\u7ea7,\u5f15\u5165\u201cO\u201d\u8bb0\u53f7</p> <p>\u200b               $T(n) = O(n^3)$</p> <p>\u57fa\u672c\u64cd\u4f5c\u7684\u6267\u884c\u6b21\u6570\u8fd8\u968f\u95ee\u9898\u7684\u8f93\u5165\u6570\u636e\u96c6\u4e0d\u540c\u800c\u4e0d\u540c</p> C<pre><code>//\u987a\u5e8f\u67e5\u627e,\u5728\u6570\u7ec4a[i]\u4e2d\u67e5\u627e\u503c\u7b49\u4e8ee\u7684\u5143\u7d20,\u8fd4\u56de\u5176\u6240\u5728\u4f4d\u7f6e.\nfor(i=0; i&lt;n; i++)\n    if(e == a[i])\n        return i+1;\nreturn 0;\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801    </p> <p>\u200b                 \u6700\u597d\u60c5\u51b5:\u6267\u884c1\u6b21</p> <p>\u200b               \u6700\u574f\u60c5\u51b5:\u6267\u884cn\u6b21</p> <p>\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a:O(n)</p> <p>\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a:n</p> <p>\u6700\u597d\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a:1</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_13","title":"\u65f6\u95f4\u6548\u7387","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_14","title":"\u5173\u4e8e\u590d\u6742\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6c42\u6cd5","text":"<p>\u200b   \u5bf9\u4e8e\u590d\u6742\u7684\u7b97\u6cd5,\u53ef\u4ee5\u5c06\u5b83\u5206\u6210\u51e0\u4e2a\u5bb9\u6613\u4f30\u7b97\u7684\u90e8\u5206,\u7136\u540e\u5229\u7528O\u7684\u52a0\u6cd5\u6cd5\u5219\u548c\u4e58\u6cd5\u6cd5\u5219,\u8ba1\u7b97\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6</p> <p>\u200b       a)\u52a0\u6cd5\u6cd5\u5219</p> <p>\u200b           $T(n) = T1(n) + T2(n) = O(f(n)) + O(g(n)) = O(max(f(n),g(n)))$</p> <p>\u200b       b)\u4e58\u6cd5\u6cd5\u5219</p> <p>\u200b           $T(n) = T1(n) * T2(n) = O(f(n)) * O(g(n)) = O(f(n) * g(n))$</p> <p>\u5c06\u4e00\u4f4d\u6570\u7ec4a\u4e2d\u7684n\u4e2a\u6570\u9006\u5e8f\u5b58\u653e\u5230\u539f\u6570\u7ec4\u4e2d</p> C<pre><code>for(i=0; i&lt;n/2; i++)\n{\n    t = a[i];\n    a[i] = a[n-i-1];\n    a[n-i-1] = t;\n}\n</code></pre> <p>\u6b64\u4ee3\u7801\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a</p> <p>\u200b           $S(n) = O(1)$</p> <p>\u53ea\u9700\u8981\u4e00\u4e2a\u53d8\u91cft\u4f5c\u4e3a\u8f85\u52a9\u7a7a\u95f4\u6765\u5c06\u6570\u7ec4\u9006\u5e8f\u5b58\u50a8</p> C<pre><code>for(i=0; i&lt;n; i++)\n    b[i] = a[n-i-1];\nfor(i=0; i&lt;n; i++)\n    a[i] = b[i];\n</code></pre> <p>\u6b64\u4ee3\u7801\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a</p> <p>\u200b           $S(n) = O(n)$</p> <p>\u9700\u8981\u4e00\u4f4d\u6570\u7ec4\u4f5c\u4e3a\u8f85\u52a9\u7a7a\u95f4\u6765\u5c06\u6570\u7ec4\u9006\u5e8f\u5b58\u50a8</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap1%E7%BB%AA%E8%AE%BA/%E7%BB%AA%E8%AE%BA/#_15","title":"\u7a7a\u95f4\u6548\u7387","text":"<ul> <li> <p>\u7b97\u6cd5\u6240\u9700\u5b58\u50a8\u7a7a\u95f4\u7684\u5ea6\u91cf</p> <p>$S(n) = O(f(n))$</p> <p>\u200b   <code>n</code>\u4e3a\u95ee\u9898\u7684\u89c4\u6a21</p> </li> <li> <p>\u7b97\u6cd5\u8981\u5360\u636e\u7684\u7a7a\u95f4</p> <ul> <li>\u7b97\u6cd5\u672c\u8eab\u8981\u5360\u636e\u7684\u7a7a\u95f4,\u8f93\u5165/\u8f93\u51fa,\u6307\u4ee4,\u5e38\u719f,\u53d8\u91cf\u7b49</li> <li>\u7b97\u6cd5\u4f7f\u7528\u7684\u8f85\u52a9\u7a7a\u95f4</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/","title":"\u7ebf\u6027\u8868","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#1","title":"1.\u7ebf\u6027\u8868\u7684\u5b9a\u4e49\u548c\u7279\u70b9","text":"<ul> <li>\u7ebf\u6027\u8868\u662f\u5177\u6709\u76f8\u540c\u7279\u6027\u7684\u6570\u636e\u5143\u7d20\u7684\u4e00\u4e2a\u6709\u9650\u5e8f\u5217<ul> <li>n = 0\u65f6\u4e3a\u7a7a\u8868</li> </ul> </li> <li>\u540c\u4e00\u7ebf\u6027\u8868\u4e2d\u7684\u5143\u7d20\u5fc5\u5b9a\u5177\u6709\u76f8\u540c\u7279\u6027,\u6570\u636e\u5143\u7d20\u95f4\u7684\u5173\u7cfb\u65f6\u7ebf\u6027\u5173\u7cfb<ul> <li>\u5728\u975e\u7a7a\u7684\u7ebf\u6027\u8868\uff0c\u6709\u4e14\u4ec5\u6709\u4e00 \u4e2a\u5f00\u59cb\u7ed3\u70b9a~1~\uff0c\u5b83\u6ca1\u6709\u76f4\u63a5\u524d\u8d8b\uff0c\u800c\u4ec5\u6709\u4e00\u4e2a\u76f4\u63a5\u540e\u7ee7a;</li> <li>\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u7ec8\u7aef\u7ed3\u70b9a~n~\uff0c\u5b83\u6ca1\u6709\u76f4\u63a5\u540e\u7ee7\uff0c\u800c\u4ec5\u6709\u4e00\u4e2a\u76f4\u63a5\u524d\u8d8ba~n-1~</li> <li>\u5176\u4f59\u7684\u5185\u90e8\u7ed3\u70b9a~i~(2&lt;=i&lt;=n-1)\u90fd\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u76f4\u63a5\u524d\u8d8ba~i-1~\u548c\u4e00\u4e2a\u76f4\u63a5\u540e\u7ee7a~i+1~\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#2","title":"2.\u6848\u4f8b\u5f15\u5165","text":"<ul> <li>\u4e00\u5143\u591a\u9879\u5f0f\u8fd0\u7b97<ul> <li>\u4e0b\u6807\u8868\u793a\u6307\u6570,\u4e0b\u6807\u5bf9\u5e94\u7684\u6570\u636e\u5143\u7d20\u5b58\u50a8\u5bf9\u5e94\u6307\u6570\u7684\u7cfb\u6570</li> </ul> </li> <li>\u7a00\u758f\u591a\u9879\u5f0f<ul> <li>\u5355\u4e2a\u5b58\u50a8\u5176\u7cfb\u6570\u4e0e\u6307\u6570\u5373\u53ef</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#3","title":"3.\u7ebf\u6027\u8868\u7684\u7c7b\u578b\u5b9a\u4e49","text":"<ul> <li>\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u7ebf\u6027\u8868\u7684\u5b9a\u4e49:</li> </ul> C<pre><code>ADT List\n{\n    \u6570\u636e\u5bf9\u8c61: D = {ai | ai\u5c5e\u4e8eElemset,(i=1,2,...,n, n&gt;=0)}\n    \u6570\u636e\u5173\u7cfb: R= {&lt;ai-1,ai&gt; | ai-1,ai\u5c5e\u4e8eD,(i=2,3,...,n)}\n    \u57fa\u672c\u64cd\u4f5c:\n        InitList(&amp;L);\n        DestroyList(&amp;L);\n        ListInsert(&amp;L,i,e);\n        ListDelete(&amp;L,i,&amp;e);\n        ....\n}ADT List\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_2","title":"\u57fa\u672c\u64cd\u4f5c","text":"<ul> <li>InitList(&amp;L)<ul> <li>\u64cd\u4f5c\u7ed3\u679c;\u6784\u9020\u4e00\u4e2a\u7a7a\u7684\u7ebf\u6027\u8868L</li> </ul> </li> <li>DestroyList(&amp;L)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u9500\u6bc1\u7ebf\u6027\u8868L</li> </ul> </li> <li>ClearList(&amp;L)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u5c06\u7ebf\u6027\u8868L\u91cd\u7f6e\u4e3a\u7a7a\u8868</li> </ul> </li> <li>ListEmpty(L)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u82e5\u7ebf\u6027\u8868L\u4e3a\u7a7a\u8868\uff0c\u5219\u8fd4\u56deTURE;\u5426\u5219\u8fd4\u56deFALSE</li> </ul> </li> <li>ListLength(L)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u8fd4\u56de\u7ebf\u6027\u8868L\u4e2d\u7684\u6570\u636e\u5143\u7d20\u4e2a\u6570</li> </ul> </li> <li>GetElem(L,i,&amp;e);<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728,1&lt;=i&lt;=ListLength(L)</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u7528e\u8fd4\u56de\u7ebf\u6027\u8868L\u4e2d\u7b2ci\u4e2a\u6570\u636e\u5143\u7d20\u7684\u503c</li> </ul> </li> <li>LocateElem(L,e,compare())<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728\uff0ccompare()\u662f\u6570\u636e\u5143\u7d20\u5224\u5b9a\u51fd\u6570</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u8fd4\u56deL\u4e2d\u7b2c1\u4e2a\u4e0ee\u6ee1\u8db3compare()\u7684\u6570\u636e\u5143\u7d20\u7684\u4f4d\u5e8f.\u82e5\u8fd9\u6837\u7684\u6570\u636e\u5143\u7d20\u4e0d\u5b58\u5728\u5219\u8fd4\u56de\u503c\u4e3a0</li> </ul> </li> <li>PriorElem(L, cur_e, &amp;pre_e)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u82e5cur_e\u662fL\u7684\u6570\u636e\u5143\u7d20,\u4e14\u4e0d\u662f\u7b2c\u4e00\u4e2a\u5219\u7528pre_e\u8fd4\u56de\u5df2\u7684\u524d\u9a71,\u5426\u5219\u64cd\u4f5c\u5931\u8d25;pre_e\u65e0\u610f\u4e49</li> </ul> </li> <li>NextElem(L, cur_e, &amp;next_e)<ul> <li>\u521d\u59cb\u6761\u4ef6:  \u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c:  \u82e5cur_e\u662fL\u7684\u6570\u636e\u5143\u7d20\uff0c\u4e14\u4e0d\u662f\u7b2c\u6700\u540e\u4e2a,\u5219\u7528next_e\u8fd4\u56de\u5b83\u7684\u540e\u7ee7\uff0c\u5426\u5219\u64cd\u4f5c\u5931\u8d25\uff0cnext_e\u65e0\u610f\u4e49</li> </ul> </li> <li>ListInsert(&amp;L, i, e)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728\uff0c1&lt;=i&lt;= ListLength(L)+1</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u5728L\u7684\u7b2ci\u4e2a\u4f4d\u7f6e\u4e4b\u524d\u63d2\u5165\u65b0\u7684\u6570\u636e\u5143\u7d20e\uff0cL\u7684\u957f\u5ea6\u52a0\u4e00</li> </ul> </li> <li>ListDelete(&amp;L,i,&amp;e)<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df1\u7ecf\u5b58\u5728\uff0c1&lt;=i&lt;=ListLength(L)</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u5220\u9664L\u7684\u7b2ci\u4e2a\u6570\u636e\u5143\u7d20,\u5e76\u7528e\u8fd4\u56de\u5176\u503c\uff0cL\u7684\u957f\u5ea6\u51cf\u4e00</li> </ul> </li> <li>ListTraverse(&amp;L, visited())<ul> <li>\u521d\u59cb\u6761\u4ef6\uff1a\u7ebf\u6027\u8868L\u5df2\u7ecf\u5b58\u5728</li> <li>\u64cd\u4f5c\u7ed3\u679c\uff1a\u4f9d\u6b21\u5bf9\u7ebf\u6027\u8868\u4e2d\u6bcf\u4e2a\u5143\u7d20\u8c03\u7528visited()</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#4","title":"4.\u7ebf\u6027\u8868\u7684\u987a\u5e8f\u8868\u793a\u548c\u5b9e\u73b0","text":"<ul> <li> <p>\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784</p> <p>\u4f9d\u6b21\u5b58\u50a8,\u5730\u5740\u8fde\u7eed,\u4e2d\u95f4\u6ca1\u6709\u7a7a\u51fa\u5b58\u50a8\u5355\u5143.(\u5360\u7528\u4e00\u7247\u8fde\u7eed\u7684\u5b58\u50a8\u7a7a\u95f4).</p> </li> <li> <p>\u53ea\u8981\u77e5\u9053\u4e00\u4e2a\u5143\u7d20\u7684\u5b58\u50a8\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u8ba1\u7b97\u5176\u4ed6\u5143\u7d20\u7684\u5b58\u50a8\u4f4d\u7f6e</p> </li> <li> <p>\u5047\u8bbe\u7ebf\u6027\u8868\u6bcf\u4e2a\u5143\u7d20\u9700\u5360<code>m</code>\u4e2a\u5b58\u50a8\u5355\u5143,\u5219\u7b2c1\u4e2a\u6570\u636e\u5143\u7d20\u7684\u5b58\u50a8\u4f4d\u7f6e\u548c\u7b2ci\u54e5\u6570\u636e\u5143\u7d20\u7684\u5b58\u50a8\u4f4d\u7f6e\u4e4b\u95f4\u6ee1\u8db3\u5173\u7cfb</p> <p>\u200b                           $LOC(a~i~) = LOC(a~1~) + (i-1)*m$</p> </li> </ul> <p>\u6a21\u7cca\u5b9a\u4e49\u4e3a:</p> C<pre><code>#define LIST_INIT_SIZE 100  //\u7ebf\u6027\u8868\u5b58\u50a8\u7a7a\u95f4\u7684\u521d\u59cb\u5206\u914d\u91cf\ntypedef struct SqList\n{\n    ElemType elem[LIST_INIT_SIZE];\n    int length; //\u5f53\u524d\u957f\u5ea6\n}SL;\n</code></pre> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_3","title":"\u5f15\u7528\u7c7b\u578b\u4f5c\u5f62\u53c2","text":"<ul> <li>\u4f20\u9012\u5f15\u7528\u7ed9\u51fd\u6570\u4e0e\u4f20\u9012\u6307\u9488\u7684\u6548\u679c\u662f\u4e00\u6837\u7684,\u5f62\u53c2\u53d8\u5316\u5b9e\u53c2\u4e5f\u53d1\u751f\u53d8\u5316</li> <li>\u5f15\u7528\u7c7b\u578b\u4f5c\u5f62\u53c2,\u5728\u5185\u5b58\u4e2d\u5e76\u6ca1\u6709\u4ea7\u751f\u5b9e\u53c2\u7684\u526f\u672c,\u5b83\u76f4\u63a5\u5bf9\u5b9e\u53c2\u64cd\u4f5c;\u800c\u4e00\u822c\u53d8\u91cf\u4f5c\u53c2\u6570,\u5f62\u53c2\u4e0e\u5b9e\u53c2\u5c31\u5360\u7528\u4e0d\u540c\u7684\u5b58\u50a8\u5355\u5143,\u6240\u4ee5\u5f62\u53c2\u53d8\u91cf\u7684\u503c\u662f\u5b9e\u53c2\u53d8\u91cf\u7684\u526f\u672c.\u56e0\u6b64,\u5f53\u53c2\u6570\u7684\u6570\u636e\u91cf\u8f83\u5927\u65f6,\u7528\u5f15\u7528\u6bd4\u7528\u4e00\u822c\u53d8\u91cf\u4f20\u9012\u53c2\u6570\u7684\u65f6\u95f4\u548c\u7a7a\u95f4\u6548\u7387\u90fd\u597d</li> <li>\u6307\u9488\u53c2\u6570\u867d\u7136\u4e5f\u80fd\u8fbe\u5230\u4e0e\u4f7f\u7528\u5f15\u7528\u7684\u6548\u679c\uff0c\u4f46\u5728\u88ab\u8c03\u51fd\u6570\u4e2d\u9700\u8981\u91cd\u590d\u4f7f\u7528\u201c* \u6307\u9488\u53d8\u91cf\u540d\u301e\u7684\u5f62\u5f0f\u8fdb\u884c\u8fd0\u7b97\uff0c\u8fd9\u5f88\u5bb9\u6613\u4ea7\u751f\u9519\u8bef\u4e14\u7a0b\u5e8f\u7684\u9605\u8bfb\u6027\u8f83\u5dee\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u5728\u4e3b\u8c03\u51fd\u6570\u7684\u8c03\u7528\u70b9\u5904\uff0c\u5fc5\u987b\u7528\u53d8\u91cf\u7684\u5730\u5740\u4f5c\u4e3a\u5b9e\u53c2\u3002</li> </ul> <p>\u8ba1\u7b97\u5e73\u5747\u67e5\u627e\u957f\u5ea6\u65b9\u6cd5</p> <p></p> <p>P~i~\u4e3a\u7b2ci\u6b4c\u5143\u7d20\u88ab\u67e5\u627e\u7684\u6982\u7387</p> <p>C~i~\u4e3a\u627e\u5230\u7b2ci\u4e2a\u8bb0\u5f55\u9700\u8981\u6bd4\u8f83\u7684\u6b21\u6570</p> <p>$ASL = p1 + 2p2 + ... + nPn$</p> <p>$Pi = 1/n$</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_4","title":"\u987a\u5e8f\u8868\u5b9e\u73b0\u7ebf\u6027\u8868\u7684\u4f18\u7f3a\u70b9","text":"<ul> <li>\u4f18\u70b9<ul> <li>\u5b58\u50a8\u5bc6\u5ea6\u5927(\u7ed3\u70b9\u672c\u8eab\u6240\u5360\u5b58\u50a8\u91cf/\u7ed3\u70b9\u7ed3\u6784\u6240\u5360\u5b58\u50a8\u91cf)</li> <li>\u53ef\u4ee5\u968f\u673a\u5b58\u53d6\u8868\u4e2d\u4efb\u610f\u5143\u7d20</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u5728\u63d2\u5165\u3001\u5220\u9664\u67d0\u4e00\u5143\u7d20\u65f6,\u9700\u8981\u79fb\u52a8\u5927\u91cf\u5143\u7d20</li> <li>\u6d6a\u8d39\u5b58\u50a8\u7a7a\u95f4</li> <li>\u5c5e\u4e8e\u9759\u6001\u5b58\u50a8\u5f62\u5f0f,\u6570\u636e\u5143\u7d20\u7684\u4e2a\u6570\u4e0d\u80fd\u81ea\u7531\u6269\u5145</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_5","title":"\u94fe\u8868","text":"<ul> <li>\u5355\u94fe\u8868\u3001\u53cc\u94fe\u8868\u3001\u5faa\u73af\u94fe\u8868:<ul> <li>\u7ed3\u70b9\u53ea\u6709\u4e00\u4e2a\u6307\u9488\u57df,\u4e3a\u5355\u94fe\u8868</li> <li>\u4e24\u4e2a\u6307\u9488\u57df\u4e3a\u53cc\u94fe\u8868</li> <li>\u9996\u5c3e\u76f8\u63a5\u4e3a\u5faa\u73af\u94fe\u8868</li> </ul> </li> <li>\u5934\u6307\u9488: \u6307\u5411\u94fe\u8868\u4e2d\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u7684\u6307\u9488</li> <li>\u9996\u7ed3\u70b9: \u94fe\u8868\u4e2d\u5b58\u50a8\u7b2c\u4e00\u4e2a\u6570\u636e\u5143\u7d20a~1~\u7684\u7ed3\u70b9</li> <li>\u5934\u7ed3\u70b9: \u94fe\u8868\u7684\u9996\u7ed3\u70b9\u4e4b\u524d\u7684\u9644\u8bbe\u7684\u4e00\u4e2a\u7ed3\u70b9.\u6574\u4e2a\u94fe\u8868\u7684\u7b2c\u4e00\u4e2a\u7ed3\u70b9.\u4e0d\u5b58\u653e\u6709\u6548\u6570\u636e</li> </ul> <p>\u5982\u4f55\u8868\u793a\u7a7a\u8868?</p> <ul> <li>\u65e0\u5934\u7ed3\u70b9\u65f6,\u5934\u6307\u9488\u4e3a\u7a7a\u65f6\u8868\u793a\u7a7a\u8868</li> <li>\u6709\u5934\u7ed3\u70b9\u65f6,\u5934\u7ed3\u70b9\u7684\u6307\u9488\u57df\u4e3a\u7a7a\u8868\u793a\u7a7a\u8868</li> </ul> <p>\u4e3a\u4ec0\u4e48\u5728\u94fe\u8868\u4e2d\u8bbe\u7f6e\u5934\u7ed3\u70b9</p> <ul> <li>\u4fbf\u4e8e\u5904\u7406\u9996\u7ed3\u70b9<ul> <li>\u9996\u7ed3\u70b9\u7684\u5730\u5740\u4fdd\u5b58\u5728\u5934\u7ed3\u70b9\u7684\u6307\u9488\u57df\u4e2d,\u6240\u4ee5\u5728\u94fe\u8868\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u64cd\u4f5c\u4e0e\u5176\u4ed6\u4f4d\u7f6e\u4e00\u81f4,\u65e0\u9700\u8fdb\u884c\u7279\u6b8a\u5904\u7406</li> </ul> </li> <li>\u4fbf\u4e8e\u7a7a\u8868\u548c\u975e\u7a7a\u8868\u7684\u7edf\u4e00\u5904\u7406<ul> <li>\u65e0\u8bba\u94fe\u8868\u662f\u5426\u4e3a\u7a7a,\u5934\u6307\u9488\u90fd\u662f\u6307\u5411\u5934\u7ed3\u70b9\u7684\u975e\u7a7a\u6307\u9488,\u56e0\u6b64\u7a7a\u8868\u548c\u975e\u7a7a\u8868\u7684\u5904\u7406\u4e5f\u5c31\u7edf\u4e00\u4e86</li> </ul> </li> </ul> <p>\u5934\u7ed3\u70b9\u7684\u6570\u636e\u57df\u5185\u88c5\u7684\u662f\u4ec0\u4e48</p> <ul> <li>\u5934\u7ed3\u70b9\u7684\u6570\u636e\u57df\u53ef\u4ee5\u4e3a\u7a7a,\u4e5f\u53ef\u4ee5\u5b58\u653e\u7ebf\u6027\u8868\u7684\u957f\u5ea6\u7b49\u9644\u52a0\u4fe1\u606f,\u4f46\u6b64\u7ed3\u70b9\u4e0d\u80fd\u8ba1\u5165\u94fe\u8868\u7684\u957f\u5ea6\u503c</li> </ul> <p>\u94fe\u8868(\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784)\u7684\u7279\u70b9</p> <ul> <li>\u7ed3\u70b9\u5728\u5b58\u50a8\u5668\u4e2d\u7684\u4f4d\u7f6e\u662f\u4efb\u610f\u7684,\u5373\u903b\u8f91\u4e0a\u76f8\u90bb\u7684\u6570\u636e\u5143\u7d20\u5728\u7269\u7406\u4e0a\u4e0d\u4e00\u5b9a\u76f8\u90bb.</li> <li>\u8bbf\u95ee\u65f6\u53ea\u80fd\u901a\u8fc7\u5934\u6307\u9488\u8fdb\u5165\u94fe\u8868,\u5e76\u901a\u8fc7\u6bcf\u4e2a\u7ed3\u70b9\u7684\u6307\u9488\u57df\u4f9d\u6b21\u5411\u540e\u987a\u5e8f\u626b\u63cf\u5176\u4f59\u7ed3\u70b9,\u6240\u4ee5\u5bfb\u627e\u7b2c\u4e00\u4e2a\u7ed3\u70b9\u548c\u6700\u540e\u4e00\u4e2a\u7ed3\u70b9\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u4e0d\u7b49</li> </ul> <p>\u987a\u5e8f\u8868\u2014\u2014\u2014\u2014\u2014\u2014&gt;\u968f\u673a\u5b58\u53d6 \u94fe\u8868\u2014\u2014\u2014\u2014\u2014\u2014&gt;\u987a\u5e8f\u5b58\u53d6</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_6","title":"\u5faa\u73af\u94fe\u8868","text":"<ul> <li> <p>\u662f\u4e00\u79cd\u5934\u5c3e\u76f8\u63a5\u7684\u94fe\u8868      \u5373:\u8868\u4e2d\u6700\u540e\u4e00\u4e2a\u7ed3\u70b9\u7684\u6307\u9488\u6307\u5411\u5934\u7ed3\u70b9,\u6574\u4e2a\u94fe\u8868\u5f62\u6210\u4e00\u4e2a\u73af</p> <ul> <li>\u4f18\u70b9:\u53ef\u4ee5\u4ece\u8868\u4e2d\u4efb\u610f\u4e00\u4e2a\u7ed3\u70b9\u51fa\u53d1\u627e\u5230\u8868\u4e2d\u5176\u4ed6\u7ed3\u70b9</li> </ul> </li> <li> <p>\u5faa\u73af\u94fe\u8868\u4e2d\u6ca1\u6709NULL\u6307\u9488,\u56e0\u6b64\u6d89\u53ca\u904d\u5386\u64cd\u4f5c\u65f6,\u5b83\u7684\u7ec8\u6b62\u6761\u4ef6\u5c31\u4e0d\u518d\u50cf\u975e\u5faa\u73af\u94fe\u8868\u4e00\u6837\u5224\u65ad<code>NULL == p</code>\u6216\u8005<code>NULL == p-&gt;pNext</code>\u800c\u662f\u5224\u65ad\u4ed6\u4eec\u662f\u5426\u7b49\u4e8e\u5934\u6307\u9488    <code>p == L</code> \u6216\u8005<code>p-&gt;pNext = L</code></p> </li> </ul> \u5934\u6307\u9488\u8868\u793a\u5355\u5faa\u73af\u94fe\u8868 \u5c3e\u6307\u9488\u8868\u793a\u5355\u5faa\u73af\u94fe\u8868 \u627e\u9996\u7ed3\u70b9\u5f88\u65b9\u4fbfa~1~O(1)   \u627e\u5c3e\u7ed3\u70b9\u4e0d\u65b9\u4fbfa~n~O(n) \u627e\u9996\u7ed3\u70b9\u548c\u5c3e\u7ed3\u70b9\u90fd\u5f88\u65b9\u4fbfO(1)             a~1~:(\u5c3e\u6307\u9488)R-&gt;pNext-&gt;pNext - \u5e26\u5c3e\u6307\u9488\u5faa\u73af\u5355\u94fe\u8868\u7684\u5408\u5e76 - p\u5b58\u653eTa(\u5faa\u73af\u5355\u94fe\u8868)\u7684\u5934\u7ed3\u70b9 - Tb\u7684\u9996\u7ed3\u70b9\u8fde\u63a5\u5230Ta\u7684\u5c3e\u7ed3\u70b9 - \u91ca\u653eTb\u5934\u7ed3\u70b9 - \u4fee\u6539\u6307\u9488,\u4f7fTb-&gt;pNext\u6307\u5411Ta\u7684\u5934\u7ed3\u70b9 #### \u53cc\u5411\u94fe\u8868 - \u7531\u4e8e\u5355\u5411\u94fe\u8868\u65e0\u6307\u9488\u57df\u6307\u5411\u524d\u9a71\u7ed3\u70b9\uff0c\u56e0\u6b64\u5f88\u96be\u5bf9\u5176\u4e2d\u4e00\u4e2a\u7ed3\u70b9\u7684\u524d\u9a71\u7ed3\u70b9\u8fdb\u884c\u67e5\u627e\u3002\u53ea\u80fd\u4ece\u8868\u7684\u5934\u7ed3\u70b9\u51fa\u53d1\u8fdb\u884c\u904d\u5386\u3002 - \u53cc\u5411\u94fe\u8868\uff1a\u5728\u6307\u9488\u57df\u5185\u589e\u52a0\u4e00\u4e2a\u6307\u5411\u524d\u9a71\u7ed3\u70b9\u7684\u6307\u9488\u57df<code>prior</code>\uff0c\u8fd9\u6837\u94fe\u8868\u4e2d\u5c31\u5f62\u6210\u4e86\u4e24\u4e2a\u4e0d\u540c\u65b9\u5411\u7684\u94fe C<pre><code> typedef struct DulNode\n {\n    Elemtype data;\n    struct DulNode *prior, *pnext;\n}DNODE, * PDNODE;\n</code></pre> <ul> <li>\u53cc\u5411\u94fe\u8868\u5177\u6709\u5bf9\u79f0\u6027   p-&gt;prior-&gt;pnext = p = p-&gt;pnext-&gt;prior</li> <li>\u53cc\u5411\u94fe\u8868\u7684\u4e00\u4e9b\u64cd\u4f5c\u53ea\u6d89\u53ca\u4e00\u4e2a\u65b9\u5411\u7684\u6307\u9488\uff0c\u56e0\u6b64\u5b83\u4eec\u7684\u7b97\u6cd5\u4e0e\u5355\u5411\u94fe\u8868\u76f8\u540c\u3002\u4f46\u5728\u63d2\u5165\u3001\u5220\u9664\u65f6\uff0c\u5219\u9700\u8981\u540c\u65f6\u4fee\u6539\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6307\u9488\u3002</li> <li>\u53cc\u5411\u94fe\u8868\u7684\u63d2\u5165 C<pre><code>s-&gt;prior = p-&gt;prior;\np-&gt;prior-&gt;pnext = s;\ns-&gt;pnext = p;\np-&gt;prior = s;\n</code></pre></li> <li>\u53cc\u5411\u94fe\u8868\u7684\u5220\u9664 C<pre><code>void ListDelete_Dul(PDNODE L, int i, Elemtype *e)\n{\n    //\u5220\u9664\u5e26\u5934\u7ed3\u70b9\u7684\u53cc\u5411\u5faa\u73af\u94fe\u8868L\u7684\u7b2ci\u4e2a\u5143\u7d20\uff0c\u5e76\u7528e\u8fd4\u56de\n    if( !(p=GetElemP_Dul(L,i)) )\n        //\u5224\u65adi\u7684\u4f4d\u7f6e\u662f\u5426\u5408\u7406\n        return ERROR;\n    e = p-&gt;data;\n    p-&gt;prior-&gt;pnext = p-&gt;pnext;\n    p-&gt;pnext-&gt;prior = p-&gt;prior;\n    free(p);\n    return OK;\n}\n</code></pre></li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_7","title":"\u53cc\u5411\u5faa\u73af\u94fe\u8868","text":"<ul> <li>\u5934\u7ed3\u70b9\u7684\u524d\u9a71\u6307\u9488\u6307\u5411\u94fe\u8868\u7684\u6700\u540e\u4e00\u4e2a\u7ed3\u70b9</li> <li>\u6700\u540e\u4e00\u4e2a\u7ed3\u70b9\u7684\u540e\u7ee7\u6307\u9488\u6307\u5411\u5934\u7ed3\u70b9</li> <li>\u7a7a\u8868\u6761\u4ef6\uff1a\u5934\u7ed3\u70b9\u540e\u7ee7\u6307\u9488\u6307\u5411\u81ea\u5df1\uff0c\u524d\u9a71\u6307\u9488\u4e5f\u6307\u5411\u81ea\u5df1\u3002</li> </ul> \u67e5\u627e\u5934\u7ed3\u70b9 \u67e5\u627e\u5c3e\u7ed3\u70b9 \u67e5\u627e\u7ed3\u70b9*P\u7684\u524d\u9a71\u7ed3\u70b9 \u5355\u5411\u94fe\u8868L L-&gt;pnext\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) L-pnext\u4f9d\u6b21\u904d\u5386\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a:O(n) \u65e0\u6cd5\u901a\u8fc7p-&gt;pnext\u627e\u5230\u524d\u9a71\u7ed3\u70b9 \u4ec5\u8bbe\u5934\u6307\u9488L\u7684\u5faa\u73af\u5355\u5411\u94fe\u8868 L-&gt;pnext\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) L-&gt;pnext\u4f9d\u6b21\u904d\u5386\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n) \u901a\u8fc7p-&gt;pnext\u53ef\u4ee5\u627e\u5230\u5176\u524d\u9a71\u7ed3\u70b9\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n) \u4ec5\u8bbe\u5c3e\u6307\u9488R\u7684\u5faa\u73af\u5355\u5411\u94fe\u8868 R-&gt;next\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) R\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) \u901a\u8fc7p-&gt;pnext\u53ef\u4ee5\u627e\u5230\u5176\u524d\u9a71\u7ed3\u70b9\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n) \u53cc\u5411\u5faa\u73af\u94fe\u8868L L-&gt;pnext\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) L-&gt;prior\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1) p-&gt;prior\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1)"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_8","title":"\u5b58\u50a8\u5bc6\u5ea6","text":"<ul> <li>\u5b58\u50a8\u5bc6\u5ea6\u662f\u6307\u7ed3\u70b9\u6570\u636e\u672c\u8eab\u6240\u5360\u7684\u5b58\u50a8\u91cf\u548c\u6574\u4e2a\u7ed3\u70b9\u7ed3\u6784\u4e2d\u6240\u5360\u7684\u5b58\u50a8\u91cf\u4e4b\u6bd4 \u5b58\u50a8\u5bc6\u5ea6 = \u7ed3\u70b9\u6570\u636e\u5143\u7d20\u672c\u8eab\u7684\u7a7a\u95f4 / \u7ed3\u70b9\u5360\u7528\u7684\u603b\u7a7a\u95f4</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_9","title":"\u987a\u5e8f\u8868\u548c\u94fe\u8868\u7684\u6bd4\u8f83","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_10","title":"\u94fe\u8868","text":"<ul> <li>\u4f18\u70b9<ul> <li>\u7ed3\u70b9\u7a7a\u95f4\u53ef\u4ee5\u52a8\u6001\u7533\u8bf7\u548c\u91ca\u653e</li> <li>\u6570\u636e\u5143\u7d20\u7684\u903b\u8f91\u6b21\u5e8f\u9760\u7ed3\u70b9\u7684\u6307\u9488\u6765\u8868\u793a\uff0c\u63d2\u5165\u548c\u5220\u9664\u65f6\u4e0d\u9700\u8981\u79fb\u52a8\u6570\u636e\u5143\u7d20</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u5b58\u50a8\u5bc6\u5ea6\u5c0f\uff0c\u6bcf\u4e2a\u7ed3\u70b9\u7684\u6307\u9488\u57df\u9700\u8981\u989d\u5916\u5360\u7528\u5b58\u50a8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u7ed3\u70b9\u7684\u6570\u636e\u57df\u6240\u5360\u5b57\u8282\u4e0d\u591a\u65f6\uff0c\u6307\u9488\u57df\u6240\u5360\u5b58\u50a8\u7a7a\u95f4\u7684\u6bd4\u91cd\u663e\u5f97\u5f88\u5927\u3002</li> <li>\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784\u662f\u975e\u968f\u673a\u5b58\u53d6\u7ed3\u6784\uff0c\u5bf9\u4efb\u4e00\u7ed3\u70b9\u7684\u64cd\u4f5c\u90fd\u8981\u4ece\u5934\u6307\u9488\u4ee5\u6307\u9488\u94fe\u67e5\u627e\u5230\u8be5\u7ed3\u70b9\uff0c\u8fd9\u589e\u52a0\u4e86\u7b97\u6cd5\u7684\u590d\u6742\u5ea6</li> </ul> </li> <li>\u9002\u7528\u4e8e<ul> <li>\u957f\u5ea6\u53d8\u5316\u6bd4\u8f83\u5927</li> <li>\u9891\u7e41\u8fdb\u884c\u63d2\u5165\u6216\u5220\u9664\u64cd\u4f5c</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_11","title":"\u987a\u5e8f\u8868","text":"<ul> <li>\u4f18\u70b9<ul> <li>\u4e0d\u7528\u4e3a\u8868\u793a\u7ed3\u70b9\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb\u800c\u589e\u52a0\u989d\u5916\u7684\u5b58\u50a8\u5f00\u9500\uff0c\u5b58\u50a8\u5bc6\u5ea6\u4e3a1</li> <li>\u968f\u673a\u5b58\u53d6\uff0c\u6309\u4f4d\u7f6e\u8bbf\u95ee\u5143\u7d20\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1)</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u9884\u5148\u5206\u914d\uff0c\u4f1a\u5bfc\u81f4\u7a7a\u95f4\u95f2\u7f6e\u6216\u6ea2\u51fa</li> <li>\u5e73\u5747\u79fb\u52a8\u7ea6\u8868\u4e2d\u4e00\u534a\u5143\u7d20\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)</li> </ul> </li> <li>\u9002\u7528\u4e8e<ul> <li>\u8868\u957f\u5ea6\u53d8\u5316\u4e0d\u5927\uff0c\u4e14\u80fd\u4e8b\u5148\u786e\u5b9a\u53d8\u5316\u8303\u56f4</li> <li>\u5f88\u5c11\u8fdb\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u7ecf\u5e38\u6309\u7167\u5143\u7d20\u4f4d\u7f6e\u5e8f\u53f7\u8bbf\u95ee\u6570\u636e\u5143\u7d20</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap2%E7%BA%BF%E6%80%A7%E8%A1%A8/%E7%BA%BF%E6%80%A7%E8%A1%A8/#_12","title":"\u7ebf\u6027\u8868\u5e94\u7528","text":"<ul> <li>\u7ebf\u6027\u8868\u5408\u5e76<ul> <li>\u95ee\u9898\u63cf\u8ff0<ul> <li>\u5047\u8bbe\u5229\u7528\u4e24\u4e2a\u7ebf\u6027\u8868La\u548cLb\u5206\u522b\u8868\u793a\u4e24\u4e2a\u96c6\u5408A\u548cB\uff0c\u73b0\u8981\u6c42\u4e00\u4e2a\u65b0\u7684\u96c6\u5408A = AUB La = (7,5,3,11) Lb = (2,6,3) ===&gt;   La = (7,5,3,11,2,6)</li> </ul> </li> <li>\u7b97\u6cd5\u6b65\u9aa4<ul> <li>\u4f9d\u6b21\u53d6\u51faLb\u4e2d\u6bcf\u4e2a\u5143\u7d20\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c<ul> <li>\u5728La\u4e2d\u67e5\u627e\u8be5\u5143\u7d20</li> <li>\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5219\u5c06\u5176\u63d2\u5165\u5230La\u7684\u6700\u540e</li> </ul> </li> </ul> </li> <li>\u5b9e\u73b0 C<pre><code>void union(PLIST La, PLIST Lb)\n{\n    int La_len = ListLength(La);\n    int Lb_len = ListLength(Lb);\n    for(int i=1; i&lt;Lb_len; i++)\n    {\n        GetElem(Lb,i,e);\n        if( !LocateElem(La,e) )\n            ListInsert(&amp;La, ++La_len, e)\n    }\n}\n//\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(ListLength(La)*ListLength(Lb))\n</code></pre></li> </ul> </li> <li>\u6709\u5e8f\u8868\u5408\u5e76<ul> <li>\u95ee\u9898\u63cf\u8ff0<ul> <li>\u5df2\u77e5\u7ebf\u6027\u8868La\u548cLb\u4e2d\u7684\u6570\u636e\u5143\u7d20\u6309\u503c\u975e\u9012\u51cf\u6709\u5e8f\u6392\u5217\uff0c\u73b0\u8981\u6c42\u5c06La\u548cLb\u5f52\u5e76\u4e3a\u4e00\u4e2a\u65b0\u7684\u7ebf\u6027\u8868Lc\uff0c\u4e14Lc\u4e2d\u7684\u6570\u636e\u5143\u7d20\u4ecd\u6309\u503c\u975e\u9012\u51cf\u6709\u5e8f\u6392\u5217 La = (1,7,8) Lb = (2,4,6,8,10,11) ====&gt;  Lb = (1,2,4,6,7,8,8,10,11)</li> </ul> </li> <li>\u7b97\u6cd5\u6b65\u9aa4<ul> <li>\u521b\u5efa\u4e00\u4e2a\u7a7a\u8868Lc</li> <li>\u4f9d\u6b21\u4eceLa\u6216Lb\u4e2d\"\u6458\u53d6\"\u5143\u7d20\u503c\u8f83\u5c0f\u7684\u7ed3\u70b9\u63d2\u5165\u5230Lc\u8868\u7684\u6700\u540e\uff0c\u76f4\u81f3\u5176\u4e2d\u4e00\u4e2a\u8868\u53d8\u7a7a\u4e3a\u6b62</li> <li>\u7ee7\u7eed\u5c06La\u6216Lb\u5176\u4e2d\u4e00\u4e2a\u8868\u7684\u5269\u4f59\u7ed3\u70b9\u63d2\u5165\u5728Lc\u8868\u7684\u6700\u540e</li> </ul> </li> <li>\u987a\u5e8f\u8868\u5b9e\u73b0 C<pre><code>void MergeList_Sq(SqLIST LA, SqList LB, SqList LC)\n{\n    Elemtype *pa = LA.elem; //\u5c06pa\u6307\u5411LA\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\n    Elemtype *pb = LB.elem;\n    LC.length = LA.length + LB.length;\n    LC.elem = (Elemtype *)malloc(sizeof(Eleltype)*LC.length);\n    pc = LC.elem;\n    Elemtype pa_last = LA.elem + LA.length - 1;\n    Elemtype pb_last = LB.elem + LB.length - 1; //\u5c06pb_last\u6307\u5411LB\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\n    while(pa&lt;=pa_last &amp;&amp; pb&lt;=pb_last)   //\u4e24\u4e2a\u8868\u90fd\u975e\u7a7a\n    {\n        if(*pa&lt;=*pb)\n            *pc++ = *pa++;  //\u7b49\u4ef7\u4e8e*pc = *pa;     pc++;      pa++;\n        else\n            *pc++ = *pb++;\n    }\n    while(pa&lt;=pa_last)      //LB\u8868\u5df2\u8fbe\u5230\u8868\u5c3e\uff0c\u5c06LA\u4e2d\u5269\u4f59\u7684\u5143\u7d20\u52a0\u5165LC\u4e2d\n        *pc++ = *pa++;\n    while(pb&lt;=pb_last)      //LA\u8868\u5df2\u8fbe\u5230\u8868\u5c3e\uff0c\u5c06LB\u4e2d\u5269\u4f59\u7684\u5143\u7d20\u52a0\u5165LC\u4e2d\n        *pc++ = *pb++;\n}\n</code></pre></li> <li>\u94fe\u8868\u5b9e\u73b0 C<pre><code>void MergeList_L(LinkList &amp;La, LinkList &amp;Lb, LinkList &amp;Lc)\n{\n    pa = La-&gt;pnext;\n    pb = Lb-&gt;pnext;\n    pc = Lc = La;       //\u5c06La\u7684\u5934\u7ed3\u70b9\u4f5c\u4e3aLc\u7684\u5934\u7ed3\u70b9\n    while( pa&amp;&amp;pb )     //\u5224\u65adpa\u548cpb\u662f\u5426\u4e3a\u7a7a\n    {\n        if(pa-&gt;data&lt;=pb-&gt;data)\n        {\n            pc-&gt;pnext = pa;\n            pc = pa;\n            pa = pa-&gt;pnext;\n        }\n        else\n        {\n            pc-&gt;pnext = pb;\n            pc = pb;\n            pb = pb-&gt;pnext;\n        }\n    }\n    pc-&gt;pnext = pa?pa:pb;\n    /*\n    \u4e09\u6728\u8fd0\u7b97\u7b26\n    \u7b49\u4ef7\u4e8e\uff1a\n    if(pa)\n        pc-&gt;pnext = pa;\n    else\n        pc-&gt;pnext = pb;\n    */\n    free(Lb);\n}\n</code></pre> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/","title":"\u6808\u548c\u961f\u5217","text":"<ul> <li>\u6808\u548c\u961f\u5217\u662f\u4e24\u79cd\u5e38\u7528\u7684\u3001\u91cd\u8981\u7684\u6570\u636e\u7ed3\u6784</li> <li>\u6808\u548c\u961f\u5217\u662f\u9650\u5b9a\u63d2\u5165\u548c\u5220\u9664\u53ea\u80fd\u5728\u8868\u7684\u7aef\u70b9\u8fdb\u884c\u7684\u7ebf\u6027\u8868</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_2","title":"\u6808\u7684\u5e94\u7528","text":"<ul> <li>\u7531\u4e8e\u6808\u7684\u64cd\u4f5c\u5177\u6709\u5148\u8fdb\u540e\u51fa\u7684\u7279\u6027\uff0c\u4f7f\u5f97\u6808\u6210\u4e3a\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u7684\u6709\u7528\u529f\u5177\u3002<ul> <li>\u6570\u5236\u8f6c\u6362</li> <li>\u8868\u8fbe\u5f0f\u6c42\u503c</li> <li>\u62ec\u53f7\u5339\u914d\u7684\u68c0\u9a8c</li> <li>\u516b\u7687\u540e\u95ee\u9898</li> <li>\u884c\u7f16\u8f91\u7a0b\u5e8f</li> <li>\u51fd\u6570\u8c03\u7528</li> <li>\u8ff7\u5bab\u6c42\u89e3</li> <li>\u9012\u5f52\u8c03\u7528\u7684\u5b9e\u73b0</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_3","title":"\u961f\u5217\u7684\u5e94\u7528","text":"<ul> <li>\u7531\u4e8e\u961f\u5217\u5177\u6709\u5148\u8fdb\u5148\u51fa\u7684\u7279\u6027\uff0c\u4f7f\u5f97\u961f\u5217\u6210\u4e3a\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u89e3\u51b3\u7c7b\u4f3c\u6392\u961f\u95ee\u9898\u7684\u6709\u7528\u5de5\u5177\u3002<ul> <li>\u8131\u673a\u6253\u5370\u8f93\u51fa\uff1a\u6309\u7533\u8bf7\u7684\u5148\u540e\u987a\u5e8f\u4f9d\u6b21\u8f93\u51fa\u3002</li> <li>\u591a\u7528\u6237\u7cfb\u7edf\u4e2d\uff0c\u591a\u4e2a\u7528\u6237\u6392\u6210\u961f\uff0c\u5206\u65f6\u5730\u5faa\u73af\u4f7f\u7528CPU\u548c\u4e3b\u5b58</li> <li>\u6309\u7528\u6237\u7684\u4f18\u5148\u7ea7\u6392\u6210\u591a\u4e2a\u961f\uff0c\u6bcf\u4e2a\u4f18\u5148\u7ea7\u4e00\u4e2a\u961f\u5217</li> <li>\u5b9e\u65f6\u63a7\u5236\u7cfb\u7edf\u4e2d\uff0c\u4fe1\u53f7\u6309\u63a5\u6536\u7684\u5148\u540e\u987a\u5e8f\u4f9d\u6b21\u5904\u7406</li> <li>\u7f51\u7edc\u7535\u6587\u4f20\u8f93\uff0c\u6309\u5230\u8fbe\u7684\u65f6\u95f4\u5148\u540e\u987a\u5e8f\u4f9d\u6b21\u8fdb\u884c</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_4","title":"\u6808\u7684\u5b9a\u4e49\u548c\u7279\u70b9","text":"<ul> <li>\u6808\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u7ebf\u6027\u8868,\u662f\u9650\u5b9a\u4ec5\u5728\u4e00\u7aef(\u901a\u5e38\u662f\u8868\u5c3e)\u8fdb\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u7ebf\u6027\u8868</li> <li>\u53c8\u79f0\u4e3a\u5148\u8fdb\u540e\u51fa\u7684\u7ebf\u6027\u8868,\u7b80\u79f0LIFO\u7ed3\u6784</li> <li> <p>\u6808\u7684\u76f8\u5173\u6982\u5ff5</p> <ul> <li>\u8868\u5c3ea~n~\u7aef\u79f0\u4e3a\u6808\u9876TOP</li> <li>\u8868\u5934a~1~\u79f0\u4e3a\u6808\u5e95Base</li> <li>\u63d2\u5165\u5143\u7d20\u5230\u6808\u9876\u7684\u64cd\u4f5c,\u5165\u6808</li> <li>\u4ece\u6808\u9876\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u7684\u64cd\u4f5c,\u51fa\u6808</li> <li>\u201c\u5165\u201d = \u538b\u5165 = PUSH    \u201c\u51fa\u201d = \u5f39\u51fa = POP</li> </ul> </li> <li> <p>\u903b\u8f91\u7ed3\u6784   \u4e0e\u7ebf\u6027\u8868\u76f8\u540c,\u4ecd\u4e3a\u4e00\u5bf9\u4e00\u5173\u7cfb</p> </li> <li>\u5b58\u50a8\u7ed3\u6784   \u7528\u987a\u5e8f\u6808\u6216\u94fe\u6808\u5b58\u50a8\u5747\u53ef,\u4f46\u4ee5\u987a\u5e8f\u6808\u66f4\u5e38\u89c1</li> <li>\u8fd0\u7b97\u89c4\u5219   \u53ea\u80fd\u5728\u6808\u9876\u8fd0\u7b97,\u4e14\u8bbf\u95ee\u7ed3\u70b9\u65f6\u4f9d\u7167\u540e\u8fdb\u5148\u51fa\u7684\u539f\u5219</li> <li>\u5b9e\u73b0\u65b9\u5f0f   \u5173\u952e\u662f\u7f16\u5199\u5165\u6808\u548c\u51fa\u6808\u51fd\u6570,\u5177\u4f53\u5b9e\u73b0\u4f9d\u987a\u5e8f\u6808\u6216\u94fe\u6808\u7684\u4e0d\u540c\u800c\u4e0d\u540c</li> <li>\u6808\u4e0e\u4e00\u822c\u7ebf\u6027\u8868\u7684\u4e0d\u540c<ul> <li>\u4ec5\u5728\u4e8e\u8fd0\u7b97\u89c4\u5219\u4e0d\u540c<ul> <li>\u4e00\u822c\u7ebf\u6027\u8868:\u968f\u673a\u5b58\u53d6</li> <li>\u6808:\u5148\u8fdb\u540e\u51fa</li> </ul> </li> </ul> </li> </ul> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_5","title":"\u961f\u5217\u7684\u5b9a\u4e49\u548c\u7279\u70b9","text":"<ul> <li>\u961f\u5217\u662f\u5148\u8fdb\u5148\u51fa\u7684\u7ebf\u6027\u8868,\u5728\u8868\u4e00\u7aef\u63d2\u5165(\u8868\u5c3e),\u53e6\u4e00\u7aef(\u8868\u5934)\u5220\u9664</li> <li>\u903b\u8f91\u7ed3\u6784:\u4e0e\u540c\u7ebf\u6027\u8868\u76f8\u540c,\u4ecd\u4e3a\u4e00\u5bf9\u4e00\u5173\u7cfb</li> <li>\u5b58\u50a8\u7ed3\u6784:\u987a\u5e8f\u961f\u6216\u94fe\u961f,\u4ee5\u5faa\u73af\u987a\u5e8f\u961f\u5217\u66f4\u5e38\u89c1</li> <li>\u8fd0\u7b97\u89c4\u5219:\u53ea\u80fd\u5728\u961f\u9996\u548c\u961f\u5c3e\u8fd0\u7b97,\u4e14\u8bbf\u95ee\u7ed3\u70b9\u65f6\u4f9d\u7167\u5148\u8fdb\u5148\u51fa\u539f\u5219</li> <li>\u5b9e\u73b0\u65b9\u5f0f:\u5173\u952e\u662f\u638c\u63e1\u5165\u961f\u548c\u51fa\u961f\u64cd\u4f5c,\u5177\u4f53\u5b9e\u73b0\u4f9d\u987a\u5e8f\u961f\u6216\u94fe\u961f\u7684\u4e0d\u540c\u800c\u4e0d\u540c</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_6","title":"\u6808\u7684\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u7684\u7c7b\u578b\u5b9a\u4e49","text":"C<pre><code>ADT Stack\n{\n    \u6570\u636e\u5bf9\u8c61:\n        D = { ai | ai \u5c5e\u4e8e ElemSet, i=1,2,...,n, n&gt;=0 }\n    \u6570\u636e\u5173\u7cfb:\n        R1 = { &lt;ai-1, ai&gt; | ai-1,ai\u5c5e\u4e8eD, i = 2,....,n }\n    \u57fa\u672c\u64cd\u4f5c:\n        \u521d\u59cb\u5316\u3001\u8fdb\u6808\u3001\u51fa\u6808\u3001\u53d6\u6808\u9876\u5143\u7d20\u7b49\n}ADT Stack\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_7","title":"\u987a\u5e8f\u6808\u7684\u8868\u793a\u548c\u5b9e\u73b0","text":"<ul> <li>\u5b58\u50a8\u65b9\u5f0f:\u540c\u4e00\u73ed\u7ebf\u6027\u8868\u7684\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784\u5b8c\u5168\u76f8\u540c<ul> <li>\u5229\u7528\u4e00\u7ec4\u5730\u5740\u8fde\u7eed\u7684\u5b58\u50a8\u5355\u5143\u4f9d\u6b21\u5b58\u653e\u81ea\u6808\u5e95</li> </ul> </li> <li>\u4ece\u6808\u9876\u7684\u6570\u636e\u5143\u7d20.\u6808\u5e95\u4e00\u822c\u5728\u4f4e\u5730\u5740\u7aef<ul> <li>\u9644\u8bbetop\u6307\u9488,\u6307\u793a\u6808\u9876\u5143\u7d20\u5728\u987a\u5e8f\u6808\u4e2d\u7684\u4f4d\u7f6e<ul> <li>\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbf\u64cd\u4f5c,\u901a\u5e38top\u6307\u793a\u771f\u6b63\u7684\u6808\u9876\u5143\u7d20\u4e4b\u4e0a\u7684\u4e0b\u6807\u5730\u5740</li> </ul> </li> <li>\u53e6\u8bbebase\u6307\u9488,\u6307\u793a\u6808\u5e95\u5143\u7d20\u5728\u987a\u5e8f\u6808\u4e2d\u7684\u4f4d\u7f6e</li> <li>\u53e6\u5916,\u7528stacksize\u8868\u793a\u6808\u53ef\u4f7f\u7528\u7684\u6700\u5927\u5bb9\u91cf</li> </ul> </li> <li>\u6808\u7684\u793a\u610f\u56fe</li> </ul> <ul> <li>\u7a7a\u6808:   base == top</li> <li>\u6ee1\u6808:   top-base == stacksize<ul> <li>\u6307\u9488\u76f8\u51cf\u5f97\u51fa\u7684\u7ed3\u679c\u662f\u4e24\u4e2a\u6307\u9488\u4e4b\u95f4\u76f8\u5dee\u7684\u5143\u7d20\u7684\u4e2a\u6570</li> <li>\u6ee1\u6808\u65f6\u7684\u5904\u7406\u65b9\u6cd5<ul> <li>\u62a5\u9519,\u8fd4\u56de\u64cd\u4f5c\u7cfb\u7edf</li> <li>\u5206\u914d\u66f4\u5927\u7684\u7a7a\u95f4,\u4f5c\u4e3a\u6808\u7684\u5b58\u50a8\u7a7a\u95f4,\u5c06\u539f\u6808\u7684\u5185\u5bb9\u79fb\u5165\u65b0\u6808</li> </ul> </li> </ul> </li> <li>\u4f7f\u7528\u6570\u7ec4\u4f5c\u4e3a\u987a\u5e8f\u6808\u5b58\u50a8\u65b9\u5f0f\u7684\u7279\u70b9<ul> <li>\u7b80\u5355\u3001\u65b9\u4fbf\u3001\u4f46\u6613\u4ea7\u751f\u6ea2\u51fa(\u6570\u7ec4\u5927\u5c0f\u56fa\u5b9a)</li> </ul> </li> <li>\u4e0a\u6ea2:  \u6808\u5df2\u6ee1,\u53c8\u8981\u538b\u5165\u5143\u7d20<ul> <li>\u4e0a\u6ea2\u662f\u4e00\u79cd\u9519\u8bef,\u4f7f\u95ee\u9898\u7684\u5904\u7406\u65e0\u6cd5\u8fdb\u884c</li> </ul> </li> <li>\u4e0b\u6ea2:  \u6808\u5df2\u7a7a,\u8fd8\u8981\u5f39\u51fa\u5143\u7d20<ul> <li>\u4e0b\u6ea2\u4e00\u822c\u8ba4\u4e3a\u662f\u4e00\u79cd\u7ed3\u675f\u6761\u4ef6,\u5373\u95ee\u9898\u5904\u7406\u7ed3\u675f</li> </ul> </li> </ul> <p>\u987a\u5e8f\u6808\u7684\u8868\u793a</p> C<pre><code>#define MAXSIZE 100\ntypedef struct SqStack\n{\n    SElemtype *base;    //\u6808\u5e95\u6307\u9488\n    SElemtype *top;      //\u6808\u9876\u6307\u9488\n    int stacksize;           //\u6808\u53ef\u7528\u6700\u5927\u5bb9\u91cf\n}SQSTACK;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_8","title":"\u6808\u4e0e\u9012\u5f52","text":"<ul> <li> <p>\u9012\u5f52\u7684\u5b9a\u4e49</p> <ul> <li>\u82e5\u4e00\u4e2a\u5bf9\u8c61\u90e8\u5206\u5730\u5305\u62ec\u5b83\u81ea\u5df1,\u6216\u7528\u5b83\u81ea\u5df1\u7ed9\u81ea\u5df1\u5b9a\u4e49,\u5219\u79f0\u8fd9\u4e2a\u5bf9\u8c61\u662f\u9012\u5f52\u7684</li> <li> <p>\u82e5\u4e00\u4e2a\u8fc7\u7a0b\u76f4\u63a5\u5730\u6216\u95f4\u63a5\u7684\u8c03\u7528\u81ea\u5df1,\u5219\u79f0\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u9012\u5f52\u8fc7\u7a0b</p> </li> <li> <p>\u4f8b\u5982:\u9012\u5f52\u6c42n\u7684\u9636\u4e58</p> C<pre><code>long Fact(long n)\n{\n    if(0 == n)\n        return 1;\n    else\n        return n*Fact(n-1);\n}\n</code></pre> </li> </ul> </li> <li> </li> <li> <p>\u9012\u5f52\u5b9a\u4e49\u7684\u6570\u5b66\u51fd\u6570</p> <ul> <li> <p>\u9636\u4e58\u51fd\u6570</p> <p>Fact(n) = 1                   \u82e5n=0</p> <p>Fact(n) = n*Fact(n-1)    \u82e5n&gt;0</p> </li> <li> <p>2\u9636Fibonaci\u6570\u5217</p> <p>Fib(n) = 1                               \u82e5n=1\u62162</p> <p>Fib(n) = Fib(n-1) + Fib(n-2)   \u5176\u4ed6</p> </li> </ul> </li> <li> <p>\u5177\u6709\u9012\u5f52\u7279\u6027\u7684\u6570\u636e\u7ed3\u6784</p> <ul> <li>\u4e8c\u53c9\u6811</li> <li>\u5e7f\u4e49\u8868</li> </ul> </li> <li> <p>\u53ef\u9012\u5f52\u6c42\u89e3\u7684\u95ee\u9898</p> <ul> <li>\u8ff7\u5bab\u95ee\u9898</li> <li>Hanoi\u5854\u95ee\u9898</li> </ul> </li> <li> </li> <li> <p>\u51fd\u6570\u8c03\u7528\u8fc7\u7a0b</p> <ul> <li> <p>\u8c03\u7528\u524d,\u7cfb\u7edf\u5b8c\u6210:</p> <ul> <li>\u5c06\u5b9e\u53c2,\u8fd4\u56de\u5730\u5740\u7b49\u4f20\u9012\u7ed9\u88ab\u8c03\u7528\u51fd\u6570</li> <li>\u4e3a\u88ab\u8c03\u7528\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\u5206\u914d\u5b58\u50a8\u533a</li> <li>\u5c06\u63a7\u5236\u8f6c\u79fb\u5230\u88ab\u8c03\u7528\u51fd\u6570\u7684\u5165\u53e3</li> </ul> </li> <li> <p>\u8c03\u7528\u540e,\u7cfb\u7edf\u5b8c\u6210:</p> <ul> <li>\u4fdd\u5b58\u88ab\u8c03\u7528\u51fd\u6570\u7684\u8ba1\u7b97\u7ed3\u679c</li> <li>\u91ca\u653e\u88ab\u8c03\u7528\u51fd\u6570\u7684\u6570\u636e\u533a</li> <li>\u4f9d\u7167\u88ab\u8c03\u7528\u51fd\u6570\u4fdd\u5b58\u7684\u8fd4\u56de\u5730\u5740\u5c06\u63a7\u5236\u8f6c\u79fb\u5230\u8c03\u7528\u51fd\u6570</li> </ul> </li> <li> <p>\u5f53\u591a\u4e2a\u51fd\u6570\u6784\u6210\u5d4c\u5957\u8c03\u7528\u65f6</p> C<pre><code>double fact(int n)\n{\n    .......\n        z = mypow(3.5, 2);\n    .......\n}\ndouble mypow(double x, int n)\n{\n    ......\n}\nint main(void)\n{\n    ......\n        y = fact(3);\n}\n</code></pre> <p></p> <p>\u9075\u5faa\u6808\u7684\u540e\u8c03\u7528\u5148\u8fd4\u56de</p> <p></p> </li> <li> <p>\u9012\u5f52\u51fd\u6570\u8c03\u7528\u7684\u5b9e\u73b0</p> \u5c42\u6b21 \u4e3b\u51fd\u6570 0\u5c42 \u7b2c\u4e00\u6b21\u8c03\u7528 1\u5c42 \u2026\u2026. \u7b2ci\u6b21\u8c03\u7528 i\u5c42 <p>\u201c\u9012\u5f52\u5de5\u4f5c\u6808\u201d\u2014\u2014\u9012\u5f52\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u4f7f\u7528\u7684\u6570\u636e\u5b58\u50a8\u533a</p> <p>\u201c\u5de5\u4f5c\u8bb0\u5f55\u201d\u2014\u2014\u2014\u2014\u5b9e\u5728\u53c2\u6570,\u5c40\u90e8\u53d8\u91cf,\u8fd4\u56de\u5730\u5740</p> </li> <li> <p>\u9012\u5f52\u7684\u4f18\u7f3a\u70b9</p> <ul> <li>\u4f18\u70b9:\u7ed3\u6784\u6e05\u6670,\u7a0b\u5e8f\u6613\u8bfb</li> <li>\u7f3a\u70b9<ul> <li>\u6bcf\u6b21\u8c03\u7528\u8981\u751f\u6210\u5de5\u4f5c\u8bb0\u5f55,\u4fdd\u5b58\u72b6\u6001\u4fe1\u606f,\u5165\u6808;</li> <li>\u8fd4\u56de\u65f6\u8981\u51fa\u6808,\u6062\u590d\u72b6\u6001\u4fe1\u606f.\u65f6\u95f4\u5f00\u9500\u5927.</li> </ul> </li> </ul> </li> <li> <p>\u9012\u5f52\u2014\u2014&gt;\u975e\u9012\u5f52</p> <ul> <li> <p>\u65b9\u6cd5\u4e00:\u5c3e\u9012\u5f52\u3001\u5355\u5411\u9012\u5f52\u2014\u2014\u2014&gt;\u5faa\u73af\u7ed3\u6784</p> <ul> <li> <p>\u5c3e\u9012\u5f52\u2014\u2014&gt;\u5faa\u73af\u7ed3\u6784</p> C<pre><code>long Fact(long n)\n{\n    if(0 == n)\n        return 1;\n    else\n        return n*Fact(n-1);\n}\n</code></pre> <p>\u8f6c\u5316\u4e3a</p> C<pre><code>long Fact(int n)\n{\n    t = 1;\n    for(int i=1; i&lt;=n; i++)\n        t = t*i;\n    return t;\n}\n</code></pre> </li> <li> <p>\u5355\u5411\u9012\u5f52\u2014\u2014&gt;\u5faa\u73af\u7ed3\u6784</p> <ul> <li>\u867d\u7136\u6709\u4e00\u5904\u4ee5\u4e0a\u7684\u9012\u5f52\u8c03\u7528\u8bed\u53e5,\u4f46\u5404\u6b21\u9012\u5f52\u8c03\u7528\u8bed\u53e5\u7684\u53c2\u6570\u53ea\u548c\u4e3b\u8c03\u51fd\u6570\u6709\u5173,\u4e0e\u76f8\u4e92\u4e4b\u95f4\u53c2\u6570\u65e0\u5173,\u5e76\u4e14\u8fd9\u4e9b\u9012\u5f52\u8c03\u7528\u8bed\u53e5\u5904\u4e8e\u7b97\u6cd5\u7684\u6700\u540e</li> </ul> C<pre><code>long Fib(long n)\n{\n    if(1 == n || 2 == n)\n        return 1;\n    else\n        return Fib(n-1) + Fib(n-2);\n}\n</code></pre> <p>\u8f6c\u6362\u4e3a</p> C<pre><code>long Fib(long n)\n{\n    if(1 == n || 2 == n)\n        return 1;\n    else\n    {\n        t1 = 1;\n        t2 = 1;\n        for(int i=3; i&lt;=n; i++)\n        {\n            t3 = t1 + t2;\n            t1 = t2;\n            t2 = t3;\n        }\n        return t3;\n    }\n}\n</code></pre> </li> </ul> </li> <li> <p>\u65b9\u6cd5\u4e8c:\u81ea\u7528\u6808\u6a21\u62df\u7cfb\u7edf\u7684\u8fd0\u884c\u65f6\u6808</p> <ul> <li>\u501f\u52a9\u6808\u6539\u5199\u9012\u5f52\u7684\u65b9\u6cd5<ul> <li>\u9012\u5f52\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\u9700\u8981\u7cfb\u7edf\u63d0\u4f9b\u6808\u6765\u5b9e\u73b0</li> <li>\u4eff\u7167\u9012\u5f52\u7b97\u6cd5\u6267\u884c\u8fc7\u7a0b\u4e2d\u9012\u5f52\u5de5\u4f5c\u6808\u7684\u72b6\u6001\u53d8\u5316\u53ef\u5199\u51fa\u76f8\u5e94\u7684\u975e\u9012\u5f52\u7a0b\u5e8f</li> <li>\u6539\u5199\u540e\u7684\u975e\u9012\u5f52\u7b97\u6cd5\u4e0e\u539f\u6765\u7684\u9012\u5f52\u7b97\u6cd5\u76f8\u6bd4\uff0c\u7ed3\u6784\u4e0d\u591f\u6e05\u6670\uff0c\u53ef\u8bfb\u6027\u8f83\u5dee\uff0c\u6709\u7684\u8fd8\u9700\u8981\u7ecf\u8fc7\u4e00\u7cfb\u5217\u4f18\u5316</li> <li></li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_9","title":"\u6808\u4e0e\u9012\u5f52\u7684\u5b9e\u4f8b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_10","title":"\u9012\u5f52\u95ee\u9898\u2014\u2014\u7528\u5206\u6cbb\u6cd5\u6c42\u89e3","text":"<ul> <li> <p>\u5206\u6cbb\u6cd5: \u5bf9\u4e8e\u4e00\u4e2a\u8f83\u4e3a\u590d\u6742\u7684\u95ee\u9898,\u80fd\u591f\u5206\u89e3\u6210\u51e0\u4e2a\u76f8\u5bf9\u7b80\u5355\u7684\u4e14\u89e3\u6cd5\u76f8\u540c\u6216\u7c7b\u4f3c\u7684\u5b50\u95ee\u9898\u6765\u6c42\u89e3</p> <p>\u5fc5\u5907\u7684\u4e09\u4e2a\u6761\u4ef6</p> <ul> <li>\u80fd\u591f\u5c06\u4e00\u4e2a\u95ee\u9898\u8f6c\u53d8\u6210\u4e00\u4e2a\u65b0\u95ee\u9898,\u800c\u65b0\u95ee\u9898\u4e0e\u539f\u95ee\u9898\u7684\u89e3\u6cd5\u76f8\u540c\u6216\u7c7b\u540c,\u4e0d\u540c\u7684\u4ec5\u662f\u5904\u7406\u7684\u5bf9\u8c61,\u4e14\u8fd9\u4e9b\u5904\u7406\u5bf9\u8c61\u662f\u53d8\u5316\u6709\u89c4\u5f8b\u7684</li> <li>\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u8f6c\u5316\u800c\u4f7f\u95ee\u9898\u7b80\u5316</li> <li>\u5fc5\u987b\u6709\u4e00\u4e2a\u660e\u786e\u7684\u9012\u5f52\u51fa\u53e3,\u6216\u79f0\u9012\u5f52\u7684\u8fb9\u754c</li> </ul> </li> <li> <p>\u5206\u6cbb\u6cd5\u6c42\u89e3\u9012\u5f52\u95ee\u9898\u7b97\u6cd5\u7684\u4e00\u822c\u5f62\u5f0f:</p> C<pre><code>void p(\u53c2\u6570\u8868)\n{\n    if (\u9012\u5f52\u7ed3\u675f\u6761\u4ef6)\n            \u53ef\u76f4\u63a5\u6c42\u89e3\u6b65\u9aa4;    //----\u57fa\u672c\u9879\n    else\n        p(\u8f83\u5c0f\u7684\u53c2\u6570);           //----\u5f52\u7eb3\u9879\n}\n</code></pre> <ul> <li> <p>\u4f8b\u5982:</p> C<pre><code>long Fact(long n)\n{\n    if(0 == n)\n        return 1;                       //\u57fa\u672c\u9879\n    else\n        return n*Fact(n-1);     //\u5f52\u7eb3\u9879\n}\n</code></pre> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_11","title":"\u961f\u5217\u7684\u8868\u793a\u548c\u64cd\u4f5c\u7684\u5b9e\u73b0","text":"<ul> <li>\u76f8\u5173\u672f\u8bed<ul> <li>\u961f\u5217\u662f\u4ec5\u5728\u8868\u5c3e\u8fdb\u884c\u63d2\u5165\u64cd\u4f5c,\u5728\u8868\u5934\u8fdb\u884c\u5220\u9664\u64cd\u4f5c\u7684\u7ebf\u6027\u8868</li> <li>\u8868\u5c3e\u5373a~n~\u7aef,\u79f0\u4e3a\u961f\u5c3e;\u8868\u5934\u5373a~1~\u7aef,\u79f0\u4e3a\u961f\u5934</li> <li>\u5b83\u662f\u4e00\u79cd\u5148\u8fdb\u5148\u51fa\u7684\u7ebf\u6027\u8868</li> <li>\u63d2\u5165\u5143\u7d20\u79f0\u4e3a\u5165\u961f;\u5220\u9664\u5143\u7d20\u79f0\u4e3a\u51fa\u961f</li> <li>\u961f\u5217\u7684\u5b58\u50a8\u7ed3\u6784\u4e3a\u94fe\u961f\u6216\u987a\u5e8f\u961f(\u5e38\u7528\u5faa\u73af\u987a\u5e8f\u961f)</li> </ul> </li> </ul> C<pre><code>ADT Queue\n{\n    \u6570\u636e\u5bf9\u8c61: D = {ai | ai\u5c5e\u4e8eElemSet, i = 1,2,...,n, n&gt;=0}\n    \u6570\u636e\u5173\u7cfb: R = {&lt;a(i-1), ai} | a(i-1),ai\u5c5e\u4e8eD, i=2,...,n}  \u7ea6\u5b9aa1\u7aef\u4e3a\u961f\u5217\u5934   an\u7aef\u4e3a\u961f\u5217\u5c3e\n    \u57fa\u672c\u64cd\u4f5c\uff1a\n        InitQueue(&amp;0)\n        \u64cd\u4f5c\u7ed3\u679c\uff1a\u6784\u9020\u7a7a\u961f\u5217Q\n        DestroyQueue(&amp;Q\uff09 \u6761\u4ef6\uff1a\u961f\u5217Q\u5df2\u5b58\u5728\uff1b\u64cd\u4f5c\u7ed3\u679c\uff1a\u961f\u5217Q\u88ab\u9500\u6bc1\n        ClearQueue(&amp;0)\n        \u6761\u4ef6\uff1a\u961f\u5217Q\u5df2\u5b58\u5728;\u64cd\u4f5c\u7ed3\u679c\uff1a\u5c06Q\u6e05\u7a7a\n        QueueLength(Q)\n        \u6761\u4ef6\uff1a\u961f\u5217Q\u5df2\u5b58\u5728 \u64cd\u4f5c\u7ed3\u679c\uff1a\u8fd4\u56deQ\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u5373\u961f\u957f\n        GetHead(O, &amp;e)\n        \u6761\u4ef6\uff1aQ\u4e3a\u975e\u7a7a\u961f\u5217\n        \u64cd\u4f5c\u7ed3\u679c\uff1a\u7528e\u8fd4\u56deQ\u7684\u961f\u5934\u5143\u7d20\n        EnQueue(&amp;Q, e)\n        \u6761\u4ef6\uff1a\u961f\u5217Q\u5df2\u5b58\u5728\n        \u64cd\u4f5c\u7ed3\u679c\uff1a\u63d2\u5165\u5143\u7d20e\u4e3aQ\u7684\u961f\u5c3e\u5143\u7d20\n        DeQueue(&amp;Q, &amp;e\uff09 \u6761\u4ef6\uff1aQ\u4e3a\u975e\u7a7a\u961f\u5217 \u64cd\u4f5c\u7ed3\u679c\uff1a\u5dde\u9664Q\u7684\u961f\u5934\u5143\u7d20\uff0c\u7528e\u8fd4\u56de\u503c\n        .......\u8fd8\u6709\u5c06\u961f\u5217\u7f6e\u7a7a\u3001\u904d\u5386\u961f\u5217\u7b49\u64cd\u4f5c......\n}ADT Queue\n</code></pre> <ul> <li>\u961f\u5217\u7684\u7269\u7406\u5b58\u50a8\u53ef\u4ee5\u7528\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784, \u4e5f\u53ef\u4ee5\u7528\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784,\u76f8\u5e94\u7684,\u961f\u5217\u7684\u5b58\u50a8\u65b9\u5f0f\u4e5f\u5206\u4e3a\u4e24\u79cd,\u5373:\u987a\u5e8f\u961f\u5217\u548c\u94fe\u5f0f\u961f\u5217.</li> <li> </li> </ul> C<pre><code>#define MAXQSIZE 100\ntypedef struct SqQueue\n{\n    QElemType *base;\n    int front;                  //\u5934\u6307\u9488\n    int rear;                   //\u5c3e\u6307\u9488\n};\n</code></pre> <ul> <li> </li> <li> <p>rear = MAXQSIZE\u65f6,\u53d1\u751f\u6ea2\u51fa</p> <ul> <li>\u5047\u6ea2\u51fa<ul> <li>front != 0</li> <li>rear = MAXQISZE</li> </ul> </li> <li>\u771f\u6ea2\u51fa<ul> <li>Front = 0</li> <li>rear = MAXSIZE</li> </ul> </li> </ul> </li> <li> <p>\u89e3\u51b3\u5047\u6ea2\u51fa\u7684\u65b9\u6cd5</p> <ul> <li> <p>\u961f\u5934\u5143\u7d20\u51fa\u961f\u540e,\u5c06\u961f\u4e2d\u5143\u7d20\u4f9d\u6b21\u5411\u961f\u5934\u65b9\u5411\u79fb\u52a8</p> <ul> <li>\u7f3a\u70b9:\u6d6a\u8d39\u65f6\u95f4.\u6bcf\u79fb\u52a8\u4e00\u6b21,\u961f\u4e2d\u5143\u7d20\u90fd\u8981\u79fb\u52a8</li> </ul> </li> <li> <p>\u5f15\u5165\u5faa\u73af\u961f\u5217</p> <ul> <li> <p>\u5c06\u961f\u7a7a\u95f4\u8bbe\u60f3\u6210\u4e00\u4e2a\u5faa\u73af\u7684\u8868,\u5373\u5206\u914d\u7ed9\u961f\u5217\u7684m\u4e2a\u5b58\u50a8\u5355\u5143\u53ef\u4ee5\u5faa\u73af\u4f7f\u7528,\u5f53rear\u4e3aMAXQSIZE\u65f6,\u82e5\u5411\u91cf\u7684\u5f00\u59cb\u7aef\u7a7a\u7740,\u53c8\u53ef\u4ee5\u4ece\u5934\u4f7f\u7528\u7a7a\u7740\u7684\u7a7a\u95f4.\u5f53front\u4e3aMAXQSIZE\u65f6,\u4e5f\u662f\u4e00\u6837</p> </li> <li> <p>base[0]\u63a5\u5728base[MAXQSIZE-1]\u4e4b\u540e,\u82e5rear+1 == M,\u5219\u4ee4rear = 0;</p> </li> <li> <p>\u5b9e\u73b0\u65b9\u6cd5: \u5e76\u975e\u662f\u771f\u6b63\u4f7f\u7528\u5faa\u73af\u961f\u5217,\u800c\u662f\u5229\u7528\u6a21(mod, C\u8bed\u8a00\u4e2d: %)\u8fd0\u7b97</p> </li> <li> <p>\u63d2\u5165\u5143\u7d20:</p> C<pre><code>Q.base[Q.rear] = x;\nQ.rear = (Q.rear + 1) % MAXQSIZE;\n</code></pre> </li> <li> <p>\u5220\u9664\u5143\u7d20</p> C<pre><code>x = Q.base[s.front];\nQ.front  = (Q.front + 1) % MAXQSIZE;\n</code></pre> </li> <li> <p>\u5faa\u73af\u961f\u5217: \u5faa\u73af\u4f7f\u7528\u4e3a\u961f\u5217\u5206\u914d\u7684\u5b58\u50a8\u7a7a\u95f4</p> </li> </ul> </li> </ul> </li> <li> </li> <li> <p>\u961f\u6ee1\u548c\u961f\u7a7a\u7684\u6761\u4ef6\u90fd\u4e3a<code>front == rear</code>,\u65e0\u6cd5\u8fdb\u884c\u5224\u65ad</p> </li> <li> <p>\u89e3\u51b3\u65b9\u6848</p> <ul> <li>\u53e6\u5916\u8bbe\u7f6e\u4e00\u4e2a\u6807\u5fd7,\u4ee5\u533a\u522b\u961f\u7a7a\u3001\u961f\u6ee1<ul> <li>\u4f8b\u5982:\u961f\u7a7a\u65f6front\u6307\u5411\u7684\u503c\u4e3a-1</li> </ul> </li> <li>\u53e6\u5916\u8bbe\u7f6e\u4e00\u4e2a \u53d8\u91cf,\u8bb0\u5f55\u5143\u7d20\u4e2a\u6570<ul> <li>\u4f8b\u5982:\u5165\u961f\u65f6,\u6709<code>`cnt++;</code></li> </ul> </li> <li>\u5c11\u7528\u4e00\u4e2a\u5143\u7d20\u7a7a\u95f4<ul> <li></li> </ul> </li> </ul> </li> <li> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#basemaxqsize","title":"\u961f\u5217\u7684\u987a\u5e8f\u8868\u793a\u2014\u2014\u7528\u4e00\u7ef4\u6570\u7ec4base[MAXQSIZE]","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_12","title":"\u961f\u5217\u6ea2\u51fa","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_13","title":"\u961f\u6ee1\u548c\u961f\u7a7a\u7684\u6761\u4ef6","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap3%20%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97/#_14","title":"\u961f\u5217\u7528\u94fe\u8868\u8868\u793a","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/","title":"\u4e32","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_2","title":"\u4e32\u7684\u5b9a\u4e49","text":"<ul> <li>\u4e32\uff1a \u96f6\u4e2a\u6216\u591a\u4e2a\u4efb\u610f\u5b57\u7b26\u7ec4\u6210\u7684\u6709\u9650\u5e8f\u5217<ul> <li>S = \"a~1~a~2~a~3~.....a~n~\"</li> <li>S\u4e3a\u4e32\u540d</li> <li>\" \"\u5185\u90e8\u4e3a\u4e32\u503c</li> <li>n\u4e3a\u4e32\u957f</li> <li>n=0\u65f6\u4e3a\u7a7a\u4e32</li> <li>\u7a7a\u4e32\u7528\u7a7a\u96c6\u7b26\u53f7\u8868\u793a</li> </ul> </li> <li>\u5b50\u4e32\uff1a \u4e00\u4e2a\u4e32\u4e2d\u4efb\u610f\u4e2a\u8fde\u7eed\u5b57\u7b26\u7ec4\u6210\u7684\u5b50\u5e8f\u5217\uff08\u5305\u542b\u7a7a\u4e32\uff09<ul> <li>\u4f8b\u5982\uff1a\"abcde\"\u7684\u5b50\u4e32\u6709\uff1a<ul> <li>\"\"</li> <li>\"a\"</li> <li>\"ab\"</li> <li>\"abc\"</li> <li>\"abcd\"</li> <li>\"abcde\"</li> </ul> </li> </ul> </li> <li>\u771f\u5b50\u4e32\uff1a \u4e0d\u5305\u542b\u81ea\u8eab\u7684\u6240\u6709\u5b50\u4e32</li> <li>\u4e3b\u4e32\uff1a \u5305\u542b\u5b50\u4e32\u7684\u4e32</li> <li>\u5b57\u7b26\u4f4d\u7f6e\uff1a \u5b57\u7b26\u5728\u5e8f\u5217\u4e2d\u7684\u5e8f\u53f7\u4e3a\u8be5\u5b57\u7b26\u5728\u4e32\u4e2d\u7684\u4f4d\u7f6e</li> <li>\u5b50\u4e32\u4f4d\u7f6e\uff1a \u5b50\u4e32\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5728\u4e3b\u4e32\u4e2d\u7684\u4f4d\u7f6e</li> <li>\u7a7a\u683c\u4e32\uff1a \u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\u7ec4\u6210\u7684\u4e32\uff0c\u4e0e\u7a7a\u4e32\u4e0d\u540c <p>\u5b57\u7b26\u4e32a\u3001b\u3001c\u3001d a = \"BEI\" b = \"JING\" c = \"BEIJING\" d = \"BEI JING\" - \u957f\u5ea6\uff1aa=3, b=4, c=7, d=8</p> </li> <li>\u4e32\u76f8\u7b49\uff1a \u5f53\u4e14\u4ec5\u5f53\u4e24\u4e2a\u4e32\u7684\u957f\u5ea6\u76f8\u7b49\u5e76\u4e14\u5404\u4e2a\u5bf9\u5e94\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u90fd\u76f8\u540c\u65f6\uff0c\u8fd9\u4e24\u4e2a\u4e32\u76f8\u7b49 <p>\u5982\uff1a \"abcd\" != \"abc\" \"abcd\" != \"ab cd\"</p> </li> <li>\u6240\u6709\u7a7a\u4e32\u90fd\u662f\u76f8\u7b49\u7684</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_3","title":"\u4e32\u6848\u4f8b\u5f15\u5165","text":"Text Only<pre><code>\u4e32\u7684\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u8ba1\u7b97\u673a\u4e0a\u7684\u975e\u6570\u503c\u5904\u7406\u5bf9\u8c61\u5927\u90e8\u5206\u65f6\u5b57\u7b26\u4e32\u6570\u636e\u3002\n</code></pre> <p>\u4f8b\u5982\uff1a\u6587\u5b57\u7f16\u8f91\u3001\u7b26\u53f7\u5904\u7406\u3001\u5404\u79cd\u4fe1\u606f\u5904\u7406\u7cfb\u7edf\u7b49 - \u68c0\u6d4b\u67d0\u79cd\u75c5\u6bd2\u7684DNA\u662f\u5426\u5728\u4eba\u7c7b\u7684DNA\u5e8f\u5217\u4e2d\u51fa\u73b0\u8fc7\uff08\u75c5\u6bd2\u7684DNA\u662f\u73af\u72b6\u7684\uff0c \u4eba\u7684DNA\u662f\u7ebf\u6027\u7684\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_4","title":"\u4e32\u7684\u7c7b\u578b\u5b9a\u4e49\u3001\u5b58\u50a8\u7ed3\u6784\u53ca\u8fd0\u7b97","text":"<p><code>C ADT String {     \u6570\u636e\u5bf9\u8c61\uff1a D = {ai | ai \u5c5e\u4e8e CharacterSet, i = 1, 2, 3, ..., n, n&gt;=0}     \u6570\u636e\u5173\u7cfb\uff1a R1 = {&lt;a(i-1), ai&gt; | a(i-1), ai \u5c5e\u4e8eD. i = 1, 2, ...., n}     \u57fa\u672c\u64cd\u4f5c\uff1a         StrAssign(&amp;T, chars)    //\u4e32\u7684\u8d4b\u503c         StrCompare(S, T)        //\u4e32\u7684\u6bd4\u8f83         StrLength(S)            //\u6c42\u4e32\u957f         Concat(&amp;T, S1, S2)      //\u4e32\u8fde\u7ed3         SubString(&amp;Sub,S,pos,len\uff09 //\u6c42\u5b50\u4e32         StrCopy(&amp;T,S)           //\u4e32\u62f7\u8d1d         StrEmpty(S)             //\u4e32\u5224\u7a7a         ClearString (&amp;S)        //\u6e05\u7a7a\u4e32         Index(S,T,pos)          //\u5b50\u4e32\u7684\u4f4d\u7f6e         Replace(&amp;S, T,V)        //\u4e32\u66ff\u6362         Strinsert(&amp;S,pos,T)     //\u5b50\u4e32\u63d2\u5165         StrDelete(&amp;S,pos,len)   //\u5b50\u4e32\u5220\u9664         DestroyString(&amp;S)       //\u4e32\u9500\u6bc1 }ADT String</code> - \u4e32\u7684\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784 ```C</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#define-maxlen-265","title":"define MAXLEN 265","text":"<p>typedef struct String {     char ch[MAXLEN+1];  //+1\u4e3a\u4e86\u591a\u50a8\u5b58\u4e00\u4f4d\u7ed3\u675f\u7b26     int length; }; <code>- \u4e32\u7684\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784     - \u4f18\u70b9\uff1a\u64cd\u4f5c\u65b9\u4fbf     - \u7f3a\u70b9\uff1a\u5b58\u50a8\u5bc6\u5ea6\u4f4e         - \u53ef\u4ee5\u5c06\u591a\u4e2a\u5b57\u7b26\u5b58\u653e\u5728\u4e00\u4e2a\u7ed3\u70b9\u4e2d\uff0c\u4ee5\u5c3d\u91cf\u51cf\u5c0f\u6b64\u7f3a\u70b9</code>C</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#define-chunksize-80","title":"define CHUNKSIZE 80","text":"<p>typedef struct Chunk {     char ch[CHUNKSIZE];     struct Chunk next; }Chunk; typedef struct String {     Chuck head, *tail;     //\u4e32\u7684\u5934\u6307\u9488\u548c\u5c3e\u6307\u9488     int curlen;             //\u4e32\u5f53\u524d\u7684\u957f\u5ea6 }LString; ```</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_5","title":"\u4e32\u7684\u5339\u914d\u6a21\u5f0f\u7b97\u6cd5","text":"<ul> <li>\u7b97\u6cd5\u76ee\u7684<ul> <li>\u786e\u5b9a\u4e3b\u4e32\u4e2d\u6240\u5305\u542b\u5b50\u4e32(\u6a21\u5f0f\u4e32)\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e(\u5b9a\u4f4d)</li> </ul> </li> <li>\u7b97\u6cd5\u5e94\u7528<ul> <li>\u641c\u7d22\u5f15\u64ce</li> <li>\u62fc\u5199\u68c0\u67e5</li> <li>\u8bed\u8a00\u7ffb\u8bd1</li> <li>\u6570\u636e\u538b\u7f29</li> </ul> </li> <li>\u7b97\u6cd5\u79cd\u7c7b<ul> <li>BF\u7b97\u6cd5(Brute- Force, \u53c8\u79f0\u53e4\u5178\u7684\u3001\u7ecf\u5178\u7684\u3001\u6734\u7d20\u7684\u3001\u7a77\u4e3e\u7684)</li> <li>KMP\u7b97\u6cd5(\u7279\u70b9:\u901f\u5ea6\u5feb)</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#bf","title":"\u4e32\u7684\u6a21\u5f0f\u5339\u914d\u7b97\u6cd5\u2014\u2014\u2014\u2014BF\u7b97\u6cd5","text":"<ul> <li>Brute-Force\u7b80\u79f0\u4e3aBF\u7b97\u6cd5,\u4ea6\u79f0\u7b80\u5355\u5339\u914d\u7b97\u6cd5.\u91c7\u7528\u7a77\u4e3e\u6cd5\u7684\u601d\u8def</li> </ul> <p>S : a   a    a   a   b   c   d                  \u4e3b\u4e32:\u6b63\u6587\u4e32</p> <p>T:                        a   b   c                          \u5b50\u4e32:\u6a21\u5f0f\u4e32</p> <p>\u7b97\u6cd5\u7684\u601d\u8def:\u4eceS\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u4f9d\u6b21\u4e0eT\u7684\u5b57\u7b26\u8fdb\u884c\u5339\u914d</p> <p>\u4f8b\u5982:\u8bbe\u76ee\u6807\u4e32S = \u201caaaaab\u201c, \u6a21\u5f0f\u4e32T = \u201daaab\u201c</p> <p>\u200b        S\u7684\u957f\u5ea6\u4e3an(n=6), T\u7684\u957f\u5ea6\u4e3am(m=4)</p> <p>BF\u7b97\u6cd5\u7684\u5339\u914d\u8fc7\u7a0b\u5982\u4e0b</p> <p>i = 1,j = 1;</p> <p>S:  a   a   a   a   a   b</p> <p>T:  a   a   a   b</p> <p>\u5339\u914d\u5931\u8d25:</p> <p>\u200b   i = i-j+2 = 2(\u56de\u6eaf)   //  i-j+2\u53ef\u4ee5\u770b\u4e3a:<code>(i-j+1)+1</code> <code>i-j+1</code>\u662f\u5c06i\u653e\u5230\u5f00\u59cb\u7684\u4f4d\u7f6e, \u518d<code>+1</code>\u540e\u53d8\u6210\u4ece\u5f00\u59cb\u4f4d\u7f6e\u7684\u540e\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb</p> <p>\u200b   j = 1(\u4ece\u5934\u5f00\u59cb)</p> <p>i = 3,j = 1;</p> <p>S:  a   a   a   a   a   b</p> <p>T:                  a   a   a   b</p> <p>\u5339\u914d\u6210\u529f:</p> <p>\u200b   i = 7, j = 5    \u8fd4\u56de i - T.length = 3 //  <code>i-T.length</code>    \u5176\u4e2d<code>i</code>\u8868\u793a\u5339\u914d\u7ed3\u675f\u540e<code>i</code>\u6240\u5728\u7684\u4f4d\u7f6e,<code>i-T.length</code>\u4ee3\u8868T\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5728\u4e3b\u4e32\u4e2d\u7684\u4f4d\u7f6e</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#bf_1","title":"BF\u7b97\u6cd5\u8bbe\u8ba1\u601d\u60f3","text":"<p><code>Index(S, T, pos)</code></p> <ul> <li>\u5c06\u4e3b\u4e32\u7684\u7b2cpos\u4e2a\u5b57\u7b26\u548c\u6a21\u5f0f\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u6bd4\u8f83<ul> <li>\u82e5\u76f8\u7b49, \u7ee7\u7eed\u9010\u4e2a\u6bd4\u8f83\u540e\u7eed\u5b57\u7b26</li> <li>\u82e5\u4e0d\u76f8\u7b49, \u4ece\u4e3b\u4e32\u7684\u4e0b\u4e00\u4e2a\u5b57\u7b26\u8d77,\u91cd\u65b0\u4e0e\u6a21\u5f0f\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u6bd4\u8f83</li> </ul> </li> <li>\u76f4\u5230\u4e3b\u4e32\u7684\u4e00\u4e2a\u8fde\u7eed\u5b50\u4e32\u5b57\u7b26\u5e8f\u5217\u4e0e\u6a21\u5f0f\u4e32\u76f8\u7b49. \u8fd4\u56de\u503c\u4e3aS\u4e2d\u4e0eT\u5339\u914d\u7684\u5b50\u5e8f\u5217\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u5e8f\u53f7,\u5373\u5339\u914d\u6210\u529f</li> <li>\u5426\u5219, \u5339\u914d\u5931\u8d25, \u8fd4\u56de\u503c<code>0</code></li> </ul> C<pre><code>int Index_BF(SString S, SString T, int pos)\n{\n    int i = pos, j = 1;\n    while( i&lt;=S.length &amp;&amp; j&lt;=T.length )     //\u4e24\u4e2a\u6761\u4ef6\u5fc5\u987b\u540c\u65f6\u6210\u7acb.  S\u4e0eT\u90fd\u6709\u4e00\u4e2a\u53d8\u91cflength\u6765\u8bb0\u5f55\u6b64\u65f6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\n    {\n        if( S.ch[i] == T.ch[j] )\n        {\n            ++i;\n            ++j;\n        }\n        else\n        {\n            i = i-j+2;\n            j = 1;\n        }\n    }\n    if ( j&gt;=T.length )\n        return i-T.length;\n    else\n        return 0;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#bf_2","title":"BF\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6","text":"<ul> <li>\u82e5n\u4e3a\u4e3b\u4e32\u7684\u957f\u5ea6, m\u4e3a\u5b50\u4e32\u7684\u957f\u5ea6<ul> <li>\u6700\u574f\u7684\u60c5\u51b5\u662f<ul> <li>\u5728\u4e3b\u4e32\u524d\u9762n - m\u4e2a\u4f4d\u7f6e\u90fd\u90e8\u5206\u5339\u914d\u5230\u5b50\u4e32\u7684\u6700\u540e\u4e00\u4f4d,\u5373\u8fd9n-m\u4f4d\u5404\u6bd4\u8f83\u4e86m\u6b21</li> <li>\u6700\u540en-m\u4f4d\u4e5f\u5404\u6bd4\u8f83\u4e861\u6b21</li> </ul> </li> <li>\u603b\u6b21\u6570\u4e3a: (n-m) * m + m = (n-m+1)*m</li> <li>\u82e5m&lt;&lt;n, \u5219\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n*m)</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#kmp","title":"KMP\u7b97\u6cd5","text":"<ul> <li>KMP\u7b97\u6cd5\u6bd4\u8f83BF\u7b97\u6cd5\u6709\u8f83\u5927\u6539\u8fdb, \u4ece\u800c\u4f7f\u7b97\u6cd5\u6548\u7387\u6709\u4e86\u67d0\u79cd\u7a0b\u5ea6\u7684\u63d0\u9ad8</li> <li>\u5229\u7528\u5df2\u7ecf\u90e8\u5206\u5339\u914d\u7684\u7ed3\u679c\u800c\u52a0\u5feb\u6a21\u5f0f\u4e32\u7684\u6ed1\u52a8\u901f\u5ea6,\u4e14\u4e3b\u4e32S\u7684\u6307\u9488i\u4e0d\u5fc5\u56de\u6eaf,\u53ef\u63d0\u901f\u5230O(n+m)</li> <li>\u4e3a\u6b64,\u5b9a\u4e49<code>next[j]</code>\u51fd\u6570, \u8868\u660e\u5f53\u6a21\u5f0f\u4e2d\u7b2cj\u4e2a\u5b57\u7b26\u4e0e\u4e3b\u4e32\u4e2d\u76f8\u5e94\u5b57\u7b26\u201c\u5931\u914d\u201d\u65f6, \u5728\u6a21\u5f0f\u4e2d\u9700\u91cd\u65b0\u548c\u4e3b\u4e32\u4e2d\u8be5\u5b57\u7b26\u8fdb\u884c\u6bd4\u8f83\u7684\u5b57\u7b26\u7684\u4f4d\u7f6e.</li> <li>next[j]<ul> <li>\u5f53j = 1\u65f6<ul> <li>next[j] = 0</li> </ul> </li> <li>\u5f53\u6b64\u96c6\u5408\u975e\u7a7a\u65f6<ul> <li>max{ k | 1&lt;k&lt;j, \u4e14 \u201cP~1~\u2026P~k-1~\u201d = \u201cP~j-k+1~\u2026.P~j-1~\u201d }<ul> <li>\u5176\u4e2d\u201cP~1~\u2026P~k-1~\u201d\u8868\u793a\u4ece\u5934\u5f00\u59cb\u7684k-1\u4e2a\u5143\u7d20, \u5373k\u7684\u524d\u7f00\u5b57\u7b26\u4e32(\u4e0d\u80fd\u53d6\u5230P~k~)</li> <li>\u5176\u4e2d\u201cP~j-k+1~\u2026.P~j-1~\u201d \u8868\u793aj\u524d\u9762\u7684k-1\u4e2a\u5143\u7d20\u5143\u7d20, \u5373k\u7684\u540e\u7f00\u5b57\u7b26\u4e32(\u4e0d\u80fd\u53d6\u5230P~1~)</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#kmp_1","title":"KMP\u7b97\u6cd5\u5b9e\u73b0","text":"C<pre><code>int Index_BF(SString S, SString T, int pos)\n{\n    int i = pos, j = 1;\n    while( i&lt;=S.length &amp;&amp; j&lt;=T.length )     //\u4e24\u4e2a\u6761\u4ef6\u5fc5\u987b\u540c\u65f6\u6210\u7acb.  S\u4e0eT\u90fd\u6709\u4e00\u4e2a\u53d8\u91cflength\u6765\u8bb0\u5f55\u6b64\u65f6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\n    {\n        if(  0==j || S.ch[i] == T.ch[j] )\n        {\n            ++i;\n            ++j;ddfgtyy\n        }\n        else\n        {\n           j = next[j];         //i\u4e0d\u53d8,j\u540e\u9000\n        }\n    }\n    if ( j&gt;=T.length )\n        return i-T.length;\n    else\n        return 0;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_6","title":"\u6570\u7ec4","text":"<ul> <li> <p>\u6570\u7ec4: \u6309\u4e00\u5b9a\u683c\u5f0f\u6392\u5217\u8d77\u6765\u7684,\u5177\u6709\u76f8\u540c\u7c7b\u578b\u7684\u6570\u636e\u5143\u7d20\u7684\u96c6\u5408</p> </li> <li> <p>\u4e00\u7ef4\u6570\u7ec4: \u82e5\u7ebf\u6027\u8868\u4e2d\u7684\u5143\u7d20\u4e3a\u975e\u7ed3\u6784\u7684\u7b80\u5355\u5143\u7d20</p> <ul> <li>\u903b\u8f91\u7ed3\u6784:\u7ebf\u6027\u7ed3\u6784.\u5b9a\u957f\u7684\u7ebf\u6027\u8868</li> <li>\u58f0\u660e\u683c\u5f0f:  \u6570\u636e\u7c7b\u578b    \u53d8\u91cf\u540d\u79f0[\u957f\u5ea6]<ul> <li>\u4f8b\u5982: <code>int num[5] = {1,2,3,4,5};</code></li> </ul> </li> </ul> </li> <li> <p>\u4e8c\u7ef4\u6570\u7ec4: \u82e5\u4e00\u7ef4\u6570\u7ec4\u4e2d\u7684\u6570\u636e\u5143\u7d20\u53c8\u662f\u4e00\u7ef4\u6570\u7ec4\u7ed3\u6784,\u5219\u79f0\u4e3a\u4e8c\u7ef4\u6570\u7ec4</p> <ul> <li>\u4e8c\u7ef4\u6570\u7ec4\u7684\u903b\u8f91\u7ed3\u6784<ul> <li>\u975e\u7ebf\u6027\u7ed3\u6784: \u6bcf\u4e00\u4e2a\u6570\u636e\u5143\u7d20\u65e2\u5728\u4e00\u4e2a\u884c\u8868\u4e2d, \u53c8\u5728\u4e00\u4e2a\u5217\u8868\u4e2d</li> <li>\u7ebf\u6027\u7ed3\u6784: \u8be5\u7ebf\u6027\u8868\u7684\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u4e5f\u662f\u4e00\u4e2a\u5b9a\u957f\u7684\u7ebf\u6027\u8868</li> </ul> </li> <li>\u58f0\u660e\u683c\u5f0f:   \u6570\u636e\u7c7b\u578b    \u53d8\u91cf\u540d\u79f0[\u884c\u6570][\u5217\u6570];<ul> <li>\u4f8b\u5982:<code>int num[5][8];</code></li> </ul> </li> <li>\u5728C\u8bed\u8a00\u4e2d,\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u7c7b\u578b\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u4e3a\u4e00\u7ef4\u6570\u7ec4\u7c7b\u578b</li> </ul> C<pre><code>typedef elemtype array2[m][n];\n\u7b49\u4ef7\u4e8e;\ntypedef elemtype array1[n];\ntypedef array1 array2[m];\n</code></pre> </li> <li> <p>\u4e09\u4f4d\u6570\u7ec4: \u82e5\u4e8c\u7ef4\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u53c8\u662f\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4, \u5219\u79f0\u4f5c\u4e09\u4f4d\u6570\u7ec4.</p> </li> <li>\u2026\u2026.</li> <li>n\u7ef4\u6570\u7ec4: \u82e5n-1\u7ef4\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u53c8\u662f\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4, \u5219\u79f0\u4f5cn\u7ef4\u6570\u7ec4</li> </ul> <p>\u7ed3\u8bba:</p> <p>\u200b   \u7ebf\u6027\u8868\u7ed3\u6784\u662f\u6570\u7ec4\u7ed3\u6784\u7684\u4e00\u4e2a\u7279\u4f8b,</p> <p>\u200b   \u800c\u6570\u7ec4\u7ed3\u6784\u53c8\u662f\u7ebf\u6027\u8868\u7ed3\u6784\u7684\u62d3\u5c55</p> <ul> <li>\u6570\u7ec4\u7279\u70b9: \u7ed3\u6784\u56fa\u5b9a\u2014\u2014\u5b9a\u4e49\u540e, \u7ef4\u6570\u548c\u7ef4\u754c\u4e0d\u518d\u6539\u53d8</li> <li>\u6570\u7ec4\u57fa\u672c\u64cd\u4f5c: \u9664\u4e86\u7ed3\u6784\u7684\u521d\u59cb\u5316\u548c\u9500\u6bc1\u4e4b\u5916, \u53ea\u6709\u53d6\u5143\u7d20\u548c\u4fee\u6539\u5143\u7d20\u503c\u7684\u64cd\u4f5c</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_7","title":"\u6570\u7ec4\u7684\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u5b9a\u4e49","text":"<p>n\u7ef4\u6570\u7ec4\u7684\u62bd\u8c61\u6570\u636e\u7c7b\u578b</p> <p>ADT Array   {       \u6570\u636e\u5bf9\u8c61:  j~i~ = 0, \u2026.., b~i~-1, i = 1,2,\u2026,n</p> <p>\u200b                     D = {a~j1j2\u2026jn~ | a~j1j2\u2026jn~ \u5c5e\u4e8e ElemSet }</p> <p>\u200b   \u6570\u636e\u5173\u7cfb:</p> <p>\u200b                   R1 = {  | 0&lt;=j~k~&lt;=b~k~-1, 1&lt;=k&lt;=n, \u4e14k!=i, 0&lt;=j~i~&lt;=b~k~-2, a~j1\u2026ji\u2026jn~, a~j1\u2026ji+1\u2026jn~\u5c5e\u4e8e D, i = 2,\u2026,n } <p>}</p> <p>\u4f8b\u5982</p> <ul> <li>\u4e8c\u7ef4\u6570\u7ec4\u7684\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e\u5bf9\u8c61\u548c\u6570\u636e\u5173\u7cfb\u7684\u5b9a\u4e49<ul> <li>n=2\uff08\u7ef4\u6570\u4e3a2\uff0c\u4e8c\u7ef4\u6570\u7ec4\uff09</li> <li>b~1~\uff1a\u7b2c1\u7ef4\u957f\u5ea6\uff08\u884c\u6570\uff09</li> <li>b~2~\uff1a\u7b2c2\u7ef4\u957f\u5ea6\uff08\u5217\u6570\uff09</li> <li>a~j1j2~\uff1a\u7b2c1\u7ef4\u4e0b\u6807\u4e3aj~1~\uff0c\u7b2c2\u7ef4\u4e0b\u6807\u4e3aj~2~</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_8","title":"\u6570\u7ec4\u7684\u987a\u5e8f\u5b58\u50a8","text":"<ul> <li> <p>\u56e0\u4e3a</p> <ul> <li>\u6570\u7ec4\u7279\u70b9: \u7ed3\u6784\u56fa\u5b9a\u2014\u2014\u2014\u7ef4\u6570\u548c\u7ef4\u754c\u4e0d\u53d8</li> <li>\u6570\u7ec4\u57fa\u672c\u64cd\u4f5c:\u521d\u59cb\u5316\u3001 \u9500\u6bc1\u3001 \u53d6\u5143\u7d20\u3001 \u4fee\u6539\u5143\u7d20\u503c. \u4e00\u822c\u4e0d\u505a\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c.</li> </ul> </li> <li> <p>\u6240\u4ee5</p> <ul> <li>\u4e00\u822c\u90fd\u662f\u91c7\u7528\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784\u6765\u8868\u793a\u6570\u7ec4</li> </ul> </li> <li> <p>\u6ce8\u610f</p> <ul> <li>\u6570\u7ec4\u4e2d\u53ef\u4ee5\u662f\u591a\u7ef4\u7684, \u4f46\u5b58\u50a8\u6570\u636e\u5143\u7d20\u7684\u5185\u5bb9\u5355\u5143\u5730\u5740\u662f\u4e00\u7ef4\u7684, \u56e0\u6b64, \u5728\u5b58\u50a8\u6570\u7ec4\u7ed3\u6784\u4e4b\u524d, \u9700\u8981\u89e3\u51b3\u5c06\u591a\u7ef4\u5173\u7cfb\u6620\u5c04\u5230\u4e00\u7ef4\u5173\u7cfb\u7684\u95ee\u9898.</li> </ul> </li> <li> </li> <li> <p>\u6709\u6570\u7ec4\u5b9a\u4e49\uff1aint a[5]; \u6bcf\u4e2a\u5143\u7d20\u5360\u75284\u5b87\u8282\uff0c\u5047\u8bbea[0]\u5b58\u50a8\u57282000\u5355\u5143\uff0ca[3]\u5730\u5740\u662f\u591a\u5c11\uff1f</p> <ul> <li>LOC(0) = a  2000</li> <li>L = 4</li> <li>LOC(3) = ?</li> <li>LOC(i) = ?</li> <li>a + i * L</li> <li>LOC(i) = ?<ul> <li>i = 0<ul> <li>LOC(0) = a</li> </ul> </li> <li>i &gt; 0<ul> <li>LOC(i-1) + L = a + i*L</li> </ul> </li> </ul> </li> </ul> </li> <li> </li> <li> <p>\u4e24\u79cd\u987a\u5e8f\u5b58\u50a8\u65b9\u5f0f</p> <ul> <li>\u4ee5\u884c\u5e8f\u4e3a\u4e3b\u5e8f(\u4f4e\u4e0b\u6807\u4f18\u5148)   BASIC\u3001 COBOL \u548c PASCAL</li> <li>\u4ee5\u5217\u5e8f\u4e3a\u4e3b\u5e8f(\u9ad8\u4e0b\u6807\u4f18\u5148)    FORTRNAN</li> </ul> </li> <li> <p>\u5b58\u50a8\u5355\u5143\u662f\u4e00\u7ef4\u7ed3\u6784, \u800c\u6570\u7ec4\u662f\u4e2a\u591a\u7ef4\u7ed3\u6784,\u5219\u7528\u4e00\u7ec4\u8fde\u7eed\u5b58\u50a8\u5355\u5143\u5b58\u653e\u6570\u7ec4\u7684\u6570\u636e\u5143\u7d20\u5c31\u6709\u4e2a\u6b21\u5e8f\u7ea6\u5b9a\u95ee\u9898</p> </li> <li> <p>\u4ee5\u884c\u5e8f\u4e3a\u4e3b\u5e8f</p> <ul> <li></li> <li>\u8bbe\u6570\u7ec4\u5f00\u59cb\u5b58\u50a8\u4f4d\u7f6eLOC(0,0),\u5b58\u50a8\u6bcf\u4e2a\u5143\u7d20\u9700\u8981L\u4e2a\u5b58\u50a8\u5355\u5143, \u6570\u7ec4\u5143\u7d20a[i][j]\u7684\u5b58\u50a8\u4f4d\u7f6e\u662f:$LOC(i, j) = LOC(0, 0) + (ni+j)L$<ul> <li>$i$\u4e3a\u884c\u6570, $j$\u4e3a\u5217\u6570</li> </ul> </li> </ul> <p>\u8bbe\u6709\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4A[m][n]\u6309\u884c\u4f18\u5148\u987a\u5e8f\u5b58\u50a8,\u5047\u8bbeA[0][0]\u5b58\u653e\u4f4d\u7f6e\u5728644~(10)~, A[2][2]\u5b58\u653e\u5728\u4f4d\u7f6e676~(10)~, \u6bcf\u4e2a\u5143\u7d20\u5360\u4e00\u4e2a\u7a7a\u95f4, \u95eeA[3][3]~(10)~\u5b58\u653e\u5728\u4ec0\u4e48\u4f4d\u7f6e?((10)\u8868\u793a\u7528\u5341\u8fdb\u5236\u8868\u793a)</p> <ul> <li> <p>\u8bbe\u6570\u7ec4\u5143\u7d20A[i][j]\u5b58\u653e\u5728\u8d77\u59cb\u5730\u5740\u4e3aLOC(i, j)\u7684\u5b58\u50a8\u5355\u5143\u4e2d</p> </li> <li> <p>Loc (2,2) = Loc (0,0 ) + 2 * n + 2 = 644 + 2 * n + 2 = 676.     &gt;   n= (676 - 2 - 644) /2 = 15     &gt;   Loc ( 3.3) = Loc (0,0) + 3* 15 + 3 = 644 + 45 + 3 = 692</p> </li> </ul> </li> <li> <p>\u4ee5\u5217\u5e8f\u4e3a\u4e3b\u5e8f</p> <ul> <li></li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_9","title":"\u4e00\u7ef4\u6570\u7ec4\u2014\u2014\u2014\u2014\u6c42\u6570\u7ec4\u4e2d\u67d0\u4e2a\u5143\u7d20\u7684\u5730\u5740","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_10","title":"\u4e8c\u7ef4\u6570\u7ec4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_11","title":"\u7279\u6b8a\u77e9\u9635\u7684\u538b\u7f29\u5b58\u50a8","text":"<ul> <li> <p>\u77e9\u9635: \u4e00\u4e2a\u7531m*n\u4e2a\u5143\u7d20\u6392\u6210\u7684m\u884cn\u5217\u7684\u8868</p> </li> <li> <p>\u77e9\u9635\u7684\u5e38\u89c4\u5b58\u50a8</p> <ul> <li>\u5c06\u77e9\u9635\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4</li> </ul> </li> <li> <p>\u77e9\u9635\u7684\u5e38\u89c4\u5b58\u50a8\u7279\u70b9</p> <ul> <li>\u53ef\u4ee5\u5bf9\u5176\u5143\u7d20\u8fdb\u884c\u968f\u673a\u5b58\u53d6; \u77e9\u9635\u8fd0\u7b97\u975e\u5e38\u7b80\u5355; \u5b58\u50a8\u5bc6\u5ea6\u4e3a1</li> </ul> </li> <li> <p>\u4e0d\u9002\u5b9c\u5e38\u89c4\u5b58\u50a8\u7684\u77e9\u9635</p> <ul> <li>\u503c\u76f8\u540c\u7684\u5143\u7d20\u5f88\u591a\u4e14\u5448\u73b0\u67d0\u79cd\u89c4\u5f8b\u5206\u5e03; \u96f6\u5143\u7d20\u591a</li> </ul> </li> <li> <p>\u77e9\u9635\u7684\u538b\u7f29\u5b58\u50a8: \u4e3a\u591a\u4e2a\u76f8\u540c\u7684\u975e\u96f6\u5143\u7d20\u53ea\u5206\u914d\u4e00\u4e2a\u5b58\u50a8\u7a7a\u95f4; \u5bf9\u96f6\u5143\u7d20\u4e0d\u5206\u914d\u7a7a\u95f4</p> </li> <li> <p>\u4ec0\u4e48\u662f\u538b\u7f29\u5b58\u50a8</p> <ul> <li>\u82e5\u591a\u4e2a\u6570\u636e\u5143\u7d20\u7684\u503c\u90fd\u76f8\u540c, \u5219\u53ea\u5206\u914d\u4e00\u4e2a\u5143\u7d20\u503c\u7684\u5b58\u50a8\u7a7a\u95f4, \u4e14\u96f6\u5143\u7d20\u4e0d\u5360\u5b58\u50a8\u7a7a\u95f4</li> </ul> </li> <li> <p>\u4ec0\u4e48\u6837\u7684\u77e9\u9635\u80fd\u591f\u538b\u7f29</p> <ul> <li>\u4e00\u4e9b\u7279\u6b8a\u77e9\u9635, \u5982: \u5bf9\u79f0\u77e9\u9635, \u5bf9\u89d2\u77e9\u9635, \u4e09\u89d2\u77e9\u9635, \u7a00\u758f\u77e9\u9635\u7b49</li> </ul> </li> <li> <p>\u4ec0\u4e48\u53eb\u7a00\u758f\u77e9\u9635</p> <ul> <li>\u77e9\u9635\u4e2d\u975e\u96f6\u5143\u7d20\u7684\u4e2a\u6570\u8f83\u5c11(\u4e00\u822c\u5c0f\u4e8e5%)</li> </ul> </li> <li> </li> <li> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_12","title":"\u5bf9\u79f0\u77e9\u9635","text":"<ul> <li> <p>\u7279\u70b9:\u5728$n*n$\u7684\u77e9\u9635a\u4e2d, \u6ee1\u8db3\u5982\u4e0b\u6027\u8d28</p> <ul> <li>a~ij~ = a~ji~ (1&lt;=i, j&lt;=n)</li> </ul> </li> <li> <p>\u5b58\u50a8\u65b9\u6cd5:\u53ea\u5b58\u50a8\u4e0b(\u6216\u8005\u4e0a)\u4e09\u89d2(\u5305\u62ec\u4e3b\u5bf9\u89d2\u7ebf)\u7684\u6570\u636e\u5143\u7d20.\u5171\u5360\u7528$n(n+1)/2$\u4e2a\u5143\u7d20\u7a7a\u95f4</p> </li> <li> <p>\u5bf9\u79f0\u77e9\u9635\u7684\u5b58\u50a8\u7ed3\u6784</p> <ul> <li> <p>\u5bf9\u79f0\u77e9\u9635\u4e0a\u4e0b\u4e09\u89d2\u4e2d\u7684\u5143\u7d20\u6570\u5747\u4e3a$n(n+1)/2$</p> </li> <li> <p>\u53ef\u4ee5\u4ee5\u884c\u5e8f\u4e3a\u4e3b\u5e8f\u5c06\u5143\u7d20\u5b58\u653e\u5728\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4sa[n(n+1)/2]\u4e2d</p> <p></p> <p></p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap4%20%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/#_13","title":"\u4e09\u89d2\u77e9\u9635","text":"<ul> <li> <p>\u7279\u70b9: \u5bf9\u89d2\u7ebf\u4ee5\u4e0b(\u6216\u8005\u4ee5\u4e0a)\u7684\u6570\u636e\u5143\u7d20(\u4e0d\u5305\u62ec\u5bf9\u89d2\u7ebf)\u5168\u90e8\u4e3a\u5e38\u6570c</p> </li> <li> <p>\u91cd\u590d\u5143\u7d20c\u5171\u4eab\u4e00\u4e2a\u5143\u7d20\u5b58\u50a8\u7a7a\u95f4, \u5171\u5360\u7528n(n+1)/2 + 1\u4e2a\u5143\u7d20\u7a7a\u95f4:sa[1..n(n+1)/2+1]</p> </li> <li> <p>n(n+1)/2+1   \u591a+1\u662f\u56e0\u4e3a\u8981\u5b58\u50a8\u5e38\u6570c\u6211\u7231\u4f60\u6211\u7684\u5bb6 \u6211\u5f1f\u5bb6\u6211\u5f1f\u4e2d\u56fd \u54c8\u54c8\u5c31\u770b\u89c1\u6211\u7231\u4f60\u6211\u662f\u4e01\u6c38\u6d9b\u7684\u7238\u7238 \u5566\u5566\u5566\u5566  \u9648\u5c0f\u9ed1\u563f\u5466\u563f\u554a\u5566\u5566\u5566\u6211\u662f\u4f60\u7239\u771f\u4f1f\u5927 \u517b\u4f60\u8fd9\u4e48\u5927 \u800c\u4f60\u4e0d\u542c\u8bdd \u4e00\u5929\u5230\u665a\u53bb\u73a9\u800d \u6eda\u5427\u6eda\u5427\u8fde\u6eda\u5e26\u722c \u6211\u53ea\u8981\u4f60\u5988\u5988\u5566!</p> </li> <li> <p>\u4e0a\u4e09\u89d2\u77e9\u9635</p> <ul> <li>i&lt;=j<ul> <li>k = (i-1)*(2n-i+2)/2+j-i+1</li> </ul> </li> <li>i&gt;j<ul> <li>k = n(n+1)/2+1</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/","title":"\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_1","title":"\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_2","title":"\u6811\u7684\u57fa\u672c\u6982\u5ff5","text":"<p>\u57fa\u672c\u672f\u8bed</p> <ul> <li>\u7956\u5148\u3001\u53cc\u4eb2\u3001\u5b69\u5b50\u3001\u5144\u5f1f</li> <li>\u5ea6<ul> <li>\u7ed3\u70b9\u7684\u5ea6: \u8be5\u7ed3\u70b9\u7684\u5b69\u5b50\u6570</li> <li>\u6811\u7684\u5ea6: \u6811\u4e2d\u7ed3\u70b9\u7684\u6700\u5927\u5ea6\u6570</li> </ul> </li> <li>\u7ed3\u70b9<ul> <li>\u5206\u679d\u7ed3\u70b9(\u975e\u7ec8\u7aef\u7ed3\u70b9): \u7ed3\u70b9\u7684\u5ea6\u5927\u4e8e0</li> <li>\u53f6\u5b50\u7ed3\u70b9(\u7ec8\u7aef\u7ed3\u70b9): \u7ed3\u70b9\u7684\u5ea6\u4e3a0</li> </ul> </li> <li>\u6df1\u5ea6\u3001\u9ad8\u5ea6<ul> <li>\u6df1\u5ea6: \u81ea\u6839\u5411\u4e0b\u9010\u5c42\u7d2f\u52a0</li> <li>\u9ad8\u5ea6: \u81ea\u4e0b\u5411\u4e0a\u9010\u5c42\u7d2f\u52a0</li> </ul> </li> <li>\u6709\u5e8f\u6811: \u7ed3\u70b9\u7684\u5404\u5b50\u6811\u4ece\u5de6\u5230\u53f3\u662f\u6709\u6b21\u5e8f\u7684,\u4e0d\u80fd\u4e92\u6362</li> <li>\u65e0\u5e8f\u6811</li> <li>\u8def\u5f84\u3001\u8def\u5f84\u957f\u5ea6<ul> <li>\u8def\u5f84: \u4e24\u4e2a\u7ed3\u70b9\u95f4\u6240\u7ecf\u8fc7\u7684\u7ed3\u70b9\u5e8f\u5217</li> <li>\u8def\u5f84\u957f\u5ea6: \u4e24\u4e2a\u7ed3\u70b9\u95f4\u6240\u7ecf\u8fc7\u7684\u7ebf\u6bb5\u6570</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_3","title":"\u6811\u7684\u6027\u8d28","text":"<ul> <li>\u6811\u4e2d\u7684\u7ed3\u70b9\u6570\u7b49\u4e8e\u6240\u6709\u7ed3\u70b9\u7684\u5ea6\u6570\u52a01<ul> <li>\u6240\u6709\u7ed3\u70b9\u7684\u5ea6\u6570\u4e0d\u5305\u62ec\u6839\u7ed3\u70b9, \u56e0\u6b64\u9700\u8981\u52a01</li> </ul> </li> <li>\u5ea6\u6570\u4e3am\u7684\u6811\u4e2d\u7b2ci\u5c42\u4e0a\u6700\u591a\u6709m^i-1^\u4e2a\u7ed3\u70b9<ul> <li>\u4e3e\u4f8b\u5373\u53ef\u7684</li> </ul> </li> <li>\u9ad8\u5ea6\u4e3ah\u7684m\u53c9\u6811\u81f3\u591a\u6709(m^h^ - 1)/(m - 1)\u4e2a\u7ed3\u70b9<ul> <li>1  + m + m^2^ + \u2026 + m^h-1^          \u7b49\u6bd4\u6570\u5217\u6c42\u548c</li> </ul> </li> <li>\u5177\u6709n\u4e2a\u7ed3\u70b9\u7684m\u53c9\u6811\u7684\u6700\u5c0f\u9ad8\u5ea6\u4e3a[log~m~(n(m-1)+1)]<ul> <li>\u6839\u636e\u6811\u7684\u7b2c\u4e09\u4e2a\u6027\u8d28\u53ef\u5f97 (m^h^ - 1)/(m - 1) = n. \u5316\u7b80\u53ef\u5f97\u4e0a\u5f0f</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_4","title":"\u4e8c\u53c9\u6811","text":"<ul> <li>\u4e8c\u53c9\u6811\u662fn(n&gt;=0)\u4e2a\u7ed3\u70b9\u7684\u6709\u9650\u96c6\u5408<ul> <li>\u6216\u8005\u4e3a\u7a7a\u4e8c\u53c9\u6811</li> <li>\u6216\u8005\u7531\u4e00\u4e2a\u6839\u7ed3\u70b9\u548c\u4e24\u4e2a\u4e92\u4e0d\u76f8\u4ea4\u7684\u88ab\u79f0\u4e3a\u6839\u7684\u5de6\u5b50\u6811\u548c\u53f3\u5b50\u6811\u7ec4\u6210, \u5de6\u53f3\u5b50\u6811\u53c8\u5206\u522b\u662f\u4e00\u68f5\u4e8c\u53c9\u6811</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_5","title":"\u7279\u6b8a\u4e8c\u53c9\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_6","title":"\u4e8c\u53c9\u6811\u7684\u6027\u8d28","text":"<ul> <li>\u975e\u7a7a\u4e8c\u53c9\u6811\u4e0a\u7684\u53f6\u5b50\u7ed3\u70b9\u6570\u7b49\u4e8e\u5ea6\u6570\u4e3a2\u7684\u7ed3\u70b9\u6570\u52a01, \u5373n~0~=n~2~+1<ul> <li>n = n~0~+n~1~+n~2~      n = 0*n~0~ + 1*n~1~ + 2*n~2~ + 1      \u4e24\u5f0f\u8054\u7acb\u7684\u4e0a\u5f0f</li> </ul> </li> <li>\u975e\u7a7a\u4e8c\u53c9\u6811\u4e0a\u7b2ck\u5c42\u4e0a\u81f3\u591a\u67092^k-1^\u4e2a\u7ed3\u70b9</li> <li>\u9ad8\u5ea6\u4e3ah\u7684\u4e8c\u53c9\u6811\u81f3\u591a\u67092^h^ - 1\u4e2a\u7ed3\u70b9</li> <li>\u5177\u6709n(n&gt;0)\u4e2a\u7ed3\u70b9\u7684\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u9ad8\u5ea6\u4e3a[log~2~(n+1)]\u6216\u8005[log~2~n+1]<ul> <li>\u9ad8\u5ea6\u4e3ah-1\u7684\u6ee1\u4e8c\u53c9\u6811, \u5176\u7ed3\u70b9\u4e2a\u6570\u4e3a:2^h-1^-1</li> <li>\u9ad8\u5ea6\u4e3ah\u7684\u6ee1\u4e8c\u53c9\u6811, \u5176\u7ed3\u70b9\u4e2a\u6570\u4e3a: 2^h^-1<ul> <li>2^h-1^-1 &lt; n &lt;= 2^h^-1</li> <li>\u540c\u65f6+1 \u518d\u53d6\u5bf9\u6570</li> <li>h-1 &lt; log~2~(n+1) &lt;= h<ul> <li>\u53d6\u53f3\u8fb9\u4e0d\u7b49\u5f0f</li> </ul> </li> </ul> </li> <li>\u5c06\u9ad8\u5ea6\u4e3ah-1\u7684\u6ee1\u4e8c\u53c9\u6811\u6240\u5f97\u7684\u6240\u6709\u7ed3\u70b9\u6570+1,\u53ef\u5f97\u9ad8\u5ea6\u4e3ah\u7684\u6700\u5c11\u7ed3\u70b9\u7684\u5b8c\u5168\u4e8c\u53c9\u6811: 2^h-1^<ul> <li>2^h-1^&lt;=n&lt;2^h^</li> <li>\u53d6\u5bf9\u6570</li> <li>h-1 &lt;= log~2~n &lt; h<ul> <li>\u53d6\u5de6\u8fb9\u4e0d\u7b49\u5f0f</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_7","title":"\u4e8c\u53c9\u6811\u7684\u5b58\u50a8\u7ed3\u6784","text":"<ul> <li> <p>\u987a\u5e8f\u5b58\u50a8\u7ed3\u6784</p> <ul> <li>\u6307\u7528\u4e00\u7ec4\u5730\u5740\u8fde\u7eed\u7684\u5b58\u50a8\u5355\u5143\u4f9d\u6b21\u81ea\u4e0a\u800c\u4e0b\u3001\u81ea\u5de6\u81f3\u53f3\u5b58\u50a8\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u7ed3\u70b9\u5143\u7d20, \u5373\u5c06\u5b8c\u5168\u4e8c\u53c9\u6811\u4e0a\u7f16\u53f7\u4e3ai\u7684\u7ed3\u70b9\u5143\u7d20\u5b58\u50a8\u5728\u4e00\u7ef4\u6570\u7ec4\u4e0b\u6807\u4e3ai-1\u7684\u5143\u7d20\u4e2d<ul> <li>\u5982\u679c\u4e00\u68f5\u4e8c\u53c9\u6811\u4e0d\u662f\u5b8c\u5168\u4e8c\u53c9\u6811,\u5c06\u5176\u6784\u9020\u6210\u5b8c\u5168\u4e8c\u53c9\u6811, \u5b58\u50a8\u65f6\u5c06\u6784\u9020\u51fa\u6765\u7684\u7ed3\u70b9\u6807\u8bb0\u4e3a0\u5373\u53ef.</li> </ul> </li> </ul> </li> <li> <p>\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784</p> <ul> <li> <p>\u7528\u94fe\u8868\u7ed3\u70b9\u6765\u5b58\u50a8\u4e8c\u53c9\u6811\u4e2d\u6bcf\u4e2a\u7ed3\u70b9</p> </li> <li> \u5de6\u5b69\u5b50 \u6570\u636e\u57df \u53f3\u5b69\u5b50 lchild data rchild </li> <li> <p><code>C     typedef struct BiTNode     {         ElemType data;         struct BiTNode *lchild, *rchild;     }BITN, *PBITN;</code></p> </li> <li> <p>\u542b\u6709n\u4e2a\u7ed3\u70b9\u7684\u4e8c\u53c9\u94fe\u8868\u4e2d, \u542b\u6709n+1\u4e2a\u7a7a\u94fe\u57df, \u542b\u6709n-1\u4e2a\u975e\u7a7a\u94fe\u57df</p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_8","title":"\u4e8c\u53c9\u6811\u7684\u904d\u5386","text":"<ul> <li>\u6309\u67d0\u6761\u641c\u7d22\u8def\u5f84\u8bbf\u95ee\u6811\u4e2d\u6bcf\u4e2a\u7ed3\u70b9, \u4f7f\u5f97\u6bcf\u4e2a\u7ed3\u70b9\u5747\u88ab\u8bbf\u95ee\u4e00\u6b21, \u800c\u4e14\u4ec5\u88ab\u8bbf\u95ee\u4e00\u6b21</li> <li>\u6309\u7167\u5148\u904d\u5386\u5de6\u5b50\u6811\u518d\u904d\u5386\u53f3\u5b50\u6811\u7684\u539f\u5219, \u5e38\u89c1\u7684\u904d\u5386\u6b21\u5e8f\u6709<ul> <li>\u5148\u5e8f\u904d\u5386(NLR): \u6839 \u5de6 \u53f3<ul> <li>\u7528\u6808\u5b9e\u73b0</li> </ul> </li> <li>\u4e2d\u5e8f\u904d\u5386(LNR): \u5de6 \u6839 \u53f3</li> <li>\u540e\u5e8f\u904d\u5386(LRN): \u5de6 \u53f3 \u6839<ul> <li>\u4ec5\u77e5\u9053\u5148\u5e8f\u5e8f\u5217\u548c\u540e\u5e8f\u5e8f\u5217\u662f\u65e0\u6cd5\u786e\u5b9a\u4e00\u68f5\u552f\u4e00\u7684\u4e8c\u53c9\u6811\u7684.</li> </ul> </li> </ul> </li> <li>\u5c42\u6b21\u904d\u5386</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_9","title":"\u6811\u548c\u68ee\u6797","text":"<ul> <li> <p>\u7531\u6811\u8f6c\u6362\u6210\u4e8c\u53c9\u6811, \u4e8c\u53c9\u6811\u7684\u6839\u7ed3\u70b9\u7684\u53f3\u5b50\u6811\u603b\u662f\u7a7a\u7684</p> </li> <li> </li> <li> <p>\u68ee\u6797: \u591a\u68f5\u6811\u7684\u96c6\u5408</p> <ul> <li>\u5c06\u68ee\u6797\u4e2d\u7684\u6bcf\u68f5\u6811\u8f6c\u6362\u6210\u76f8\u5e94\u7684\u4e8c\u53c9\u6811(\u4f46\u662f\u5148\u4e0d\u4ee5\u6839\u4e3a\u8f74\u5fc3\u987a\u65f6\u9488\u65cb\u8f6c45\u5ea6)</li> <li>\u6bcf\u68f5\u6811\u7684\u6839\u4e5f\u53ef\u89c6\u4e3a\u5144\u5f1f\u7ed3\u70b9, \u5728\u6bcf\u68f5\u6811\u4e4b\u95f4\u52a0\u4e00\u6839\u8fde\u7ebf</li> <li>\u4ee5\u7b2c\u4e00\u68f5\u6811\u7684\u6839\u4e3a\u8f74\u5fc3\u987a\u65f6\u9488\u65cb\u8f6c45\u5ea6</li> </ul> </li> <li> <p>\u68ee\u6797\u8f6c\u6362\u6210\u4e8c\u53c9\u6811\u540e, \u9664\u4e86\u7b2c\u4e00\u68f5\u6811\u4ee5\u5916, \u5176\u4f59\u7684\u6811\u8f6c\u6362\u540e\u5747\u4e3a\u4e8c\u53c9\u6811\u7684\u53f3\u5b50\u6811.</p> </li> <li> </li> </ul> <p></p> <ul> <li> </li> <li> <p>\u7528\u67d0\u79cd\u65b9\u5f0f\u8bbf\u95ee\u6811\u4e2d\u7684\u6bcf\u4e2a\u7ed3\u70b9, \u4e14\u4ec5\u8bbf\u95ee\u4e00\u6b21</p> </li> <li> <p>\u5148\u6839\u904d\u5386: \u5148\u6839\u540e\u5b50\u6811(\u6700\u597d\u81ea\u5de6\u5411\u53f3\u6765\u770b)</p> <ul> <li>\u5176\u7ed3\u679c\u4e0e\u5c06\u6811\u8f6c\u6362\u6210\u4e8c\u53c9\u6811\u540e, \u5f97\u51fa\u7684\u5148\u5e8f\u904d\u5386\u7ed3\u679c\u76f8\u540c</li> </ul> </li> <li> <p>\u540e\u6839\u904d\u5386: \u5148\u5b50\u6811\u540e\u6839(\u6700\u597d\u81ea\u5de6\u5411\u53f3\u6765\u770b)</p> <ul> <li>\u5176\u7ed3\u679c\u4e0e\u5c06\u6811\u8f6c\u6362\u6210\u4e8c\u53c9\u6811\u540e, \u5f97\u51fa\u7684\u4e2d\u5e8f\u904d\u5386\u7ed3\u679c\u76f8\u540c</li> </ul> </li> </ul> <p></p> <ul> <li> </li> <li> <p>\u5148\u5e8f\u904d\u5386: \u5148\u6839\u540e\u5b50\u6811(\u6700\u597d\u81ea\u5de6\u5411\u53f3\u6765\u770b)</p> <ul> <li>\u5176\u7ed3\u679c\u4e0e\u5c06\u68ee\u6797\u8f6c\u6362\u6210\u4e8c\u53c9\u6811\u540e, \u5f97\u51fa\u7684\u5148\u5e8f\u904d\u5386\u7ed3\u679c\u76f8\u540c</li> </ul> </li> <li> <p>\u4e2d\u5e8f\u904d\u5386: \u5148\u5b50\u6811\u540e\u6839(\u6700\u597d\u81ea\u5de6\u5411\u53f3\u6765\u770b)</p> <ul> <li>\u5176\u7ed3\u679c\u4e0e\u5c06\u68ee\u6797\u8f6c\u6362\u6210\u4e8c\u53c9\u6811\u540e, \u5f97\u51fa\u7684\u4e2d\u5e8f\u904d\u5386\u7ed3\u679c\u76f8\u540c</li> </ul> </li> </ul> <p></p> <ul> <li> </li> <li> <p>\u4e8c\u53c9\u6392\u5e8f\u6811(\u4e8c\u53c9\u67e5\u627e\u6811)\u6216\u8005\u662f\u4e00\u68f5\u7a7a\u6811, \u6216\u8005\u662f\u5177\u6709\u4e0b\u5217\u7279\u6027\u7684\u4e8c\u53c9\u6811</p> <ul> <li>\u82e5\u5de6\u5b50\u6811\u975e\u7a7a, \u5219\u5de6\u5b50\u6811\u4e0a\u6240\u6709\u7ed3\u70b9\u7684\u503c\u5747\u5c0f\u4e8e\u6839\u7ed3\u70b9\u7684\u503c</li> <li>\u82e5\u53f3\u5b50\u6811\u975e\u7a7a, \u5219\u53f3\u5b50\u6811\u4e0a\u6240\u6709\u7ed3\u70b9\u7684\u503c\u5747\u5c0f\u4e8e\u6839\u7ed3\u70b9\u7684\u503c</li> <li>\u5de6\u3001\u53f3\u5b50\u6811\u4e5f\u5206\u522b\u662f\u4e00\u68f5\u4e8c\u53c9\u6392\u5e8f\u6811</li> </ul> </li> <li> <p>\u82e5\u5bf9\u4e00\u68f5\u4e8c\u53c9\u6392\u5e8f\u6811\u6784\u6210\u7684\u5e8f\u5217\u91c7\u7528\u4e2d\u5e8f\u904d\u5386, \u53ef\u5f97\u5230\u5347\u5e8f\u7684\u7ed3\u679c</p> </li> <li> <p>\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u63d2\u5165</p> <ul> <li>\u82e5\u539f\u4e8c\u53c9\u6392\u5e8f\u6811\u4e3a\u7a7a, \u5219\u76f4\u63a5\u63d2\u5165\u7ed3\u70b9; \u5426\u5219, \u82e5\u5173\u952e\u5b57\u5c0f\u4e8e\u6839\u7ed3\u70b9\u503c, \u5219\u63d2\u5165\u5230\u5de6\u5b50\u6811, \u82e5\u5173\u952e\u5b57\u5927\u4e8e\u6839\u7ed3\u70b9\u503c, \u5219\u63d2\u5165\u5230\u53f3\u5b50\u6811</li> <li>\u5411\u4e8c\u53c9\u6392\u5e8f\u6811\u63d2\u5165\u4e00\u4e2a\u65b0\u7ed3\u70b9\u65f6, \u65b0\u7ed3\u70b9\u4e00\u5b9a\u4f1a\u6210\u4e3a\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u4e00\u4e2a\u53f6\u5b50\u7ed3\u70b9</li> <li>\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u6784\u9020<ul> <li>\u4ece\u4e00\u68f5\u7a7a\u6811\u51fa\u53d1, \u4f9d\u6b21\u8f93\u5165\u63d0\u4f9b\u7684\u5143\u7d20, \u5c06\u5b83\u4eec\u63d2\u5165\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u5408\u9002\u4f4d\u7f6e</li> </ul> </li> </ul> </li> <li> <p>\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u5220\u9664</p> <ul> <li>\u82e5\u88ab\u5220\u9664\u7684\u7ed3\u70b9\u662f\u53f6\u5b50\u7ed3\u70b9, \u5219\u76f4\u63a5\u5220\u9664</li> <li>\u82e5\u88ab\u5220\u9664\u7684\u7ed3\u70b9\u53ea\u6709\u4e00\u68f5\u5de6\u5b50\u6811\u6216\u8005\u4e00\u68f5\u53f3\u5b50\u6811, \u5219\u8ba9\u8be5\u7ed3\u70b9\u7684\u5b50\u6811\u6210\u4e3a\u5176\u53cc\u4eb2\u7ed3\u70b9\u7684\u5b50\u6811</li> <li>\u82e5\u88ab\u5220\u9664\u7684\u7ed3\u70b9\u540c\u65f6\u6709\u5de6\u3001\u53f3\u4e24\u68f5\u5b50\u6811, \u5219\u4ee4\u8be5\u7ed3\u70b9\u7684\u76f4\u63a5\u540e\u7ee7(\u76f4\u63a5\u524d\u9a71)\u4ee3\u66ff\u8be5\u7ed3\u70b9, \u7136\u540e\u4ece\u4e8c\u53c9\u6392\u5e8f\u6811\u4e2d\u5220\u53bb\u8fd9\u4e2a\u76f4\u63a5\u540e\u7ee7(\u76f4\u63a5\u524d\u9a71), \u8fd9\u6837\u5c31\u8f6c\u6362\u6210\u4e86\u524d\u4e24\u79cd\u60c5\u51b5<ul> <li>\u76f4\u63a5\u524d\u9a71/\u76f4\u63a5\u540e\u7ee7: \u901a\u8fc7\u5bf9\u4e8c\u53c9\u6392\u5e8f\u6811\u7684\u4e2d\u5e8f\u904d\u5386\u5f97\u5230.</li> </ul> </li> </ul> </li> <li> </li> <li> <p>\u6743: \u6811\u4e2d\u7ed3\u70b9\u5e38\u88ab\u8d4b\u4e88\u4e00\u4e2a\u4ee3\u8868\u67d0\u79cd\u610f\u4e49\u7684\u6570\u503c</p> </li> <li> <p>\u7ed3\u70b9\u5e26\u6743\u8def\u5f84\u957f\u5ea6: \u4ece\u6811\u7684\u6839\u5230\u4efb\u610f\u7ed3\u70b9\u7684\u8def\u5f84\u957f\u5ea6\u4e0e\u8be5\u7ed3\u70b9\u4e0a\u6743\u503c\u7684\u4e58\u79ef</p> </li> <li> <p>\u6811\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6: \u6811\u4e2d\u6240\u6709\u53f6\u7ed3\u70b9\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u4e4b\u548c, \u8bb0\u4e3aWPL</p> </li> <li> <p>\u54c8\u592b\u66fc\u6811: \u6811\u7684\u5e26\u6743\u8def\u5f84\u957f\u5ea6\u6700\u5c0f\u7684\u4e8c\u53c9\u6811</p> </li> <li> </li> <li> </li> <li> </li> </ul> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_10","title":"\u6811\u7684\u5b58\u50a8\u7ed3\u6784(\u4e0e\u4e8c\u53c9\u6811\u7684\u5b58\u50a8\u7ed3\u6784\u65b9\u5f0f\u4e0d\u540c)","text":"<ul> <li> <p>\u53cc\u4eb2\u8868\u793a\u6cd5</p> <ul> <li>\u521b\u5efa\u6307\u5411\u53cc\u4eb2\u7684\u6307\u9488\u57df</li> </ul> </li> <li> <p>\u5b69\u5b50\u8868\u793a\u6cd5</p> <ul> <li>\u521b\u5efa\u6307\u5411\u5b69\u5b50\u7684\u6307\u9488\u57df</li> </ul> </li> <li> <p>\u5b69\u5b50\u5144\u5f1f\u8868\u793a\u6cd5</p> <ul> <li>\u521b\u5efa\u6307\u5411\u5b69\u5b50\u548c\u5144\u5f1f\u7684\u6307\u9488\u57df</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_11","title":"\u5c06\u6811\u8f6c\u6362\u6210\u4e8c\u53c9\u6811","text":"<ul> <li>\u5728\u5144\u5f1f\u7ed3\u70b9\u4e4b\u95f4\u52a0\u4e00\u6761\u7ebf</li> <li>\u5bf9\u6bcf\u4e2a\u7ed3\u70b9, \u53ea\u4fdd\u7559\u5b83\u4e0e\u7b2c\u4e00\u4e2a\u5b69\u5b50\u7684\u8fde\u7ebf, \u62b9\u53bb\u4e0e\u5176\u4ed6\u5b69\u5b50\u7684\u8fde\u7ebf</li> <li>\u4ee5\u6811\u6839\u4e3a\u8f74\u5fc3, \u987a\u65f6\u9488\u65cb\u8f6c45\u5ea6</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_12","title":"\u5c06\u68ee\u6797\u8f6c\u6362\u6210\u4e8c\u53c9\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_13","title":"\u5c06\u4e8c\u53c9\u6811\u8f6c\u6362\u4e3a\u68ee\u6797","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_14","title":"\u6811\u7684\u904d\u5386","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_15","title":"\u68ee\u6797\u7684\u904d\u5386","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_16","title":"\u4e8c\u53c9\u6392\u5e8f\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_17","title":"\u54c8\u592b\u66fc\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_18","title":"\u6784\u9020\u54c8\u592b\u66fc\u6811\u7684\u6b65\u9aa4","text":"<ul> <li>\u5c06\u6240\u6709\u7ed3\u70b9\u5206\u522b\u4f5c\u4e3a\u4ec5\u542b\u4e00\u4e2a\u7ed3\u70b9\u7684\u4e8c\u53c9\u6811</li> <li>\u6784\u9020\u4e00\u4e2a\u65b0\u7ed3\u70b9, \u4ece\u4e2d\u9009\u53d6\u4e24\u68f5\u6839\u7ed3\u70b9\u6743\u503c\u6700\u5c0f\u7684\u6811\u4f5c\u4e3a\u65b0\u7ed3\u70b9\u7684\u5de6\u3001\u53f3\u5b50\u6811, \u5e76\u4e14\u5c06\u65b0\u7ed3\u70b9\u7684\u6743\u503c\u7f6e\u4e3a\u5de6\u3001\u53f3\u5b50\u6811\u4e0a\u6839\u7ed3\u70b9\u7684\u6743\u503c\u4e4b\u548c</li> <li>\u4ece\u4e2d\u5220\u9664\u521a\u624d\u9009\u51fa\u7684\u4e24\u68f5\u6811, \u540c\u65f6\u5c06\u65b0\u5f97\u5230\u7684\u6811\u52a0\u5165\u68ee\u6797\u4e2d</li> <li>\u91cd\u590d\u6b65\u9aa4(2)\u548c(3),\u76f4\u81f3\u5269\u4e0b\u4e00\u68f5\u6811\u4e3a\u6b62</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_19","title":"\u54c8\u592b\u66fc\u7f16\u7801","text":"<ul> <li>\u5de6\u5b50\u6811\u4e0a\u7684\u8def\u5f84\u5747\u4e3a0</li> <li>\u53f3\u5b50\u6811\u4e0a\u7684\u8def\u5f84\u5747\u4e3a1</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap5%20%E6%A0%91/%E6%A0%91/#_20","title":"\u4f8b\u9898","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/","title":"\u56fe","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_2","title":"\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u6709\u5411\u56fe:   \u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u7ebf\u6bb5\u662f\u6709\u65b9\u5411\u7684 <li>\u65e0\u5411\u56fe: (v,w) = (w,v)  \u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u7684\u7ebf\u6bb5\u65e0\u65b9\u5411</li> <li>\u7b80\u5355\u56fe:<ul> <li>\u4e0d\u5b58\u5728\u91cd\u590d\u8fb9, \u5373\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u4ec5\u6709\u4e00\u6761\u7ebf\u6bb5</li> <li>\u4e0d\u5b58\u5728\u9876\u70b9\u5230\u81ea\u8eab\u7684\u8fb9</li> </ul> </li> <li>\u591a\u91cd\u56fe: \u4e0e\u7b80\u5355\u56fe\u7684\u5b9a\u4e49\u76f8\u53cd\u5373\u53ef</li> <li>\u5b8c\u5168\u56fe(\u7b80\u5355\u5b8c\u5168\u56fe)<ul> <li>\u5bf9\u4e8e\u65e0\u5411\u56fe<ul> <li>\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u5b58\u5728\u8fb9<ul> <li>\u8fb9\u6570 = $n*(n-1)/2$<ul> <li>\u56e0\u4e3a\u6bcf\u6761\u8fb9\u90fd\u591a\u4e58\u4e86\u4e00\u6b21, \u6240\u4ee5\u9700\u8981\u9664\u4ee52</li> </ul> </li> </ul> </li> </ul> </li> <li>\u5bf9\u4e8e\u6709\u5411\u56fe<ul> <li>\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4\u90fd\u5b58\u5728\u65b9\u5411\u76f8\u53cd\u7684\u4e24\u6761\u5f27<ul> <li>\u8fb9\u6570 = $n*(n-1)$</li> </ul> </li> </ul> </li> </ul> </li> <li>\u5b50\u56fe\u3001 \u751f\u6210\u5b50\u56fe<ul> <li>\u9876\u70b9\u96c6\u4e0e\u8fb9\u96c6\u90fd\u88ab\u5305\u542b</li> <li>\u751f\u6210\u5b50\u56fe: \u9876\u70b9\u96c6\u4e0e\u539f\u56fe\u76f8\u7b49, \u8fb9\u96c6\u88ab\u5305\u542b\u4e8e\u539f\u56fe</li> </ul> </li> <li>\u8fde\u901a\u3001\u8fde\u901a\u56fe<ul> <li>\u8fde\u901a\u56fe: \u56fe\u4e2d\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u90fd\u662f\u8fde\u901a\u7684,</li> <li>\u6781\u5c0f\u8fde\u901a\u56fe: \u65e2\u8981\u4fdd\u6301\u56fe\u8fde\u901a, \u53c8\u8981\u662f\u8fb9\u6570\u6700\u5c11\u7684\u5b50\u56fe</li> </ul> </li> <li>\u751f\u6210\u6811: \u5305\u542b\u56fe\u4e2d\u5168\u90e8\u9876\u70b9\u7684\u4e00\u4e2a\u6781\u5c0f\u8fde\u901a\u5b50\u56fe, \u4e0d\u5b58\u5728\u56de\u8def</li> <li>\u9876\u70b9\u7684\u5ea6\u3001\u5165\u5ea6\u548c\u51fa\u5ea6<ul> <li>\u65e0\u5411\u56fe\u7684\u5ea6: \u9876\u70b9v\u4e0e\u5176\u4ed6\u9876\u70b9\u8fde\u63a5\u7684\u6570\u91cf<ul> <li>\u65e0\u5411\u56fe\u7684\u5168\u90e8\u9876\u70b9\u7684\u5ea6\u7684\u548c\u7b49\u4e8e\u8fb9\u6570\u7684\u4e24\u500d</li> </ul> </li> <li>\u6709\u5411\u56fe<ul> <li>\u5165\u5ea6: \u4ee5\u9876\u70b9v\u4e3a\u7ec8\u70b9\u7684\u6709\u5411\u8fb9\u7684\u6570\u76ee</li> <li>\u51fa\u5ea6: \u4ee5\u9876\u70b9v\u4e3a\u8d77\u70b9\u7684\u6709\u5411\u8fb9\u7684\u6570\u76ee</li> <li>\u9876\u70b9\u7684\u5ea6: \u7b49\u4e8e\u5165\u5ea6\u4e0e\u51fa\u5ea6\u4e4b\u548c</li> <li>\u6709\u5411\u56fe\u7684\u5168\u90e8\u9876\u70b9\u7684\u5165\u5ea6\u4e4b\u548c\u4e0e\u51fa\u5ea6\u4e4b\u548c\u76f8\u7b49, \u5e76\u4e14\u5165\u5ea6\u4e4b\u548c\u4e0e\u51fa\u5ea6\u4e4b\u548c\u90fd\u7b49\u4e8e\u8fb9\u6570</li> </ul> </li> </ul> </li> <li>\u8fb9\u7684\u6743, \u7f51<ul> <li>\u8fb9\u4e0a\u7684\u6570\u503c\u8868\u793a\u6bcf\u6761\u8fb9\u7684\u6743\u503c</li> <li>\u7f51(\u5e26\u6743\u56fe): \u8fb9\u4e0a\u5e26\u6709\u6743\u503c\u7684\u56fe</li> </ul> </li> <li>\u8def\u5f84\u3001\u8def\u5f84\u957f\u5ea6\u548c\u56de\u8def(\u73af)<ul> <li>\u8def\u5f84: \u7ecf\u8fc7\u7684\u9876\u70b9</li> <li>\u8def\u5f84\u957f\u5ea6: \u7ecf\u8fc7\u7684\u8fb9\u6570</li> <li>\u56de\u8def(\u73af): \u8d77\u70b9\u7684\u9876\u70b9\u4e0e\u7ec8\u70b9\u7684\u9876\u70b9\u76f8\u540c</li> </ul> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_3","title":"\u5b58\u50a8\u7ed3\u6784","text":"<p>\u56fe\u7684\u5b58\u50a8\u7ed3\u6784\u6709\u56db\u79cd: \u90bb\u63a5\u77e9\u9635\u6cd5\u3001\u90bb\u63a5\u8868\u6cd5\u3001\u5341\u5b57\u94fe\u8868\u6cd5\u3001\u90bb\u63a5\u591a\u91cd\u8868\u6cd5</p> <ul> <li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_4","title":"\u90bb\u63a5\u77e9\u9635\u6cd5","text":"<ul> <li> <p>\u65e0\u5411\u56fe</p> <ul> <li> <p>A[i][j]</p> <ul> <li>(v~i~,v~j~)\u5b58\u5728<ul> <li>A[i][j] = 1</li> </ul> </li> <li>(v~i~,v~j~)\u4e0d\u5b58\u5728<ul> <li>A[i][j] = 0</li> </ul> </li> </ul> </li> <li> <p></p> </li> <li> <p>\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u90fd\u662f\u5bf9\u79f0\u77e9\u9635</p> </li> </ul> </li> <li> <p>\u6709\u5411\u56fe</p> <ul> <li> <p>A[i][j]</p> <ul> <li>\u5b58\u5728<ul> <li>A[i][j] = 1</li> </ul> <li>\u4e0d\u5b58\u5728<ul> <li>A[i][j] = 0</li> </ul> <li> <p></p> </li> <li> <p>\u4e0d\u662f\u5bf9\u79f0\u77e9\u9635</p> </li> <li> <p>\u5e26\u6743\u56fe</p> <ul> <li> <p>A[i][j]</p> <ul> <li>\u5b58\u5728<ul> <li>A[i][j] = \u6743\u503c</li> </ul> <li>\u4e0d\u5b58\u5728<ul> <li>A[i][j] = 0\u6216\u221e(\u4f46\u662f\u53ea\u80fd\u53d6\u5176\u4e2d\u4e00\u4e2a)</li> </ul> <li> <p></p> </li> <li> <p>\u5bf9\u4e8e\u4e09\u79cd\u77e9\u9635, \u5b83\u4eec\u7684\u884c\u5217\u90fd\u662f\u4e0e\u56fe\u7684\u9876\u70b9\u6709\u5173\u7684, \u4e0e\u56fe\u4e2d\u7684\u8fb9\u6570\u65e0\u5173</p> </li> <li> <p>n\u4e2a\u9876\u70b9\u7684\u65e0\u5411\u8fde\u901a\u56fe\u7528\u90bb\u63a5\u77e9\u9635\u8868\u793a\u662f, \u8be5\u77e9\u9635\u81f3\u5c11\u6709$2*(n-1)$\u4e2a\u975e\u96f6\u5143\u7d20</p> <ul> <li>\u81f3\u5c11: \u8bbe\u65e0\u5411\u8fde\u901a\u56fe\u4e3a\u65e0\u5411\u6781\u5c0f\u8fde\u901a\u56fe</li> <li>n\u4e2a\u9876\u70b9\u4e4b\u95f4\u6709(n-1)\u6761\u8fb9, \u5373n\u4e2a\u9876\u70b9\u4e4b\u95f4\u6709(n-1)\u4e2a\u5173\u7cfb, \u7531\u4e8e\u65e0\u5411\u56fe\u7684\u90bb\u63a5\u77e9\u9635\u662f\u5bf9\u79f0\u77e9\u9635, \u6240\u4ee5\u4e58\u4ee52</li> </ul> </li> <li> <p>\u5e26\u6743\u6709\u5411\u56feG\u7528\u90bb\u63a5\u77e9\u9635A\u5b58\u50a8, \u5219\u9876\u70b9i\u7684\u5165\u5ea6\u7b49\u4e8eA\u4e2d\u7b2ci\u5217\u975e\u96f6\u975e\u65e0\u7a77\u5143\u7d20\u4e4b\u548c</p> </li> <li> <p>\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u50a8\u4e00\u4e2a\u56fe\u65f6, \u5728\u4e0d\u8003\u8651\u538b\u7f29\u5b58\u50a8\u7684\u60c5\u51b5\u4e0b, \u6240\u5360\u7528\u7684\u5b58\u50a8\u7a7a\u95f4\u5927\u5c0f\u53ea\u4e0e\u56fe\u4e2d\u9876\u70b9\u7684\u4e2a\u6570\u6709\u5173, \u800c\u4e0e\u56fe\u7684\u8fb9\u6570\u65e0\u5173</p> </li> <li> </li> <li> <p>\u9876\u70b9\u8868\u7ed3\u70b9: \u5934\u7ed3\u70b9</p> </li> <li> <p>\u8fb9\u8868\u7ed3\u70b9: \u8868\u7ed3\u70b9</p> <ul> <li> <p>\u65e0\u5411\u56fe</p> <ul> <li> <p></p> </li> </ul> </li> <li> <p>\u6709\u5411\u56fe</p> <ul> <li> <p></p> </li> </ul> </li> </ul> </li> <li> <p>\u7279\u70b9</p> <ul> <li>\u82e5G\u4e3a\u65e0\u5411\u56fe, \u5219\u6240\u9700\u7684\u5b58\u50a8\u7a7a\u95f4\u4e3a: O(|V| + 2|E|)     \u82e5G\u4e3a\u6709\u5411\u56fe, \u5219\u6240\u9700\u7684\u5b58\u50a8\u7a7a\u95f4\u4e3a: O(|V| + |E|)<ul> <li>V: \u9876\u70b9\u6570  E: \u8fb9\u6570</li> </ul> </li> <li>\u5bf9\u4e8e\u7a00\u758f\u56fe, \u91c7\u7528\u90bb\u63a5\u8868\u8868\u793a\u80fd\u6781\u5927\u5730\u8282\u7701\u5b58\u50a8\u7a7a\u95f4</li> <li>\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\u4e0d\u552f\u4e00</li> <li>\u5728\u6709\u5411\u56fe\u7684\u90bb\u63a5\u8868\u8868\u793a\u4e2d, \u6c42\u4e00\u4e2a\u7ed9\u5b9a\u9876\u70b9\u7684\u51fa\u5ea6\u53ea\u9700\u8ba1\u7b97\u5176\u90bb\u63a5\u8868\u4e2d\u7684\u7ed3\u70b9\u4e2a\u6570</li> </ul> </li> <li> <p>\u6c42\u67d0\u4e2a\u9876\u70b9\u7684\u51fa\u5ea6(\u6c42\u4ece\u67d0\u4e2a\u9876\u70b9\u51fa\u53d1\u7684\u5f27): \u53ea\u9700\u770b\u5bf9\u5e94\u7ed3\u70b9\u7684\u8fb9\u8868\u7ed3\u70b9\u6709\u51e0\u4e2a\u5373\u53ef</p> <ul> <li>\u53ea\u9700\u627e\u5230\u5bf9\u5e94\u7684\u9876\u70b9\u8868\u8fdb\u884c\u67e5\u627e\u5373\u53ef, \u65f6\u95f4\u590d\u6742\u5ea6\u5c0f</li> </ul> </li> <li> <p>\u6c42\u67d0\u4e2a\u9876\u70b9\u7684\u5165\u5ea6: \u53ea\u9700\u770b\u8fb9\u8868\u7ed3\u70b9\u4e2d\u6709\u51e0\u4e2a\u8be5\u7ed3\u70b9\u5373\u53ef</p> <ul> <li>\u9700\u8981\u5bf9\u6574\u4e2a\u9876\u70b9\u8868\u548c\u8fb9\u8868\u8fdb\u884c\u904d\u5386, \u624d\u80fd\u627e\u5230\u6240\u6709\u7684\u9876\u70b9\u7684\u5165\u5ea6, \u65f6\u95f4\u590d\u6742\u5ea6\u8f83\u5927</li> </ul> </li> <li> <p>\u6c42\u9876\u70b9\u4e2a\u6570</p> <ul> <li>\u53ea\u9700\u904d\u5386\u9876\u70b9\u8868, \u65f6\u95f4\u590d\u6742\u5ea6\u5c0f</li> </ul> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_5","title":"\u90bb\u63a5\u8868\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_6","title":"\u56fe\u7684\u904d\u5386","text":"<p>\u4ece\u56fe\u4e2d\u7684\u67d0\u4e00\u9876\u70b9\u51fa\u53d1, \u6309\u7167\u67d0\u79cd\u641c\u7d22\u65b9\u6cd5\u6cbf\u7740\u56fe\u4e2d\u7684\u6240\u6709\u9876\u70b9\u8bbf\u95ee\u4e00\u6b21\u4e14\u4ec5\u8bbf\u95ee\u4e00\u6b21</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_7","title":"\u904d\u5386\u7b97\u6cd5","text":"<p>\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u548c\u6df1\u5ea6\u4f18\u5148\u641c\u7d22</p> <ul> <li> <p>\u5982\u679c\u4ece\u4e00\u4e2a\u65e0\u5411\u56fe\u7684\u4efb\u610f\u9876\u70b9\u51fa\u53d1\u8fdb\u884c\u4e00\u6b21\u6df1\u5ea6(\u5e7f\u5ea6)\u4f18\u5148\u641c\u7d22\u5373\u53ef\u8bbf\u95ee\u6240\u6709\u9876\u70b9, \u5219\u8be5\u56fe\u4e00\u5b9a\u662f\u8fde\u901a\u56fe</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_8","title":"\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u904d\u5386","text":"<ul> <li> <p>\u7c7b\u4f3c\u4e8e\u4e8c\u53c9\u6811\u7684\u5c42\u6b21\u904d\u5386\u7b97\u6cd5</p> </li> <li> <p></p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_9","title":"\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u904d\u5386","text":"<ul> <li> <p>\u7c7b\u4f3c\u4e8e\u4e8c\u53c9\u6811\u7684\u5148\u5e8f\u904d\u5386</p> </li> <li> <p></p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_10","title":"\u56fe\u7684\u5e94\u7528","text":"<ul> <li> <p>\u751f\u6210\u6811: \u6240\u6709\u9876\u70b9\u5747\u7531\u8fb9\u8fde\u63a5\u5728\u4e00\u8d77, \u4f46\u4e0d\u5b58\u5728\u56de\u8def</p> <ul> <li>\u4e00\u4e2a\u56fe\u53ef\u4ee5\u6709\u8bb8\u591a\u68f5\u4e0d\u540c\u7684\u751f\u6210\u6811</li> <li>\u751f\u6210\u6811\u7684\u9876\u70b9\u4e2a\u6570\u4e0e\u56fe\u7684\u9876\u70b9\u4e2a\u6570\u76f8\u540c</li> <li>\u751f\u6210\u6811\u662f\u56fe\u7684\u6781\u5c0f\u8fde\u901a\u5b50\u56fe, \u53bb\u6389\u4e00\u6761\u8fb9\u5219\u662f\u975e\u8fde\u901a\u56fe</li> <li>\u4e00\u4e2a\u6709n\u4e2a\u9876\u70b9\u7684\u8fde\u901a\u56fe\u7684\u751f\u6210\u6811\u6709n-1\u6761\u8fb9</li> <li>\u5728\u751f\u6210\u6811\u4e2d\u518d\u52a0\u4e00\u6761\u8fb9\u5fc5\u7136\u5f62\u6210\u56de\u8def<ul> <li>\u4f46\u662f\u542b\u6709n\u4e2a\u9876\u70b9n-1\u6761\u8fb9\u7684\u56fe\u4e0d\u4e00\u5b9a\u662f\u751f\u6210\u6811</li> </ul> </li> <li>\u751f\u6210\u6811\u4e2d\u4efb\u610f\u4e24\u4e2a\u9876\u70b9\u95f4\u7684\u8def\u5f84\u662f\u552f\u4e00\u7684</li> </ul> </li> <li> <p>\u6df1\u5ea6\u4f18\u5148\u751f\u6210\u6811: \u5229\u7528\u6df1\u5ea6\u4f18\u5148\u751f\u6210\u7684</p> </li> <li> <p></p> </li> <li> <p>\u5e7f\u5ea6\u4f18\u5148\u751f\u6210\u6811: \u5229\u7528\u5e7f\u5ea6\u4f18\u5148\u751f\u6210\u7684</p> </li> <li> <p></p> </li> <li> <p>\u6700\u5c0f\u751f\u6210\u6811: \u7ed9\u5b9a\u4e00\u4e2a\u65e0\u5411\u7f51\u56fe, \u5728\u8be5\u7f51\u7684\u6240\u6709\u751f\u6210\u6811\u4e2d, \u4f7f\u5f97\u5404\u8fb9\u6743\u503c\u4e4b\u548c\u6700\u5c0f\u7684\u90a3\u68f5\u751f\u6210\u6811\u6210\u4e3a\u8be5\u7f51\u7684\u6700\u5c0f\u751f\u6210\u6811, \u4e5f\u53eb\u6700\u5c0f\u4ee3\u4ef7\u751f\u6210\u6811.</p> <ul> <li>\u6700\u5c0f\u751f\u6210\u6811\u53ef\u80fd\u5e76\u4e0d\u552f\u4e00</li> </ul> </li> <li> </li> <li> <p>\u666e\u91cc\u59c6(Prim)\u7b97\u6cd5</p> <ul> <li> <p>\u8bbeN = (V, E)\u662f\u8fde\u901a\u7f51, TE\u662fN\u4e0a\u6700\u5c0f\u751f\u6210\u6811\u4e2d\u7684\u8fb9\u7684\u96c6\u5408</p> </li> <li> <p>\u521d\u59cb\u4ee4 U = {u~0~}, (u~0~\u5c5e\u4e8eV), TE = {}</p> </li> <li> <p>\u5728\u6240\u6709u\u5c5e\u4e8eU, v\u5c5e\u4e8eV-U\u7684\u8fb9(u, v)\u5c5e\u4e8eE\u4e2d, \u627e\u4e00\u6761\u4ee3\u4ef7\u6700\u5c0f\u7684\u8fb9(u~0~, v~0~)</p> </li> <li> <p>\u5c06(u~0~, v~0~)\u5e76\u5165\u96c6\u5408TE, \u540c\u65f6v~0~\u5e76\u5165U.</p> </li> <li> <p>\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c\u76f4\u81f3 U=V \u4e3a\u6b62, \u5219 T=(V, TE) \u4e3a N \u7684\u6700\u5c0f\u751f\u6210\u6811</p> </li> <li> </li> </ul> </li> <li> <p>\u514b\u9c81\u65af\u5361\u5c14(Kruskal)\u7b97\u6cd5</p> <ul> <li> <p>\u8bbe\u8fde\u901a\u7f51 N = (V, E), \u4ee4\u6700\u5c0f\u751f\u6210\u6811\u521d\u59cb\u72b6\u6001\u4e3a\u53ea\u6709 n \u4e2a\u9876\u70b9\u800c\u65e0\u8fb9\u7684\u975e\u8fde\u901a\u56fe T = (V, {}), \u6bcf\u4e2a\u9876\u70b9\u81ea\u6210\u4e00\u4e2a\u8fde\u901a\u5206\u91cf</p> </li> <li> <p>\u5728 E \u4e2d\u9009\u53d6\u4ee3\u4ef7\u6700\u5c0f\u7684\u8fb9, \u82e5\u8be5\u8fb9\u4f9d\u9644\u7684\u9876\u70b9\u843d\u5728 T \u4e2d\u4e0d\u540c\u7684\u8fde\u901a\u5206\u91cf\u4e0a(\u5373: \u4e0d\u80fd\u5f62\u6210\u73af), \u5219\u5c06\u6b64\u8fb9\u52a0\u5165\u5230 T \u4e2d; \u5426\u5219, \u820d\u53bb\u6b64\u8fb9, \u9009\u53d6\u4e0b\u4e00\u6761\u4ee3\u4ef7\u6700\u5c0f\u7684\u8fb9.</p> </li> <li> <p>\u4f9d\u6b64\u7c7b\u63a8, \u76f4\u81f3 T \u4e2d\u6240\u6709\u9876\u70b9\u90fd\u5728\u540c\u4e00\u8fde\u901a\u5206\u91cf\u4e0a\u4e3a\u6b62</p> </li> <li> </li> </ul> </li> <li> <p>dijkstra\u7b97\u6cd5</p> <ul> <li> <p>d(u, u) = 0     \u5f53u\u548cv\u4e0d\u76f8\u90bb\u65f6, d(u, v) = +\u221e</p> </li> <li> <p></p> </li> </ul> </li> <li> </li> <li> </li> <li> </li> <li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_11","title":"\u6700\u5c0f\u751f\u6210\u6811","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_12","title":"\u5982\u4f55\u6784\u9020\u6700\u5c0f\u751f\u6210\u6811","text":"<ul> <li> <p>\u6784\u9020\u6700\u5c0f\u751f\u6210\u6811\u7684\u7b97\u6cd5\u6709\u5f88\u591a, \u5176\u4e2d\u591a\u6570\u7b97\u6cd5\u90fd\u5229\u7528\u4e86MST\u7684\u6027\u8d28</p> <ul> <li> <p>MST\u6027\u8d28: \u8bbeN = (V, E)\u662f\u4e00\u4e2a\u8fde\u901a\u7f51, U\u662f\u9876\u70b9\u96c6V\u7684\u4e00\u4e2a\u975e\u7a7a\u5b50\u96c6. \u82e5(u, v)\u662f\u4e00\u6761\u5177\u6709\u6700\u5c0f\u6743\u503c\u7684\u8fb9, \u5176\u4e2du\u5c5e\u4e8eU, v\u5c5e\u4e8eV-U, \u5219\u5fc5\u7136\u5b58\u5728\u4e00\u68f5\u5305\u542b\u8fb9(u, v)\u7684\u6700\u5c0f\u751f\u6210\u6811</p> <ul> <li> </li> </ul> </li> <li> <p>MST\u6027\u8d28\u89e3\u91ca:</p> <ul> <li> <p>\u5728\u751f\u6210\u6811\u7684\u6784\u9020\u8fc7\u7a0b\u4e2d, \u56fe\u4e2dn\u4e2a\u9876\u70b9(V)\u5206\u5c5e\u4e24\u4e2a\u96c6\u5408</p> <ul> <li>\u5df2\u7ecf\u843d\u5728\u751f\u6210\u6811\u4e0a\u7684\u9876\u70b9\u96c6: U</li> <li>\u5c1a\u672a\u843d\u5728\u751f\u6210\u6811\u4e0a\u7684\u9876\u70b9\u96c6: V - U</li> </ul> </li> <li> <p>\u63a5\u4e0b\u6765\u5219\u5e94\u5728\u6240\u6709\u8fde\u901aU\u4e2d\u9876\u70b9\u548cV-U\u4e2d\u9876\u70b9\u7684\u8fb9\u4e2d\u9009\u53d6\u6743\u503c\u6700\u5c0f\u7684\u8fb9</p> </li> <li> <p></p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_13","title":"\u6700\u77ed\u8def\u5f84","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_14","title":"\u62d3\u6251\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_15","title":"\u5173\u952e\u8def\u5f84","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#_16","title":"\u6982\u5ff5","text":"<ul> <li>AOE\u7f51: \u4ee5\u9876\u70b9\u8868\u793a\u4e8b\u4ef6, \u4ee5\u6709\u5411\u8fb9\u8868\u793a\u6d3b\u52a8, \u4ee5\u8fb9\u4e0a\u7684\u6743\u503c\u8868\u793a\u5b8c\u6210\u8be5\u6d3b\u52a8\u7684\u5f00\u9500</li> <li>\u5173\u952e\u8def\u5f84: \u4ece\u5f00\u59cb\u9876\u70b9\u5230\u7ed3\u675f\u9876\u70b9\u7684\u6240\u6709\u8def\u5f84\u4e2d, \u5177\u6709\u6700\u5927\u8def\u5f84\u957f\u5ea6\u7684\u8def\u5f84</li> <li>\u5173\u952e\u6d3b\u52a8: \u5173\u952e\u8def\u5f84\u4e0a\u7684\u6d3b\u52a8</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#vkvek","title":"\u4e8b\u4ef6(\u9876\u70b9)v~k~\u7684\u6700\u65e9\u53d1\u751f\u65f6\u95f4ve(k)","text":"<ul> <li> <p>\u6307\u4ece\u6e90\u70b9v~1~\u5230\u9876\u70b9v~k~\u7684\u6700\u957f\u8def\u5f84\u957f\u5ea6</p> </li> <li> <p>Ve(1) = 0</p> </li> <li> <p>Ve(k) = Max{ve(j) + Weight(v~j~, v~k~)}</p> <ul> <li> <p>v~k~\u662fv~j~\u7684\u4efb\u610f\u540e\u7eed, ve(j)\u662fv~j~\u7684\u6700\u65e9\u53d1\u751f\u65f6\u95f4</p> </li> <li> <p>Weight(v~j~, v~k~)\u662fv~j~\u548cv~k~\u4e4b\u95f4\u7684\u6743\u503c</p> </li> <li> <p></p> </li> <li> <p>2\u7684\u6700\u65e9\u53d1\u751f\u65f6\u95f4\u4e3a12</p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#vkvlk","title":"\u4e8b\u4ef6v~k~\u7684\u6700\u8fdf\u53d1\u751f\u65f6\u95f4vl(k)","text":"<ul> <li>\u6307\u5728\u4e0d\u63a8\u8fdf\u6574\u4e2a\u5de5\u7a0b\u5b8c\u6210\u7684\u524d\u63d0\u4e0b, \u5373\u4fdd\u8bc1\u5b83\u7684\u540e\u7eed\u4e8b\u4ef6v~j~\u5728\u5176\u6700\u8fdf\u53d1\u751f\u65f6\u95f4vl(j)\u80fd\u591f\u53d1\u751f\u65f6, \u8be5\u4e8b\u4ef6\u6700\u8fdf\u5fc5\u987b\u53d1\u751f\u7684\u65f6\u95f4</li> <li>vl(\u6c47\u70b9) = ve(\u6c47\u70b9)<ul> <li>\u6c47\u70b9\u6307\u6700\u540e\u4e00\u4e2a\u9876\u70b9</li> </ul> </li> <li>vl(k) = Min{ vl(j) - Weight(v~k~, v~j~) }<ul> <li>v~k~\u662fv~j~\u7684\u4efb\u610f\u524d\u9a71</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#aiei","title":"\u6d3b\u52a8a~i~\u7684\u6700\u65e9\u5f00\u59cb\u65f6\u95f4e(i)","text":"<ul> <li>\u6307\u8be5\u6d3b\u52a8\u5f27\u7684\u8d77\u70b9\u6240\u8868\u793a\u7684\u4e8b\u4ef6\u7684\u6700\u65e9\u53d1\u751f\u65f6\u95f4</li> <li>     \u5bf9\u4e8ev~k~\u4e0ev~j~\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4, a~i~\u6d3b\u52a8\u7684\u6700\u65e9\u5f00\u59cb\u65f6\u95f4\u4e3av~k~\u7684\u6700\u65e9\u53d1\u751f\u65f6\u95f4 <li>e(i) = ve(k)</li> <li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#ai","title":"\u6d3b\u52a8a~i~\u7684\u6700\u8fdf\u5f00\u59cb\u65f6\u95f4","text":"<ul> <li>\u6307\u8be5\u6d3b\u52a8\u5f27\u7684\u7ec8\u70b9\u6240\u8868\u793a\u4e8b\u4ef6\u7684\u6700\u8fdf\u53d1\u751f\u65f6\u95f4\u4e0e\u8be5\u6d3b\u52a8\u6240\u9700\u65f6\u95f4\u4e4b\u5dee</li> <li>     \u5bf9\u4e8ev~k~\u4e0ev~j~\u4e24\u4e2a\u9876\u70b9\u4e4b\u95f4, a~i~\u6d3b\u52a8\u7684\u6700\u8fdf\u5f00\u59cb\u65f6\u95f4\u4e3av~j~\u7684\u6700\u8fdf\u53d1\u751f\u65f6\u95f4\u51cf\u53bbvk\u4e0evj\u95f4\u7684\u6743\u503c <li>l(i) = vl(j) - Weight(v~j~, v~k~)</li> <li> </li> <li> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap6%20%E5%9B%BE/%E5%9B%BE/#ailieidi-li-ei","title":"\u4e00\u4e2a\u6d3b\u52a8a~i~\u7684\u6700\u8fdf\u5f00\u59cb\u65f6\u95f4l(i)\u548c\u5176\u6700\u65e9\u5f00\u59cb\u65f6\u95f4e(i)\u7684\u5dee\u989dd(i) = l(i) - e(i)","text":"<ul> <li>d(i) = 0\u7684\u6d3b\u52a8a~i~\u662f\u5173\u952e\u6d3b\u52a8</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/","title":"\u67e5\u627e\u4e0e\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_2","title":"\u67e5\u627e","text":"<ul> <li>\u67e5\u627e<ul> <li>\u5728\u6570\u636e\u96c6\u5408\u4e2d, \u5bfb\u627e\u6ee1\u8db3\u67d0\u79cd\u6761\u4ef6\u7684\u6570\u636e\u5143\u7d20\u7684\u8fc7\u7a0b</li> </ul> </li> <li>\u67e5\u627e\u8868(\u67e5\u627e\u7ed3\u6784)<ul> <li>\u7528\u4e8e\u67e5\u627e\u7684\u6570\u636e\u96c6\u5408</li> </ul> </li> <li>\u5173\u952e\u5b57<ul> <li>\u6570\u636e\u5143\u7d20\u4e2d\u67d0\u4e2a\u6570\u636e\u9879\u7684\u503c, \u7528\u5b83\u53ef\u4ee5\u6807\u8bc6\u4e00\u4e2a\u6570\u636e\u5143\u7d20</li> <li>\u4e3b\u5173\u952e\u5b57<ul> <li>\u5173\u952e\u5b57\u53ef\u4ee5\u552f\u4e00\u5730\u6807\u8bc6\u4e00\u4e2a\u8bb0\u5f55<ul> <li>\u4f8b\u5982\u5b66\u751f\u7684\u5b66\u53f7</li> </ul> </li> </ul> </li> </ul> </li> <li>\u5e73\u5747\u67e5\u627e\u957f\u5ea6<ul> <li>\u6240\u6709\u67e5\u627e\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u5173\u952e\u5b57\u7684\u6bd4\u8f83\u6b21\u6570\u7684\u5e73\u5747\u503c<ul> <li>ASL = P~1~C~1~+P~2~C~2~+\u2026\u2026+P~n~C~n~<ul> <li>p~i~\u8868\u793a\u7b2ci\u4e2a\u5143\u7d20\u88ab\u67e5\u627e\u5230\u7684\u6982\u7387</li> <li>C~i~\u8868\u793a\u7b2ci\u4e2a\u5143\u7d20\u88ab\u67e5\u627e\u7684\u6b21\u6570</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_3","title":"\u987a\u5e8f\u67e5\u627e","text":"<ul> <li> <p>\u57fa\u672c\u601d\u60f3</p> <ul> <li>\u4ece\u7ebf\u6027\u8868\u7684\u4e00\u7aef\u5f00\u59cb, \u9010\u4e2a\u68c0\u67e5\u5173\u952e\u5b57\u662f\u5426\u6ee1\u8db3\u7ed9\u5b9a\u7684\u6761\u4ef6. \u82e5\u67e5\u627e\u5230\u67d0\u4e2a\u5143\u7d20\u7684\u5173\u952e\u5b57\u6ee1\u8db3\u6761\u4ef6, \u5219\u67e5\u627e\u6210\u529f, \u8fd4\u56de\u8be5\u5143\u7d20\u5728\u7ebf\u6027\u8868\u4e2d\u7684\u4f4d\u7f6e. \u82e5\u67e5\u627e\u5230\u8868\u7684\u53e6\u4e00\u7aef, \u4ecd\u4e3a\u627e\u5230\u7b26\u5408\u7ed9\u5b9a\u6761\u4ef6\u7684\u5143\u7d20, \u5219\u8fd4\u56de\u67e5\u627e\u5931\u8d25\u7684\u4fe1\u606f</li> </ul> </li> <li> <p>\u5bf9\u7ebf\u6027\u94fe\u8868\u53ea\u80fd\u8fdb\u884c\u987a\u5e8f\u67e5\u627e</p> </li> <li> <ul> <li>\u6b64\u4f8b\u9898\u627e\u51fa\u89c4\u5f8b, \u6c42\u51fa\u7b2ci\u4e2a\u5143\u7d20\u88ab\u67e5\u627e\u7684\u6b21\u6570\u5373\u53ef</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_4","title":"\u6298\u534a\u67e5\u627e","text":"<ul> <li>\u5fc5\u987b\u662f\u6709\u5e8f\u7684\u987a\u5e8f\u8868</li> </ul> <p>\u7406\u89e3\u5373\u53ef, \u6bd4\u8f83\u7b80\u5355</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_5","title":"\u6563\u5217\u8868 \u672a\u7406\u89e3","text":"<ul> <li>\u6563\u5217\u51fd\u6570<ul> <li>$Hash(key) = Addr$(\u5730\u5740)</li> </ul> </li> <li>\u540c\u4e49\u8bcd<ul> <li>\u6563\u5217\u51fd\u6570\u53ef\u80fd\u4f1a\u628a\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u4e0d\u540c\u5173\u952e\u5b57\u6620\u5c04\u5230\u540c\u4e00\u5730\u5740<ul> <li>\u4f8b\u5982: 3%4 = 3     7%4 = 3     3\u548c7\u662f\u540c\u4e49\u8bcd</li> </ul> </li> </ul> </li> <li> <p>\u5e38\u89c1\u7684\u6563\u5217\u51fd\u6570</p> <ul> <li>\u76f4\u63a5\u5b9a\u5740\u6cd5<ul> <li>$H(key) = key       H(key) = a*key + b$</li> </ul> </li> <li>\u9664\u7559\u4f59\u6570\u6cd5<ul> <li>\u6563\u5217\u8868\u8868\u957f\u4e3a:m        \u53bb\u4e00\u4e2a\u4e0d\u5927\u4e8e\u4f46\u6700\u63a5\u8fd1\u6216\u7b49\u4e8em\u7684\u8d28\u6570p  $H(key) = key%p$</li> </ul> </li> <li>\u6570\u5b57\u5206\u6790\u6cd5</li> <li>\u5e73\u65b9\u53d6\u4e2d\u6cd5</li> </ul> </li> <li> <p>\u89e3\u51b3\u540c\u4e49\u8bcd\u51b2\u7a81\u7684\u65b9\u6cd5</p> <ul> <li>\u5f00\u653e\u5b9a\u5740\u6cd5<ul> <li>\u53ef\u5b58\u653e\u65b0\u8868\u9879\u7684\u7a7a\u95f2\u5730\u5740\u65e2\u5411\u5b83\u7684\u540c\u4e49\u8bcd\u8868\u9879\u5f00\u653e, \u53c8\u5411\u5b83\u7684\u975e\u540c\u4e49\u8bcd\u8868\u9879\u5f00\u653e. \u5176\u6570\u5b66\u9012\u63a8\u516c\u5f0f\u4e3a $Hi = (H(key) + di) % m$</li> <li>di\u7684\u6c42\u6cd5<ul> <li>\u7ebf\u6027\u63a2\u6d4b\u6cd5:    d~i~ = 0, 1, 2, \u2026, m-1</li> <li>\u5e73\u65b9\u63a2\u6d4b\u6cd5:    d~i~ = 0^2^, 1^2^, -1^2^, 2^2^, -2^2^, \u2026, k^2^, -k^2^      k&lt;=m/2</li> <li>\u518d\u6563\u5217\u6cd5:        d~i~ = Hash~2~(key)</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_6","title":"\u6392\u5e8f","text":"<ul> <li> <p>\u4e32\u884c\u6392\u5e8f</p> <ul> <li>\u5355\u5904\u7406\u673a(\u540c\u4e00\u65f6\u523b\u6bd4\u8f83\u4e00\u5bf9\u5143\u7d20)</li> </ul> </li> <li> <p>\u5e76\u884c\u6392\u5e8f</p> <ul> <li>\u591a\u5904\u7406\u673a(\u540c\u4e00\u65f6\u523b\u6bd4\u8f83\u591a\u5bf9\u5143\u7d20)</li> </ul> </li> <li> </li> <li> </li> <li> <p>\u539f\u5730\u6392\u5e8f</p> <ul> <li>\u8f85\u52a9\u7a7a\u95f4\u7528\u91cf\u4e3aO(1)\u7684\u6392\u5e8f\u65b9\u6cd5<ul> <li>\u6240\u5360\u7684\u8f85\u52a9\u5b58\u50a8\u7a7a\u95f4\u4e0e\u53c2\u52a0\u6392\u5e8f\u7684\u6570\u636e\u91cf\u5927\u5c0f\u65e0\u5173</li> </ul> </li> </ul> </li> <li> <p>\u975e\u539f\u5730\u6392\u5e8f</p> <ul> <li>\u8f85\u52a9\u7a7a\u95f4\u7528\u91cf\u8d85\u8fc7O(1)\u7684\u6392\u5e8f\u65b9\u6cd5</li> </ul> </li> <li> </li> <li> <p>\u7a33\u5b9a\u6392\u5e8f</p> <ul> <li>\u80fd\u591f\u4f7f\u4efb\u4f55\u6570\u503c\u76f8\u7b49\u7684\u5143\u7d20, \u6392\u5e8f\u4ee5\u540e\u76f8\u5bf9\u6b21\u5e8f\u4e0d\u53d8</li> </ul> </li> <li> <p>\u975e\u7a33\u5b9a\u6027\u6392\u5e8f</p> <ul> <li>\u4e0d\u662f\u7a33\u5b9a\u6392\u5e8f\u7684\u65b9\u6cd5</li> </ul> </li> <li> </li> <li> </li> <li> </li> <li> <p>\u81ea\u7136\u6392\u5e8f</p> <ul> <li>\u8f93\u5165\u6570\u636e\u8d8a\u6709\u5e8f, \u6392\u5e8f\u7684\u901f\u5ea6\u8d8a\u5feb\u7684\u6392\u5e8f\u65b9\u6cd5</li> </ul> </li> <li> <p>\u975e\u81ea\u7136\u6392\u5e8f</p> <ul> <li>\u4e0d\u662f\u81ea\u7136\u6392\u5e8f\u7684\u65b9\u6cd5</li> </ul> </li> <li> </li> <li> <p>\u57fa\u672c\u601d\u60f3</p> <ul> <li> <p>\u6bcf\u4e00\u6b65\u5c06\u4e00\u4e2a\u5f85\u6392\u5e8f\u7684\u5bf9\u8c61, \u6309\u5176\u5173\u952e\u7801\u5927\u5c0f, \u63d2\u5165\u5230\u524d\u9762\u5df2\u7ecf\u6392\u597d\u5e8f\u7684\u4e00\u7ec4\u5bf9\u8c61\u7684\u9002\u5f53\u4f4d\u7f6e\u4e0a, \u76f4\u5230\u5bf9\u8c61\u5168\u90e8\u63d2\u5165\u4e3a\u6b62</p> </li> <li> <p>\u5373\u8fb9\u63d2\u5165\u8fb9\u6392\u5e8f, \u4fdd\u8bc1\u5b50\u5e8f\u5217\u4e2d\u635f\u5931\u90fd\u662f\u6392\u597d\u5e8f\u7684</p> </li> </ul> </li> <li> <p>\u57fa\u672c\u64cd\u4f5c: \u6709\u5e8f\u63d2\u5165</p> <ul> <li>\u5728\u6709\u5e8f\u5e8f\u5217\u4e2d\u63d2\u5165\u4e00\u4e2a\u5143\u7d20, \u4fdd\u6301\u5e8f\u5217\u6709\u5e8f, \u6709\u5e8f\u957f\u5ea6\u4e0d\u65ad\u589e\u52a0</li> <li>\u8d77\u521d, a[0]\u662f\u957f\u5ea6\u4e3a1\u7684\u5b50\u5e8f\u5217. \u7136\u540e, \u9010\u4e00\u5c061[1]\u81f3a[n-1]\u63d2\u5165\u5230\u6709\u5e8f\u5b50\u5e8f\u5217\u4e2d</li> <li>\u5728\u63d2\u5165a[i]\u524d, \u6570\u7ec4a\u7684\u524d\u534a\u6bb5(a[0]~a[i-1])\u662f\u6709\u5e8f\u6bb5, \u540e\u534a\u6bb5(a[i]~a[n-1])\u662f\u505c\u7559\u4e8e\u8f93\u5165\u6b21\u5e8f\u7684\u65e0\u5e8f\u6bb5</li> <li>\u63d2\u5165a[i]\u4f7fa[0]~a[i-1]\u6709\u5e8f, \u4e5f\u5c31\u662f\u8981\u4e3aa[i]\u627e\u5230\u6709\u5e8f\u4f4d\u7f6ej(0&lt;=j&lt;=i), \u5c06a[i]\u63d2\u5165\u5728a[j]\u7684\u4f4d\u7f6e\u4e0a</li> </ul> </li> </ul> <ul> <li> </li> <li> </li> <li> </li> <li> </li> <li> </li> <li> <p>\u65f6\u95f4\u590d\u6742\u5ea6\u7ed3\u8bba</p> <ul> <li>\u539f\u59cb\u6570\u636e\u8d8a\u63a5\u8fd1\u6709\u5e8f, \u6392\u5e8f\u901f\u5ea6\u8d8a\u5feb</li> <li>\u6700\u574f\u60c5\u51b5\u4e0b(\u8f93\u5165\u6570\u636e\u4f7f\u9006\u6709\u5e8f\u7684)<ul> <li>Tw(n) = O(n^2^)</li> </ul> </li> <li>\u5e73\u5747\u60c5\u51b5\u4e0b, \u8017\u65f6\u5dee\u4e0d\u591a\u662f\u6700\u574f\u60c5\u51b5\u7684\u4e00\u534a<ul> <li>Te(n) = O(n^2^)</li> </ul> </li> <li>\u8981\u63d0\u9ad8\u67e5\u627e\u901f\u5ea6<ul> <li>\u51cf\u5c11\u5143\u7d20\u7684\u6bd4\u8f83\u6b21\u6570<ul> <li>\u539f\u6709\u5e8f\u5217\u57fa\u672c\u6709\u5e8f</li> </ul> </li> <li>\u51cf\u5c11\u5143\u7d20\u7684\u79fb\u52a8\u6b21\u6570<ul> <li>\u539f\u6709\u5e8f\u5217\u8bb0\u5f55\u7684\u4e2a\u6570\u8f83\u5c11</li> </ul> </li> </ul> </li> </ul> </li> <li> </li> <li> </li> <li> <p>\u6298\u534a\u67e5\u627e\u6bd4\u987a\u5e8f\u67e5\u627e\u5feb, \u6240\u4ee5\u6298\u534a\u63d2\u5165\u6392\u5e8f\u5c31\u5e73\u5747\u6027\u80fd\u6765\u8bf4\u6bd4\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u8981\u5feb</p> </li> <li> <p>\u5b83\u6240\u9700\u8981\u7684\u5173\u952e\u7801\u6bd4\u8f83\u6b21\u6570\u4e0e\u5f85\u6392\u5e8f\u5bf9\u8c61\u5e8f\u5217\u7684\u521d\u59cb\u6392\u5217\u65e0\u5173, \u4ec5\u4f9d\u8d56\u4e8e\u5bf9\u8c61\u4e2a\u6570. \u5728\u63d2\u5165\u7b2ci\u4e2a\u5bf9\u8c61\u65f6, \u9700\u8981\u7ecf\u8fc7log~2~i+1\u6b21\u5173\u952e\u7801\u6bd4\u8f83, \u624d\u80fd\u786e\u5b9a\u5b83\u5e94\u63d2\u5165\u7684\u4f4d\u7f6e</p> <ul> <li>\u5f53n(\u5f85\u6392\u5e8f\u7684\u503c)\u8f83\u5927\u65f6, \u603b\u5173\u952e\u7801\u6bd4\u8f83\u6b21\u6570\u6bd4\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u7684\u6700\u574f\u60c5\u51b5\u8981\u597d\u5f97\u591a, \u4f46\u6bd4\u5176\u6700\u597d\u60c5\u51b5\u8981\u5dee</li> <li>\u5728\u6392\u5e8f\u5bf9\u8c61\u7684\u521d\u59cb\u6392\u5e8f\u5df2\u7ecf\u6309\u5173\u952e\u7801\u6392\u597d\u5e8f\u6216\u63a5\u8fd1\u6709\u5e8f\u65f6, \u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u6bd4\u6298\u534a\u63d2\u5165\u6392\u5e8f\u6267\u884c\u7684\u5173\u952e\u7801\u6bd4\u8f83\u6b21\u6570\u8981\u5c11</li> <li>\u6298\u534a\u63d2\u5165\u6392\u5e8f\u7684\u5bf9\u8c61\u79fb\u52a8\u6b21\u6570\u4e0e\u76f4\u63a5\u63d2\u5165\u6392\u5e8f\u76f8\u540c, \u4f9d\u8d56\u4e8e\u5bf9\u8c61\u7684\u521d\u59cb\u6392\u5e8f<ul> <li>\u51cf\u5c11\u4e86\u6bd4\u8f83\u6b21\u6570, \u4f46\u6ca1\u6709\u51cf\u5c11\u79fb\u52a8\u6b21\u6570</li> <li>\u5e73\u5747\u6027\u80fd\u4f18\u4e8e\u76f4\u63a5\u63d2\u5165\u6392\u5e8f</li> </ul> </li> <li>\u65f6\u95f4\u590d\u6742\u5ea6:O(n^2^)</li> <li>\u7a7a\u95f4\u590d\u6742\u5ea6:O(1)</li> <li>\u662f\u4e00\u79cd\u7a33\u5b9a\u7684\u6392\u5e8f\u65b9\u6cd5</li> </ul> </li> <li> </li> <li> <p>\u57fa\u672c\u601d\u60f3</p> <ul> <li>\u5148\u5c06\u6574\u4e2a\u5f85\u6392\u8bb0\u5f55\u5e8f\u5217\u5206\u5272\u6210\u82e5\u5e72\u5b50\u5e8f\u5217, \u5206\u522b\u8fdb\u884c\u76f4\u63a5\u63d2\u5165\u6392\u5e8f, \u5f85\u6574\u4e2a\u5e8f\u5217\u4e2d\u7684\u8bb0\u5f55\u201c\u57fa\u672c\u6709\u5e8f\u201d\u65f6, \u518d\u5bf9\u5168\u4f53\u8bb0\u5f55\u8fdb\u884c\u4e00\u6b21\u76f4\u63a5\u63d2\u5165\u6392\u5e8f</li> <li>\u601d\u60f3\u7684\u7279\u70b9<ul> <li>\u7f29\u5c0f\u589e\u91cf</li> <li>\u591a\u904d\u63d2\u5165\u6392\u5e8f</li> </ul> </li> </ul> </li> </ul> <ul> <li>\u601d\u8def<ul> <li>\u5b9a\u4e49\u589e\u91cf\u5e8f\u5217D~k~: D~M~&gt;D~M-1~&gt;D~M-2~&gt;\u2026&gt;D~1~=1<ul> <li>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2dD~3~=5, D~2~=3, D~1~=1</li> </ul> </li> <li>\u5bf9\u6bcf\u4e2aD~k~\u8fdb\u884c\u201cD~k~-\u95f4\u9694\u201d\u63d2\u5165\u6392\u5e8f(k = M, M-1, \u2026, 1)</li> </ul> </li> <li>\u5e0c\u5c14\u6392\u5e8f\u7684\u7279\u70b9<ul> <li>\u4e00\u6b21\u79fb\u52a8, \u79fb\u52a8\u4f4d\u7f6e\u8f83\u5927, \u8df3\u8dc3\u5f0f\u5730\u63a5\u8fd1\u6392\u5e8f\u540e\u7684\u6700\u7ec8\u4f4d\u7f6e</li> <li>\u6700\u540e\u4e00\u6b21\u53ea\u9700\u8981\u5c11\u91cf\u79fb\u52a8</li> <li>\u589e\u91cf\u5e8f\u5217\u5fc5\u987b\u662f\u9012\u51cf\u7684, \u6700\u540e\u4e00\u4e2a\u5fc5\u987b\u662f1<ul> <li>\u56e0\u4e3a\u6700\u540e\u4e00\u6b21\u662f\u8981\u6267\u884c\u5168\u4f53\u7684\u76f4\u63a5\u63d2\u5165\u6392\u5e8f, \u56e0\u6b64\u589e\u91cf\u5e8f\u5217\u5fc5\u987b\u4e3a1</li> </ul> </li> <li>\u589e\u589e\u91cf\u5e8f\u5217\u5e94\u8be5\u662f\u4e92\u8d28\u7684</li> </ul> </li> <li>\u5e0c\u5c14\u6392\u5e8f\u662f\u4e00\u79cd\u4e0d\u7a33\u5b9a\u7684\u6392\u5e8f\u7b97\u6cd5</li> <li>\u76ee\u524d\u5c1a\u672a\u89e3\u51b3\u5982\u4f55\u9009\u62e9\u6700\u4f73D\u5e8f\u5217</li> <li>\u6700\u540e\u4e00\u4e2a\u589e\u91cf\u503c\u5fc5\u987b\u4e3a1, \u65e0\u9664\u4e861\u4e4b\u5916\u7684\u516c\u56e0\u5b50</li> <li>\u4e0d\u5b9c\u5728\u94fe\u5f0f\u5b58\u50a8\u7ed3\u6784\u4e0a\u5b9e\u73b0</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_7","title":"\u6392\u5e8f","text":"<ul> <li>\u5c06\u4e00\u7ec4\u6742\u4e71\u65e0\u7ae0\u7684\u6570\u636e\u6309\u4e00\u5b9a\u89c4\u5f8b\u987a\u5e8f\u6392\u5217\u8d77\u6765. \u5373, \u5c06\u65e0\u5e8f\u5e8f\u5217\u6392\u6210\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217(\u7531\u5c0f\u5230\u5927\u6216\u7531\u5927\u5230\u5c0f)\u7684\u8fd0\u7b97</li> <li>\u5982\u679c\u53c2\u52a0\u6392\u5e8f\u7684\u6570\u636e\u7ed3\u70b9\u5305\u542b\u591a\u4e2a\u6570\u636e\u57df, \u90a3\u4e48\u6392\u5e8f\u5f80\u5f80\u662f\u9488\u5bf9\u5176\u4e2d\u67d0\u4e2a\u57df\u800c\u8a00\u7684</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_8","title":"\u6392\u5e8f\u65b9\u6cd5\u7684\u5206\u7c7b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_9","title":"\u6309\u5b58\u50a8\u4ecb\u8d28","text":"<ul> <li>\u5185\u90e8\u6392\u5e8f<ul> <li>\u6570\u636e\u91cf\u4e0d\u5927\u3001\u6570\u636e\u5728\u5185\u5b58, \u65e0\u9700\u5185\u5916\u5b58\u4ea4\u6362\u6570\u636e</li> </ul> </li> <li>\u5916\u90e8\u6392\u5e8f<ul> <li>\u6570\u636e\u91cf\u8f83\u5927\u3001\u6570\u636e\u5728\u5916\u5b58 (\u6587\u4ef6\u6392\u5e8f)</li> <li>\u5916\u90e8\u6392\u5e8f\u65f6, \u8981\u5c06\u6570\u636e\u5206\u6279\u8c03\u5165\u5185\u5b58\u6765\u6392\u5e8f, \u4e2d\u95f4\u7ed3\u679c\u8fd8\u8981\u53ca\u65f6\u653e\u5165\u5916\u5b58, \u663e\u7136\u5916\u90e8\u6392\u5e8f\u8981\u590d\u6742\u5f88\u591a</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_10","title":"\u6309\u6bd4\u8f83\u5668\u4e2a\u6570","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_11","title":"\u6309\u4e3b\u8981\u64cd\u4f5c\u53ef\u5206\u4e3a","text":"<ul> <li> <p>\u6bd4\u8f83\u6392\u5e8f</p> <p>\u200b   ==\u63d2\u5165\u6392\u5e8f\u3001\u4ea4\u6362\u6392\u5e8f\u3001\u9009\u62e9\u6392\u5e8f\u3001\u5f52\u5e76\u6392\u5e8f==</p> </li> <li> <p>\u57fa\u6570\u6392\u5e8f</p> <ul> <li>\u4e0d\u6bd4\u8f83\u5143\u7d20\u7684\u5927\u5c0f, \u4ec5\u4ec5\u6839\u636e\u5143\u7d20\u672c\u8eab\u7684\u53d6\u503c\u786e\u5b9a\u5176\u6709\u5e8f\u4f4d\u7f6e</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_12","title":"\u6309\u8f85\u52a9\u7a7a\u95f4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_13","title":"\u6309\u7a33\u5b9a\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_14","title":"\u7a33\u5b9a\u6027\u7684\u610f\u4e49","text":"<ul> <li>\u6392\u5e8f\u7684\u7a33\u5b9a\u6027\u53ea\u5bf9\u7ed3\u6784\u7c7b\u578b\u6570\u636e\u6392\u5e8f\u6709\u610f\u4e49</li> <li> <p>\u4f8b\u5982</p> <ul> <li>n\u4e2a\u5b66\u751f\u4fe1\u606f<ul> <li>\u6309\u7167\u603b\u5206\u6392\u5e8f, \u603b\u5206\u76f8\u540c\u7684\u60c5\u51b5\u4e0b, \u6570\u5b66\u6210\u7ee9\u9ad8\u7684\u6392\u5728\u524d\u9762</li> </ul> </li> </ul> </li> <li> <p>\u6392\u5e8f\u65b9\u6cd5\u662f\u5426\u7a33\u5b9a, \u5e76\u4e0d\u80fd\u4f5c\u4e3a\u8861\u91cf\u4e00\u4e2a\u6392\u5e8f\u7b97\u6cd5\u4f18\u52a3\u7684\u6807\u51c6</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_15","title":"\u6309\u81ea\u7136\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_16","title":"\u63d2\u5165\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_17","title":"\u76f4\u63a5\u63d2\u5165\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_18","title":"\u91c7\u7528\u987a\u5e8f\u67e5\u627e\u6cd5\u67e5\u627e\u63d2\u5165\u4f4d\u7f6e","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_19","title":"\u4f7f\u7528\u54e8\u5175","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_20","title":"\u6298\u534a\u63d2\u5165\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/CPP/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/Chap7_%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%8E%92%E5%BA%8F/#_21","title":"\u5e0c\u5c14\u6392\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/","title":"JDBC","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#1jdbc","title":"1\u3001JDBC\u662f\u4ec0\u4e48\uff1f","text":"<p>Java DataBase Connectivity\uff08Java\u8bed\u8a00\u8fde\u63a5\u6570\u636e\u5e93\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#2jdbc","title":"2\u3001JDBC\u7684\u672c\u8d28","text":"<p>\u662fsun\u516c\u53f8\u63d0\u4f9b\u7684\u4e00\u4e2a\u63a5\u53e3\u3002\u5728java.sql.*\u5305\u4e0b\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#3jar","title":"3\u3001\u4e0b\u8f7djar\u5305","text":"<p>\u5728mysql\u5b98\u7f51\u4e0b\u8f7djar\u5305</p> <p></p> <p>\u4e0b\u8f7d\u5bf9\u5e94mysql\u7248\u672c\u7684jar\u5305\u5373\u53ef\u3002</p> <p>jar\u5305\u5c31\u662f\u522b\u4eba\u5df2\u7ecf\u5199\u597d\u7684\u7c7b\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u7c7b\u8fdb\u884c\u6253\u5305\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e9bjar\u5305\u5f15\u5165\u81ea\u5df1\u7684\u9879\u76ee\u5f53\u4e2d\u3002\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#4jdbc","title":"4\u3001JDBC\u7f16\u7a0b\u516d\u6b65","text":"\u6b65\u9aa4 \u8bf4\u660e 1\u3001\u6ce8\u518c\u9a71\u52a8 \u544a\u8bc9Java\u7a0b\u5e8f\uff0c\u5373\u5c06\u8981\u8fde\u63a5\u7684\u662f\u54ea\u4e2a\u54c1\u724c\u7684\u6570\u636e\u5e93 2\u3001\u83b7\u53d6\u6570\u636e\u5e93\u8fde\u63a5 \u8868\u793aJVM\u7684\u8fdb\u7a0b\u548c\u6570\u636e\u5e93\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u9053\u6253\u5f00\u4e86\uff0c\u8fd9\u5c5e\u4e8e\u8fdb\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u4f7f\u7528\u5b8c\u6bd5\u540e\u4e00\u5b9a\u8981\u5173\u95ed\u901a\u9053\u3002 3\u3001\u83b7\u53d6\u6570\u636e\u5e93\u64cd\u4f5c\u5bf9\u8c61 \u4e13\u95e8\u6267\u884csql\u8bed\u53e5\u7684\u5bf9\u8c61 4\u3001\u6267\u884cSQL\u8bed\u53e5 DQL DML...\u6267\u884csql\u8bed\u53e5 5\u3001\u5904\u7406\u67e5\u8be2\u7ed3\u679c\u96c6\uff08\u975e\u5fc5\u8981\uff09 \u53ea\u6709\u6267\u884c\u7684sql\u662fselect\u8bed\u53e5\u65f6\uff0c\u624d\u4f1a\u6709\u8fd9\u4e00\u6b65 6\u3001\u91ca\u653e\u8d44\u6e90 \u4f7f\u7528\u5b8c\u8d44\u6e90\u4e4b\u540e\u4e00\u5b9a\u8981\u5173\u95ed\u8d44\u6e90\u3002Java\u548c\u6570\u636e\u5e93\u5c5e\u4e8e\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\uff0c\u5f00\u542f\u4e4b\u540e\u4e00\u5b9a\u8981\u5173\u95ed"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#jdbc_1","title":"JDBC\u7f16\u7a0b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#1mysql","title":"1\u3001\u521b\u5efa\u4e00\u4e2amysql\u6570\u636e\u5e93\u4f5c\u4e3a\u6d4b\u8bd5","text":"SQL<pre><code>create database test;\nuse test;\nDROP TABLE IF EXISTS EMP;\nDROP TABLE IF EXISTS DEPT;\nDROP TABLE IF EXISTS SALGRADE;\n\nCREATE TABLE DEPT\n       (DEPTNO int(2) not null ,\n    DNAME VARCHAR(14) ,\n    LOC VARCHAR(13),\n    primary key (DEPTNO)\n    );\nCREATE TABLE EMP\n       (EMPNO int(4)  not null ,\n    ENAME VARCHAR(10),\n    JOB VARCHAR(9),\n    MGR INT(4),\n    HIREDATE DATE  DEFAULT NULL,\n    SAL DOUBLE(7,2),\n    COMM DOUBLE(7,2),\n    primary key (EMPNO),\n    DEPTNO INT(2) \n    )\n    ;\n\nCREATE TABLE SALGRADE\n      ( GRADE INT,\n    LOSAL INT,\n    HISAL INT );\n\nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES ( \n10, 'ACCOUNTING', 'NEW YORK'); \nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES ( \n20, 'RESEARCH', 'DALLAS'); \nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES ( \n30, 'SALES', 'CHICAGO'); \nINSERT INTO DEPT ( DEPTNO, DNAME, LOC ) VALUES ( \n40, 'OPERATIONS', 'BOSTON'); \ncommit;\n\nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7369, 'SMITH', 'CLERK', 7902,  '1980-12-17'\n, 800, NULL, 20); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7499, 'ALLEN', 'SALESMAN', 7698,  '1981-02-20'\n, 1600, 300, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7521, 'WARD', 'SALESMAN', 7698,  '1981-02-22'\n, 1250, 500, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7566, 'JONES', 'MANAGER', 7839,  '1981-04-02'\n, 2975, NULL, 20); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7654, 'MARTIN', 'SALESMAN', 7698,  '1981-09-28'\n, 1250, 1400, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7698, 'BLAKE', 'MANAGER', 7839,  '1981-05-01'\n, 2850, NULL, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7782, 'CLARK', 'MANAGER', 7839,  '1981-06-09'\n, 2450, NULL, 10); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7788, 'SCOTT', 'ANALYST', 7566,  '1987-04-19'\n, 3000, NULL, 20); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7839, 'KING', 'PRESIDENT', NULL,  '1981-11-17'\n, 5000, NULL, 10); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7844, 'TURNER', 'SALESMAN', 7698,  '1981-09-08'\n, 1500, 0, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7876, 'ADAMS', 'CLERK', 7788,  '1987-05-23'\n, 1100, NULL, 20); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7900, 'JAMES', 'CLERK', 7698,  '1981-12-03'\n, 950, NULL, 30); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7902, 'FORD', 'ANALYST', 7566,  '1981-12-03'\n, 3000, NULL, 20); \nINSERT INTO EMP ( EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM,\nDEPTNO ) VALUES ( \n7934, 'MILLER', 'CLERK', 7782,  '1982-01-23'\n, 1300, NULL, 10); \ncommit;\n\nINSERT INTO SALGRADE ( GRADE, LOSAL, HISAL ) VALUES ( \n1, 700, 1200); \nINSERT INTO SALGRADE ( GRADE, LOSAL, HISAL ) VALUES ( \n2, 1201, 1400); \nINSERT INTO SALGRADE ( GRADE, LOSAL, HISAL ) VALUES ( \n3, 1401, 2000); \nINSERT INTO SALGRADE ( GRADE, LOSAL, HISAL ) VALUES ( \n4, 2001, 3000); \nINSERT INTO SALGRADE ( GRADE, LOSAL, HISAL ) VALUES ( \n5, 3001, 9999); \ncommit;\n</code></pre> <p>\u5305\u542b3\u8868\uff1a\u90e8\u95e8\u8868\u3001\u5458\u5de5\u8868\u3001\u85aa\u8d44\u7b49\u7ea7\u8868\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#2jdbc_1","title":"2\u3001JDBC\u4e2d\u91cd\u8981\u7684\u63a5\u53e3\u548c\u7c7b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#drivermanager","title":"DriverManager\u7c7b\uff08\u9a71\u52a8\u7ba1\u7406\u7c7b\uff09\u91cc\u9762\u5168\u662f\u9759\u6001\u65b9\u6cd5\uff0c\u6211\u4eec\u7528\u5b83\u6765\u6ce8\u518c\u9a71\u52a8","text":"<p><code>static void registerDriver(Driver driver);</code>        \u5411 DriverManager \u6ce8\u518c\u9a71\u52a8\u7a0b\u5e8f</p> <p><code>static Connection getConnection(String url, String user, String password);</code>        \u5efa\u7acb\u5230\u7ed9\u5b9a\u6570\u636e\u5e93 URL \u7684\u8fde\u63a5</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#statementsql-sql","title":"Statement\u63a5\u53e3\uff08\u6267\u884csql\uff09\u7528\u4e8e\u6267\u884c\u9759\u6001 SQL \u8bed\u53e5\u5e76\u8fd4\u56de\u5b83\u6240\u751f\u6210\u7ed3\u679c\u7684\u5bf9\u8c61","text":"<p><code>int executeUpdate(String sql)</code>     \u6267\u884c\u66f4\u65b0\u8bed\u53e5\uff0c\u8be5\u8bed\u53e5\u53ef\u80fd\u4e3a INSERT\u3001UPDATE \u6216 DELETE \u8bed\u53e5\uff0c\u8fd4\u56de\u503c\u662f\u201c\u5f71\u54cd\u6570\u636e\u5e93\u4e2d\u7684\u8bb0\u5f55\u6761\u6570\u201d <code>ResultSet executeQuery(String sql)</code>        \u6267\u884c SQL\u67e5\u8be2\u8bed\u53e5\uff0c\u8be5\u8bed\u53e5\u8fd4\u56de\u5355\u4e2a ResultSet \u5bf9\u8c61</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#resultsetsqlresultset","title":"ResultSet\u63a5\u53e3\uff08\u67e5\u8be2\u7ed3\u679c\u96c6\uff09\uff0csql\u67e5\u8be2\u8bed\u53e5\u540e\u53ef\u4ee5\u5c06\u7ed3\u679c\u5c01\u88c5\u5230ResultSet\u4e2d","text":"<p><code>boolean next()</code>    \u5c06\u5149\u6807\u4ece\u5f53\u524d\u4f4d\u7f6e\u5411\u524d\u79fb\u4e00\u884c\u3002ResultSet \u5149\u6807\u6700\u521d\u4f4d\u4e8e\u7b2c\u4e00\u884c\u4e4b\u524d\uff1b\u7b2c\u4e00\u6b21\u8c03\u7528 next \u65b9\u6cd5\u4f7f\u7b2c\u4e00\u884c\u6210\u4e3a\u5f53\u524d\u884c\uff1b\u7b2c\u4e8c\u6b21\u8c03\u7528\u4f7f\u7b2c\u4e8c\u884c\u6210\u4e3a\u5f53\u524d\u884c\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff08\u7528\u6765\u67e5\u8be2\u7ed3\u679c\uff09 <code>String getString(int columnIndex)</code> \u4e0d\u7ba1\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u662f\u4ec0\u4e48\uff0c\u90fd\u4ee5String\u7684\u5f62\u5f0f\u53d6\u51fa\uff08columnIndex\u662f\u6307\u53d6\u5217\u6570\uff0c\u7b2c\u4e00\u5217\uff0c\u7b2c\u4e8c\u5217\u2026\uff09 <code>String getString(String columnLabel)</code>  \u4e0d\u7ba1\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u662f\u4ec0\u4e48\uff0c\u90fd\u4ee5String\u7684\u5f62\u5f0f\u53d6\u51fa\uff08 columnLabel\u6307\u67e5\u8be2\u8bed\u53e5\u4e2d\u7684\u5217\u540d\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#1","title":"\u793a\u4f8b1: \u63d2\u5165\u64cd\u4f5c","text":"Java<pre><code>import java.sql.*;\n\npublic class JDBCTest01 {\n    public static void main(String[] args) {\n\n        Connection conn = null;\n        Statement stmt = null;\n        try {\n            //1\u3001\u6ce8\u518c\u9a71\u52a8\u7684\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0c\u544a\u8bc9java\u6211\u8981\u8fde\u63a5mysql\n            Driver driver = new com.mysql.jdbc.Driver();\n            DriverManager.registerDriver(driver);\n            //2\u3001\u83b7\u53d6\u8fde\u63a5\uff0c\u544a\u8bc9java\u6211\u8981\u8fde\u63a5\u54ea\u53f0\u673a\u5668\u7684mysql\uff0c\u5e76\u5199\u5165\u7528\u6237\u548c\u5bc6\u7801\n            //127.0.0.1\u548clocalhost\u90fd\u662f\u672c\u5730ip\u5730\u5740\n            String url = \"jdbc:mysql://127.0.0.1:3306/test?useSSL=false\";\n            String user = \"root\";\n            String password = \"root\";\n            conn = DriverManager.getConnection(url,user,password);\n            System.out.println(conn);\n\n            //3\u3001\u83b7\u53d6\u6570\u636e\u5e93\u64cd\u4f5c\u5bf9\u8c61\uff08statement\u4e13\u95e8\u6267\u884csql\u8bed\u53e5\uff09\n            stmt = conn.createStatement();\n\n            //4\u3001\u6267\u884csql\n            String sql = \"insert into dept(deptno,dname,loc) values(50,'\u519b\u90e8','\u957f\u5b89');\";\n            //\u4e13\u95e8\u6267\u884cDML\u8bed\u53e5\uff08insert\u3001delete\u3001update\uff09\n            //\u8fd4\u56de\u503c\u662f\u201c\u5f71\u54cd\u6570\u636e\u5e93\u4e2d\u7684\u8bb0\u5f55\u6761\u6570\u201d\n            int a = stmt.executeUpdate(sql);\n            System.out.println(a);\n            System.out.println(a == 1 ? \"\u4fdd\u5b58\u6210\u529f\":\"\u4fdd\u5b58\u5931\u8d25\");\n\n            //5\u3001\u5904\u7406\u67e5\u8be2\u7ed3\u679c\u96c6\n            //\u63d2\u5165\u8bed\u53e5\uff0c\u6682\u65f6\u4e0d\u9700\u8981\u67e5\u8be2\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            //6\u3001\u91ca\u653e\u8d44\u6e90\n            //\u4e3a\u4e86\u4fdd\u8bc1\u8d44\u6e90\u4e00\u5b9a\u91ca\u653e\uff0c\u5728finally\u8bed\u53e5\u5757\u4e2d\u5173\u95ed\u8d44\u6e90\n            //\u5206\u522b\u8981\u9075\u5faa\u4ece\u5c0f\u5230\u5927\u4f9d\u6b21\u5173\u95ed\n            if (stmt != null) {\n                try {\n                    stmt.close();\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n            }\n            if (conn != null) {\n                try {\n                    conn.close();\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JDBC/JDBC/#2","title":"\u793a\u4f8b2\uff1a\u5904\u7406\u67e5\u8be2\u7ed3\u679c\u96c6\uff08\u904d\u5386\u67e5\u8be2\u7ed3\u679c\uff09","text":"Java<pre><code>import java.sql.*;\n\npublic class JDBCTest05 {\n    public static void main(String[] args) {\n        Connection conn = null;\n        Statement stmt = null;\n        ResultSet rs = null;\n        try {\n            //1\u3001\u6ce8\u518c\u9a71\u52a8\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            //2\u3001\u83b7\u53d6\u8fde\u63a5\n            conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/test?useSSL=false\",\"root\",\"root\");\n            //3\u3001\u83b7\u53d6\u6570\u636e\u5e93\u8fde\u63a5\u5bf9\u8c61\n            stmt = conn.createStatement();\n            //\u6267\u884csql\n            String sql = \"select empno,ename,sal from emp;\";\n            rs = stmt.executeQuery(sql);\n            //5\u3001\u5904\u7406\u67e5\u8be2\u7ed3\u6784\u96c6\n            while (rs.next()) {\n                //1\u3001\u7b2c\u4e00\u79cd\u65b9\u6cd5\n                //String empno = rs.getString(1); //\u7b2c\u4e00\u5217\n                //String ename = rs.getString(2); //\u7b2c\u4e8c\u5217\n                //String sal = rs.getString(3);   //\u7b2c\u4e09\u5217\n                //System.out.println(empno + \"\\t\" + ename + \"\\t\" + sal + \"\\t\"); //jdbc\u4e2d\u6240\u6709\u4e0b\u6807\u4ece1\u5f00\u59cb\n\n                //2\u3001\u7b2c\u4e8c\u79cd\u65b9\u6cd5\n                String empno = rs.getString(\"empno\"); //\u7b2c\u4e00\u5217\n                String ename = rs.getString(\"ename\"); //\u7b2c\u4e8c\u5217\n                String sal = rs.getString(\"sal\");   //\u7b2c\u4e09\u5217\n                System.out.println(empno + \"\\t\" + ename + \"\\t\" + sal + \"\\t\"); //jdbc\u4e2d\u6240\u6709\u4e0b\u6807\u4ece1\u5f00\u59cb\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            //6\u3001\u91ca\u653e\u8d44\u6e90\n            if (rs != null) {\n                try {\n                    rs.close();\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n            }\n            if (stmt != null) {\n                try {\n                    stmt.close();\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n            }\n            if (conn != null) {\n                try {\n                    conn.close();\n                } catch (SQLException throwables) {\n                    throwables.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/","title":"\u5173\u4e8e\u76f4\u64ad","text":"<ol> <li>\u4ec0\u4e48\u65f6\u95f4\u76f4\u64ad\uff1f</li> <li>\u665a\u4e0a8:00\u523010:00</li> <li>\u6bcf\u5468\u76f4\u64ad\u51e0\u5929\uff1f</li> <li>3\u5929\uff08\u5468\u4e00\u3001\u5468\u4e09\u3001\u5468\u4e94\uff09</li> <li>\u672c\u5468\u6bd4\u8f83\u7279\u6b8a\uff1a\u5468\u56db\u5468\u4e94\u5468\u516d\u4e09\u5929\u76f4\u64ad\uff0c\u4ece\u4e0b\u5468\u5f00\u59cb\u5c31\u662f\u4e00\u4e09\u4e94\u76f4\u64ad\u3002</li> <li>\u76f4\u64ad\u4ec0\u4e48\u5185\u5bb9\uff1f</li> <li>\u4eceJavaWEB\u5f00\u59cb\u3002\uff08Servlet\u4e3a\u6838\u5fc3\uff0c\u4eceServlet\u5f00\u59cb\u5b66\u4e60\u3002\uff09</li> <li>JSP\uff08JSP\u4f7f\u7528\u8f83\u5c11\u4e86\uff0c\u4f46\u662f\u8fd8\u6709\u7528\uff0c\u6240\u4ee5\u65f6\u95f4\u4e0a\u5c11\u4e00\u4e9b\u3002\u5feb\u901f\u5730\u5b66\u4e60\u4e00\u4e0bJSP\u3002\uff09</li> <li>AJAX\uff08\u5f02\u6b65\u901a\u4fe1\u6280\u672f\u3002\uff09</li> <li>jQuery\uff08JavaScript\u5e93\u3002\uff09</li> <li>MyBatis</li> <li>Spring</li> <li>SpringMVC</li> <li>SpringBoot</li> <li>SpringCloud</li> <li>....</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#_2","title":"\u9700\u8981\u63d0\u524d\u51c6\u5907\u4e86\u54ea\u4e9b\u6280\u672f\uff0c\u63a5\u4e0b\u6765\u7684\u8bfe\u624d\u80fd\u542c\u61c2\uff1f","text":"<ul> <li>JavaSE\uff08Java\u8bed\u8a00\u7684\u6807\u51c6\u7248\uff0cJava\u63d0\u4f9b\u7684\u6700\u57fa\u672c\u7684\u7c7b\u5e93\uff09</li> <li>Java\u7684\u5f00\u53d1\u73af\u5883\u642d\u5efa</li> <li>Java\u7684\u57fa\u7840\u8bed\u6cd5</li> <li>Java\u7684\u9762\u5411\u5bf9\u8c61</li> <li>\u6570\u7ec4</li> <li>\u5e38\u7528\u7c7b</li> <li>\u5f02\u5e38</li> <li>\u96c6\u5408</li> <li>\u591a\u7ebf\u7a0b</li> <li>IO\u6d41</li> <li>\u53cd\u5c04\u673a\u5236</li> <li>\u6ce8\u89e3Annotation</li> <li>.....</li> <li>MySQL\uff08\u6570\u636e\u5e93\uff09</li> <li>\u6700\u57fa\u672c\u7684\u8981\u6c42\u662f\uff1a\u80fd\u591f\u7f16\u5199\u589e\u5220\u6539\u67e5\u7b49\u7b80\u5355\u7684SQL\u8bed\u53e5\u5373\u53ef\u3002</li> <li>JDBC\uff08Java\u8bed\u8a00\u94fe\u63a5\u6570\u636e\u5e93\uff09</li> <li>\u8fd9\u662f\u4e00\u5957Java\u8bed\u8a00\u94fe\u63a5\u6570\u636e\u5e93\u7684\u63a5\u53e3\u3002</li> <li>WEB\u524d\u7aef\uff08\u4f1a\u4e00\u4e9b\uff09</li> <li>HTML\uff08\u7f51\u9875\uff09</li> <li>CSS\uff08\u5c42\u53e0\u6837\u5f0f\u8868\u8bed\u8a00\uff0c\u4fee\u9970HTML\uff09</li> <li>JavaScript\uff08\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u5f53\u4e2d\uff0c\u8ba9\u6d4f\u89c8\u5668\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u589e\u5220\u6539\u3002\u8ba9\u7f51\u9875\u4ea7\u751f\u66f4\u5f3a\u7684\u4ea4\u4e92\u6548\u679c\uff09</li> <li>WEB\u540e\u7aef</li> <li>Servlet\uff08Server Applet\uff1a\u670d\u52a1\u5668\u7aef\u7684Java\u5c0f\u7a0b\u5e8f\uff09</li> <li>JSP</li> <li>AJAX</li> <li>jQuery</li> <li>MyBatis</li> <li>Spring</li> <li>SpringMVC</li> <li>SpringBoot</li> <li>SpringCloud</li> <li>......</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#typora","title":"Typora\u8f6f\u4ef6\u4ecb\u7ecd","text":"<ul> <li>Markdown\u6587\u672c\u7f16\u8f91\u5668\uff08\u53ef\u4ee5\u7f16\u8f91xxx.md\u6587\u4ef6\uff09</li> </ul> Java<pre><code>public class Test{\n    public static void main(String[] args){\n        System.out.println(\"Test code!\");\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servlet","title":"Servlet","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#_3","title":"\u5173\u4e8e\u7cfb\u7edf\u67b6\u6784","text":"<ol> <li>\u7cfb\u7edf\u67b6\u6784\u5305\u62ec\u4ec0\u4e48\u5f62\u5f0f\uff1f</li> <li>C/S\u67b6\u6784</li> <li>B/S\u67b6\u6784</li> <li>C/S\u67b6\u6784\uff1f</li> <li>Client / Server\uff08\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\uff09</li> <li>C/S\u67b6\u6784\u7684\u8f6f\u4ef6\u6216\u8005\u8bf4\u7cfb\u7edf\u6709\u54ea\u4e9b\u5462\uff1f<ul> <li>QQ\uff08\u5148\u53bb\u817e\u8baf\u5b98\u7f51\u4e0b\u8f7d\u4e00\u4e2aQQ\u8f6f\u4ef6\uff0c\u51e0\u5341MB\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u5ba2\u6237\u7aef\u8f6f\u4ef6\u5b89\u88c5\u4e0a\u53bb\uff0c\u7136\u540e\u8f93\u5165QQ\u53f7\u4ee5\u53ca\u5bc6\u7801\uff0c\u767b\u5f55\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u548c\u4f60\u7684\u670b\u53cb\u804a\u5929\u4e86\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u8f6f\u4ef6\u4e86\u3002\uff09</li> </ul> </li> <li>C/S\u67b6\u6784\u7684\u7279\u70b9\uff1a\u9700\u8981\u5b89\u88c5\u7279\u5b9a\u7684\u5ba2\u6237\u7aef\u8f6f\u4ef6\u3002</li> <li>C/S\u67b6\u6784\u7684\u7cfb\u7edf\u4f18\u70b9\u548c\u7f3a\u70b9\u5206\u522b\u662f\u4ec0\u4e48\uff1f<ul> <li>\u4f18\u70b9\uff1a</li> <li>\u901f\u5ea6\u5feb\uff08\u8f6f\u4ef6\u4e2d\u7684\u6570\u636e\u5927\u90e8\u5206\u90fd\u662f\u96c6\u6210\u5230\u5ba2\u6237\u7aef\u8f6f\u4ef6\u5f53\u4e2d\u7684\uff0c\u5f88\u5c11\u91cf\u7684\u6570\u636e\u4ece\u670d\u52a1\u5668\u7aef\u4f20\u9001\u8fc7\u6765\uff0c\u6240\u4ee5C/S\u7ed3\u6784\u7684\u7cfb\u7edf\u901f\u5ea6\u5feb\uff09</li> <li>\u4f53\u9a8c\u597d\uff08\u901f\u5ea6\u53c8\u5feb\uff0c\u754c\u9762\u53c8\u9177\u70ab\uff0c\u5f53\u7136\u4f53\u9a8c\u597d\u4e86\u3002\uff09</li> <li>\u754c\u9762\u9177\u70ab\uff08\u4e13\u95e8\u7684\u8bed\u8a00\u53bb\u5b9e\u73b0\u754c\u9762\u7684\uff0c\u66f4\u52a0\u7075\u6d3b\u3002\uff09</li> <li>\u670d\u52a1\u5668\u538b\u529b\u5c0f\uff08\u56e0\u4e3a\u5927\u91cf\u7684\u6570\u636e\u90fd\u662f\u96c6\u6210\u5728\u5ba2\u6237\u7aef\u8f6f\u4ef6\u5f53\u4e2d\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u53ea\u9700\u8981\u4f20\u9001\u5f88\u5c11\u7684\u6570\u636e\u91cf\uff0c\u5f53\u7136\u670d\u52a1\u5668\u538b\u529b\u5c0f\u3002\uff09</li> <li>\u5b89\u5168\uff08\u56e0\u4e3a\u5927\u91cf\u7684\u6570\u636e\u662f\u96c6\u6210\u5728\u5ba2\u6237\u7aef\u8f6f\u4ef6\u5f53\u4e2d\u7684\uff0c\u5e76\u4e14\u5ba2\u6237\u7aef\u6709\u5f88\u591a\u4e2a\uff0c\u670d\u52a1\u5668\u867d\u7136\u53ea\u6709\u4e00\u4e2a\uff0c\u5c31\u7b97\u670d\u52a1\u5668\u90a3\u8fb9\u5730\u9707\u4e86\uff0c\u706b\u707e\u4e86\uff0c\u670d\u52a1\u5668\u53d7\u635f\u4e86\uff0c\u95ee\u9898\u4e5f\u4e0d\u5927\uff0c\u56e0\u4e3a\u5927\u91cf\u7684\u6570\u636e\u5728\u591a\u4e2a\u5ba2\u6237\u7aef\u4e0a\u6709\u7f13\u5b58\uff0c\u6709\u5b58\u50a8\uff0c\u6240\u4ee5\u4ece\u8fd9\u4e2a\u65b9\u9762\u6765\u8bf4\uff0cC/S\u7ed3\u6784\u7684\u7cfb\u7edf\u6bd4\u8f83\u5b89\u5168\u3002\uff09</li> <li>.....</li> <li>\u7f3a\u70b9\uff1a</li> <li>\u5347\u7ea7\u7ef4\u62a4\u6bd4\u8f83\u5dee\u52b2\u3002\uff08\u5347\u7ea7\u7ef4\u62a4\u6bd4\u8f83\u9ebb\u70e6\u3002\u6210\u672c\u6bd4\u8f83\u9ad8\u3002\u6bcf\u4e00\u4e2a\u5ba2\u6237\u7aef\u8f6f\u4ef6\u90fd\u9700\u8981\u5347\u7ea7\u3002\u6709\u4e00\u4e9b\u8f6f\u4ef6\u4e0d\u662f\u90a3\u4e48\u5bb9\u6613\u5b89\u88c5\u7684\u3002\uff09</li> </ul> </li> <li>B/S\u67b6\u6784\uff1f</li> <li>B/S\uff08Browser / Server\uff0c\u6d4f\u89c8\u5668 / \u670d\u52a1\u5668\uff09</li> <li>http://www.baidu.com</li> <li>http://www.jd.com</li> <li>http://www.126.com</li> <li>B/S\u7ed3\u6784\u7684\u7cfb\u7edf\u662f\u4e0d\u662f\u4e00\u4e2a\u7279\u6b8a\u7684C/S\u7cfb\u7edf\uff1f<ul> <li>\u5b9e\u9645\u4e0aB/S\u7ed3\u6784\u7684\u7cfb\u7edf\u8fd8\u662f\u4e00\u4e2aC/S\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2aC\u6bd4\u8f83\u7279\u6b8a\uff0c\u8fd9\u4e2aClient\u662f\u4e00\u4e2a\u56fa\u5b9a\u4e0d\u53d8\u6d4f\u89c8\u5668\u8f6f\u4ef6\u3002</li> </ul> </li> <li>B/S\u7ed3\u6784\u7684\u7cfb\u7edf\u4f18\u70b9\u548c\u7f3a\u70b9\u662f\uff1a<ul> <li>\u4f18\u70b9\uff1a</li> <li>\u5347\u7ea7\u7ef4\u62a4\u65b9\u4fbf\uff0c\u6210\u672c\u6bd4\u8f83\u4f4e\u3002\uff08\u53ea\u9700\u8981\u5347\u7ea7\u670d\u52a1\u5668\u7aef\u5373\u53ef\u3002\uff09</li> <li>\u4e0d\u9700\u8981\u5b89\u88c5\u7279\u5b9a\u7684\u5ba2\u6237\u7aef\u8f6f\u4ef6\uff0c\u7528\u6237\u64cd\u4f5c\u6781\u5176\u65b9\u4fbf\u3002\u53ea\u9700\u8981\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8f93\u5165\u7f51\u5740\u5373\u53ef\u3002</li> <li>\u7f3a\u70b9\uff1a</li> <li>\u901f\u5ea6\u6162\uff08\u4e0d\u662f\u56e0\u4e3a\u5e26\u5bbd\u4f4e\u7684\u95ee\u9898\uff0c\u662f\u56e0\u4e3a\u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u7528\u6237\u53d1\u9001\u7684\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u662f\u9700\u8981\u670d\u52a1\u5668\u5168\u8eab\u5fc3\u7684\u54cd\u5e94\u6570\u636e\uff0c\u6240\u4ee5B/S\u7ed3\u6784\u7684\u7cfb\u7edf\u5728\u7f51\u7edc\u4e2d\u4f20\u9001\u7684\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u3002\uff09</li> <li>\u4f53\u9a8c\u5dee\uff08\u754c\u9762\u4e0d\u662f\u90a3\u4e48\u9177\u70ab\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u53ea\u652f\u6301\u4e09\u4e2a\u8bed\u8a00HTML CSS JavaScript\u3002\u5728\u52a0\u4e0a\u901f\u5ea6\u6162\u3002\uff09</li> <li>\u4e0d\u5b89\u5168\uff08\u6240\u6709\u7684\u6570\u636e\u90fd\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u53ea\u8981\u670d\u52a1\u5668\u53d1\u751f\u706b\u707e\uff0c\u5730\u9707\u7b49\u4e0d\u53ef\u6297\u529b\uff0c\u6700\u7ec8\u6570\u636e\u5168\u90e8\u4e22\u5931\u3002\uff09</li> <li>....</li> </ul> </li> <li>C/S\u548cB/S\u7ed3\u6784\u7684\u7cfb\u7edf\uff0c\u54ea\u4e2a\u597d\uff0c\u54ea\u4e2a\u4e0d\u597d\uff1f</li> <li>\u8fd9\u4e2a\u95ee\u9898\u95ee\u7684\u6ca1\u6709\u6c34\u5e73\u3002\u5e76\u4e0d\u662f\u54ea\u4e2a\u597d\uff0c\u54ea\u4e2a\u4e0d\u597d\u3002\u4e0d\u540c\u7ed3\u6784\u7684\u7cfb\u7edf\u5728\u4e0d\u540c\u7684\u4e1a\u52a1\u573a\u666f\u4e0b\u6709\u4e0d\u540c\u7684\u9002\u7528\u573a\u666f\u3002</li> <li>\u5a31\u4e50\u6027\u8f6f\u4ef6\u5efa\u8bae\u4f7f\u7528\uff1f<ul> <li>C/S \u7ed3\u6784</li> </ul> </li> <li>\u516c\u53f8\u5185\u90e8\u4f7f\u7528\u7684\u4e00\u4e9b\u4e1a\u52a1\u8f6f\u4ef6\u5efa\u8bae\u4f7f\u7528\uff1f<ul> <li>\u516c\u53f8\u5185\u90e8\u4f7f\u7528\u7684\u7cfb\u7edf\uff0c\u9700\u8981\u7ef4\u62a4\u6210\u672c\u4f4e\u3002</li> <li>\u516c\u53f8\u5185\u90e8\u4f7f\u7528\u7684\u7cfb\u7edf\uff0c\u4e0d\u9700\u8981\u5f88\u9177\u70ab\u3002</li> <li>\u516c\u53f8\u5185\u90e8\u4f7f\u7528\u7684\u4f01\u4e1a\u7ea7\u7cfb\u7edf\u4e3b\u8981\u662f\u80fd\u591f\u8fdb\u884c\u6570\u636e\u7684\u7ef4\u62a4\u5373\u53ef\u3002</li> <li>B/S \u7ed3\u6784\u3002</li> </ul> </li> <li>\u6ce8\u610f\u4e86\uff1a\u5f00\u53d1B/S\u7ed3\u6784\u7684\u7cfb\u7edf\uff0c\u5176\u5b9e\u5c31\u662f\u5f00\u53d1\u7f51\u7ad9\uff0c\u5176\u5b9e\u5c31\u662f\u5f00\u53d1\u4e00\u4e2aWEB\u7cfb\u7edf\u3002</li> <li>\u5f00\u53d1\u4e00\u4e2aWEB\u7cfb\u7edf\u4f60\u9700\u8981\u4f1a\u54ea\u4e9b\u6280\u672f\uff1f<ul> <li>WEB\u524d\u7aef\uff08\u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u4e0a\u7684\u7a0b\u5e8f\u3002\uff09</li> <li>HTML</li> <li>CSS</li> <li>JavaScript</li> <li>WEB\u540e\u7aef\uff08WEB\u670d\u52a1\u5668\u7aef\u7684\u7a0b\u5e8f\u3002\uff09</li> <li>Java\u53ef\u4ee5\uff08Java\u505aWEB\u5f00\u53d1\u6211\u4eec\u79f0\u4e3aJavaWEB\u5f00\u53d1\u3002JavaWEB\u5f00\u53d1\u6700\u6838\u5fc3\u7684\u89c4\u8303\uff1aServlet\u3010Server Applet\u670d\u52a1\u5668\u7aef\u7684Java\u5c0f\u7a0b\u5e8f\u3002\u3011\uff09</li> <li>C\u8bed\u8a00\u4e5f\u53ef\u4ee5</li> <li>C++\u4e5f\u53ef\u4ee5</li> <li>Python\u4e5f\u884c</li> <li>PHP\u4e5f\u53ef\u4ee5</li> <li>....</li> </ul> </li> <li>JavaEE\u662f\u4ec0\u4e48\uff1f</li> <li>Java\u5305\u62ec\u4e09\u5927\u5757\uff1a<ul> <li>JavaSE</li> <li>Java\u6807\u51c6\u7248\uff08\u4e00\u5957\u7c7b\u5e93\uff1a\u522b\u4eba\u5199\u597d\u7684\u4e00\u5957\u7c7b\u5e93\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u7c7b\u5e93\u662f\u6807\u51c6\u7c7b\u5e93\uff0c\u8d70EE\uff0c\u6216\u8005\u8d70ME\uff0c\u8fd9\u4e2aSE\u4e00\u5b9a\u662f\u57fa\u7840\uff0c\u5148\u5b66\u3002\uff09</li> <li>JavaEE\uff08WEB\u65b9\u5411\uff0cWEB\u7cfb\u7edf\u3002\uff09</li> <li>Java\u4f01\u4e1a\u7248\uff08\u4e5f\u662f\u4e00\u5957\u7c7b\u5e93\uff1a\u4e5f\u662f\u522b\u4eba\u5199\u597d\u7684\u4e00\u5957\u7c7b\u5e93\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u5957\u7c7b\u5e93\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u4f01\u4e1a\u7ea7\u9879\u76ee\u7684\u5f00\u53d1\uff0c\u4e13\u95e8\u4e3a\u4f01\u4e1a\u5185\u90e8\u63d0\u4f9b\u89e3\u51b3\u65b9\u6848\u7684\u4e00\u5957\uff08\u591a\u5957\uff09\u7c7b\u5e93\u3002\uff09</li> <li>\u522b\u4eba\u5199\u597d\u7684\uff0c\u4f60\u7528\u5c31\u884c\u4e86\uff0c\u7528\u5b83\u53ef\u4ee5\u5f00\u53d1\u4f01\u4e1a\u7ea7\u9879\u76ee\u3002</li> <li>\u53ef\u4ee5\u5f00\u53d1web\u7cfb\u7edf\u3002</li> <li>Java\u6bd4\u8f83\u706b\u7206\u7684\u5c31\u662f\u8fd9\u4e2aJavaEE\u65b9\u5411\u3002</li> <li>JavaME</li> <li>Java\u5fae\u578b\u7248\uff08\u8fd8\u662f\u4e00\u5957\u7c7b\u5e93\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u5957\u7c7b\u5e93\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u7535\u5b50\u5fae\u578b\u8bbe\u5907\u5185\u6838\u7a0b\u5e8f\u7684\u5f00\u53d1\uff09</li> <li>\u673a\u9876\u76d2\u5185\u6838\u7a0b\u5e8f\uff0c\u5438\u5c18\u5668\u5185\u6838\u7a0b\u5e8f\uff0c\u7535\u51b0\u7bb1\u5185\u6838\u7a0b\u5e8f\uff0c\u7535\u996d\u7172\u5185\u6838\u7a0b\u5e8f\u3002\u3002\u3002\u3002\u3002</li> </ul> </li> <li>JavaEE\u5b9e\u9645\u4e0a\u5305\u62ec\u5f88\u591a\u79cd\u89c4\u8303\uff0c13\u79cd\u89c4\u8303\uff0c\u5176\u4e2dServlet\u5c31\u662fJavaEE\u89c4\u8303\u4e4b\u4e00\u3002\u5b66Servlet\u8fd8\u662fJava\u8bed\u8a00\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#bsjava","title":"B/S\u7ed3\u6784\u7684\u7cfb\u7edf\u901a\u4fe1\u539f\u7406\uff08\u6ca1\u6709\u6d89\u53ca\u5230Java\u5c0f\u7a0b\u5e8f\uff09","text":"<ul> <li>WEB\u7cfb\u7edf\u7684\u8bbf\u95ee\u8fc7\u7a0b</li> <li>\u7b2c\u4e00\u6b65\uff1a\u6253\u5f00\u6d4f\u89c8\u5668</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u627e\u5230\u5730\u5740\u680f</li> <li>\u7b2c\u4e09\u6b65\uff1a\u8f93\u5165\u4e00\u4e2a\u5408\u6cd5\u7684\u7f51\u5740</li> <li>\u7b2c\u56db\u6b65\uff1a\u56de\u8f66</li> <li>\u7b2c\u4e94\u6b65\uff1a\u5728\u6d4f\u89c8\u5668\u4e0a\u4f1a\u5c55\u793a\u54cd\u5e94\u7684\u7ed3\u679c\u3002</li> <li>\u5173\u4e8e\u57df\u540d\uff1a</li> <li>https://www.baidu.com/ \uff08\u7f51\u5740\uff09</li> <li>www.baidu.com \u662f\u4e00\u4e2a\u57df\u540d</li> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u8f93\u5165\u57df\u540d\uff0c\u56de\u8f66\u4e4b\u540e\uff0c\u57df\u540d\u89e3\u6790\u5668\u4f1a\u5c06\u57df\u540d\u89e3\u6790\u51fa\u6765\u4e00\u4e2a\u5177\u4f53\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u7b49\u3002</li> <li>\u89e3\u6790\u7ed3\u679c\u4e5f\u8bb8\u662f\uff1ahttp://110.242.68.3:80/index.html</li> <li>IP\u5730\u5740\u662f\u5565\uff1f</li> <li>\u8ba1\u7b97\u673a\u5728\u7f51\u7edc\u5f53\u4e2d\u7684\u4e00\u4e2a\u8eab\u4efd\u8bc1\u53f7\u3002\u5728\u540c\u4e00\u4e2a\u7f51\u7edc\u5f53\u4e2d\uff0cIP\u5730\u5740\u662f\u552f\u4e00\u7684\u3002</li> <li>A\u8ba1\u7b97\u673a\u8981\u60f3\u548cB\u8ba1\u7b97\u673a\u901a\u4fe1\uff0c\u9996\u5148\u4f60\u9700\u8981\u77e5\u9053B\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\uff0c\u6709\u4e86IP\u5730\u5740\u624d\u80fd\u5efa\u7acb\u8fde\u63a5\u3002</li> <li>\u7aef\u53e3\u53f7\u662f\u5565\uff1f</li> <li>\u4e00\u4e2a\u7aef\u53e3\u4ee3\u8868\u4e00\u4e2a\u8f6f\u4ef6\uff08\u4e00\u4e2a\u7aef\u53e3\u4ee3\u8868\u4e00\u4e2a\u5e94\u7528\uff0c\u4e00\u4e2a\u7aef\u53e3\u4ec5\u4ee3\u8868\u4e00\u4e2a\u670d\u52a1\uff09\u3002</li> <li>\u4e00\u4e2a\u8ba1\u7b97\u673a\u5f53\u4e2d\u6709\u5f88\u591a\u8f6f\u4ef6\uff0c\u6bcf\u4e00\u4e2a\u8f6f\u4ef6\u542f\u52a8\u4e4b\u540e\u90fd\u6709\u4e00\u4e2a\u7aef\u53e3\u53f7\u3002</li> <li>\u5728\u540c\u4e00\u4e2a\u8ba1\u7b97\u673a\u4e0a\uff0c\u7aef\u53e3\u53f7\u5177\u6709\u552f\u4e00\u6027\u3002</li> <li>\u4e00\u4e2aWEB\u7cfb\u7edf\u7684\u901a\u4fe1\u539f\u7406\uff1f\u901a\u4fe1\u6b65\u9aa4\uff1a</li> <li>\u7b2c\u4e00\u6b65\uff1a\u7528\u6237\u8f93\u5165\u7f51\u5740\uff08URL\uff09</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u57df\u540d\u89e3\u6790\u5668\u8fdb\u884c\u57df\u540d\u89e3\u6790\uff1ahttp://110.242.68.3:80/index.html</li> <li>\u7b2c\u4e09\u6b65\uff1a\u6d4f\u89c8\u5668\u8f6f\u4ef6\u5728\u7f51\u7edc\u4e2d\u641c\u7d22110.242.68.3\u8fd9\u4e00\u53f0\u4e3b\u673a\uff0c\u76f4\u5230\u627e\u5230\u8fd9\u53f0\u4e3b\u673a\u3002</li> <li>\u7b2c\u56db\u6b65\uff1a\u5b9a\u4f4d110.242.68.3\u8fd9\u53f0\u4e3b\u673a\u4e0a\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u662f80\u7aef\u53e3\uff0c\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5b9a\u4f4d\u523080\u7aef\u53e3\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\u3002</li> <li>\u7b2c\u4e94\u6b65\uff1a80\u7aef\u53e3\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u8f6f\u4ef6\u5f97\u77e5\u6d4f\u89c8\u5668\u60f3\u8981\u7684\u8d44\u6e90\u540d\u662f\uff1aindex.html</li> <li>\u7b2c\u516d\u6b65\uff1a\u670d\u52a1\u5668\u8f6f\u4ef6\u627e\u5230index.html\u6587\u4ef6\uff0c\u5e76\u4e14\u5c06index.html\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u76f4\u63a5\u8f93\u51fa\u54cd\u5e94\u5230\u6d4f\u89c8\u5668\u4e0a\u3002</li> <li>\u7b2c\u4e03\u6b65\uff1a\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u6765\u81ea\u670d\u52a1\u5668\u7684\u4ee3\u7801\uff08HTML CSS JS\uff09</li> <li>\u7b2c\u516b\u6b65\uff1a\u6d4f\u89c8\u5668\u6e32\u67d3\uff0c\u6267\u884cHTML CSS JS\u4ee3\u7801\uff0c\u5c55\u793a\u6548\u679c\u3002</li> <li>\u4ec0\u4e48\u662fURL\uff1f</li> <li>\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff08http://www.baidu.com\uff09</li> <li>\u4ec0\u4e48\u662f\u8bf7\u6c42\uff0c\u4ec0\u4e48\u662f\u54cd\u5e94\uff1f</li> <li>\u8bf7\u6c42\u548c\u54cd\u5e94\u5b9e\u9645\u4e0a\u8bf4\u7684\u662f\u6570\u636e\u7684\u6d41\u5411\u4e0d\u540c\u3002</li> <li>\u4eceBrowser\u7aef\u53d1\u9001\u6570\u636e\u5230Server\u7aef\uff0c\u6211\u4eec\u79f0\u4e3a\u8bf7\u6c42\u3002\u82f1\u8bed\u5355\u8bcd\uff1arequest</li> <li>\u4eceServer\u7aef\u5411\u6d4f\u89c8\u5668Browser\u7aef\u53d1\u9001\u6570\u636e\uff0c\u6211\u4eec\u79f0\u4e3a\u54cd\u5e94\u3002\u82f1\u8bed\u5355\u8bcd\uff1aresponse</li> <li>B --&gt; S \uff08\u8bf7\u6c42request\uff09</li> <li>S --&gt; B \uff08\u54cd\u5e94response\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#web","title":"\u5173\u4e8eWEB\u670d\u52a1\u5668\u8f6f\u4ef6","text":"<ul> <li>WEB\u670d\u52a1\u5668\u8f6f\u4ef6\u90fd\u6709\u54ea\u4e9b\u5462\uff1f\uff08\u8fd9\u4e9b\u8f6f\u4ef6\u90fd\u662f\u63d0\u524d\u5f00\u53d1\u597d\u7684\u3002\uff09</li> <li>Tomcat\uff08WEB\u670d\u52a1\u5668\uff09</li> <li>jetty\uff08WEB\u670d\u52a1\u5668\uff09</li> <li>JBOSS\uff08\u5e94\u7528\u670d\u52a1\u5668\uff09</li> <li>WebLogic\uff08\u5e94\u7528\u670d\u52a1\u5668\uff09</li> <li>WebSphere\uff08\u5e94\u7528\u670d\u52a1\u5668\uff09</li> <li>\u5e94\u7528\u670d\u52a1\u5668\u548cWEB\u670d\u52a1\u5668\u7684\u5173\u7cfb\uff1f</li> <li>\u5e94\u7528\u670d\u52a1\u5668\u5b9e\u73b0\u4e86JavaEE\u7684\u6240\u6709\u89c4\u8303\u3002(JavaEE\u670913\u4e2a\u4e0d\u540c\u7684\u89c4\u8303\u3002)</li> <li>WEB\u670d\u52a1\u5668\u53ea\u5b9e\u73b0\u4e86JavaEE\u4e2d\u7684Servlet + JSP\u4e24\u4e2a\u6838\u5fc3\u7684\u89c4\u8303\u3002</li> <li>\u901a\u8fc7\u8fd9\u4e2a\u8bb2\u89e3\u8bf4\u660e\u4e86\uff1a\u5e94\u7528\u670d\u52a1\u5668\u662f\u5305\u542bWEB\u670d\u52a1\u5668\u7684\u3002</li> <li>\u7528\u8fc7JBOSS\u670d\u52a1\u5668\u7684\u540c\u5b66\u5e94\u8be5\u5f88\u6e05\u695a\uff0cJBOSS\u4e2d\u5185\u5d4c\u4e86\u4e00\u4e2aTomcat\u670d\u52a1\u5668\u3002</li> <li>Tomcat\u4e0b\u8f7d</li> <li>apache\u5b98\u7f51\u5730\u5740\uff1ahttps://www.apache.org/</li> <li>tomcat\u5b98\u7f51\u5730\u5740\uff1ahttps://tomcat.apache.org</li> <li>tomcat\u5f00\u6e90\u514d\u8d39\u7684\u8f7b\u91cf\u7ea7WEB\u670d\u52a1\u5668\u3002</li> <li>tomcat\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u540d\u5b57\uff1acatalina\uff08catalina\u662f\u7f8e\u56fd\u7684\u4e00\u4e2a\u5c9b\u5c7f\uff0c\u98ce\u666f\u79c0\u4e3d\uff0c\u636e\u8bf4\u4f5c\u8005\u662f\u5728\u8fd9\u4e2a\u98ce\u666f\u79c0\u4e3d\u7684\u5c0f\u5c9b\u4e0a\u5f00\u53d1\u4e86\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684WEB\u670d\u52a1\u5668\uff0c\u4f53\u79ef\u5c0f\uff0c\u8fd0\u884c\u901f\u5ea6\u5feb\uff0c\u56e0\u6b64tomcat\u53c8\u88ab\u79f0\u4e3acatalina\uff09</li> <li>tomcat\u7684logo\u662f\u4e00\u53ea\u516c\u732b\uff08\u5bd3\u610f\u8868\u793aTomcat\u670d\u52a1\u5668\u662f\u8f7b\u5de7\u7684\uff0c\u5c0f\u5de7\u7684\uff0c\u679c\u7136\uff0c\u4f53\u79ef\u5c0f\uff0c\u8fd0\u884c\u901f\u5ea6\u5feb\uff0c\u53ea\u5b9e\u73b0\u4e86Servlet+JSP\u89c4\u8303\uff09</li> <li>tomcat\u662fjava\u8bed\u8a00\u5199\u7684\u3002</li> <li>tomcat\u670d\u52a1\u5668\u8981\u60f3\u8fd0\u884c\uff0c\u5fc5\u987b\u5148\u53c8jre\uff08Java\u7684\u8fd0\u884c\u65f6\u73af\u5883\uff09</li> <li>Tomcat\u670d\u52a1\u5668\u8981\u60f3\u8fd0\u884c\uff0c\u9700\u8981\u5148\u6709jre\uff0c\u6240\u4ee5\u8981\u5148\u5b89\u88c5JDK\uff0c\u914d\u7f6ejava\u8fd0\u884c\u73af\u5883\u3002</li> <li>JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.1</li> <li>PATH=%JAVA_HOME%\\bin</li> <li>\u76ee\u524dJAVA_HOME\u6ca1\u6709\u914d\u7f6e\uff0c\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u6837\u884c\u4e0d\u884c\u5462\uff1f\u76ee\u524d\u53ea\u8fd0\u884cjava\u7a0b\u5e8f\u662f\u6ca1\u95ee\u9898\u7684\u3002\u771f\u7684\u6ca1\u95ee\u9898\u5417\uff1f</li> <li>Tomcat\u670d\u52a1\u5668\u7684\u5b89\u88c5\uff1a</li> <li>\u7eff\u8272\u7248\u672c\u7684\u5b89\u88c5\u5f88\u7b80\u5355\uff0c\u76f4\u63a5zip\u5305\u89e3\u538b\u5373\u53ef\u3002\u89e3\u538b\u5c31\u662f\u5b89\u88c5\u3002</li> <li>\u6211\u6709\u4e00\u4e2a\u597d\u4e60\u60ef\uff0c\u5728C\u76d8\u7684\u6839\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2adev\u76ee\u5f55\uff0cjava\u5f00\u53d1\u6240\u6709\u76f8\u5173\u7684\u5de5\u5177\u90fd\u5b89\u88c5\u5230dev\u76ee\u5f55\u4e0b\uff0c\u8fd9\u6837\u6bd4\u8f83\u65b9\u4fbf\u7ba1\u7406\u3002\uff08\u4f60\u968f\u610f\uff09</li> <li>\u542f\u52a8Tomcat<ul> <li>bin\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a\u6587\u4ef6\uff1astartup.bat,\u901a\u8fc7\u5b83\u53ef\u4ee5\u542f\u52a8Tomcat\u670d\u52a1\u5668\u3002</li> <li>xxx.bat\u6587\u4ef6\u662f\u4e2a\u4ec0\u4e48\u6587\u4ef6\uff1fbat\u6587\u4ef6\u662fwindows\u64cd\u4f5c\u7cfb\u7edf\u4e13\u7528\u7684\uff0cbat\u6587\u4ef6\u662f\u6279\u5904\u7406\u6587\u4ef6\uff0c\u8fd9\u79cd\u6587\u4ef6\u4e2d\u53ef\u4ee5\u7f16\u5199\u5927\u91cf\u7684windows\u7684dos\u547d\u4ee4\uff0c\u7136\u540e\u6267\u884cbat\u6587\u4ef6\u5c31\u76f8\u5f53\u4e8e\u6279\u91cf\u7684\u6267\u884cdos\u547d\u4ee4\u3002</li> <li>startup.sh\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5728windows\u5f53\u4e2d\u65e0\u6cd5\u6267\u884c\uff0c\u5728Linux\u73af\u5883\u5f53\u4e2d\u53ef\u4ee5\u4f7f\u7528\u3002\u5728Linux\u73af\u5883\u4e0b\u80fd\u591f\u6267\u884c\u7684\u662fshell\u547d\u4ee4\uff0c\u5927\u91cf\u7684shell\u547d\u4ee4\u7f16\u5199\u5728shell\u6587\u4ef6\u5f53\u4e2d\uff0c\u7136\u540e\u6267\u884c\u8fd9\u4e2ashell\u6587\u4ef6\u53ef\u4ee5\u6279\u91cf\u7684\u6267\u884cshell\u547d\u4ee4\u3002</li> <li>tomcat\u670d\u52a1\u5668\u63d0\u4f9b\u4e86bat\u548csh\u6587\u4ef6\uff0c\u8bf4\u660e\u4e86\u8fd9\u4e2atomcat\u670d\u52a1\u5668\u7684\u901a\u7528\u6027\u3002</li> <li>\u5206\u6790startup.bat\u6587\u4ef6\u5f97\u51fa\uff0c\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5b9e\u9645\u4e0a\u6700\u540e\u662f\u6267\u884c\uff1acatalina.bat\u6587\u4ef6\u3002</li> <li>catalina.bat\u6587\u4ef6\u4e2d\u6709\u8fd9\u6837\u4e00\u884c\u914d\u7f6e\uff1aMAINCLASS=org.apache.catalina.startup.Bootstrap \uff08\u8fd9\u4e2a\u7c7b\u5c31\u662fmain\u65b9\u6cd5\u6240\u5728\u7684\u7c7b\u3002\uff09</li> <li>tomcat\u670d\u52a1\u5668\u5c31\u662fJava\u8bed\u8a00\u5199\u7684\uff0c\u65e2\u7136\u662fjava\u8bed\u8a00\u5199\u7684\uff0c\u90a3\u4e48\u542f\u52a8Tomcat\u670d\u52a1\u5668\u5c31\u662f\u6267\u884cmain\u65b9\u6cd5\u3002</li> <li>\u6211\u4eec\u5c1d\u8bd5\u6253\u5f00dos\u547d\u4ee4\u7a97\u53e3\uff0c\u5728dos\u547d\u4ee4\u7a97\u53e3\u4e2d\u8f93\u5165startup.bat\u6765\u542f\u52a8tomcat\u670d\u52a1\u5668\u3002</li> <li>\u542f\u52a8Tomcat\u670d\u52a1\u5668\u53ea\u914d\u7f6epath\u5bf9\u5e94\u7684bin\u76ee\u5f55\u662f\u4e0d\u884c\u7684\u3002\u6709\u4e24\u4e2a\u73af\u5883\u53d8\u91cf\u9700\u8981\u914d\u7f6e\uff1a</li> <li>JAVA_HOME=JDK\u7684\u6839</li> <li>CATALINA_HOME=Tomcat\u670d\u52a1\u5668\u7684\u6839</li> </ul> </li> <li>\u5173\u4e8eTomcat\u670d\u52a1\u5668\u7684\u76ee\u5f55</li> <li>bin \uff1a \u8fd9\u4e2a\u76ee\u5f55\u662fTomcat\u670d\u52a1\u5668\u7684\u547d\u4ee4\u6587\u4ef6\u5b58\u653e\u7684\u76ee\u5f55\uff0c\u6bd4\u5982\uff1a\u542f\u52a8Tomcat\uff0c\u5173\u95edTomcat\u7b49\u3002</li> <li>conf\uff1a \u8fd9\u4e2a\u76ee\u5f55\u662fTomcat\u670d\u52a1\u5668\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u653e\u76ee\u5f55\u3002\uff08server.xml\u6587\u4ef6\u4e2d\u53ef\u4ee5\u914d\u7f6e\u7aef\u53e3\u53f7\uff0c\u9ed8\u8ba4Tomcat\u7aef\u53e3\u662f8080\uff09</li> <li>lib \uff1a\u8fd9\u4e2a\u76ee\u5f55\u662fTomcat\u670d\u52a1\u5668\u7684\u6838\u5fc3\u7a0b\u5e8f\u76ee\u5f55\uff0c\u56e0\u4e3aTomcat\u670d\u52a1\u5668\u662fJava\u8bed\u8a00\u7f16\u5199\u7684\uff0c\u8fd9\u91cc\u7684jar\u5305\u91cc\u9762\u90fd\u662fclass\u6587\u4ef6\u3002</li> <li>logs: Tomcat\u670d\u52a1\u5668\u7684\u65e5\u5fd7\u76ee\u5f55\uff0cTomcat\u670d\u52a1\u5668\u542f\u52a8\u7b49\u4fe1\u606f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u751f\u6210\u65e5\u5fd7\u6587\u4ef6\u3002</li> <li>temp\uff1aTomcat\u670d\u52a1\u5668\u7684\u4e34\u65f6\u76ee\u5f55\u3002\u5b58\u50a8\u4e34\u65f6\u6587\u4ef6\u3002</li> <li>webapps\uff1a\u8fd9\u4e2a\u76ee\u5f55\u5f53\u4e2d\u5c31\u662f\u7528\u6765\u5b58\u653e\u5927\u91cf\u7684webapp\uff08web application\uff1aweb\u5e94\u7528\uff09</li> <li> <p>work\uff1a\u8fd9\u4e2a\u76ee\u5f55\u662f\u7528\u6765\u5b58\u653eJSP\u6587\u4ef6\u7ffb\u8bd1\u4e4b\u540e\u7684java\u6587\u4ef6\u4ee5\u53ca\u7f16\u8bd1\u4e4b\u540e\u7684class\u6587\u4ef6\u3002</p> </li> <li> <p>\u914d\u7f6eTomcat\u670d\u52a1\u5668\u9700\u8981\u54ea\u4e9b\u73af\u5883\u53d8\u91cf\uff1f</p> </li> <li>JAVA_HOME=JDK\u7684\u6839</li> <li>CATALINA_HOME=Tomcat\u670d\u52a1\u5668\u7684\u6839</li> <li>PATH=%JAVA_HOME%\\bin;%CATALINA_HOME%\\bin</li> <li>\u542f\u52a8Tomcat\uff1a startup</li> <li> <p>\u5173\u95edTomcat\uff1astop \uff08shutdown.bat\u6587\u4ef6\u91cd\u547d\u540d\u4e3astop.bat\uff0c\u4e3a\u4ec0\u4e48\uff1f\u539f\u56e0\u662fshutdown\u547d\u4ee4\u548cwindows\u4e2d\u7684\u5173\u673a\u547d\u4ee4\u51b2\u7a81\u3002\u6240\u4ee5\u4fee\u6539\u4e00\u4e0b\u3002\uff09</p> </li> <li> <p>\u600e\u4e48\u6d4b\u8bd5Tomcat\u670d\u52a1\u5668\u6709\u6ca1\u6709\u542f\u52a8\u6210\u529f\u5462\uff1f</p> </li> <li>\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e0a\u8f93\u5165URL\u5373\u53ef\uff1a<ul> <li>http://ip\u5730\u5740:\u7aef\u53e3\u53f7</li> <li>ip\u5730\u5740\u662f\u4ec0\u4e48\uff1f\u7aef\u53e3\u53f7\u6211\u77e5\u9053\uff0c\u662f8080</li> <li>\u672c\u673a\u7684IP\u5730\u5740\u662f\uff1a127.0.0.1\uff0c\u6216\u8005\u662flocalhost\uff0c\u90fd\u884c\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#webwebjava","title":"\u5b9e\u73b0\u4e00\u4e2a\u6700\u57fa\u672c\u7684web\u5e94\u7528\uff08\u8fd9\u4e2aweb\u5e94\u7528\u4e2d\u6ca1\u6709java\u5c0f\u7a0b\u5e8f\uff09","text":"<ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u627e\u5230CATALINA_HOME\\webapps\u76ee\u5f55</p> </li> <li> <p>\u56e0\u4e3a\u6240\u6709\u7684webapp\u8981\u653e\u5230webapps\u76ee\u5f55\u4e0b\u3002\uff08\u6ca1\u6709\u4e3a\u4ec0\u4e48\uff0c\u8fd9\u662fTomcat\u670d\u52a1\u5668\u7684\u8981\u6c42\u3002\u5982\u679c\u4e0d\u653e\u5230\u8fd9\u91cc\uff0cTomcat\u670d\u52a1\u5668\u627e\u4e0d\u5230\u4f60\u7684\u5e94\u7528\u3002\uff09</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728CATALINA_HOME\\webapps\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u8d77\u540d\uff1aoa</p> </li> <li> <p>\u8fd9\u4e2a\u76ee\u5f55\u540doa\u5c31\u662f\u4f60\u8fd9\u4e2awebapp\u7684\u540d\u5b57\u3002</p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728oa\u76ee\u5f55\u4e0b\u65b0\u5efa\u8d44\u6e90\u6587\u4ef6\uff0c\u4f8b\u5982\uff1aindex.html</p> </li> <li> <p>\u7f16\u5199index.html\u6587\u4ef6\u7684\u5185\u5bb9\u3002</p> </li> <li>\u7b2c\u56db\u6b65\uff1a\u542f\u52a8Tomcat\u670d\u52a1\u5668</li> <li> <p>\u7b2c\u4e94\u6b65\uff1a\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u8f93\u5165\u8fd9\u6837\u7684URL\uff1a</p> </li> <li> <p>http://127.0.0.1:8080/oa/index.html</p> </li> <li> <p>\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff1a</p> </li> <li> <p>\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e0a\u76f4\u63a5\u8f93\u5165\u4e00\u4e2aURL\uff0c\u7136\u540e\u56de\u8f66\u3002\u8fd9\u4e2a\u52a8\u4f5c\u548c\u8d85\u94fe\u63a5\u4e00\u6837\u5417\uff1f\u65e2\u7136\u662f\u4e00\u6837\u7684\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528\u8d85\u94fe\u63a5\u3002</p> HTML<pre><code>&lt;!--\u6ce8\u610f\u4ee5\u4e0b\u7684\u8def\u5f84\uff0c\u4ee5/\u5f00\u59cb\uff0c\u5e26\u9879\u76ee\u540d\uff0c\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\u3002\u4e0d\u9700\u8981\u6dfb\u52a0\uff1ahttp://127.0.0.1:8080--&gt;\n&lt;a href=\"/oa/login.html\"&gt;user login2&lt;/a&gt;\n\n&lt;!--\u591a\u4e2a\u5c42\u7ea7\u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u6b63\u5e38\u8bbf\u95ee\u5373\u53ef\u3002--&gt;\n&lt;!--\u6ce8\u610f\uff1a\u6211\u4eec\u76ee\u524d\u524d\u7aef\u4e0a\u7684\u8def\u5f84\u90fd\u4ee5\u201c/\u201d\u5f00\u59cb\u7684\uff0c\u90fd\u662f\u52a0\u9879\u76ee\u540d\u7684\u3002--&gt;\n&lt;a href=\"/oa/test/debug/d.html\"&gt;d page&lt;/a&gt;\n</code></pre> </li> <li> <p>http://127.0.0.1:8080/oa/userList.html</p> </li> <li>\u8bbf\u95ee\u8fd9\u4e2a\u5730\u5740\uff0c\u53ef\u4ee5\u5c55\u793a\u4e00\u4e2a\u7528\u6237\u5217\u8868\u9875\u9762\u3002\u4f46\u662f\u8fd9\u4e2a\u7528\u6237\u5217\u8868\u9875\u9762\u662f\u5199\u6b7b\u5728HTML\u6587\u4ef6\u5f53\u4e2d\u7684\u3002\u8fd9\u79cd\u8d44\u6e90\u6211\u4eec\u79f0\u4e3a\u9759\u6001\u8d44\u6e90\u3002\u600e\u4e48\u80fd\u53d8\u6210\u52a8\u6001\u8d44\u6e90\u3002\u663e\u7136\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\u3002</li> <li>\u8fde\u63a5\u6570\u636e\u5e93\u9700\u8981JDBC\u7a0b\u5e8f\uff0c\u4e5f\u5c31\u662f\u8bf4\u9700\u8981\u7f16\u5199Java\u7a0b\u5e8f\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u6570\u636e\u5e93\u4e2d\u6709\u591a\u5c11\u6761\u8bb0\u5f55\uff0c\u9875\u9762\u4e0a\u5c31\u663e\u793a\u591a\u5c11\u6761\u8bb0\u5f55\uff0c\u8fd9\u79cd\u6280\u672f\u88ab\u79f0\u4e3a\u52a8\u6001\u7f51\u9875\u6280\u672f\u3002\uff08\u52a8\u6001\u7f51\u9875\u6280\u672f\u5e76\u4e0d\u662f\u8bf4\u9875\u9762\u4e2d\u6709flash\u52a8\u753b\u3002\u52a8\u6001\u7f51\u9875\u6280\u672f\u662f\u8bf4\u9875\u9762\u4e2d\u7684\u6570\u636e\u662f\u52a8\u6001\u7684\uff0c\u6839\u636e\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u53d8\u5316\u800c\u53d8\u5316\u3002\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#web_1","title":"\u5bf9\u4e8e\u4e00\u4e2a\u52a8\u6001\u7684web\u5e94\u7528\u6765\u8bf4\uff0c\u4e00\u4e2a\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u8fc7\u7a0b\u6709\u591a\u5c11\u4e2a\u89d2\u8272\u53c2\u4e0e\uff0c\u89d2\u8272\u548c\u89d2\u8272\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u534f\u8bae","text":"<ul> <li>\u6709\u54ea\u4e9b\u89d2\u8272\uff08\u5728\u6574\u4e2aBS\u7ed3\u6784\u7684\u7cfb\u7edf\u5f53\u4e2d\uff0c\u6709\u54ea\u4e9b\u4eba\u53c2\u4e0e\u8fdb\u53bb\u4e86\uff09</li> <li>\u6d4f\u89c8\u5668\u8f6f\u4ef6\u7684\u5f00\u53d1\u56e2\u961f\uff08\u6d4f\u89c8\u5668\u8f6f\u4ef6\u592a\u591a\u4e86\uff1a\u8c37\u6b4c\u6d4f\u89c8\u5668\u3001\u706b\u72d0\u6d4f\u89c8\u5668\u3001IE\u6d4f\u89c8\u5668....\uff09</li> <li>WEB Server\u7684\u5f00\u53d1\u56e2\u961f\uff08WEB Server\u8fd9\u4e2a\u8f6f\u4ef6\u4e5f\u662f\u592a\u591a\u4e86\uff1aTomcat\u3001Jetty\u3001WebLogic\u3001JBOSS\u3001WebSphere....\uff09</li> <li>DB Server\u7684\u5f00\u53d1\u56e2\u961f\uff08DB Server\u8fd9\u4e2a\u8f6f\u4ef6\u4e5f\u662f\u592a\u591a\u4e86\uff1aOracle\u3001MySQL.....\uff09</li> <li>webapp\u7684\u5f00\u53d1\u56e2\u961f\uff08WEB\u5e94\u7528\u662f\u6211\u4eec\u505a\u4e3aJavaWEB\u7a0b\u5e8f\u5458\u5f00\u53d1\u7684\uff09</li> <li>\u89d2\u8272\u548c\u89d2\u8272\u4e4b\u95f4\u9700\u8981\u9075\u5b88\u54ea\u4e9b\u89c4\u8303\uff0c\u54ea\u4e9b\u534f\u8bae</li> <li>webapp\u7684\u5f00\u53d1\u56e2\u961f   \u548c    WEB Server\u7684\u5f00\u53d1\u56e2\u961f  \u4e4b\u95f4\u6709\u4e00\u5957\u89c4\u8303: JavaEE\u89c4\u8303\u4e4b\u4e00Servlet\u89c4\u8303\u3002<ul> <li>Servlet\u89c4\u8303\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f</li> <li>WEB Server   \u548c   webapp\u89e3\u8026\u5408\u3002</li> </ul> </li> <li>Browser  \u548c   WebServer\u4e4b\u95f4\u6709\u4e00\u5957\u4f20\u8f93\u534f\u8bae\uff1aHTTP\u534f\u8bae\u3002\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u3002\uff09</li> <li>webapp\u5f00\u53d1\u56e2\u961f  \u548c  DB Server\u7684\u5f00\u53d1\u56e2\u961f\u4e4b\u95f4\u6709\u4e00\u5957\u89c4\u8303\uff1aJDBC\u89c4\u8303\u3002</li> </ul> <ul> <li>Servlet\u89c4\u8303\u662f\u4e00\u4e2a\u4ec0\u4e48\u89c4\u8303\uff1f</li> <li>\u9075\u5faaServlet\u89c4\u8303\u7684webapp\uff0c\u8fd9\u4e2awebapp\u5c31\u53ef\u4ee5\u653e\u5728\u4e0d\u540c\u7684WEB\u670d\u52a1\u5668\u4e2d\u8fd0\u884c\u3002\uff08\u56e0\u4e3a\u8fd9\u4e2awebapp\u662f\u9075\u5faaServlet\u89c4\u8303\u7684\u3002\uff09</li> <li>Servlet\u89c4\u8303\u5305\u62ec\u4ec0\u4e48\u5462\uff1f<ul> <li>\u89c4\u8303\u4e86\u54ea\u4e9b\u63a5\u53e3</li> <li>\u89c4\u8303\u4e86\u54ea\u4e9b\u7c7b</li> <li>\u89c4\u8303\u4e86\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u5e94\u8be5\u6709\u54ea\u4e9b\u914d\u7f6e\u6587\u4ef6</li> <li>\u89c4\u8303\u4e86\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57</li> <li>\u89c4\u8303\u4e86\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u914d\u7f6e\u6587\u4ef6\u5b58\u653e\u7684\u8def\u5f84</li> <li>\u89c4\u8303\u4e86\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u914d\u7f6e\u6587\u4ef6\u7684\u5185\u5bb9</li> <li>\u89c4\u8303\u4e86\u4e00\u4e2a\u5408\u6cd5\u6709\u6548\u7684web\u5e94\u7528\u5b83\u7684\u76ee\u5f55\u7ed3\u6784\u5e94\u8be5\u662f\u600e\u6837\u7684\u3002</li> <li>.....</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servletjavawebapp","title":"\u5f00\u53d1\u4e00\u4e2a\u5e26\u6709Servlet\uff08Java\u5c0f\u7a0b\u5e8f\uff09\u7684webapp\uff08\u91cd\u70b9\uff09","text":"<ul> <li> <p>\u5f00\u53d1\u6b65\u9aa4\u662f\u600e\u6837\u7684\uff1f</p> </li> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5728webapps\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u8d77\u540dcrm\uff08\u8fd9\u4e2acrm\u5c31\u662fwebapp\u7684\u540d\u5b57\uff09\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u662f\u5176\u5b83\u9879\u76ee\uff0c\u6bd4\u5982\u94f6\u884c\u9879\u76ee\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55bank\uff0c\u529e\u516c\u7cfb\u7edf\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2aoa\u3002</p> <ul> <li>\u6ce8\u610f\uff1acrm\u5c31\u662f\u8fd9\u4e2awebapp\u7684\u6839</li> </ul> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728webapp\u7684\u6839\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff1aWEB-INF</p> <ul> <li>\u6ce8\u610f\uff1a\u8fd9\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\u662fServlet\u89c4\u8303\u4e2d\u89c4\u5b9a\u7684\uff0c\u5fc5\u987b\u5168\u90e8\u5927\u5199\uff0c\u5fc5\u987b\u4e00\u6a21\u4e00\u6837\u3002\u5fc5\u987b\u7684\u5fc5\u987b\u3002</li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff1aclasses</p> <ul> <li>\u6ce8\u610f\uff1a\u8fd9\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\u5fc5\u987b\u662f\u5168\u90e8\u5c0f\u5199\u7684classes\u3002\u8fd9\u4e5f\u662fServlet\u89c4\u8303\u4e2d\u89c4\u5b9a\u7684\u3002\u53e6\u5916\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u4e00\u5b9a\u5b58\u653e\u7684\u662fJava\u7a0b\u5e8f\u7f16\u8bd1\u4e4b\u540e\u7684class\u6587\u4ef6\uff08\u8fd9\u91cc\u5b58\u653e\u7684\u662f\u5b57\u8282\u7801\u6587\u4ef6\uff09\u3002</li> </ul> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff1alib</p> <ul> <li>\u6ce8\u610f\uff1a\u8fd9\u4e2a\u76ee\u5f55\u4e0d\u662f\u5fc5\u987b\u7684\u3002\u4f46\u5982\u679c\u4e00\u4e2awebapp\u9700\u8981\u7b2c\u4e09\u65b9\u7684jar\u5305\u7684\u8bdd\uff0c\u8fd9\u4e2ajar\u5305\u8981\u653e\u5230\u8fd9\u4e2alib\u76ee\u5f55\u4e0b\uff0c\u8fd9\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\u4e5f\u4e0d\u80fd\u968f\u610f\u7f16\u5199\uff0c\u5fc5\u987b\u662f\u5168\u90e8\u5c0f\u5199\u7684lib\u3002\u4f8b\u5982java\u8bed\u8a00\u8fde\u63a5\u6570\u636e\u5e93\u9700\u8981\u6570\u636e\u5e93\u7684\u9a71\u52a8jar\u5305\u3002\u90a3\u4e48\u8fd9\u4e2ajar\u5305\u5c31\u4e00\u5b9a\u8981\u653e\u5230lib\u76ee\u5f55\u4e0b\u3002\u8fd9Servlet\u89c4\u8303\u4e2d\u89c4\u5b9a\u7684\u3002</li> </ul> </li> <li> <p>\u7b2c\u4e94\u6b65\uff1a\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff1aweb.xml</p> <ul> <li> <p>\u6ce8\u610f\uff1a\u8fd9\u4e2a\u6587\u4ef6\u662f\u5fc5\u987b\u7684\uff0c\u8fd9\u4e2a\u6587\u4ef6\u540d\u5fc5\u987b\u53eb\u505aweb.xml\u3002\u8fd9\u4e2a\u6587\u4ef6\u5fc5\u987b\u653e\u5728\u8fd9\u91cc\u3002\u4e00\u4e2a\u5408\u6cd5\u7684webapp\uff0cweb.xml\u6587\u4ef6\u662f\u5fc5\u987b\u7684\uff0c\u8fd9\u4e2aweb.xml\u6587\u4ef6\u5c31\u662f\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u4e2d\u63cf\u8ff0\u4e86\u8bf7\u6c42\u8def\u5f84\u548cServlet\u7c7b\u4e4b\u95f4\u7684\u5bf9\u7167\u5173\u7cfb\u3002</p> </li> <li> <p>\u8fd9\u4e2a\u6587\u4ef6\u6700\u597d\u4ece\u5176\u4ed6\u7684webapp\u4e2d\u62f7\u8d1d\uff0c\u6700\u597d\u522b\u624b\u5199\u3002\u6ca1\u5fc5\u8981\u3002\u590d\u5236\u7c98\u8d34</p> </li> <li> <p>```xml   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</p> </li> </ul> <p> <p></p> <p>```</p> <li> <p>\u7b2c\u516d\u6b65\uff1a\u7f16\u5199\u4e00\u4e2aJava\u7a0b\u5e8f\uff0c\u8fd9\u4e2a\u5c0fJava\u7a0b\u5e8f\u4e5f\u4e0d\u80fd\u968f\u610f\u5f00\u53d1\uff0c\u8fd9\u4e2a\u5c0fjava\u7a0b\u5e8f\u5fc5\u987b\u5b9e\u73b0Servlet\u63a5\u53e3\u3002</p> <ul> <li>\u8fd9\u4e2aServlet\u63a5\u53e3\u4e0d\u5728JDK\u5f53\u4e2d\u3002\uff08\u56e0\u4e3aServlet\u4e0d\u662fJavaSE\u4e86\u3002Servlet\u5c5e\u4e8eJavaEE\uff0c\u662f\u53e6\u5916\u7684\u4e00\u5957\u7c7b\u5e93\u3002\uff09</li> <li>Servlet\u63a5\u53e3\uff08Servlet.class\u6587\u4ef6\uff09\u662fOracle\u63d0\u4f9b\u7684\u3002\uff08\u6700\u539f\u59cb\u7684\u662fsun\u516c\u53f8\u63d0\u4f9b\u7684\u3002\uff09</li> <li>Servlet\u63a5\u53e3\u662fJavaEE\u7684\u89c4\u8303\u4e2d\u7684\u4e00\u5458\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u5b9e\u73b0\u4e86Servlet\u89c4\u8303\uff0c\u6240\u4ee5Tomcat\u670d\u52a1\u5668\u4e5f\u9700\u8981\u4f7f\u7528Servlet\u63a5\u53e3\u3002Tomcat\u670d\u52a1\u5668\u4e2d\u5e94\u8be5\u6709\u8fd9\u4e2a\u63a5\u53e3\uff0cTomcat\u670d\u52a1\u5668\u7684CATALINA_HOME\\lib\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2aservlet-api.jar\uff0c\u89e3\u538b\u8fd9\u4e2aservlet-api.jar\u4e4b\u540e\uff0c\u4f60\u4f1a\u770b\u5230\u91cc\u9762\u6709\u4e00\u4e2aServlet.class\u6587\u4ef6\u3002</li> <li>\u91cd\u70b9\uff1a\u4eceJakartaEE9\u5f00\u59cb\uff0cServlet\u63a5\u53e3\u7684\u5168\u540d\u53d8\u4e86\uff1ajakarta.servlet.Servlet</li> <li>\u6ce8\u610f\uff1a\u7f16\u5199\u8fd9\u4e2aJava\u5c0f\u7a0b\u5e8f\u7684\u65f6\u5019\uff0cjava\u6e90\u4ee3\u7801\u4f60\u613f\u610f\u5728\u54ea\u91cc\u5c31\u5728\u54ea\u91cc\uff0c\u4f4d\u7f6e\u65e0\u6240\u8c13\uff0c\u4f60\u53ea\u9700\u8981\u5c06java\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e4b\u540e\u7684class\u6587\u4ef6\u653e\u5230classes\u76ee\u5f55\u4e0b\u5373\u53ef\u3002</li> </ul> </li> <li> <p>\u7b2c\u4e03\u6b65\uff1a\u7f16\u8bd1\u6211\u4eec\u7f16\u5199\u7684HelloServlet</p> <ul> <li>\u91cd\u70b9\uff1a\u4f60\u600e\u4e48\u80fd\u8ba9\u4f60\u7684HelloServlet\u7f16\u8bd1\u901a\u8fc7\u5462\uff1f\u914d\u7f6e\u73af\u5883\u53d8\u91cfCLASSPATH</li> </ul> <p>CLASSPATH=.;C:\\dev\\apache-tomcat-10.0.12\\lib\\servlet-api.jar</p> <ul> <li> <p>\u601d\u8003\u95ee\u9898\uff1a\u4ee5\u4e0a\u914d\u7f6e\u7684CLASSPATH\u548cTomcat\u670d\u52a1\u5668\u8fd0\u884c\u6709\u6ca1\u6709\u5173\u7cfb\uff1f</p> </li> <li> <p>\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\uff0c\u4ee5\u4e0a\u914d\u7f6e\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u53ea\u662f\u4e3a\u4e86\u8ba9\u4f60\u7684HelloServlet\u80fd\u591f\u6b63\u5e38\u7f16\u8bd1\u751f\u6210class\u6587\u4ef6\u3002</p> </li> </ul> </li> <li> <p>\u7b2c\u516b\u6b65\uff1a\u5c06\u4ee5\u4e0a\u7f16\u8bd1\u4e4b\u540e\u7684HelloServlet.class\u6587\u4ef6\u62f7\u8d1d\u5230WEB-INF\\classes\u76ee\u5f55\u4e0b\u3002</p> </li> <li> <p>\u7b2c\u4e5d\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u7f16\u5199\u914d\u7f6e\u4fe1\u606f\uff0c\u8ba9\u201c\u8bf7\u6c42\u8def\u5f84\u201d\u548c\u201cServlet\u7c7b\u540d\u201d\u5173\u8054\u5728\u4e00\u8d77\u3002</p> <ul> <li> <p>\u8fd9\u4e00\u6b65\u7528\u4e13\u4e1a\u672f\u8bed\u63cf\u8ff0\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u6ce8\u518cServlet\u7c7b\u3002</p> </li> <li> <p>```xml   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</p> </li> </ul> <p> Text Only<pre><code>&lt;!--servlet\u63cf\u8ff0\u4fe1\u606f--&gt;\n&lt;!--\u4efb\u4f55\u4e00\u4e2aservlet\u90fd\u5bf9\u5e94\u4e00\u4e2aservlet-mapping --&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;fdsafdsagfdsafdsa&lt;/servlet-name&gt;\n    &lt;!--\u8fd9\u4e2a\u4f4d\u7f6e\u5fc5\u987b\u662f\u5e26\u6709\u5305\u540d\u7684\u5168\u9650\u5b9a\u7c7b\u540d--&gt;\n    &lt;servlet-class&gt;com.bjpowernode.servlet.HelloServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;!--servlet\u6620\u5c04\u4fe1\u606f--&gt;\n&lt;servlet-mapping&gt;\n    &lt;!--\u8fd9\u4e2a\u4e5f\u662f\u968f\u4fbf\u7684\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u5199\u7684\u5185\u5bb9\u8981\u548c\u4e0a\u9762\u7684\u4e00\u6837\u3002--&gt;\n    &lt;servlet-name&gt;fdsafdsagfdsafdsa&lt;/servlet-name&gt;\n    &lt;!--\u8fd9\u91cc\u9700\u8981\u4e00\u4e2a\u8def\u5f84--&gt;\n    &lt;!--\u8fd9\u4e2a\u8def\u5f84\u552f\u4e00\u7684\u8981\u6c42\u662f\u5fc5\u987b\u4ee5 / \u5f00\u59cb--&gt;\n    &lt;!--\u5f53\u524d\u8fd9\u4e2a\u8def\u5f84\u53ef\u4ee5\u968f\u4fbf\u5199--&gt;\n    &lt;url-pattern&gt;/fdsa/fd/saf/d/sa/fd/sa/fd&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre> <p></p> <p>```</p> <li> <p>\u7b2c\u5341\u6b65\uff1a\u542f\u52a8Tomcat\u670d\u52a1\u5668</p> </li> <li> <p>\u7b2c\u5341\u4e00\u6b65\uff1a\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u8f93\u5165\u4e00\u4e2aurl\uff0c\u8fd9\u4e2aURL\u5fc5\u987b\u662f\uff1a</p> <ul> <li>http://127.0.0.1:8080/crm/fdsa/fd/saf/d/sa/fd/sa/fd</li> <li>\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\uff1a\u6d4f\u89c8\u5668\u4e0a\u7684\u8bf7\u6c42\u8def\u5f84\u4e0d\u80fd\u968f\u4fbf\u5199\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u8def\u5f84\u5fc5\u987b\u548cweb.xml\u6587\u4ef6\u4e2d\u7684url-pattern\u4e00\u81f4\u3002</li> <li>\u6ce8\u610f\uff1a\u6d4f\u89c8\u5668\u4e0a\u7684\u8bf7\u6c42\u8def\u5f84\u548cweb.xml\u6587\u4ef6\u4e2d\u7684url-pattern\u7684\u552f\u4e00\u533a\u522b\u5c31\u662f\uff1a\u6d4f\u89c8\u5668\u4e0a\u7684\u8bf7\u6c42\u8def\u5f84\u5e26\u9879\u76ee\u540d\uff1a/crm</li> </ul> </li> <li> <p>\u6d4f\u89c8\u5668\u4e0a\u7f16\u5199\u7684\u8def\u5f84\u592a\u590d\u6742\uff0c\u53ef\u4ee5\u4f7f\u7528\u8d85\u94fe\u63a5\u3002\uff08\u975e\u5e38\u91cd\u8981\uff1ahtml\u9875\u9762\u53ea\u80fd\u653e\u5230WEB-INF\u76ee\u5f55\u5916\u9762\u3002\uff09</p> </li> <li> <p>\u4ee5\u540e\u4e0d\u9700\u8981\u6211\u4eec\u7f16\u5199main\u65b9\u6cd5\u4e86\u3002tomcat\u670d\u52a1\u5668\u8d1f\u8d23\u8c03\u7528main\u65b9\u6cd5\uff0cTomcat\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\u6267\u884c\u7684\u5c31\u662fmain\u65b9\u6cd5\u3002\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u7f16\u5199Servlet\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\uff0c\u7136\u540e\u5c06\u5176\u6ce8\u518c\u5230web.xml\u6587\u4ef6\u4e2d\uff0c\u5373\u53ef\u3002</p> </li> <li> <p>\u603b\u7ed3\u4e00\u4e0b\uff1a\u4e00\u4e2a\u5408\u6cd5\u7684webapp\u76ee\u5f55\u7ed3\u6784\u5e94\u8be5\u662f\u600e\u6837\u7684\uff1f</p> Text Only<pre><code>webapproot\n     |------WEB-INF\n              |------classes(\u5b58\u653e\u5b57\u8282\u7801)\n              |------lib(\u7b2c\u4e09\u65b9jar\u5305)\n              |------web.xml(\u6ce8\u518cServlet)\n     |------html\n     |------css\n     |------javascript\n     |------image\n     ....\n</code></pre> </li> <li> <p>\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u5230\u6700\u7ec8\u670d\u52a1\u5668\u8c03\u7528Servlet\u4e2d\u7684\u65b9\u6cd5\uff0c\u662f\u600e\u6837\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1f\uff08\u4ee5\u4e0b\u8fd9\u4e2a\u8fc7\u7a0b\u63cf\u8ff0\u7684\u5f88\u7c97\u7cd9\u3002\u5176\u4e2d\u8fd8\u6709\u5f88\u591a\u6b65\u9aa4\u6211\u7701\u7565\u4e86\u3002\uff09</p> <ul> <li>\u7528\u6237\u8f93\u5165URL\uff0c\u6216\u8005\u76f4\u63a5\u70b9\u51fb\u8d85\u94fe\u63a5\uff1ahttp://127.0.0.1:8080/crm/fdsa/fd/saf/d/sa/fd/sa/fd</li> <li>\u7136\u540eTomcat\u670d\u52a1\u5668\u63a5\u6536\u5230\u8bf7\u6c42\uff0c\u622a\u53d6\u8def\u5f84\uff1a/crm/fdsa/fd/saf/d/sa/fd/sa/fd</li> <li>Tomcat\u670d\u52a1\u5668\u627e\u5230crm\u9879\u76ee</li> <li>Tomcat\u670d\u52a1\u5668\u5728web.xml\u6587\u4ef6\u4e2d\u67e5\u627e/fdsa/fd/saf/d/sa/fd/sa/fd  \u5bf9\u5e94\u7684Servlet\u662f\uff1acom.bjpowernode.servlet.HelloServlet</li> <li>Tomcat\u670d\u52a1\u5668\u901a\u8fc7\u53cd\u5c04\u673a\u5236\uff0c\u521b\u5efacom.bjpowernode.servlet.HelloServlet\u7684\u5bf9\u8c61\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528com.bjpowernode.servlet.HelloServlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u3002</li> </ul> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#javaee","title":"\u5173\u4e8eJavaEE\u7684\u7248\u672c","text":"<ul> <li>JavaEE\u76ee\u524d\u6700\u9ad8\u7248\u672c\u662f JavaEE8</li> <li>JavaEE\u88abOracle\u6350\u732e\u4e86\uff0cOracle\u5c06JavaEE\u89c4\u8303\u6350\u732e\u7ed9Apache\u4e86\u3002</li> <li>Apache\u628aJavaEE\u6362\u540d\u4e86\uff0c\u4ee5\u540e\u4e0d\u53ebJavaEE\u4e86\uff0c\u4ee5\u540e\u53eb\u505a jakarta EE\u3002</li> <li>\u4ee5\u540e\u6ca1\u6709JavaEE\u4e86\u3002\u4ee5\u540e\u90fd\u53eb\u505aJakarta EE\u3002</li> <li>JavaEE8\u7248\u672c\u5347\u7ea7\u4e4b\u540e\u7684\"JavaEE 9\"\uff0c\u4e0d\u518d\u662f\"JavaEE9\"\u8fd9\u4e2a\u540d\u5b57\u4e86\uff0c\u53eb\u505aJakartaEE9</li> <li>JavaEE8\u7684\u65f6\u5019\u5bf9\u5e94\u7684Servlet\u7c7b\u540d\u662f\uff1ajavax.servlet.Servlet</li> <li>JakartaEE9\u7684\u65f6\u5019\u5bf9\u5e94\u7684Servlet\u7c7b\u540d\u662f\uff1ajakarta.servlet.Servlet \uff08\u5305\u540d\u90fd\u6362\u4e86\uff09</li> <li>\u5982\u679c\u4f60\u4e4b\u524d\u7684\u9879\u76ee\u8fd8\u662f\u5728\u4f7f\u7528javax.servlet.Servlet\uff0c\u90a3\u4e48\u4f60\u7684\u9879\u76ee\u65e0\u6cd5\u76f4\u63a5\u90e8\u7f72\u5230Tomcat10+\u7248\u672c\u4e0a\u3002\u4f60\u53ea\u80fd\u90e8\u7f72\u5230Tomcat9-\u7248\u672c\u4e0a\u3002\u5728Tomcat9\u4ee5\u53caTomcat9\u4e4b\u524d\u7684\u7248\u672c\u4e2d\u8fd8\u662f\u80fd\u591f\u8bc6\u522bjavax.servlet\u8fd9\u4e2a\u5305\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#tomcatdos","title":"\u89e3\u51b3Tomcat\u670d\u52a1\u5668\u5728DOS\u547d\u4ee4\u7a97\u53e3\u4e2d\u7684\u4e71\u7801\u95ee\u9898\uff08\u63a7\u5236\u53f0\u4e71\u7801\uff09","text":"<p>\u5c06CATALINA_HOME/conf/logging.properties\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a</p> <p>java.util.logging.ConsoleHandler.encoding = GBK</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#html","title":"\u5411\u6d4f\u89c8\u5668\u54cd\u5e94\u4e00\u6bb5HTML\u4ee3\u7801","text":"Java<pre><code>public void service(ServletRequest request, ServletResponse response){\n    response.setContentType(\"text/html\");\n    PrintWriter out = response.getWriter();\n    out.print(\"&lt;h1&gt;hello servlet!&lt;/h1&gt;\");\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servlet_1","title":"\u5728Servlet\u4e2d\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u600e\u4e48\u505a\uff1f","text":"<ul> <li>Servlet\u662fJava\u7a0b\u5e8f\uff0c\u6240\u4ee5\u5728Servlet\u4e2d\u5b8c\u5168\u53ef\u4ee5\u7f16\u5199JDBC\u4ee3\u7801\u8fde\u63a5\u6570\u636e\u5e93\u3002</li> <li>\u5728\u4e00\u4e2awebapp\u4e2d\u53bb\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u9700\u8981\u5c06\u9a71\u52a8jar\u5305\u653e\u5230WEB-INF/lib\u76ee\u5f55\u4e0b\u3002\uff08com.mysql.cj.jdbc.Driver \u8fd9\u4e2a\u7c7b\u5c31\u5728\u9a71\u52a8jar\u5305\u5f53\u4e2d\u3002\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servlet_2","title":"\u5728\u96c6\u6210\u5f00\u53d1\u73af\u5883\u5f53\u4e2d\u5f00\u53d1Servlet\u7a0b\u5e8f","text":"<ul> <li> <p>\u96c6\u6210\u5f00\u53d1\u5de5\u5177\u5f88\u591a\uff0c\u5176\u4e2d\u76ee\u524d\u4f7f\u7528\u6bd4\u8f83\u591a\u7684\u662f\uff1a</p> </li> <li> <p>IntelliJ IDEA\uff08\u8fd9\u4e2a\u5c45\u591a\uff0cIDEA\u5728\u63d0\u793a\u529f\u80fd\u65b9\u9762\u8981\u5f3a\u4e8eEclipse\uff0c\u4e5f\u5c31\u662f\u8bf4IDEA\u4f7f\u7528\u8d77\u6765\u6bd4Eclipse\u66f4\u52a0\u667a\u80fd\uff0c\u66f4\u597d\u7528\u3002JetBrain\u516c\u53f8\u5f00\u53d1\u7684\u3002\u6536\u8d39\u7684\u3002\uff09</p> </li> <li> <p>Eclipse\uff08\u8fd9\u4e2a\u5c11\u4e00\u4e9b\uff09\uff0cEclipse\u76ee\u524d\u8fd8\u662f\u6709\u56e2\u961f\u4f7f\u7528\uff0c\u53ea\u4e0d\u8fc7\u5904\u4e8e\u51cf\u5c11\u7684\u8d8b\u52bf\uff0c\u81ea\u5df1\u4ece\u4e8b\u5de5\u4f5c\u4e4b\u540e\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u3002Eclipse\u662fIBM\u56e2\u961f\u5f00\u53d1\u7684\u3002Eclipse\u5bd3\u610f\u662f\u201c\u65e5\u98df\u201d\u3002\u201c\u65e5\u98df\u201d\u8868\u793a\u5c06\u592a\u9633\u5403\u6389\u3002\u592a\u9633\u662fSUN\u3002IBM\u56e2\u961f\u5f00\u53d1Eclipse\u7684\u5bd3\u610f\u662f\u541e\u5e76SUN\u516c\u53f8\uff0c\u4f46\u662f2009\u5e74\u7684\u65f6\u5019SUN\u516c\u53f8\u88abOracle\u516c\u53f8\u5e76\u8d2d\u4e86\u3002IBM\u5e76\u6ca1\u6709\u6210\u529f\u5e76\u8d2dSUN\u516c\u53f8\u3002</p> </li> <li> <p>\u4f7f\u7528IDEA\u96c6\u6210\u5f00\u53d1\u5de5\u5177\u5f00\u53d1Servlet</p> </li> <li> <p>\u7b2c\u4e00\u6b65\uff1aNew Project\uff08\u6211\u6bd4\u8f83\u4e60\u60ef\u5148\u521b\u5efa\u4e00\u4e2aEmpty Project\u3010\u7a7a\u5de5\u7a0b\u3011\uff0c\u7136\u540e\u5728\u7a7a\u5de5\u7a0b\u4e0b\u65b0\u5efaModule\u3010\u6a21\u5757\u3011\uff0c\u8fd9\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u53ea\u662f\u4e00\u79cd\u4e60\u60ef\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u65b0\u5efa\u975e\u7a7a\u7684Project\uff09\uff0c\u8fd9\u4e2aEmpty Project\u8d77\u540d\u4e3a\uff1ajavaweb\uff08\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u53ea\u662f\u4e00\u4e2a\u540d\u5b57\u800c\u5df2\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u65b0\u5efa\u7684Project\u7684\u540d\u5b57\u6700\u597d\u548c\u76ee\u5f55\u7684\u540d\u5b57\u4e00\u81f4\u3002\uff09</p> </li> <li>\u7b2c\u4e8c\u6b65\uff1a\u65b0\u5efa\u6a21\u5757\uff08File --&gt; new --&gt; Module...\uff09<ul> <li>\u8fd9\u91cc\u65b0\u5efa\u7684\u662f\u4e00\u4e2a\u666e\u901a\u7684JavaSE\u6a21\u5757\uff08\u8fd9\u91cc\u5148\u4e0d\u8981\u65b0\u5efaJava Enterprise\u6a21\u5757\uff09</li> <li>\u8fd9\u4e2aModule\u81ea\u52a8\u4f1a\u88ab\u653e\u5728javaweb\u7684project\u4e0b\u9762\u3002</li> <li>\u8fd9\u4e2aModule\u8d77\u540d\uff1aservlet01</li> </ul> </li> <li>\u7b2c\u4e09\u6b65\uff1a\u8ba9Module\u53d8\u6210JavaEE\u7684\u6a21\u5757\u3002\uff08\u8ba9Module\u53d8\u6210webapp\u7684\u6a21\u5757\u3002\u7b26\u5408webapp\u89c4\u8303\u3002\u7b26\u5408Servlet\u89c4\u8303\u7684Module\uff09<ul> <li>\u5728Module\u4e0a\u70b9\u51fb\u53f3\u952e\uff1aAdd Framework Support...\uff08\u6dfb\u52a0\u6846\u67b6\u652f\u6301\uff09</li> <li>\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\uff0c\u9009\u62e9Web Application\uff08\u9009\u62e9\u7684\u662fwebapp\u7684\u652f\u6301\uff09</li> <li>\u9009\u62e9\u4e86\u8fd9\u4e2awebapp\u7684\u652f\u6301\u4e4b\u540e\uff0cIDEA\u4f1a\u81ea\u52a8\u7ed9\u4f60\u751f\u6210\u4e00\u4e2a\u7b26\u5408Servlet\u89c4\u8303\u7684webpp\u76ee\u5f55\u7ed3\u6784\u3002</li> <li>\u91cd\u70b9\uff0c\u9700\u8981\u6ce8\u610f\u7684\uff1a\u5728IDEA\u5de5\u5177\u4e2d\u6839\u636eWeb Application\u6a21\u677f\u751f\u6210\u7684\u76ee\u5f55\u4e2d\u6709\u4e00\u4e2aweb\u76ee\u5f55\uff0c\u8fd9\u4e2a\u76ee\u5f55\u5c31\u4ee3\u8868webapp\u7684\u6839</li> </ul> </li> <li>\u7b2c\u56db\u6b65\uff08\u975e\u5fc5\u987b\uff09\uff1a\u6839\u636eWeb Application\u751f\u6210\u7684\u8d44\u6e90\u4e2d\u6709index.jsp\u6587\u4ef6\uff0c\u8fd9\u91cc\u6211\u9009\u62e9\u5220\u9664\u8fd9\u4e2aindex.jsp\u6587\u4ef6\u3002</li> <li>\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199Servlet\uff08StudentServlet\uff09<ul> <li>class StudentServlet implements Servlet</li> <li>\u8fd9\u4e2a\u65f6\u5019\u53d1\u73b0Servlet.class\u6587\u4ef6\u6ca1\u6709\u3002\u600e\u4e48\u529e\uff1f\u5c06CATALINA_HOME/lib/servlet-api.jar\u548cjsp-api.jar\u6dfb\u52a0\u5230classpath\u5f53\u4e2d\uff08\u8fd9\u91cc\u7684classpath\u8bf4\u7684\u662fIDEA\u7684classpath\uff09</li> <li>File --&gt; Project Structrue --&gt; Modules --&gt; + \u52a0\u53f7 --&gt; Add JARS....</li> <li>\u5b9e\u73b0jakarta.servlet.Servlet\u63a5\u53e3\u4e2d\u76845\u4e2a\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u7b2c\u516d\u6b65\uff1a\u5728Servlet\u5f53\u4e2d\u7684service\u65b9\u6cd5\u4e2d\u7f16\u5199\u4e1a\u52a1\u4ee3\u7801\uff08\u6211\u4eec\u8fd9\u91cc\u8fde\u63a5\u6570\u636e\u5e93\u4e86\u3002\uff09</li> <li>\u7b2c\u4e03\u6b65\uff1a\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e86\u4e00\u4e2a\u5b50\u76ee\u5f55\uff1alib\uff08\u8fd9\u4e2a\u76ee\u5f55\u540d\u53ef\u4e0d\u80fd\u968f\u610f\uff0c\u5fc5\u987b\u662f\u5168\u90e8\u5c0f\u5199\u7684lib\uff09\uff0c\u5e76\u4e14\u5c06\u8fde\u63a5\u6570\u636e\u5e93\u7684\u9a71\u52a8jar\u5305\u653e\u5230lib\u76ee\u5f55\u4e0b\u3002</li> <li>\u7b2c\u516b\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u5b8c\u6210StudentServlet\u7c7b\u7684\u6ce8\u518c\u3002\uff08\u8bf7\u6c42\u8def\u5f84\u548cServlet\u4e4b\u95f4\u5bf9\u5e94\u8d77\u6765\uff09</li> </ul> Java<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\"&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;studentServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.StudentServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;studentServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/servlet/student&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre> <ul> <li> <p>\u7b2c\u4e5d\u6b65\uff1a\u7ed9\u4e00\u4e2ahtml\u9875\u9762\uff0c\u5728HTML\u9875\u9762\u4e2d\u7f16\u5199\u4e00\u4e2a\u8d85\u94fe\u63a5\uff0c\u7528\u6237\u70b9\u51fb\u8fd9\u4e2a\u8d85\u94fe\u63a5\uff0c\u53d1\u9001\u8bf7\u6c42\uff0cTomcat\u6267\u884c\u540e\u53f0\u7684StudentServlet\u3002</p> <ul> <li> <p>student.html</p> </li> <li> <p>\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u80fd\u653e\u5230WEB-INF\u76ee\u5f55\u91cc\u9762\uff0c\u53ea\u80fd\u653e\u5230WEB-INF\u76ee\u5f55\u5916\u9762\u3002</p> </li> <li> <p>student.html\u6587\u4ef6\u7684\u5185\u5bb9</p> </li> <li> <p><code>html   &lt;!DOCTYPE html&gt;   &lt;html lang=\"en\"&gt;   &lt;head&gt;       &lt;meta charset=\"UTF-8\"&gt;       &lt;title&gt;student page&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;       &lt;!--\u8fd9\u91cc\u7684\u9879\u76ee\u540d\u662f /xmm \uff0c\u65e0\u6cd5\u52a8\u6001\u83b7\u53d6\uff0c\u5148\u5199\u6b7b--&gt;       &lt;a href=\"/xmm/servlet/student\"&gt;student list&lt;/a&gt;   &lt;/body&gt;   &lt;/html&gt;</code></p> </li> </ul> </li> <li> <p>\u7b2c\u5341\u6b65\uff1a\u8ba9IDEA\u5de5\u5177\u53bb\u5173\u8054Tomcat\u670d\u52a1\u5668\u3002\u5173\u8054\u7684\u8fc7\u7a0b\u5f53\u4e2d\u5c06webapp\u90e8\u7f72\u5230Tomcat\u670d\u52a1\u5668\u5f53\u4e2d\u3002</p> <ul> <li>IDEA\u5de5\u5177\u53f3\u4e0a\u89d2\uff0c\u7eff\u8272\u5c0f\u9524\u5b50\u53f3\u8fb9\u6709\u4e00\u4e2a\uff1aAdd Configuration</li> <li>\u5de6\u4e0a\u89d2\u52a0\u53f7\uff0c\u70b9\u51fbTomcat Server --&gt; local</li> <li>\u5728\u5f39\u51fa\u7684\u754c\u9762\u4e2d\u8bbe\u7f6e\u670d\u52a1\u5668Server\u7684\u53c2\u6570\uff08\u57fa\u672c\u4e0a\u4e0d\u7528\u52a8\uff09</li> <li>\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u6709\u4e00\u4e2aDeployment\uff08\u70b9\u51fb\u8fd9\u4e2a\u7528\u6765\u90e8\u7f72webapp\uff09\uff0c\u7ee7\u7eed\u70b9\u51fb\u52a0\u53f7\uff0c\u90e8\u7f72\u5373\u53ef\u3002</li> <li>\u4fee\u6539 Application context\u4e3a\uff1a/xmm</li> </ul> </li> <li> <p>\u7b2c\u5341\u4e00\u6b65\uff1a\u542f\u52a8Tomcat\u670d\u52a1\u5668</p> <ul> <li>\u5728\u53f3\u4e0a\u89d2\u6709\u7eff\u8272\u7684\u7bad\u5934\uff0c\u6216\u8005\u7eff\u8272\u7684\u5c0f\u866b\u5b50\uff0c\u70b9\u51fb\u8fd9\u4e2a\u7eff\u8272\u7684\u5c0f\u866b\u5b50\uff0c\u53ef\u4ee5\u91c7\u7528debug\u7684\u6a21\u5f0f\u542f\u52a8Tomcat\u670d\u52a1\u5668\u3002</li> <li>\u6211\u4eec\u5f00\u53d1\u4e2d\u5efa\u8bae\u9002\u7528debug\u6a21\u5f0f\u542f\u52a8Tomcat</li> </ul> </li> <li> <p>\u7b2c\u5341\u4e8c\u6b65\uff1a\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u8f93\u5165\uff1ahttp://localhost:8080/xmm/student.html</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servlet_3","title":"Servlet\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f","text":"<ul> <li> <p>\u4ec0\u4e48\u662fServlet\u5bf9\u8c61\u751f\u547d\u5468\u671f\uff1f</p> </li> <li> <p>Servlet\u5bf9\u8c61\u4ec0\u4e48\u65f6\u5019\u88ab\u521b\u5efa\u3002</p> </li> <li>Servlet\u5bf9\u8c61\u4ec0\u4e48\u65f6\u5019\u88ab\u9500\u6bc1\u3002</li> <li>Servlet\u5bf9\u8c61\u521b\u5efa\u4e86\u51e0\u4e2a\uff1f</li> <li> <p>Servlet\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u8868\u793a\uff1a\u4e00\u4e2aServlet\u5bf9\u8c61\u4ece\u51fa\u751f\u5728\u6700\u540e\u7684\u6b7b\u4ea1\uff0c\u6574\u4e2a\u8fc7\u7a0b\u662f\u600e\u6837\u7684\u3002</p> </li> <li> <p>Servlet\u5bf9\u8c61\u662f\u7531\u8c01\u6765\u7ef4\u62a4\u7684\uff1f</p> </li> <li> <p>Servlet\u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u5bf9\u8c61\u4e0a\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u5bf9\u8c61\u6700\u7ec8\u7684\u9500\u6bc1\uff0cJavaweb\u7a0b\u5e8f\u5458\u662f\u65e0\u6743\u5e72\u9884\u7684\u3002</p> </li> <li>Servlet\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u662f\u7531Tomcat\u670d\u52a1\u5668\uff08WEB Server\uff09\u5168\u6743\u8d1f\u8d23\u7684\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u901a\u5e38\u6211\u4eec\u53c8\u79f0\u4e3a\uff1aWEB\u5bb9\u5668\u3002\uff08\u8fd9\u4e2a\u53eb\u6cd5\u4f60\u8981\u77e5\u9053\u3010WEB Container\u3011\uff09</li> <li> <p>WEB\u5bb9\u5668\u6765\u7ba1\u7406Servlet\u5bf9\u8c61\u7684\u6b7b\u6d3b\u3002</p> </li> <li> <p>\u601d\u8003\uff1a\u6211\u4eec\u81ea\u5df1new\u7684Servlet\u5bf9\u8c61\u53d7WEB\u5bb9\u5668\u7684\u7ba1\u7406\u5417\uff1f</p> </li> <li> <p>\u6211\u4eec\u81ea\u5df1new\u7684Servlet\u5bf9\u8c61\u662f\u4e0d\u53d7WEB\u5bb9\u5668\u7ba1\u7406\u7684\u3002</p> </li> <li>WEB\u5bb9\u5668\u521b\u5efa\u7684Servlet\u5bf9\u8c61\uff0c\u8fd9\u4e9bServlet\u5bf9\u8c61\u90fd\u4f1a\u88ab\u653e\u5230\u4e00\u4e2a\u96c6\u5408\u5f53\u4e2d\uff08HashMap\uff09\uff0c\u53ea\u6709\u653e\u5230\u8fd9\u4e2aHashMap\u96c6\u5408\u4e2d\u7684Servlet\u624d\u80fd\u591f\u88abWEB\u5bb9\u5668\u7ba1\u7406\uff0c\u81ea\u5df1new\u7684Servlet\u5bf9\u8c61\u4e0d\u4f1a\u88abWEB\u5bb9\u5668\u7ba1\u7406\u3002\uff08\u81ea\u5df1new\u7684Servlet\u5bf9\u8c61\u4e0d\u5728\u5bb9\u5668\u5f53\u4e2d\uff09</li> <li>web\u5bb9\u5668\u5e95\u5c42\u5e94\u8be5\u6709\u4e00\u4e2aHashMap\u8fd9\u6837\u7684\u96c6\u5408\uff0c\u5728\u8fd9\u4e2a\u96c6\u5408\u5f53\u4e2d\u5b58\u50a8\u4e86Servlet\u5bf9\u8c61\u548c\u8bf7\u6c42\u8def\u5f84\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li> <p></p> </li> <li> <p>\u7814\u7a76\uff1a\u670d\u52a1\u5668\u5728\u542f\u52a8\u7684Servlet\u5bf9\u8c61\u6709\u6ca1\u6709\u88ab\u521b\u5efa\u51fa\u6765\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09\uff1f</p> </li> <li> <p>\u5728Servlet\u4e2d\u63d0\u4f9b\u4e00\u4e2a\u65e0\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\uff0c\u542f\u52a8\u670d\u52a1\u5668\u7684\u65f6\u5019\u770b\u770b\u6784\u9020\u65b9\u6cd5\u662f\u5426\u6267\u884c\u3002</p> </li> <li>\u7ecf\u8fc7\u6d4b\u8bd5\u5f97\u51fa\u7ed3\u8bba\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u670d\u52a1\u5668\u5728\u542f\u52a8\u7684\u65f6\u5019Servlet\u5bf9\u8c61\u5e76\u4e0d\u4f1a\u88ab\u5b9e\u4f8b\u5316\u3002</li> <li> <p>\u8fd9\u4e2a\u8bbe\u8ba1\u662f\u5408\u7406\u7684\u3002\u7528\u6237\u6ca1\u6709\u53d1\u9001\u8bf7\u6c42\u4e4b\u524d\uff0c\u5982\u679c\u63d0\u524d\u521b\u5efa\u51fa\u6765\u6240\u6709\u7684Servlet\u5bf9\u8c61\uff0c\u5fc5\u7136\u662f\u8017\u8d39\u5185\u5b58\u7684\uff0c\u5e76\u4e14\u521b\u5efa\u51fa\u6765\u7684Servlet\u5982\u679c\u4e00\u76f4\u6ca1\u6709\u7528\u6237\u8bbf\u95ee\uff0c\u663e\u7136\u8fd9\u4e2aServlet\u5bf9\u8c61\u662f\u4e00\u4e2a\u5e9f\u7269\uff0c\u6ca1\u5fc5\u8981\u5148\u521b\u5efa\u3002</p> </li> <li> <p>\u600e\u4e48\u8ba9\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\u521b\u5efaServlet\u5bf9\u8c61\u5462\uff1f</p> </li> <li> <p>\u5728servlet\u6807\u7b7e\u4e2d\u6dfb\u52a0\u5b50\u6807\u7b7e\uff0c\u5728\u8be5\u5b50\u6807\u7b7e\u4e2d\u586b\u5199\u6574\u6570\uff0c\u8d8a\u5c0f\u7684\u6574\u6570\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002 <li> <p><code>xml     &lt;servlet&gt;         &lt;servlet-name&gt;aservlet&lt;/servlet-name&gt;         &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.AServlet&lt;/servlet-class&gt;         &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;     &lt;/servlet&gt;     &lt;servlet-mapping&gt;         &lt;servlet-name&gt;aservlet&lt;/servlet-name&gt;         &lt;url-pattern&gt;/a&lt;/url-pattern&gt;     &lt;/servlet-mapping&gt;</code></p> </li> <li> <p>Servlet\u5bf9\u8c61\u751f\u547d\u5468\u671f</p> </li> <li> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019AServlet\u5bf9\u8c61\u5e76\u6ca1\u6709\u88ab\u5b9e\u4f8b\u5316</p> </li> <li> <p>\u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u63a7\u5236\u53f0\u8f93\u51fa\u4e86\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>AServlet\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\u4e86\nAServlet's init method execute!\nAServlet's service method execute!\n</code></pre> </li> <li> <p>\u6839\u636e\u4ee5\u4e0a\u8f93\u51fa\u5185\u5bb9\u5f97\u51fa\u7ed3\u8bba\uff1a</p> <ul> <li>\u7528\u6237\u5728\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019Servlet\u5bf9\u8c61\u88ab\u5b9e\u4f8b\u5316\uff08AServlet\u7684\u6784\u9020\u65b9\u6cd5\u88ab\u6267\u884c\u4e86\u3002\u5e76\u4e14\u6267\u884c\u7684\u662f\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002\uff09</li> <li>AServlet\u5bf9\u8c61\u88ab\u521b\u5efa\u51fa\u6765\u4e4b\u540e\uff0cTomcat\u670d\u52a1\u5668\u9a6c\u4e0a\u8c03\u7528\u4e86AServlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u3002\uff08init\u65b9\u6cd5\u5728\u6267\u884c\u7684\u65f6\u5019\uff0cAServlet\u5bf9\u8c61\u5df2\u7ecf\u5b58\u5728\u4e86\u3002\u5df2\u7ecf\u88ab\u521b\u5efa\u51fa\u6765\u4e86\u3002\uff09</li> <li>\u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cinit\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\uff0cTomcat\u670d\u52a1\u5668\u9a6c\u4e0a\u8c03\u7528AServlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u3002</li> </ul> </li> <li> <p>\u7528\u6237\u7ee7\u7eed\u53d1\u9001\u7b2c\u4e8c\u6b21\u8bf7\u6c42\uff0c\u63a7\u5236\u53f0\u8f93\u51fa\u4e86\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>AServlet's service method execute!\n</code></pre> </li> <li> <p>\u6839\u636e\u4ee5\u4e0a\u8f93\u51fa\u7ed3\u679c\u5f97\u77e5\uff0c\u7528\u6237\u5728\u53d1\u9001\u7b2c\u4e8c\u6b21\uff0c\u6216\u8005\u7b2c\u4e09\u6b21\uff0c\u6216\u8005\u7b2c\u56db\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cServlet\u5bf9\u8c61\u5e76\u6ca1\u6709\u65b0\u5efa\uff0c\u8fd8\u662f\u4f7f\u7528\u4e4b\u524d\u521b\u5efa\u597d\u7684Servlet\u5bf9\u8c61\uff0c\u76f4\u63a5\u8c03\u7528\u8be5Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\uff0c\u8fd9\u8bf4\u660e\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1aServlet\u5bf9\u8c61\u662f\u5355\u4f8b\u7684\uff08\u5355\u5b9e\u4f8b\u7684\u3002\u4f46\u662f\u8981\u6ce8\u610f\uff1aServlet\u5bf9\u8c61\u662f\u5355\u5b9e\u4f8b\u7684\uff0c\u4f46\u662fServlet\u7c7b\u5e76\u4e0d\u7b26\u5408\u5355\u4f8b\u6a21\u5f0f\u3002\u6211\u4eec\u79f0\u4e4b\u4e3a\u5047\u5355\u4f8b\u3002\u4e4b\u6240\u4ee5\u5355\u4f8b\u662f\u56e0\u4e3aServlet\u5bf9\u8c61\u7684\u521b\u5efa\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u7ba1\u4e0d\u7740\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u521b\u5efa\u53ea\u80fd\u662fTomcat\u6765\u8bf4\u4e86\u7b97\uff0cTomcat\u53ea\u521b\u5efa\u4e86\u4e00\u4e2a\uff0c\u6240\u4ee5\u5bfc\u81f4\u4e86\u5355\u4f8b\uff0c\u4f46\u662f\u5c5e\u4e8e\u5047\u5355\u4f8b\u3002\u771f\u5355\u4f8b\u6a21\u5f0f\uff0c\u6784\u9020\u65b9\u6cd5\u662f\u79c1\u6709\u5316\u7684\u3002\uff09</li> <li>\u7b2c\u4e8c\uff1a\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3001init\u65b9\u6cd5\u53ea\u5728\u7b2c\u4e00\u6b21\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002init\u65b9\u6cd5\u4e5f\u53ea\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002</li> <li>\u7b2c\u4e09\uff1a\u53ea\u8981\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff1aservice\u65b9\u6cd5\u5fc5\u7136\u4f1a\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002\u53d1\u9001100\u6b21\u8bf7\u6c42\uff0cservice\u65b9\u6cd5\u4f1a\u88ab\u8c03\u7528100\u6b21\u3002</li> </ul> </li> <li> <p>\u5173\u95ed\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u63a7\u5236\u53f0\u8f93\u51fa\u4e86\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>AServlet's destroy method execute!\n</code></pre> </li> <li> <p>\u901a\u8fc7\u4ee5\u4e0a\u8f93\u51fa\u5185\u5bb9\uff0c\u53ef\u4ee5\u5f97\u51fa\u4ee5\u4e0b\u7ed3\u8bba\uff1a</p> <ul> <li>Servlet\u7684destroy\u65b9\u6cd5\u53ea\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002</li> <li>destroy\u65b9\u6cd5\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u88ab\u8c03\u7528\u7684\uff1f</li> <li>\u5728\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u3002</li> <li>\u56e0\u4e3a\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u8981\u9500\u6bc1AServlet\u5bf9\u8c61\u7684\u5185\u5b58\u3002</li> <li>\u670d\u52a1\u5668\u5728\u9500\u6bc1AServlet\u5bf9\u8c61\u5185\u5b58\u4e4b\u524d\uff0cTomcat\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528AServlet\u5bf9\u8c61\u7684destroy\u65b9\u6cd5\u3002</li> </ul> </li> <li> <p>\u8bf7\u95ee\uff1adestroy\u65b9\u6cd5\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5bf9\u8c61\u9500\u6bc1\u4e86\u8fd8\u662f\u6ca1\u6709\u9500\u6bc1\u5462\uff1f</p> <ul> <li>destroy\u65b9\u6cd5\u6267\u884c\u7684\u65f6\u5019AServlet\u5bf9\u8c61\u8fd8\u5728\uff0c\u6ca1\u6709\u88ab\u9500\u6bc1\u3002destroy\u65b9\u6cd5\u6267\u884c\u7ed3\u675f\u4e4b\u540e\uff0cAServlet\u5bf9\u8c61\u7684\u5185\u5b58\u624d\u4f1a\u88abTomcat\u91ca\u653e\u3002</li> </ul> </li> <li> <p>Servlet\u5bf9\u8c61\u66f4\u50cf\u4e00\u4e2a\u4eba\u7684\u4e00\u751f\uff1a</p> <ul> <li>Servlet\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u51fa\u751f\u4e86\u3002</li> <li>Servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u6b63\u5728\u63a5\u53d7\u6559\u80b2\u3002</li> <li>Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u5df2\u7ecf\u5f00\u59cb\u5de5\u4f5c\u4e86\uff0c\u5df2\u7ecf\u5f00\u59cb\u4e3a\u4eba\u7c7b\u63d0\u4f9b\u670d\u52a1\u4e86\u3002</li> <li>Servlet\u5bf9\u8c61\u7684destroy\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4e34\u7ec8\u3002\u6709\u4ec0\u4e48\u9057\u8a00\uff0c\u6293\u7d27\u7684\u3002\u8981\u4e0d\u7136\uff0c\u6765\u4e0d\u53ca\u4e86\u3002</li> </ul> </li> <li> <p>\u5173\u4e8eServlet\u7c7b\u4e2d\u65b9\u6cd5\u7684\u8c03\u7528\u6b21\u6570\uff1f</p> <ul> <li>\u6784\u9020\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> <li>init\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> <li>service\u65b9\u6cd5\uff1a\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\u5219\u6267\u884c\u4e00\u6b21\uff0c\u53d1\u9001N\u6b21\u8bf7\u6c42\u5219\u6267\u884cN\u6b21\u3002</li> <li>destroy\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> </ul> </li> <li> <p>\u5f53\u6211\u4eecServlet\u7c7b\u4e2d\u7f16\u5199\u4e00\u4e2a\u6709\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\uff0c\u5982\u679c\u6ca1\u6709\u624b\u52a8\u7f16\u5199\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\uff1f</p> <ul> <li>\u62a5\u9519\u4e86\uff1a500\u9519\u8bef\u3002</li> <li>\u6ce8\u610f\uff1a500\u662f\u4e00\u4e2aHTTP\u534f\u8bae\u7684\u9519\u8bef\u72b6\u6001\u7801\u3002</li> <li>500\u4e00\u822c\u60c5\u51b5\u4e0b\u662f\u56e0\u4e3a\u670d\u52a1\u5668\u7aef\u7684Java\u7a0b\u5e8f\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\uff08\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u90fd\u662f500\u9519\u8bef\uff1a\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef\u3002\uff09</li> <li>\u5982\u679c\u6ca1\u6709\u65e0\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\uff0c\u4f1a\u5bfc\u81f4\u51fa\u73b0500\u9519\u8bef\uff0c\u65e0\u6cd5\u5b9e\u4f8b\u5316Servlet\u5bf9\u8c61\u3002</li> <li>\u6240\u4ee5\uff0c\u4e00\u5b9a\u8981\u6ce8\u610f\uff1a\u5728Servlet\u5f00\u53d1\u5f53\u4e2d\uff0c\u4e0d\u5efa\u8bae\u7a0b\u5e8f\u5458\u6765\u5b9a\u4e49\u6784\u9020\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5b9a\u4e49\u4e0d\u5f53\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u5b9e\u4f8b\u5316Servlet\u5bf9\u8c61\u3002</li> </ul> </li> <li> <p>\u601d\u8003\uff1aServlet\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u662f\u5728\u5bf9\u8c61\u7b2c\u4e00\u6b21\u521b\u5efa\u7684\u65f6\u5019\u6267\u884c\uff0c\u5e76\u4e14\u53ea\u6267\u884c\u4e00\u6b21\u3002init\u65b9\u6cd5\u4e5f\u662f\u5728\u5bf9\u8c61\u7b2c\u4e00\u6b21\u521b\u5efa\u7684\u65f6\u5019\u6267\u884c\uff0c\u5e76\u4e14\u53ea\u6267\u884c\u4e00\u6b21\u3002\u90a3\u4e48\u8fd9\u4e2a\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u53ef\u4ee5\u4ee3\u66ff\u6389init\u65b9\u6cd5\u5417\uff1f</p> <ul> <li>\u4e0d\u80fd\u3002</li> <li>Servlet\u89c4\u8303\u4e2d\u6709\u8981\u6c42\uff0c\u4f5c\u4e3ajavaweb\u7a0b\u5e8f\u5458\uff0c\u7f16\u5199Servlet\u7c7b\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u624b\u52a8\u7f16\u5199\u6784\u9020\u65b9\u6cd5\uff0c\u56e0\u4e3a\u7f16\u5199\u6784\u9020\u65b9\u6cd5\uff0c\u5f88\u5bb9\u6613\u8ba9\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6d88\u5931\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u80fd\u4f1a\u5bfc\u81f4Servlet\u5bf9\u8c61\u65e0\u6cd5\u5b9e\u4f8b\u5316\u3002\u6240\u4ee5init\u65b9\u6cd5\u662f\u6709\u5b58\u5728\u7684\u5fc5\u8981\u7684\u3002</li> </ul> </li> <li> <p>init\u3001service\u3001destroy\u65b9\u6cd5\u4e2d\u4f7f\u7528\u6700\u591a\u7684\u662f\u54ea\u4e2a\u65b9\u6cd5\uff1f</p> <ul> <li>\u4f7f\u7528\u6700\u591a\u5c31\u662fservice\u65b9\u6cd5\uff0cservice\u65b9\u6cd5\u662f\u4e00\u5b9a\u8981\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3aservice\u65b9\u6cd5\u662f\u5904\u7406\u7528\u6237\u8bf7\u6c42\u7684\u6838\u5fc3\u65b9\u6cd5\u3002</li> <li>\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528init\u65b9\u6cd5\u5462\uff1f</li> <li>init\u65b9\u6cd5\u5f88\u5c11\u7528\u3002</li> <li>\u901a\u5e38\u5728init\u65b9\u6cd5\u5f53\u4e2d\u505a\u521d\u59cb\u5316\u64cd\u4f5c\uff0c\u5e76\u4e14\u8fd9\u4e2a\u521d\u59cb\u5316\u64cd\u4f5c\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\u3002\u4f8b\u5982\uff1a\u521d\u59cb\u5316\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff0c\u521d\u59cb\u5316\u7ebf\u7a0b\u6c60....</li> <li>\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528destroy\u65b9\u6cd5\u5462\uff1f</li> <li>destroy\u65b9\u6cd5\u4e5f\u5f88\u5c11\u7528\u3002</li> <li>\u901a\u5e38\u5728destroy\u65b9\u6cd5\u5f53\u4e2d\uff0c\u8fdb\u884c\u8d44\u6e90\u7684\u5173\u95ed\u3002\u9a6c\u4e0a\u5bf9\u8c61\u8981\u88ab\u9500\u6bc1\u4e86\uff0c\u8fd8\u6709\u4ec0\u4e48\u6ca1\u6709\u5173\u95ed\u7684\uff0c\u6293\u7d27\u65f6\u95f4\u5173\u95ed\u8d44\u6e90\u3002\u8fd8\u6709\u4ec0\u4e48\u8d44\u6e90\u6ca1\u4fdd\u5b58\u7684\uff0c\u6293\u7d27\u65f6\u95f4\u4fdd\u5b58\u4e00\u4e0b\u3002</li> </ul> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#genericservlet","title":"GenericServlet","text":"<ul> <li> <p>\u6211\u4eec\u7f16\u5199\u4e00\u4e2aServlet\u7c7b\u76f4\u63a5\u5b9e\u73b0Servlet\u63a5\u53e3\u6709\u4ec0\u4e48\u7f3a\u70b9\uff1f</p> </li> <li> <p>\u6211\u4eec\u53ea\u9700\u8981service\u65b9\u6cd5\uff0c\u5176\u4ed6\u65b9\u6cd5\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u662f\u4e0d\u9700\u8981\u4f7f\u7528\u7684\u3002\u4ee3\u7801\u5f88\u4e11\u964b\u3002</p> </li> <li> <p>\u9002\u914d\u5668\u8bbe\u8ba1\u6a21\u5f0fAdapter</p> </li> <li> <p>\u624b\u673a\u76f4\u63a5\u63d2\u5230220V\u7684\u7535\u538b\u4e0a\uff0c\u624b\u673a\u76f4\u63a5\u5c31\u62a5\u5e9f\u4e86\u3002\u600e\u4e48\u529e\uff1f\u53ef\u4ee5\u627e\u4e00\u4e2a\u5145\u7535\u5668\u3002\u8fd9\u4e2a\u5145\u7535\u5668\u5c31\u662f\u4e00\u4e2a\u9002\u914d\u5668\u3002\u624b\u673a\u8fde\u63a5\u9002\u914d\u5668\u3002\u9002\u914d\u5668\u8fde\u63a5220V\u7684\u7535\u538b\u3002\u8fd9\u6837\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002</p> </li> <li> <p>\u7f16\u5199\u4e00\u4e2aGenericServlet\u7c7b\uff0c\u8fd9\u4e2a\u7c7b\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u62bd\u8c61\u65b9\u6cd5service\u3002</p> </li> <li> <p>GenericServlet\u5b9e\u73b0Servlet\u63a5\u53e3\u3002</p> </li> <li>GenericServlet\u662f\u4e00\u4e2a\u9002\u914d\u5668\u3002</li> <li> <p>\u4ee5\u540e\u7f16\u5199\u7684\u6240\u6709Servlet\u7c7b\u7ee7\u627fGenericServlet\uff0c\u91cd\u5199service\u65b9\u6cd5\u5373\u53ef\u3002</p> </li> <li> <p>\u601d\u8003\uff1aGenericServlet\u7c7b\u662f\u5426\u9700\u8981\u6539\u9020\u4e00\u4e0b\uff1f\u600e\u4e48\u6539\u9020\uff1f\u66f4\u5229\u4e8e\u5b50\u7c7b\u7a0b\u5e8f\u7684\u7f16\u5199\uff1f</p> </li> <li> <p>\u601d\u8003\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u6211\u63d0\u4f9b\u4e86\u4e00\u4e2aGenericServlet\u4e4b\u540e\uff0cinit\u65b9\u6cd5\u8fd8\u4f1a\u6267\u884c\u5417\uff1f</p> <ul> <li>\u8fd8\u4f1a\u6267\u884c\u3002\u4f1a\u6267\u884cGenericServlet\u7c7b\u4e2d\u7684init\u65b9\u6cd5\u3002</li> </ul> </li> <li> <p>\u601d\u8003\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff1ainit\u65b9\u6cd5\u662f\u8c01\u8c03\u7528\u7684\uff1f</p> <ul> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528\u7684\u3002</li> </ul> </li> <li> <p>\u601d\u8003\u7b2c\u4e09\u4e2a\u95ee\u9898\uff1ainit\u65b9\u6cd5\u4e2d\u7684ServletConfig\u5bf9\u8c61\u662f\u8c01\u521b\u5efa\u7684\uff1f\u662f\u8c01\u4f20\u8fc7\u6765\u7684\uff1f</p> <ul> <li>\u90fd\u662fTomcat\u5e72\u7684\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u5148\u521b\u5efa\u4e86ServletConfig\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528init\u65b9\u6cd5\uff0c\u5c06ServletConfig\u5bf9\u8c61\u4f20\u7ed9\u4e86init\u65b9\u6cd5\u3002</li> </ul> </li> <li> <p>\u601d\u8003\u4e00\u4e0bTomcat\u670d\u52a1\u5668\u4f2a\u4ee3\u7801\uff1a</p> <ul> <li> <p>```java   public class Tomcat {       public static void main(String[] args){           // .....           // Tomcat\u670d\u52a1\u5668\u4f2a\u4ee3\u7801           // \u521b\u5efaLoginServlet\u5bf9\u8c61\uff08\u901a\u8fc7\u53cd\u5c04\u673a\u5236\uff0c\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6765\u5b9e\u4f8b\u5316LoginServlet\u5bf9\u8c61\uff09           Class clazz = Class.forName(\"com.bjpowernode.javaweb.servlet.LoginServlet\");           Object obj = clazz.newInstance();</p> Text Only<pre><code>  // \u5411\u4e0b\u8f6c\u578b\n  Servlet servlet = (Servlet)obj;\n\n  // \u521b\u5efaServletConfig\u5bf9\u8c61\n  // Tomcat\u670d\u52a1\u5668\u8d1f\u8d23\u5c06ServletConfig\u5bf9\u8c61\u5b9e\u4f8b\u5316\u51fa\u6765\u3002\n  // \u591a\u6001\uff08Tomcat\u670d\u52a1\u5668\u5b8c\u5168\u5b9e\u73b0\u4e86Servlet\u89c4\u8303\uff09\n  ServletConfig servletConfig = new org.apache.catalina.core.StandardWrapperFacade();\n\n  // \u8c03\u7528Servlet\u7684init\u65b9\u6cd5\n  servlet.init(servletConfig);\n\n  // \u8c03\u7528Servlet\u7684service\u65b9\u6cd5\n  // ....\n</code></pre> <p>}       }       ```</p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servletconfig","title":"ServletConfig","text":"<ul> <li> <p>\u4ec0\u4e48\u662fServletConfig\uff1f</p> </li> <li> <p>Servlet\u5bf9\u8c61\u7684\u914d\u7f6e\u4fe1\u606f\u5bf9\u8c61\u3002</p> </li> <li> <p>ServletConfig\u5bf9\u8c61\u4e2d\u5c01\u88c5\u4e86\u6807\u7b7e\u4e2d\u7684\u914d\u7f6e\u4fe1\u606f\u3002\uff08web.xml\u6587\u4ef6\u4e2dservlet\u7684\u914d\u7f6e\u4fe1\u606f\uff09</p> </li> <li> <p>\u4e00\u4e2aServlet\u5bf9\u5e94\u4e00\u4e2aServletConfig\u5bf9\u8c61\u3002</p> </li> <li> <p>Servlet\u5bf9\u8c61\u662fTomcat\u670d\u52a1\u5668\u521b\u5efa\uff0c\u5e76\u4e14ServletConfig\u5bf9\u8c61\u4e5f\u662fTomcat\u670d\u52a1\u5668\u521b\u5efa\u3002\u5e76\u4e14\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4ed6\u4eec\u90fd\u662f\u5728\u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u521b\u5efa\u3002</p> </li> <li> <p>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u7684\u65f6\u5019\u9700\u8981\u4f20\u4e00\u4e2aServletConfig\u5bf9\u8c61\u7684\u53c2\u6570\u7ed9init\u65b9\u6cd5\u3002</p> </li> <li> <p>ServletConfig\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u662fTomcat\u670d\u52a1\u5668\u7ed9\u5b9e\u73b0\u7684\u3002\uff08Tomcat\u670d\u52a1\u5668\u8bf4\u7684\u5c31\u662fWEB\u670d\u52a1\u5668\u3002\uff09</p> </li> <li> <p>ServletConfig\u63a5\u53e3\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff1f</p> </li> <li> <p><code>java     public String getInitParameter(String name); // \u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u7684name\u83b7\u53d6value     public Enumeration&lt;String&gt; getInitParameterNames(); // \u83b7\u53d6\u6240\u6709\u7684\u521d\u59cb\u5316\u53c2\u6570\u7684name     public ServletContext getServletContext(); // \u83b7\u53d6ServletContext\u5bf9\u8c61     public String getServletName(); // \u83b7\u53d6Servlet\u7684name</code></p> </li> <li> <p>\u4ee5\u4e0a\u65b9\u6cd5\u5728Servlet\u7c7b\u5f53\u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528this\u53bb\u8c03\u7528\u3002\u56e0\u4e3aGenericServlet\u5b9e\u73b0\u4e86ServletConfig\u63a5\u53e3\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servletcontext","title":"ServletContext","text":"<ul> <li> <p>\u4e00\u4e2aServlet\u5bf9\u8c61\u5bf9\u5e94\u4e00\u4e2aServletConfig\u3002100\u4e2aServlet\u5bf9\u8c61\u5219\u5bf9\u5e94100\u4e2aServletConfig\u5bf9\u8c61\u3002</p> </li> <li> <p>\u53ea\u8981\u5728\u540c\u4e00\u4e2awebapp\u5f53\u4e2d\uff0c\u53ea\u8981\u5728\u540c\u4e00\u4e2a\u5e94\u7528\u5f53\u4e2d\uff0c\u6240\u6709\u7684Servlet\u5bf9\u8c61\u90fd\u662f\u5171\u4eab\u540c\u4e00\u4e2aServletContext\u5bf9\u8c61\u7684\u3002</p> </li> <li> <p>ServletContext\u5bf9\u8c61\u5728\u670d\u52a1\u5668\u542f\u52a8\u9636\u6bb5\u521b\u5efa\uff0c\u5728\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u9500\u6bc1\u3002\u8fd9\u5c31\u662fServletContext\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u3002ServletContext\u5bf9\u8c61\u662f\u5e94\u7528\u7ea7\u5bf9\u8c61\u3002</p> </li> <li> <p>Tomcat\u670d\u52a1\u5668\u4e2d\u6709\u4e00\u4e2awebapps\uff0c\u8fd9\u4e2awebapps\u4e0b\u53ef\u4ee5\u5b58\u653ewebapp\uff0c\u53ef\u4ee5\u5b58\u653e\u591a\u4e2awebapp\uff0c\u5047\u8bbe\u6709100\u4e2awebapp\uff0c\u90a3\u4e48\u5c31\u6709100\u4e2aServletContext\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u603b\u4e4b\uff0c\u4e00\u4e2a\u5e94\u7528\uff0c\u4e00\u4e2awebapp\u80af\u5b9a\u662f\u53ea\u6709\u4e00\u4e2aServletContext\u5bf9\u8c61\u3002</p> </li> <li> <p>ServletContext\u88ab\u79f0\u4e3aServlet\u4e0a\u4e0b\u6587\u5bf9\u8c61\u3002\uff08Servlet\u5bf9\u8c61\u7684\u56db\u5468\u73af\u5883\u5bf9\u8c61\u3002\uff09</p> </li> <li> <p>\u4e00\u4e2aServletContext\u5bf9\u8c61\u901a\u5e38\u5bf9\u5e94\u7684\u662f\u4e00\u4e2aweb.xml\u6587\u4ef6\u3002</p> </li> <li> <p>ServletContext\u5bf9\u5e94\u663e\u793a\u751f\u6d3b\u4e2d\u7684\u4ec0\u4e48\u4f8b\u5b50\u5462\uff1f</p> </li> <li> <p>\u4e00\u4e2a\u6559\u5ba4\u91cc\u6709\u591a\u4e2a\u5b66\u751f\uff0c\u90a3\u4e48\u6bcf\u4e00\u4e2a\u5b66\u751f\u5c31\u662f\u4e00\u4e2aServlet\uff0c\u8fd9\u4e9b\u5b66\u751f\u90fd\u5728\u540c\u4e00\u4e2a\u6559\u5ba4\u5f53\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u6559\u5ba4\u53eb\u505aServletContext\u5bf9\u8c61\u3002\u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4\u653e\u5728\u8fd9\u4e2aServletContext\u5bf9\u8c61\uff08\u73af\u5883\uff09\u5f53\u4e2d\u7684\u6570\u636e\uff0c\u5728\u540c\u4e00\u4e2a\u6559\u5ba4\u5f53\u4e2d\uff0c\u7269\u54c1\u90fd\u662f\u5171\u4eab\u7684\u3002\u6bd4\u5982\uff1a\u6559\u5ba4\u4e2d\u6709\u4e00\u4e2a\u7a7a\u8c03\uff0c\u6240\u6709\u7684\u5b66\u751f\u90fd\u53ef\u4ee5\u64cd\u4f5c\u3002\u53ef\u89c1\uff0c\u7a7a\u8c03\u662f\u5171\u4eab\u7684\u3002\u56e0\u4e3a\u7a7a\u8c03\u653e\u5728\u6559\u5ba4\u5f53\u4e2d\u3002\u6559\u5ba4\u5c31\u662fServletContext\u5bf9\u8c61\u3002</p> </li> <li> <p>ServletContext\u662f\u4e00\u4e2a\u63a5\u53e3\uff0cTomcat\u670d\u52a1\u5668\u5bf9ServletContext\u63a5\u53e3\u8fdb\u884c\u4e86\u5b9e\u73b0\u3002</p> </li> <li> <p>ServletContext\u5bf9\u8c61\u7684\u521b\u5efa\u4e5f\u662fTomcat\u670d\u52a1\u5668\u6765\u5b8c\u6210\u7684\u3002\u542f\u52a8webapp\u7684\u65f6\u5019\u521b\u5efa\u7684\u3002</p> </li> <li> <p>ServletContext\u63a5\u53e3\u4e2d\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff1f</p> </li> <li> <p><code>java     public String getInitParameter(String name); // \u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u7684name\u83b7\u53d6value     public Enumeration&lt;String&gt; getInitParameterNames(); // \u83b7\u53d6\u6240\u6709\u7684\u521d\u59cb\u5316\u53c2\u6570\u7684name</code></p> </li> <li> <p><code>xml     &lt;!--\u4ee5\u4e0a\u4e24\u4e2a\u65b9\u6cd5\u662fServletContext\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u4ec0\u4e48\u4fe1\u606f\uff1f\u662f\u4ee5\u4e0b\u7684\u914d\u7f6e\u4fe1\u606f--&gt;     &lt;context-param&gt;         &lt;param-name&gt;pageSize&lt;/param-name&gt;         &lt;param-value&gt;10&lt;/param-value&gt;     &lt;/context-param&gt;     &lt;context-param&gt;         &lt;param-name&gt;startIndex&lt;/param-name&gt;         &lt;param-value&gt;0&lt;/param-value&gt;     &lt;/context-param&gt;     &lt;!--\u6ce8\u610f\uff1a\u4ee5\u4e0a\u7684\u914d\u7f6e\u4fe1\u606f\u5c5e\u4e8e\u5e94\u7528\u7ea7\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u4e00\u822c\u4e00\u4e2a\u9879\u76ee\u4e2d\u5171\u4eab\u7684\u914d\u7f6e\u4fe1\u606f\u4f1a\u653e\u5230\u4ee5\u4e0a\u7684\u6807\u7b7e\u5f53\u4e2d\u3002--&gt;     &lt;!--\u5982\u679c\u4f60\u7684\u914d\u7f6e\u4fe1\u606f\u53ea\u662f\u60f3\u7ed9\u67d0\u4e00\u4e2aservlet\u4f5c\u4e3a\u53c2\u8003\uff0c\u90a3\u4e48\u4f60\u914d\u7f6e\u5230servlet\u6807\u7b7e\u5f53\u4e2d\u5373\u53ef\uff0c\u4f7f\u7528ServletConfig\u5bf9\u8c61\u6765\u83b7\u53d6\u3002--&gt;</code></p> </li> <li> <p><code>java     // \u83b7\u53d6\u5e94\u7528\u7684\u6839\u8def\u5f84\uff08\u975e\u5e38\u91cd\u8981\uff09\uff0c\u56e0\u4e3a\u5728java\u6e90\u4ee3\u7801\u5f53\u4e2d\u6709\u4e00\u4e9b\u5730\u65b9\u53ef\u80fd\u4f1a\u9700\u8981\u5e94\u7528\u7684\u6839\u8def\u5f84\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u52a8\u6001\u83b7\u53d6\u5e94\u7528\u7684\u6839\u8def\u5f84     // \u5728java\u6e90\u7801\u5f53\u4e2d\uff0c\u4e0d\u8981\u5c06\u5e94\u7528\u7684\u6839\u8def\u5f84\u5199\u6b7b\uff0c\u56e0\u4e3a\u4f60\u6c38\u8fdc\u90fd\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5e94\u7528\u5728\u6700\u7ec8\u90e8\u7f72\u7684\u65f6\u5019\uff0c\u8d77\u4e00\u4e2a\u4ec0\u4e48\u540d\u5b57\u3002     public String getContextPath();     //String contextPath = application.getContextPath();</code></p> </li> <li> <p><code>java     // \u83b7\u53d6\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff08\u771f\u5b9e\u8def\u5f84\uff09     public String getRealPath(String path);</code></p> </li> <li> <p>```java     // \u901a\u8fc7ServletContext\u5bf9\u8c61\u4e5f\u662f\u53ef\u4ee5\u8bb0\u5f55\u65e5\u5fd7\u7684     public void log(String message);     public void log(String message, Throwable t);     // \u8fd9\u4e9b\u65e5\u5fd7\u4fe1\u606f\u8bb0\u5f55\u5230\u54ea\u91cc\u4e86\uff1f     // localhost.2021-11-05.log</p> <p>// Tomcat\u670d\u52a1\u5668\u7684logs\u76ee\u5f55\u4e0b\u90fd\u6709\u54ea\u4e9b\u65e5\u5fd7\u6587\u4ef6\uff1f //catalina.2021-11-05.log \u670d\u52a1\u5668\u7aef\u7684java\u7a0b\u5e8f\u8fd0\u884c\u7684\u63a7\u5236\u53f0\u4fe1\u606f\u3002 //localhost.2021-11-05.log ServletContext\u5bf9\u8c61\u7684log\u65b9\u6cd5\u8bb0\u5f55\u7684\u65e5\u5fd7\u4fe1\u606f\u5b58\u50a8\u5230\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002 //localhost_access_log.2021-11-05.txt \u8bbf\u95ee\u65e5\u5fd7 ```</p> </li> <li> <p>```java     // ServletContext\u5bf9\u8c61\u8fd8\u6709\u53e6\u4e00\u4e2a\u540d\u5b57\uff1a\u5e94\u7528\u57df\uff08\u540e\u9762\u8fd8\u6709\u5176\u4ed6\u57df\uff0c\u4f8b\u5982\uff1a\u8bf7\u6c42\u57df\u3001\u4f1a\u8bdd\u57df\uff09</p> <p>// \u5982\u679c\u6240\u6709\u7684\u7528\u6237\u5171\u4eab\u4e00\u4efd\u6570\u636e\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6570\u636e\u5f88\u5c11\u7684\u88ab\u4fee\u6539\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6570\u636e\u91cf\u5f88\u5c11\uff0c\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u6570\u636e\u653e\u5230ServletContext\u8fd9\u4e2a\u5e94\u7528\u57df\u4e2d</p> <p>// \u4e3a\u4ec0\u4e48\u662f\u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u6570\u636e\uff1f \u4e0d\u662f\u5171\u4eab\u7684\u6ca1\u6709\u610f\u4e49\u3002\u56e0\u4e3aServletContext\u8fd9\u4e2a\u5bf9\u8c61\u53ea\u6709\u4e00\u4e2a\u3002\u53ea\u6709\u5171\u4eab\u7684\u6570\u636e\u653e\u8fdb\u53bb\u624d\u6709\u610f\u4e49\u3002</p> <p>// \u4e3a\u4ec0\u4e48\u6570\u636e\u91cf\u8981\u5c0f\uff1f \u56e0\u4e3a\u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u8bdd\uff0c\u592a\u5360\u7528\u5806\u5185\u5b58\uff0c\u5e76\u4e14\u8fd9\u4e2a\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u6bd4\u8f83\u957f\uff0c\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u624d\u4f1a\u88ab\u9500\u6bc1\u3002\u5927\u6570\u636e\u91cf\u4f1a\u5f71\u54cd\u670d\u52a1\u5668\u7684\u6027\u80fd\u3002\u5360\u7528\u5185\u5b58\u8f83\u5c0f\u7684\u6570\u636e\u91cf\u53ef\u4ee5\u8003\u8651\u653e\u8fdb\u53bb\u3002</p> <p>// \u4e3a\u4ec0\u4e48\u8fd9\u4e9b\u5171\u4eab\u6570\u636e\u5f88\u5c11\u7684\u4fee\u6539\uff0c\u6216\u8005\u8bf4\u51e0\u4e4e\u4e0d\u4fee\u6539\uff1f // \u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u6570\u636e\uff0c\u5982\u679c\u6d89\u53ca\u5230\u4fee\u6539\u64cd\u4f5c\uff0c\u5fc5\u7136\u4f1a\u5b58\u5728\u7ebf\u7a0b\u5e76\u53d1\u6240\u5e26\u6765\u7684\u5b89\u5168\u95ee\u9898\u3002\u6240\u4ee5\u653e\u5728ServletContext\u5bf9\u8c61\u4e2d\u7684\u6570\u636e\u4e00\u822c\u90fd\u662f\u53ea\u8bfb\u7684\u3002</p> <p>// \u6570\u636e\u91cf\u5c0f\u3001\u6240\u6709\u7528\u6237\u5171\u4eab\u3001\u53c8\u4e0d\u4fee\u6539\uff0c\u8fd9\u6837\u7684\u6570\u636e\u653e\u5230ServletContext\u8fd9\u4e2a\u5e94\u7528\u57df\u5f53\u4e2d\uff0c\u4f1a\u5927\u5927\u63d0\u5347\u6548\u7387\u3002\u56e0\u4e3a\u5e94\u7528\u57df\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7f13\u5b58\uff0c\u653e\u5230\u7f13\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u4e0b\u6b21\u5728\u7528\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u4ece\u6570\u636e\u5e93\u4e2d\u518d\u6b21\u83b7\u53d6\uff0c\u5927\u5927\u63d0\u5347\u6267\u884c\u6548\u7387\u3002</p> <p>// \u5b58\uff08\u600e\u4e48\u5411ServletContext\u5e94\u7528\u57df\u4e2d\u5b58\u6570\u636e\uff09 public void setAttribute(String name, Object value); // map.put(k, v) // \u53d6\uff08\u600e\u4e48\u4eceServletContext\u5e94\u7528\u57df\u4e2d\u53d6\u6570\u636e\uff09 public Object getAttribute(String name); // Object v = map.get(k) // \u5220\uff08\u600e\u4e48\u5220\u9664ServletContext\u5e94\u7528\u57df\u4e2d\u7684\u6570\u636e\uff09 public void removeAttribute(String name); // map.remove(k)</p> <p>```</p> </li> <li> <p>\u6ce8\u610f\uff1a\u4ee5\u540e\u6211\u4eec\u7f16\u5199Servlet\u7c7b\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u662f\u4e0d\u4f1a\u53bb\u76f4\u63a5\u7ee7\u627fGenericServlet\u7c7b\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u662fB/S\u7ed3\u6784\u7684\u7cfb\u7edf\uff0c\u8fd9\u79cd\u7cfb\u7edf\u662f\u57fa\u4e8eHTTP\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u7684\uff0c\u5728Servlet\u89c4\u8303\u5f53\u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u53eb\u505aHttpServlet\uff0c\u5b83\u662f\u4e13\u95e8\u4e3aHTTP\u534f\u8bae\u51c6\u5907\u7684\u4e00\u4e2aServlet\u7c7b\u3002\u6211\u4eec\u7f16\u5199\u7684Servlet\u7c7b\u8981\u7ee7\u627fHttpServlet\u3002\uff08HttpServlet\u662fHTTP\u534f\u8bae\u4e13\u7528\u7684\u3002\uff09\u4f7f\u7528HttpServlet\u5904\u7406HTTP\u534f\u8bae\u66f4\u4fbf\u6377\u3002\u4f46\u662f\u4f60\u9700\u8981\u76f4\u5230\u5b83\u7684\u7ee7\u627f\u7ed3\u6784\uff1a</p> </li> <li> <p>```     jakarta.servlet.Servlet\uff08\u63a5\u53e3\uff09\u3010\u7237\u7237\u3011     jakarta.servlet.GenericServlet implements Servlet\uff08\u62bd\u8c61\u7c7b\uff09\u3010\u513f\u5b50\u3011     jakarta.servlet.http.HttpServlet extends GenericServlet\uff08\u62bd\u8c61\u7c7b\uff09\u3010\u5b59\u5b50\u3011</p> <p>\u6211\u4eec\u4ee5\u540e\u7f16\u5199\u7684Servlet\u8981\u7ee7\u627fHttpServlet\u7c7b\u3002 ```</p> </li> <li> <p>\u5927\u5bb6\u5230\u76ee\u524d\u4e3a\u6b62\u90fd\u63a5\u89e6\u8fc7\u54ea\u4e9b\u7f13\u5b58\u673a\u5236\u4e86\uff1f</p> </li> <li> <p>\u5806\u5185\u5b58\u5f53\u4e2d\u7684\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u3002</p> <ul> <li>\"abc\" \u5148\u5728\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u67e5\u627e\uff0c\u5982\u679c\u6709\uff0c\u76f4\u63a5\u62ff\u6765\u7528\u3002\u5982\u679c\u6ca1\u6709\u5219\u65b0\u5efa\uff0c\u7136\u540e\u518d\u653e\u5165\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u3002</li> </ul> </li> <li>\u5806\u5185\u5b58\u5f53\u4e2d\u7684\u6574\u6570\u578b\u5e38\u91cf\u6c60\u3002<ul> <li>[-128 ~ 127] \u4e00\u5171256\u4e2aInteger\u7c7b\u578b\u7684\u5f15\u7528\uff0c\u653e\u5728\u6574\u6570\u578b\u5e38\u91cf\u6c60\u4e2d\u3002\u6ca1\u6709\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u7684\u8bdd\uff0c\u76f4\u63a5\u4ece\u5e38\u91cf\u6c60\u4e2d\u53d6\u3002</li> </ul> </li> <li>\u8fde\u63a5\u6c60(Connection Cache)<ul> <li>\u8fd9\u91cc\u6240\u8bf4\u7684\u8fde\u63a5\u6c60\u4e2d\u7684\u8fde\u63a5\u662fjava\u8bed\u8a00\u8fde\u63a5\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\uff1ajava.sql.Connection\u5bf9\u8c61\u3002</li> <li>JVM\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002MySQL\u6570\u636e\u5e93\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8fdb\u7a0b\u548c\u8fdb\u7a0b\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\uff0c\u6253\u5f00\u901a\u9053\u662f\u5f88\u8d39\u52b2\u7684\u3002\u662f\u5f88\u8017\u8d39\u8d44\u6e90\u7684\u3002\u600e\u4e48\u529e\uff1f\u53ef\u4ee5\u63d0\u524d\u5148\u521b\u5efa\u597dN\u4e2aConnection\u8fde\u63a5\u5bf9\u8c61\uff0c\u5c06\u8fde\u63a5\u5bf9\u8c61\u653e\u5230\u4e00\u4e2a\u96c6\u5408\u5f53\u4e2d\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u653e\u6709Connection\u5bf9\u8c61\u7684\u96c6\u5408\u79f0\u4e3a\u8fde\u63a5\u6c60\u3002\u6bcf\u4e00\u6b21\u7528\u6237\u8fde\u63a5\u7684\u65f6\u5019\u4e0d\u9700\u8981\u518d\u65b0\u5efa\u8fde\u63a5\u5bf9\u8c61\uff0c\u7701\u53bb\u4e86\u65b0\u5efa\u7684\u73af\u8282\uff0c\u76f4\u63a5\u4ece\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u8fde\u63a5\u5bf9\u8c61\uff0c\u5927\u5927\u63d0\u5347\u8bbf\u95ee\u6548\u7387\u3002</li> <li>\u8fde\u63a5\u6c60</li> <li>\u6700\u5c0f\u8fde\u63a5\u6570</li> <li>\u6700\u5927\u8fde\u63a5\u6570</li> <li>\u8fde\u63a5\u6c60\u53ef\u4ee5\u63d0\u9ad8\u7528\u6237\u7684\u8bbf\u95ee\u6548\u7387\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u5b89\u5168\u6027\u3002</li> </ul> </li> <li>\u7ebf\u7a0b\u6c60<ul> <li>Tomcat\u670d\u52a1\u5668\u672c\u8eab\u5c31\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u662f\u5728\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff0c\u5c31\u65b0\u5efa\u4e00\u4e2aThread\u7ebf\u7a0b\u5bf9\u8c61\u5417\uff1f</li> <li>\u5f53\u7136\u4e0d\u662f\uff0c\u5b9e\u9645\u4e0a\u662f\u5728Tomcat\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u521b\u5efa\u597dN\u591a\u4e2a\u7ebf\u7a0bThread\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u7ebf\u7a0b\u5bf9\u8c61\u653e\u5230\u96c6\u5408\u5f53\u4e2d\uff0c\u79f0\u4e3a\u7ebf\u7a0b\u6c60\u3002\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u8fc7\u6765\u4e4b\u540e\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u65f6\u5019\u7ebf\u7a0b\u5bf9\u8c61\u5c31\u4f1a\u76f4\u63a5\u4ece\u7ebf\u7a0b\u6c60\u4e2d\u62ff\uff0c\u6548\u7387\u6bd4\u8f83\u9ad8\u3002</li> <li>\u6240\u6709\u7684WEB\u670d\u52a1\u5668\uff0c\u6216\u8005\u5e94\u7528\u670d\u52a1\u5668\uff0c\u90fd\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\uff0c\u90fd\u6709\u7ebf\u7a0b\u6c60\u673a\u5236\u3002</li> </ul> </li> <li>redis<ul> <li>NoSQL\u6570\u636e\u5e93\u3002\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u3002\u7f13\u5b58\u6570\u636e\u5e93\u3002</li> </ul> </li> <li>\u5411ServletContext\u5e94\u7528\u57df\u4e2d\u5b58\u50a8\u6570\u636e\uff0c\u4e5f\u7b49\u4e8e\u662f\u5c06\u6570\u636e\u5b58\u653e\u5230\u7f13\u5b58cache\u5f53\u4e2d\u4e86\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#http","title":"HTTP\u534f\u8bae","text":"<ul> <li> <p>\u4ec0\u4e48\u662f\u534f\u8bae\uff1f</p> </li> <li> <p>\u534f\u8bae\u5b9e\u9645\u4e0a\u662f\u67d0\u4e9b\u4eba\uff0c\u6216\u8005\u67d0\u4e9b\u7ec4\u7ec7\u63d0\u524d\u5236\u5b9a\u597d\u7684\u4e00\u5957\u89c4\u8303\uff0c\u5927\u5bb6\u90fd\u6309\u7167\u8fd9\u4e2a\u89c4\u8303\u6765\uff0c\u8fd9\u6837\u53ef\u4ee5\u505a\u5230\u6c9f\u901a\u65e0\u969c\u788d\u3002</p> </li> <li>\u534f\u8bae\u5c31\u662f\u4e00\u5957\u89c4\u8303\uff0c\u5c31\u662f\u4e00\u5957\u6807\u51c6\u3002\u7531\u5176\u4ed6\u4eba\u6216\u5176\u4ed6\u7ec4\u7ec7\u6765\u8d1f\u8d23\u5236\u5b9a\u7684\u3002</li> <li> <p>\u6211\u8bf4\u7684\u8bdd\u4f60\u80fd\u542c\u61c2\uff0c\u4f60\u8bf4\u7684\u8bdd\uff0c\u6211\u4e5f\u80fd\u542c\u61c2\uff0c\u8fd9\u8bf4\u660e\u6211\u4eec\u4e4b\u95f4\u662f\u6709\u4e00\u5957\u89c4\u8303\u7684\uff0c\u4e00\u5957\u534f\u8bae\u7684\uff0c\u8fd9\u5957\u534f\u8bae\u5c31\u662f\uff1a\u4e2d\u56fd\u666e\u901a\u8bdd\u534f\u8bae\u3002\u6211\u4eec\u90fd\u9075\u5b88\u8fd9\u5957\u534f\u8bae\uff0c\u6211\u4eec\u4e4b\u95f4\u5c31\u53ef\u4ee5\u6c9f\u901a\u65e0\u969c\u788d\u3002</p> </li> <li> <p>\u4ec0\u4e48\u662fHTTP\u534f\u8bae\uff1f</p> </li> <li> <p>HTTP\u534f\u8bae\uff1a\u662fW3C\u5236\u5b9a\u7684\u4e00\u79cd\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u3002\uff08\u901a\u4fe1\u534f\u8bae\uff1a\u53d1\u9001\u6d88\u606f\u7684\u6a21\u677f\u63d0\u524d\u88ab\u5236\u5b9a\u597d\u3002\uff09</p> </li> <li>W3C\uff1a<ul> <li>\u4e07\u7ef4\u7f51\u8054\u76df\u7ec4\u7ec7</li> <li>\u8d1f\u8d23\u5236\u5b9a\u6807\u51c6\u7684\uff1aHTTP HTML4.0 HTML5 XML DOM\u7b49\u89c4\u8303\u90fd\u662fW3C\u5236\u5b9a\u7684\u3002</li> <li>\u4e07\u7ef4\u7f51\u4e4b\u7236\uff1a\u8482\u59c6\u00b7\u4f2f\u7eb3\u65af\u00b7\u674e</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u8d85\u6587\u672c\uff1f<ul> <li>\u8d85\u6587\u672c\u8bf4\u7684\u5c31\u662f\uff1a\u4e0d\u662f\u666e\u901a\u6587\u672c\uff0c\u6bd4\u5982\u6d41\u5a92\u4f53\uff1a\u58f0\u97f3\u3001\u89c6\u9891\u3001\u56fe\u7247\u7b49\u3002</li> <li>HTTP\u534f\u8bae\u652f\u6301\uff1a\u4e0d\u4f46\u53ef\u4ee5\u4f20\u9001\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u540c\u6837\u652f\u6301\u4f20\u9012\u58f0\u97f3\u3001\u89c6\u9891\u3001\u56fe\u7247\u7b49\u6d41\u5a92\u4f53\u4fe1\u606f\u3002</li> </ul> </li> <li>\u8fd9\u79cd\u534f\u8bae\u6e38\u8d70\u5728B\u548cS\u4e4b\u95f4\u3002B\u5411S\u53d1\u6570\u636e\u8981\u9075\u5faaHTTP\u534f\u8bae\u3002S\u5411B\u53d1\u6570\u636e\u540c\u6837\u9700\u8981\u9075\u5faaHTTP\u534f\u8bae\u3002\u8fd9\u6837B\u548cS\u624d\u80fd\u89e3\u8026\u5408\u3002</li> <li>\u4ec0\u4e48\u662f\u89e3\u8026\u5408\uff1f<ul> <li>B\u4e0d\u4f9d\u8d56S\u3002</li> <li>S\u4e5f\u4e0d\u4f9d\u8d56B\u3002</li> </ul> </li> <li>B/S\u8868\u793a\uff1aB/S\u7ed3\u6784\u7684\u7cfb\u7edf\uff08\u6d4f\u89c8\u5668\u8bbf\u95eeWEB\u670d\u52a1\u5668\u7684\u7cfb\u7edf\uff09</li> <li>\u6d4f\u89c8\u5668   \u5411   WEB\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u53eb\u505a\uff1a\u8bf7\u6c42\uff08request)</li> <li>WEB\u670d\u52a1\u5668   \u5411   \u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\uff0c\u53eb\u505a\uff1a\u54cd\u5e94\uff08response\uff09</li> <li>HTTP\u534f\u8bae\u5305\u62ec\uff1a<ul> <li>\u8bf7\u6c42\u534f\u8bae</li> <li>\u6d4f\u89c8\u5668  \u5411   WEB\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u53d1\u9001\u7684\u6570\u636e\u9700\u8981\u9075\u5faa\u4e00\u5957\u6807\u51c6\uff0c\u8fd9\u5957\u6807\u51c6\u4e2d\u89c4\u5b9a\u4e86\u53d1\u9001\u7684\u6570\u636e\u5177\u4f53\u683c\u5f0f\u3002</li> <li>\u54cd\u5e94\u534f\u8bae</li> <li>WEB\u670d\u52a1\u5668  \u5411  \u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u53d1\u9001\u7684\u6570\u636e\u9700\u8981\u9075\u5faa\u4e00\u5957\u6807\u51c6\uff0c\u8fd9\u5957\u6807\u51c6\u4e2d\u89c4\u5b9a\u4e86\u53d1\u9001\u7684\u6570\u636e\u5177\u4f53\u683c\u5f0f\u3002</li> </ul> </li> <li> <p>HTTP\u534f\u8bae\u5c31\u662f\u63d0\u524d\u5236\u5b9a\u597d\u7684\u4e00\u79cd\u6d88\u606f\u6a21\u677f\u3002</p> <ul> <li>\u4e0d\u7ba1\u4f60\u662f\u54ea\u4e2a\u54c1\u724c\u7684\u6d4f\u89c8\u5668\uff0c\u90fd\u662f\u8fd9\u4e48\u53d1\u3002</li> <li>\u4e0d\u7ba1\u4f60\u662f\u54ea\u4e2a\u54c1\u724c\u7684WEB\u670d\u52a1\u5668\uff0c\u90fd\u662f\u8fd9\u4e48\u53d1\u3002</li> <li>FF\u6d4f\u89c8\u5668  \u53ef\u4ee5\u5411 Tomcat\u53d1\u9001\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u5411Jetty\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u3002\u6d4f\u89c8\u5668\u4e0d\u4f9d\u8d56\u5177\u4f53\u7684\u670d\u52a1\u5668\u54c1\u724c\u3002</li> <li>WEB\u670d\u52a1\u5668\u4e5f\u4e0d\u4f9d\u8d56\u5177\u4f53\u7684\u6d4f\u89c8\u5668\u54c1\u724c\u3002\u53ef\u4ee5\u662fFF\u6d4f\u89c8\u5668\uff0c\u4e5f\u53ef\u4ee5\u662fChrome\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u662fIE\uff0c\u90fd\u884c\u3002</li> </ul> </li> <li> <p>HTTP\u7684\u8bf7\u6c42\u534f\u8bae\uff08B --&gt; S\uff09</p> </li> <li> <p>HTTP\u7684\u8bf7\u6c42\u534f\u8bae\u5305\u62ec\uff1a4\u90e8\u5206</p> <ul> <li>\u8bf7\u6c42\u884c</li> <li>\u8bf7\u6c42\u5934</li> <li>\u7a7a\u767d\u884c</li> <li>\u8bf7\u6c42\u4f53</li> </ul> </li> <li> <p>HTTP\u8bf7\u6c42\u534f\u8bae\u7684\u5177\u4f53\u62a5\u6587\uff1aGET\u8bf7\u6c42</p> <ul> <li><code>GET /servlet05/getServlet?username=lucy&amp;userpwd=1111 HTTP/1.1                           \u8bf7\u6c42\u884c   Host: localhost:8080                                                                    \u8bf7\u6c42\u5934   Connection: keep-alive   sec-ch-ua: \"Google Chrome\";v=\"95\", \"Chromium\";v=\"95\", \";Not A Brand\";v=\"99\"   sec-ch-ua-mobile: ?0   sec-ch-ua-platform: \"Windows\"   Upgrade-Insecure-Requests: 1   User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36   Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9   Sec-Fetch-Site: same-origin   Sec-Fetch-Mode: navigate   Sec-Fetch-User: ?1   Sec-Fetch-Dest: document   Referer: http://localhost:8080/servlet05/index.html   Accept-Encoding: gzip, deflate, br   Accept-Language: zh-CN,zh;q=0.9                                                                                           \u7a7a\u767d\u884c                                                                                           \u8bf7\u6c42\u4f53</code></li> </ul> </li> <li> <p>HTTP\u8bf7\u6c42\u534f\u8bae\u7684\u5177\u4f53\u62a5\u6587\uff1aPOST\u8bf7\u6c42</p> <ul> <li><code>POST /servlet05/postServlet HTTP/1.1                                                  \u8bf7\u6c42\u884c   Host: localhost:8080                                                                  \u8bf7\u6c42\u5934   Connection: keep-alive   Content-Length: 25   Cache-Control: max-age=0   sec-ch-ua: \"Google Chrome\";v=\"95\", \"Chromium\";v=\"95\", \";Not A Brand\";v=\"99\"   sec-ch-ua-mobile: ?0   sec-ch-ua-platform: \"Windows\"   Upgrade-Insecure-Requests: 1   Origin: http://localhost:8080   Content-Type: application/x-www-form-urlencoded   User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36   Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9   Sec-Fetch-Site: same-origin   Sec-Fetch-Mode: navigate   Sec-Fetch-User: ?1   Sec-Fetch-Dest: document   Referer: http://localhost:8080/servlet05/index.html   Accept-Encoding: gzip, deflate, br   Accept-Language: zh-CN,zh;q=0.9                                                                                         \u7a7a\u767d\u884c   username=lisi&amp;userpwd=123                                                             \u8bf7\u6c42\u4f53</code></li> </ul> </li> <li> <p>\u8bf7\u6c42\u884c</p> <ul> <li>\u5305\u62ec\u4e09\u90e8\u5206\uff1a</li> <li>\u7b2c\u4e00\u90e8\u5206\uff1a\u8bf7\u6c42\u65b9\u5f0f\uff087\u79cd\uff09<ul> <li>get\uff08\u5e38\u7528\u7684\uff09</li> <li>post\uff08\u5e38\u7528\u7684\uff09</li> <li>delete</li> <li>put</li> <li>head</li> <li>options</li> <li>trace</li> </ul> </li> <li>\u7b2c\u4e8c\u90e8\u5206\uff1aURI<ul> <li>\u4ec0\u4e48\u662fURI\uff1f \u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\u3002\u4ee3\u8868\u7f51\u7edc\u4e2d\u67d0\u4e2a\u8d44\u6e90\u7684\u540d\u5b57\u3002\u4f46\u662f\u901a\u8fc7URI\u662f\u65e0\u6cd5\u5b9a\u4f4d\u8d44\u6e90\u7684\u3002</li> <li>\u4ec0\u4e48\u662fURL\uff1f\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\u3002\u4ee3\u8868\u7f51\u7edc\u4e2d\u67d0\u4e2a\u8d44\u6e90\uff0c\u540c\u65f6\uff0c\u901a\u8fc7URL\u662f\u53ef\u4ee5\u5b9a\u4f4d\u5230\u8be5\u8d44\u6e90\u7684\u3002</li> <li>URI\u548cURL\u4ec0\u4e48\u5173\u7cfb\uff0c\u6709\u4ec0\u4e48\u533a\u522b\uff1f</li> <li>URL\u5305\u62ecURI</li> <li>http://localhost:8080/servlet05/index.html \u8fd9\u662fURL\u3002</li> <li>/servlet05/index.html \u8fd9\u662fURI\u3002</li> </ul> </li> <li>\u7b2c\u4e09\u90e8\u5206\uff1aHTTP\u534f\u8bae\u7248\u672c\u53f7</li> </ul> </li> <li> <p>\u8bf7\u6c42\u5934</p> <ul> <li>\u8bf7\u6c42\u7684\u4e3b\u673a</li> <li>\u4e3b\u673a\u7684\u7aef\u53e3</li> <li>\u6d4f\u89c8\u5668\u4fe1\u606f</li> <li>\u5e73\u53f0\u4fe1\u606f</li> <li>cookie\u7b49\u4fe1\u606f</li> <li>....</li> </ul> </li> <li> <p>\u7a7a\u767d\u884c</p> <ul> <li>\u7a7a\u767d\u884c\u662f\u7528\u6765\u533a\u5206\u201c\u8bf7\u6c42\u5934\u201d\u548c\u201c\u8bf7\u6c42\u4f53\u201d</li> </ul> </li> <li> <p>\u8bf7\u6c42\u4f53</p> <ul> <li>\u5411\u670d\u52a1\u5668\u53d1\u9001\u7684\u5177\u4f53\u6570\u636e\u3002</li> </ul> </li> <li> <p>HTTP\u7684\u54cd\u5e94\u534f\u8bae\uff08S --&gt; B\uff09</p> </li> <li> <p>HTTP\u7684\u54cd\u5e94\u534f\u8bae\u5305\u62ec\uff1a4\u90e8\u5206</p> <ul> <li>\u72b6\u6001\u884c</li> <li>\u54cd\u5e94\u5934</li> <li>\u7a7a\u767d\u884c</li> <li>\u54cd\u5e94\u4f53</li> </ul> </li> <li> <p>HTTP\u54cd\u5e94\u534f\u8bae\u7684\u5177\u4f53\u62a5\u6587\uff1a</p> <ul> <li><code>HTTP/1.1 200 ok                                     \u72b6\u6001\u884c   Content-Type: text/html;charset=UTF-8               \u54cd\u5e94\u5934   Content-Length: 160   Date: Mon, 08 Nov 2021 13:19:32 GMT   Keep-Alive: timeout=20   Connection: keep-alive                                                       \u7a7a\u767d\u884c   &lt;!doctype html&gt;                                     \u54cd\u5e94\u4f53   &lt;html&gt;       &lt;head&gt;           &lt;title&gt;from get servlet&lt;/title&gt;       &lt;/head&gt;       &lt;body&gt;           &lt;h1&gt;from get servlet&lt;/h1&gt;       &lt;/body&gt;   &lt;/html&gt;</code></li> </ul> </li> <li> <p>\u72b6\u6001\u884c</p> <ul> <li>\u4e09\u90e8\u5206\u7ec4\u6210</li> <li>\u7b2c\u4e00\u90e8\u5206\uff1a\u534f\u8bae\u7248\u672c\u53f7\uff08HTTP/1.1\uff09</li> <li>\u7b2c\u4e8c\u90e8\u5206\uff1a\u72b6\u6001\u7801\uff08HTTP\u534f\u8bae\u4e2d\u89c4\u5b9a\u7684\u54cd\u5e94\u72b6\u6001\u53f7\u3002\u4e0d\u540c\u7684\u54cd\u5e94\u7ed3\u679c\u5bf9\u5e94\u4e0d\u540c\u7684\u53f7\u7801\u3002\uff09<ul> <li>200 \u8868\u793a\u8bf7\u6c42\u54cd\u5e94\u6210\u529f\uff0c\u6b63\u5e38\u7ed3\u675f\u3002</li> <li>404\u8868\u793a\u8bbf\u95ee\u7684\u8d44\u6e90\u4e0d\u5b58\u5728\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u8981\u4e48\u662f\u4f60\u8def\u5f84\u5199\u9519\u4e86\uff0c\u8981\u4e48\u662f\u8def\u5f84\u5199\u5bf9\u4e86\uff0c\u4f46\u662f\u670d\u52a1\u5668\u4e2d\u5bf9\u5e94\u7684\u8d44\u6e90\u5e76\u6ca1\u6709\u542f\u52a8\u6210\u529f\u3002\u603b\u4e4b404\u9519\u8bef\u662f\u524d\u7aef\u9519\u8bef\u3002</li> <li>405\u8868\u793a\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u65b9\u5f0f\u4e0e\u540e\u7aef\u8bf7\u6c42\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u4e00\u81f4\u65f6\u53d1\u751f\uff1a</li> <li>\u6bd4\u5982\uff1a\u524d\u7aef\u662fPOST\u8bf7\u6c42\uff0c\u540e\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u6309\u7167get\u65b9\u5f0f\u8fdb\u884c\u5904\u7406\u65f6\uff0c\u53d1\u751f405</li> <li>\u6bd4\u5982\uff1a\u524d\u7aef\u662fGET\u8bf7\u6c42\uff0c\u540e\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u6309\u7167post\u65b9\u5f0f\u8fdb\u884c\u5904\u7406\u65f6\uff0c\u53d1\u751f405</li> <li>500\u8868\u793a\u670d\u52a1\u5668\u7aef\u7684\u7a0b\u5e8f\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\u4e00\u822c\u4f1a\u8ba4\u4e3a\u662f\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> <li>\u4ee54\u5f00\u59cb\u7684\uff0c\u4e00\u822c\u662f\u6d4f\u89c8\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> <li>\u4ee55\u5f00\u59cb\u7684\uff0c\u4e00\u822c\u662f\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> </ul> </li> <li>\u7b2c\u4e09\u90e8\u5206\uff1a\u72b6\u6001\u7684\u63cf\u8ff0\u4fe1\u606f<ul> <li>ok \u8868\u793a\u6b63\u5e38\u6210\u529f\u7ed3\u675f\u3002</li> <li>not found \u8868\u793a\u8d44\u6e90\u627e\u4e0d\u5230\u3002</li> </ul> </li> </ul> </li> <li> <p>\u54cd\u5e94\u5934\uff1a</p> <ul> <li>\u54cd\u5e94\u7684\u5185\u5bb9\u7c7b\u578b</li> <li>\u54cd\u5e94\u7684\u5185\u5bb9\u957f\u5ea6</li> <li>\u54cd\u5e94\u7684\u65f6\u95f4</li> <li>....</li> </ul> </li> <li> <p>\u7a7a\u767d\u884c\uff1a</p> <ul> <li>\u7528\u6765\u5206\u9694\u201c\u54cd\u5e94\u5934\u201d\u548c\u201c\u54cd\u5e94\u4f53\u201d\u7684\u3002</li> </ul> </li> <li> <p>\u54cd\u5e94\u4f53\uff1a</p> <ul> <li>\u54cd\u5e94\u4f53\u5c31\u662f\u54cd\u5e94\u7684\u6b63\u6587\uff0c\u8fd9\u4e9b\u5185\u5bb9\u662f\u4e00\u4e2a\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u88ab\u6d4f\u89c8\u5668\u6e32\u67d3\uff0c\u89e3\u91ca\u5e76\u6267\u884c\uff0c\u6700\u7ec8\u5c55\u793a\u51fa\u6548\u679c\u3002</li> </ul> </li> <li> <p>\u600e\u4e48\u67e5\u770b\u7684\u534f\u8bae\u5185\u5bb9\uff1f</p> </li> <li> <p>\u4f7f\u7528chrome\u6d4f\u89c8\u5668\uff1aF12\u3002\u7136\u540e\u627e\u5230network\uff0c\u901a\u8fc7\u8fd9\u4e2a\u9762\u677f\u53ef\u4ee5\u67e5\u770b\u534f\u8bae\u7684\u5177\u4f53\u5185\u5bb9\u3002</p> </li> <li> <p>\u600e\u4e48\u5411\u670d\u52a1\u5668\u53d1\u9001GET\u8bf7\u6c42\uff0c\u600e\u4e48\u5411\u670d\u52a1\u5668\u53d1\u9001POST\u8bf7\u6c42\uff1f</p> </li> <li> <p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\u53ef\u4ee5\u53d1\u9001POST\u8bf7\u6c42\uff1a\u4f7f\u7528form\u8868\u5355\uff0c\u5e76\u4e14form\u6807\u7b7e\u4e2d\u7684method\u5c5e\u6027\u503c\u4e3a\uff1amethod=\"post\"\u3002</p> </li> <li> <p>\u5176\u4ed6\u6240\u6709\u60c5\u51b5\u4e00\u5f8b\u90fd\u662fget\u8bf7\u6c42\uff1a</p> <ul> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u76f4\u63a5\u8f93\u5165URL\uff0c\u6572\u56de\u8f66\uff0c\u5c5e\u4e8eget\u8bf7\u6c42\u3002</li> <li>\u5728\u6d4f\u89c8\u5668\u4e0a\u76f4\u63a5\u70b9\u51fb\u8d85\u94fe\u63a5\uff0c\u5c5e\u4e8eget\u8bf7\u6c42\u3002</li> <li>\u4f7f\u7528form\u8868\u5355\u63d0\u4ea4\u6570\u636e\u65f6\uff0cform\u6807\u7b7e\u4e2d\u6ca1\u6709\u5199method\u5c5e\u6027\uff0c\u9ed8\u8ba4\u5c31\u662fget</li> <li>\u6216\u8005\u4f7f\u7528form\u7684\u65f6\u5019\uff0cform\u6807\u7b7e\u4e2dmethod\u5c5e\u6027\u503c\u4e3a\uff1amethod=\"get\"</li> <li>....</li> </ul> </li> <li> <p>GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> </li> <li> <p>get\u8bf7\u6c42\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u6570\u636e\u4f1a\u6302\u5728URI\u7684\u540e\u9762\uff0c\u5e76\u4e14\u5728URI\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u201c?\u201d\uff0c\"?\"\u540e\u9762\u662f\u6570\u636e\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4\u53d1\u9001\u7684\u6570\u636e\u56de\u663e\u5728\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e0a\u3002\uff08get\u8bf7\u6c42\u5728\u201c\u8bf7\u6c42\u884c\u201d\u4e0a\u53d1\u9001\u6570\u636e\uff09</p> <ul> <li>http://localhost:8080/servlet05/getServlet?username=zhangsan&amp;userpwd=1111</li> </ul> </li> <li>post\u8bf7\u6c42\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u5728\u8bf7\u6c42\u4f53\u5f53\u4e2d\u53d1\u9001\u3002\u4e0d\u4f1a\u56de\u663e\u5230\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e0a\u3002\u4e5f\u5c31\u662f\u8bf4post\u53d1\u9001\u7684\u6570\u636e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u770b\u4e0d\u5230\u3002\uff08post\u5728\u201c\u8bf7\u6c42\u4f53\u201d\u5f53\u4e2d\u53d1\u9001\u6570\u636e\uff09</li> <li>get\u8bf7\u6c42\u53ea\u80fd\u53d1\u9001\u666e\u901a\u7684\u5b57\u7b26\u4e32\u3002\u5e76\u4e14\u53d1\u9001\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u6709\u9650\u5236\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u9650\u5236\u4e0d\u540c\u3002\u8fd9\u4e2a\u6ca1\u6709\u660e\u786e\u7684\u89c4\u8303\u3002</li> <li>get\u8bf7\u6c42\u65e0\u6cd5\u53d1\u9001\u5927\u6570\u636e\u91cf\u3002</li> <li>post\u8bf7\u6c42\u53ef\u4ee5\u53d1\u9001\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5305\u62ec\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u6d41\u5a92\u4f53\u7b49\u4fe1\u606f\uff1a\u89c6\u9891\u3001\u58f0\u97f3\u3001\u56fe\u7247\u3002</li> <li>post\u8bf7\u6c42\u53ef\u4ee5\u53d1\u9001\u5927\u6570\u636e\u91cf\uff0c\u7406\u8bba\u4e0a\u6ca1\u6709\u957f\u5ea6\u9650\u5236\u3002</li> <li>get\u8bf7\u6c42\u5728W3C\u4e2d\u662f\u8fd9\u6837\u8bf4\u7684\uff1aget\u8bf7\u6c42\u6bd4\u8f83\u9002\u5408\u4ece\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e\u3002</li> <li>post\u8bf7\u6c42\u5728W3C\u4e2d\u662f\u8fd9\u6837\u8bf4\u7684\uff1apost\u8bf7\u6c42\u6bd4\u8f83\u9002\u5408\u5411\u670d\u52a1\u5668\u7aef\u4f20\u9001\u6570\u636e\u3002</li> <li>get\u8bf7\u6c42\u662f\u5b89\u5168\u7684\u3002get\u8bf7\u6c42\u662f\u7edd\u5bf9\u5b89\u5168\u7684\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3aget\u8bf7\u6c42\u53ea\u662f\u4e3a\u4e86\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u6570\u636e\u3002\u4e0d\u4f1a\u5bf9\u670d\u52a1\u5668\u9020\u6210\u5a01\u80c1\u3002\uff08get\u672c\u8eab\u662f\u5b89\u5168\u7684\uff0c\u4f60\u4e0d\u8981\u7528\u9519\u4e86\u3002\u7528\u9519\u4e86\u4e4b\u540e\u53c8\u51a4\u6789\u4eba\u5bb6get\u4e0d\u5b89\u5168\uff0c\u4f60\u8fd9\u6837\u4e0d\u597d\uff08\u592a\u574f\u4e86\uff09\uff0c\u90a3\u662f\u4f60\u81ea\u5df1\u7684\u95ee\u9898\uff0c\u4e0d\u662fget\u8bf7\u6c42\u7684\u95ee\u9898\u3002\uff09</li> <li>post\u8bf7\u6c42\u662f\u5371\u9669\u7684\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3apost\u8bf7\u6c42\u662f\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\uff0c\u5982\u679c\u8fd9\u4e9b\u6570\u636e\u901a\u8fc7\u540e\u95e8\u7684\u65b9\u5f0f\u8fdb\u5165\u5230\u670d\u52a1\u5668\u5f53\u4e2d\uff0c\u670d\u52a1\u5668\u662f\u5f88\u5371\u9669\u7684\u3002\u53e6\u5916post\u662f\u4e3a\u4e86\u63d0\u4ea4\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\u62e6\u622a\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5927\u90e8\u5206\u4f1a\u9009\u62e9\u62e6\u622a\uff08\u76d1\u542c\uff09post\u8bf7\u6c42\u3002</li> <li>get\u8bf7\u6c42\u652f\u6301\u7f13\u5b58\u3002<ul> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/b40c-b425eb67cabc342ff5b9dc018b4b00cc.jpg</li> <li>\u4efb\u4f55\u4e00\u4e2aget\u8bf7\u6c42\u6700\u7ec8\u7684\u201c\u54cd\u5e94\u7ed3\u679c\u201d\u90fd\u4f1a\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\u8d77\u6765\u3002\u5728\u6d4f\u89c8\u5668\u7f13\u5b58\u5f53\u4e2d\uff1a</li> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84a  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84b  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84c  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>......</li> <li>\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ea\u8981\u53d1\u9001get\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u90fd\u662f\u5148\u4ece\u672c\u5730\u6d4f\u89c8\u5668\u7f13\u5b58\u4e2d\u627e\uff0c\u627e\u4e0d\u5230\u7684\u65f6\u5019\u624d\u4f1a\u53bb\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u3002\u8fd9\u79cd\u7f13\u5b58\u673a\u5236\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8\u7528\u6237\u7684\u4f53\u9a8c\u3002</li> <li>\u6709\u6ca1\u6709\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff1a\u6211\u4eec\u4e0d\u5e0c\u671bget\u8bf7\u6c42\u8d70\u7f13\u5b58\uff0c\u600e\u4e48\u529e\uff1f\u600e\u4e48\u907f\u514d\u8d70\u7f13\u5b58\uff1f\u6211\u5e0c\u671b\u6bcf\u4e00\u6b21\u8fd9\u4e2aget\u8bf7\u6c42\u90fd\u53bb\u670d\u52a1\u5668\u4e0a\u627e\u8d44\u6e90\uff0c\u6211\u4e0d\u60f3\u4ece\u672c\u5730\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u4e2d\u53d6\u3002</li> <li>\u53ea\u8981\u6bcf\u4e00\u6b21get\u8bf7\u6c42\u7684\u8bf7\u6c42\u8def\u5f84\u4e0d\u540c\u5373\u53ef\u3002</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897898</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897899</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=\u7cfb\u7edf\u6beb\u79d2\u6570</li> <li>\u600e\u4e48\u89e3\u51b3\uff1f\u53ef\u4ee5\u5728\u8def\u5f84\u7684\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d8\u5316\u7684\u201c\u65f6\u95f4\u6233\u201d\uff0c\u8fd9\u6837\uff0c\u6bcf\u4e00\u6b21\u7684\u8bf7\u6c42\u8def\u5f84\u90fd\u4e0d\u4e00\u6837\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u8d70\u7f13\u5b58\u4e86\u3002</li> </ul> </li> <li> <p>post\u8bf7\u6c42\u4e0d\u652f\u6301\u7f13\u5b58\u3002\uff08POST\u662f\u7528\u6765\u4fee\u6539\u670d\u52a1\u5668\u7aef\u7684\u8d44\u6e90\u7684\u3002\uff09</p> <ul> <li>post\u8bf7\u6c42\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u201c\u54cd\u5e94\u7684\u7ed3\u679c\u201d\u4e0d\u4f1a\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\u8d77\u6765\u3002\u56e0\u4e3a\u8fd9\u4e2a\u7f13\u5b58\u6ca1\u6709\u610f\u4e49\u3002</li> </ul> </li> <li> <p>GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u5982\u4f55\u9009\u62e9\uff0c\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528GET\u8bf7\u6c42\uff0c\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528POST\u8bf7\u6c42\uff1f</p> </li> <li> <p>\u600e\u4e48\u9009\u62e9GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u5462\uff1f\u8861\u91cf\u6807\u51c6\u662f\u4ec0\u4e48\u5462\uff1f\u4f60\u8fd9\u4e2a\u8bf7\u6c42\u662f\u60f3\u83b7\u53d6\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e\uff0c\u8fd8\u662f\u60f3\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002\u5982\u679c\u4f60\u662f\u60f3\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u8d44\u6e90\uff0c\u5efa\u8bae\u4f7f\u7528GET\u8bf7\u6c42\uff0c\u5982\u679c\u4f60\u8fd9\u4e2a\u8bf7\u6c42\u662f\u4e3a\u4e86\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\uff0c\u5efa\u8bae\u4f7f\u7528POST\u8bf7\u6c42\u3002</p> </li> <li>\u5927\u90e8\u5206\u7684form\u8868\u5355\u63d0\u4ea4\uff0c\u90fd\u662fpost\u65b9\u5f0f\uff0c\u56e0\u4e3aform\u8868\u5355\u4e2d\u8981\u586b\u5199\u5927\u91cf\u7684\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u662f\u6536\u96c6\u7528\u6237\u7684\u4fe1\u606f\uff0c\u4e00\u822c\u662f\u9700\u8981\u4f20\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u5c06\u8fd9\u4e9b\u6570\u636e\u4fdd\u5b58/\u4fee\u6539\u7b49\u3002</li> <li>\u5982\u679c\u8868\u5355\u4e2d\u6709\u654f\u611f\u4fe1\u606f\uff0c\u8fd8\u662f\u5efa\u8bae\u9002\u7528post\u8bf7\u6c42\uff0c\u56e0\u4e3aget\u8bf7\u6c42\u4f1a\u56de\u663e\u654f\u611f\u4fe1\u606f\u5230\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u3002\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u4fe1\u606f\uff09</li> <li>\u505a\u6587\u4ef6\u4e0a\u4f20\uff0c\u4e00\u5b9a\u662fpost\u8bf7\u6c42\u3002\u8981\u4f20\u7684\u6570\u636e\u4e0d\u662f\u666e\u901a\u6587\u672c\u3002</li> <li> <p>\u5176\u4ed6\u60c5\u51b5\u90fd\u53ef\u4ee5\u4f7f\u7528get\u8bf7\u6c42\u3002</p> </li> <li> <p>\u4e0d\u7ba1\u4f60\u662fget\u8bf7\u6c42\u8fd8\u662fpost\u8bf7\u6c42\uff0c\u53d1\u9001\u7684\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u53ea\u4e0d\u8fc7\u4f4d\u7f6e\u4e0d\u540c\uff0c\u683c\u5f0f\u90fd\u662f\u7edf\u4e00\u7684\uff1a</p> </li> <li> <p>name=value&amp;name=value&amp;name=value&amp;name=value</p> </li> <li>name\u662f\u4ec0\u4e48\uff1f<ul> <li>\u4ee5form\u8868\u5355\u4e3a\u4f8b\uff1aform\u8868\u5355\u4e2dinput\u6807\u7b7e\u7684name\u3002</li> </ul> </li> <li>value\u662f\u4ec0\u4e48\uff1f<ul> <li>\u4ee5form\u8868\u5355\u4e3a\u4f8b\uff1aform\u8868\u5355\u4e2dinput\u6807\u7b7e\u7684value\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#_4","title":"\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f","text":"<ul> <li>\u4ec0\u4e48\u662f\u8bbe\u8ba1\u6a21\u5f0f\uff1f</li> <li>\u67d0\u4e2a\u95ee\u9898\u7684\u56fa\u5b9a\u7684\u89e3\u51b3\u65b9\u6848\u3002(\u53ef\u4ee5\u88ab\u91cd\u590d\u4f7f\u7528\u3002)</li> <li>\u4f60\u77e5\u9053\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f\uff1f</li> <li>GoF\u8bbe\u8ba1\u6a21\u5f0f\uff1a<ul> <li>\u901a\u5e38\u6211\u4eec\u6240\u8bf4\u768423\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\uff08Gang of Four\uff1a4\u4eba\u7ec4\u63d0\u51fa\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff09</li> <li>\u5355\u4f8b\u6a21\u5f0f</li> <li>\u5de5\u5382\u6a21\u5f0f</li> <li>\u4ee3\u7406\u6a21\u5f0f</li> <li>\u95e8\u9762\u6a21\u5f0f</li> <li>\u8d23\u4efb\u94fe\u8bbe\u8ba1\u6a21\u5f0f</li> <li>\u89c2\u5bdf\u8005\u6a21\u5f0f</li> <li>\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f</li> <li>.....</li> </ul> </li> <li>JavaEE\u8bbe\u8ba1\u6a21\u5f0f\uff1a<ul> <li>DAO</li> <li>DTO</li> <li>VO</li> <li>PO</li> <li>pojo</li> <li>....</li> </ul> </li> <li>....</li> <li>\u4ec0\u4e48\u662f\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\uff1f</li> <li>\u5728\u6a21\u677f\u7c7b\u7684\u6a21\u677f\u65b9\u6cd5\u5f53\u4e2d\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\u9aa8\u67b6\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6b65\u9aa4\u53ef\u4ee5\u5ef6\u8fdf\u5230\u5b50\u7c7b\u5f53\u4e2d\u5b8c\u6210\u3002</li> <li>\u6a21\u677f\u7c7b\u901a\u5e38\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u6a21\u677f\u7c7b\u5f53\u4e2d\u7684\u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u901a\u5e38\u662ffinal\u7684\uff08\u4f46\u4e5f\u53ef\u4ee5\u4e0d\u662ffinal\u7684\uff09</li> <li>\u6a21\u677f\u7c7b\u5f53\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5c31\u662f\u4e0d\u786e\u5b9a\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u4e0d\u786e\u5b9a\u600e\u4e48\u5b9e\u73b0\u7684\u4e8b\u513f\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#httpservlet","title":"HttpServlet\u6e90\u7801\u5206\u6790","text":"<ul> <li>HttpServlet\u7c7b\u662f\u4e13\u95e8\u4e3aHTTP\u534f\u8bae\u51c6\u5907\u7684\u3002\u6bd4GenericServlet\u66f4\u52a0\u9002\u5408HTTP\u534f\u8bae\u4e0b\u7684\u5f00\u53d1\u3002</li> <li>HttpServlet\u5728\u54ea\u4e2a\u5305\u4e0b\uff1f</li> <li>jakarta.servlet.http.HttpServlet</li> <li>\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u63a5\u89e6\u4e86servlet\u89c4\u8303\u4e2d\u54ea\u4e9b\u63a5\u53e3\uff1f</li> <li>jakarta.servlet.Servlet  \u6838\u5fc3\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletConfig Servlet\u914d\u7f6e\u4fe1\u606f\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletContext Servlet\u4e0a\u4e0b\u6587\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletRequest Servlet\u8bf7\u6c42\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletResponse Servlet\u54cd\u5e94\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletException Servlet\u5f02\u5e38\uff08\u7c7b\uff09</li> <li>jakarta.servlet.GenericServlet \u6807\u51c6\u901a\u7528\u7684Servlet\u7c7b\uff08\u62bd\u8c61\u7c7b\uff09</li> <li>http\u5305\u4e0b\u90fd\u6709\u54ea\u4e9b\u7c7b\u548c\u63a5\u53e3\u5462\uff1fjakarta.servlet.http.*;</li> <li>jakarta.servlet.http.HttpServlet \uff08HTTP\u534f\u8bae\u4e13\u7528\u7684Servlet\u7c7b\uff0c\u62bd\u8c61\u7c7b\uff09</li> <li>jakarta.servlet.http.HttpServletRequest \uff08HTTP\u534f\u8bae\u4e13\u7528\u7684\u8bf7\u6c42\u5bf9\u8c61\uff09</li> <li>jakarta.servlet.http.HttpServletResponse \uff08HTTP\u534f\u8bae\u4e13\u7528\u7684\u54cd\u5e94\u5bf9\u8c61\uff09</li> <li>HttpServletRequest\u5bf9\u8c61\u4e2d\u5c01\u88c5\u4e86\u4ec0\u4e48\u4fe1\u606f\uff1f</li> <li>HttpServletRequest\uff0c\u7b80\u79f0request\u5bf9\u8c61\u3002</li> <li>HttpServletRequest\u4e2d\u5c01\u88c5\u4e86\u8bf7\u6c42\u534f\u8bae\u7684\u5168\u90e8\u5185\u5bb9\u3002</li> <li>Tomcat\u670d\u52a1\u5668\uff08WEB\u670d\u52a1\u5668\uff09\u5c06\u201c\u8bf7\u6c42\u534f\u8bae\u201d\u4e2d\u7684\u6570\u636e\u5168\u90e8\u89e3\u6790\u51fa\u6765\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u6570\u636e\u5168\u90e8\u5c01\u88c5\u5230request\u5bf9\u8c61\u5f53\u4e2d\u4e86\u3002</li> <li>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ea\u8981\u9762\u5411HttpServletRequest\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u8bf7\u6c42\u534f\u8bae\u4e2d\u7684\u6570\u636e\u3002</li> <li>HttpServletResponse\u5bf9\u8c61\u662f\u4e13\u95e8\u7528\u6765\u54cd\u5e94HTTP\u534f\u8bae\u5230\u6d4f\u89c8\u5668\u7684\u3002</li> <li>\u56de\u5fc6Servlet\u751f\u547d\u5468\u671f\uff1f</li> <li>\u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42<ul> <li>Tomcat\u670d\u52a1\u5668\u901a\u8fc7\u53cd\u5c04\u673a\u5236\uff0c\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002\u521b\u5efaServlet\u5bf9\u8c61\u3002(web.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684Servlet\u7c7b\u5bf9\u5e94\u7684\u5bf9\u8c61\u3002)</li> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u5b8c\u6210\u521d\u59cb\u5316\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u3002</li> </ul> </li> <li>\u7528\u6237\u7b2c\u4e8c\u6b21\u8bf7\u6c42<ul> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u3002</li> </ul> </li> <li>\u7528\u6237\u7b2c\u4e09\u6b21\u8bf7\u6c42<ul> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u3002</li> </ul> </li> <li>....<ul> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u5904\u7406\u8bf7\u6c42\u3002</li> </ul> </li> <li>\u670d\u52a1\u5668\u5173\u95ed<ul> <li>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684destroy\u65b9\u6cd5\uff0c\u505a\u9500\u6bc1\u4e4b\u524d\u7684\u51c6\u5907\u5de5\u4f5c\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u9500\u6bc1Servlet\u5bf9\u8c61\u3002</li> </ul> </li> <li>HttpServlet\u6e90\u7801\u5206\u6790\uff1a</li> </ul> Java<pre><code>public class HelloServlet extends HttpServlet {\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\uff0c\u521b\u5efaHelloServlet\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002\n    public HelloServlet() {\n    }\n\n    //override \u91cd\u5199 doGet\u65b9\u6cd5\n    //override \u91cd\u5199 doPost\u65b9\u6cd5\n}\n\npublic abstract class GenericServlet implements Servlet, ServletConfig,\n        java.io.Serializable {\n\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cHelloServlet\u5bf9\u8c61\u7b2c\u4e00\u6b21\u88ab\u521b\u5efa\u4e4b\u540e\uff0c\u8fd9\u4e2ainit\u65b9\u6cd5\u4f1a\u6267\u884c\u3002\n    public void init(ServletConfig config) throws ServletException {\n        this.config = config;\n        this.init();\n    }\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5e26\u6709\u53c2\u6570\u7684init(ServletConfig config)\u6267\u884c\u4e4b\u540e\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u6ca1\u6709\u53c2\u6570\u7684init()\n    public void init() throws ServletException {\n        // NOOP by default\n    }\n}\n\n// HttpServlet\u6a21\u677f\u7c7b\u3002\npublic abstract class HttpServlet extends GenericServlet {\n    // \u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd9\u4e2aservice\u4f1a\u6267\u884c\n    // \u7528\u6237\u53d1\u9001\u7b2cN\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u8fd9\u4e2aservice\u65b9\u6cd5\u8fd8\u662f\u4f1a\u6267\u884c\u3002\n    // \u7528\u6237\u53ea\u8981\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff0c\u8fd9\u4e2aservice\u65b9\u6cd5\u5c31\u4f1a\u6267\u884c\u4e00\u6b21\u3002\n    @Override\n    public void service(ServletRequest req, ServletResponse res)\n        throws ServletException, IOException {\n\n        HttpServletRequest  request;\n        HttpServletResponse response;\n\n        try {\n            // \u5c06ServletRequest\u548cServletResponse\u5411\u4e0b\u8f6c\u578b\u4e3a\u5e26\u6709Http\u7684HttpServletRequest\u548cHttpServletResponse\n            request = (HttpServletRequest) req;\n            response = (HttpServletResponse) res;\n        } catch (ClassCastException e) {\n            throw new ServletException(lStrings.getString(\"http.non_http\"));\n        }\n        // \u8c03\u7528\u91cd\u8f7d\u7684service\u65b9\u6cd5\u3002\n        service(request, response);\n    }\n\n    // \u8fd9\u4e2aservice\u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5e26\u6709Http\u7684\u3002\n    // \u8fd9\u4e2aservice\u662f\u4e00\u4e2a\u6a21\u677f\u65b9\u6cd5\u3002\n    // \u5728\u8be5\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\u9aa8\u67b6\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6b65\u9aa4\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d\u53bb\u5b8c\u6210\u3002\n    protected void service(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException {\n        // \u83b7\u53d6\u8bf7\u6c42\u65b9\u5f0f\n        // \u8fd9\u4e2a\u8bf7\u6c42\u65b9\u5f0f\u6700\u7ec8\u53ef\u80fd\u662f\uff1a\"\"\n        // \u6ce8\u610f\uff1arequest.getMethod()\u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u8bf7\u6c42\u65b9\u5f0f\uff0c\u53ef\u80fd\u662f\u4e03\u79cd\u4e4b\u4e00\uff1a\n        // GET POST PUT DELETE HEAD OPTIONS TRACE\n        String method = req.getMethod();\n\n        // \u5982\u679c\u8bf7\u6c42\u65b9\u5f0f\u662fGET\u8bf7\u6c42\uff0c\u5219\u6267\u884cdoGet\u65b9\u6cd5\u3002\n        if (method.equals(METHOD_GET)) {\n            long lastModified = getLastModified(req);\n            if (lastModified == -1) {\n                // servlet doesn't support if-modified-since, no reason\n                // to go through further expensive logic\n                doGet(req, resp);\n            } else {\n                long ifModifiedSince;\n                try {\n                    ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);\n                } catch (IllegalArgumentException iae) {\n                    // Invalid date header - proceed as if none was set\n                    ifModifiedSince = -1;\n                }\n                if (ifModifiedSince &lt; (lastModified / 1000 * 1000)) {\n                    // If the servlet mod time is later, call doGet()\n                    // Round down to the nearest second for a proper compare\n                    // A ifModifiedSince of -1 will always be less\n                    maybeSetLastModified(resp, lastModified);\n                    doGet(req, resp);\n                } else {\n                    resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);\n                }\n            }\n\n        } else if (method.equals(METHOD_HEAD)) {\n            long lastModified = getLastModified(req);\n            maybeSetLastModified(resp, lastModified);\n            doHead(req, resp);\n\n        } else if (method.equals(METHOD_POST)) {\n            // \u5982\u679c\u8bf7\u6c42\u65b9\u5f0f\u662fPOST\u8bf7\u6c42\uff0c\u5219\u6267\u884cdoPost\u65b9\u6cd5\u3002\n            doPost(req, resp);\n\n        } else if (method.equals(METHOD_PUT)) {\n            doPut(req, resp);\n\n        } else if (method.equals(METHOD_DELETE)) {\n            doDelete(req, resp);\n\n        } else if (method.equals(METHOD_OPTIONS)) {\n            doOptions(req,resp);\n\n        } else if (method.equals(METHOD_TRACE)) {\n            doTrace(req,resp);\n\n        } else {\n            //\n            // Note that this means NO servlet supports whatever\n            // method was requested, anywhere on this server.\n            //\n\n            String errMsg = lStrings.getString(\"http.method_not_implemented\");\n            Object[] errArgs = new Object[1];\n            errArgs[0] = method;\n            errMsg = MessageFormat.format(errMsg, errArgs);\n\n            resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);\n        }\n    }\n\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException{\n        // \u62a5405\u9519\u8bef\n        String msg = lStrings.getString(\"http.method_get_not_supported\");\n        sendMethodNotAllowed(req, resp, msg);\n    }\n\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException {\n        // \u62a5405\u9519\u8bef\n        String msg = lStrings.getString(\"http.method_post_not_supported\");\n        sendMethodNotAllowed(req, resp, msg);\n    }\n\n}\n\n/*\n\u901a\u8fc7\u4ee5\u4e0a\u6e90\u4ee3\u7801\u5206\u6790\uff1a\n    \u5047\u8bbe\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u662fget\u8bf7\u6c42\uff0c\u540e\u7aef\u7a0b\u5e8f\u5458\u91cd\u5199\u7684\u65b9\u6cd5\u662fdoPost\n    \u5047\u8bbe\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u662fpost\u8bf7\u6c42\uff0c\u540e\u7aef\u7a0b\u5e8f\u5458\u91cd\u5199\u7684\u65b9\u6cd5\u662fdoGet\n    \u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f\n        \u53d1\u751f405\u8fd9\u6837\u7684\u4e00\u4e2a\u9519\u8bef\u3002\n        405\u8868\u793a\u524d\u7aef\u7684\u9519\u8bef\uff0c\u53d1\u9001\u7684\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u5bf9\u3002\u548c\u670d\u52a1\u5668\u4e0d\u4e00\u81f4\u3002\u4e0d\u662f\u670d\u52a1\u5668\u9700\u8981\u7684\u8bf7\u6c42\u65b9\u5f0f\u3002\n\n    \u901a\u8fc7\u4ee5\u4e0a\u6e90\u4ee3\u7801\u53ef\u4ee5\u77e5\u9053\uff1a\u53ea\u8981HttpServlet\u7c7b\u4e2d\u7684doGet\u65b9\u6cd5\u6216doPost\u65b9\u6cd5\u6267\u884c\u4e86\uff0c\u5fc5\u7136405.\n\n\u600e\u4e48\u907f\u514d405\u7684\u9519\u8bef\u5462\uff1f\n    \u540e\u7aef\u91cd\u5199\u4e86doGet\u65b9\u6cd5\uff0c\u524d\u7aef\u4e00\u5b9a\u8981\u53d1get\u8bf7\u6c42\u3002\n    \u540e\u7aef\u91cd\u5199\u4e86doPost\u65b9\u6cd5\uff0c\u524d\u7aef\u4e00\u5b9a\u8981\u53d1post\u8bf7\u6c42\u3002\n    \u8fd9\u6837\u53ef\u4ee5\u907f\u514d405\u9519\u8bef\u3002\n\n    \u8fd9\u79cd\u524d\u7aef\u5230\u5e95\u9700\u8981\u53d1\u4ec0\u4e48\u6837\u7684\u8bf7\u6c42\uff0c\u5176\u5b9e\u5e94\u8be5\u540e\u7aef\u8bf4\u4e86\u7b97\u3002\u540e\u7aef\u8ba9\u53d1\u4ec0\u4e48\u65b9\u5f0f\uff0c\u524d\u7aef\u5c31\u5f97\u53d1\u4ec0\u4e48\u65b9\u5f0f\u3002\n\n\u6709\u7684\u4eba\uff0c\u4f60\u4f1a\u770b\u5230\u4e3a\u4e86\u907f\u514d405\u9519\u8bef\uff0c\u5728Servlet\u7c7b\u5f53\u4e2d\uff0c\u5c06doGet\u548cdoPost\u65b9\u6cd5\u90fd\u8fdb\u884c\u4e86\u91cd\u5199\u3002\n\u8fd9\u6837\uff0c\u786e\u5b9e\u53ef\u4ee5\u907f\u514d405\u7684\u53d1\u751f\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\uff0c405\u9519\u8bef\u8fd8\u662f\u6709\u7528\u7684\u3002\u8be5\u62a5\u9519\u7684\u65f6\u5019\u5c31\u5e94\u8be5\u8ba9\u4ed6\u62a5\u9519\u3002\n\u5982\u679c\u4f60\u8981\u662f\u540c\u65f6\u91cd\u5199\u4e86doGet\u548cdoPost\uff0c\u90a3\u8fd8\u4e0d\u5982\u4f60\u76f4\u63a5\u91cd\u5199service\u65b9\u6cd5\u597d\u4e86\u3002\u8fd9\u6837\u4ee3\u7801\u8fd8\u80fd\n\u5c11\u5199\u4e00\u70b9\u3002\n*/\n</code></pre> <ul> <li>\u6211\u4eec\u7f16\u5199\u7684HelloServlet\u76f4\u63a5\u7ee7\u627fHttpServlet\uff0c\u76f4\u63a5\u91cd\u5199HttpServlet\u7c7b\u4e2d\u7684service()\u65b9\u6cd5\u884c\u5417\uff1f</li> <li> <p>\u53ef\u4ee5\uff0c\u53ea\u4e0d\u8fc7\u4f60\u4eab\u53d7\u4e0d\u5230405\u9519\u8bef\u3002\u4eab\u53d7\u4e0d\u5230HTTP\u534f\u8bae\u4e13\u5c5e\u7684\u4e1c\u897f\u3002</p> </li> <li> <p>\u5230\u4eca\u5929\u6211\u4eec\u7ec8\u4e8e\u5f97\u5230\u4e86\u6700\u7ec8\u7684\u4e00\u4e2aServlet\u7c7b\u7684\u5f00\u53d1\u6b65\u9aa4\uff1a</p> </li> <li>\u7b2c\u4e00\u6b65\uff1a\u7f16\u5199\u4e00\u4e2aServlet\u7c7b\uff0c\u76f4\u63a5\u7ee7\u627fHttpServlet</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u91cd\u5199doGet\u65b9\u6cd5\u6216\u8005\u91cd\u5199doPost\u65b9\u6cd5\uff0c\u5230\u5e95\u91cd\u5199\u8c01\uff0cjavaweb\u7a0b\u5e8f\u5458\u8bf4\u4e86\u7b97\u3002</li> <li>\u7b2c\u4e09\u6b65\uff1a\u5c06Servlet\u7c7b\u914d\u7f6e\u5230web.xml\u6587\u4ef6\u5f53\u4e2d\u3002</li> <li>\u7b2c\u56db\u6b65\uff1a\u51c6\u5907\u524d\u7aef\u7684\u9875\u9762\uff08form\u8868\u5355\uff09\uff0cform\u8868\u5355\u4e2d\u6307\u5b9a\u8bf7\u6c42\u8def\u5f84\u5373\u53ef\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#web_2","title":"\u5173\u4e8e\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762","text":"<ul> <li> <p>\u4ec0\u4e48\u662f\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762\uff1f</p> </li> <li> <p>\u5bf9\u4e8e\u4e00\u4e2awebapp\u6765\u8bf4\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u8bbe\u7f6e\u5b83\u7684\u6b22\u8fce\u9875\u9762\u7684\u3002</p> </li> <li>\u8bbe\u7f6e\u4e86\u6b22\u8fce\u9875\u9762\u4e4b\u540e\uff0c\u5f53\u4f60\u8bbf\u95ee\u8fd9\u4e2awebapp\u7684\u65f6\u5019\uff0c\u6216\u8005\u8bbf\u95ee\u8fd9\u4e2aweb\u7ad9\u70b9\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u6307\u5b9a\u4efb\u4f55\u201c\u8d44\u6e90\u8def\u5f84\u201d\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f1a\u9ed8\u8ba4\u8bbf\u95ee\u4f60\u7684\u6b22\u8fce\u9875\u9762\u3002</li> <li>\u6211\u4eec\u4e00\u822c\u7684\u8bbf\u95ee\u65b9\u5f0f\u662f\uff1a<ul> <li>http://localhost:8080/servlet06/login.html \u8fd9\u79cd\u65b9\u5f0f\u662f\u6307\u5b9a\u4e86\u8981\u8bbf\u95ee\u7684\u5c31\u662flogin.html\u8d44\u6e90\u3002</li> </ul> </li> <li> <p>\u5982\u679c\u6211\u4eec\u8bbf\u95ee\u7684\u65b9\u5f0f\u662f\uff1a</p> <ul> <li>http://localhost:8080/servlet06 \u5982\u679c\u6211\u4eec\u8bbf\u95ee\u7684\u5c31\u662f\u8fd9\u4e2a\u7ad9\u70b9\uff0c\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u8d44\u6e90\u8def\u5f84\u3002\u5b83\u9ed8\u8ba4\u4f1a\u8bbf\u95ee\u8c01\u5462\uff1f</li> <li>\u9ed8\u8ba4\u4f1a\u8bbf\u95ee\u4f60\u8bbe\u7f6e\u7684\u6b22\u8fce\u9875\u9762\u3002</li> </ul> </li> <li> <p>\u600e\u4e48\u8bbe\u7f6e\u6b22\u8fce\u9875\u9762\u5462\uff1f</p> </li> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u6211\u5728IDEA\u5de5\u5177\u7684web\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6login.html</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u4e86\u4ee5\u4e0b\u7684\u914d\u7f6e</p> <ul> <li> <p><code>xml     &lt;welcome-file-list&gt;           &lt;welcome-file&gt;login.html&lt;/welcome-file&gt;       &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8bbe\u7f6e\u6b22\u8fce\u9875\u9762\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u8def\u5f84\u4e0d\u9700\u8981\u4ee5\u201c/\u201d\u5f00\u59cb\u3002\u5e76\u4e14\u8fd9\u4e2a\u8def\u5f84\u9ed8\u8ba4\u662f\u4ecewebapp\u7684\u6839\u4e0b\u5f00\u59cb\u67e5\u627e\u3002</p> </li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u542f\u52a8\u670d\u52a1\u5668\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165\u5730\u5740</p> <ul> <li>http://localhost:8080/servlet07</li> </ul> </li> <li> <p>\u5982\u679c\u5728webapp\u7684\u6839\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u76ee\u5f55\u4e2d\u518d\u7ed9\u4e00\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6b22\u8fce\u9875\u8be5\u5982\u4f55\u8bbe\u7f6e\u5462\uff1f</p> </li> <li> <p>\u5728webapp\u6839\u4e0b\u65b0\u5efapage1</p> </li> <li> <p>\u5728page1\u4e0b\u65b0\u5efapage2\u76ee\u5f55</p> </li> <li> <p>\u5728page2\u76ee\u5f55\u4e0b\u65b0\u5efapage.html\u9875\u9762</p> </li> <li> <p>\u5728web.xml\u6587\u4ef6\u4e2d\u5e94\u8be5\u8fd9\u6837\u914d\u7f6e</p> <ul> <li> <p><code>&lt;welcome-file-list&gt;       &lt;welcome-file&gt;page1/page2/page.html&lt;/welcome-file&gt;   &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8def\u5f84\u4e0d\u9700\u8981\u4ee5\u201c/\u201d\u5f00\u59cb\uff0c\u5e76\u4e14\u8def\u5f84\u9ed8\u8ba4\u4ecewebapp\u7684\u6839\u4e0b\u5f00\u59cb\u627e\u3002</p> </li> </ul> </li> <li> <p>\u4e00\u4e2awebapp\u662f\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u6b22\u8fce\u9875\u9762\u7684</p> </li> <li> <p><code>xml     &lt;welcome-file-list&gt;         &lt;welcome-file&gt;page1/page2/page.html&lt;/welcome-file&gt;         &lt;welcome-file&gt;login.html&lt;/welcome-file&gt;     &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8d8a\u9760\u4e0a\u7684\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002\u627e\u4e0d\u5230\u7684\u7ee7\u7eed\u5411\u4e0b\u627e\u3002</p> </li> <li> <p>\u4f60\u6709\u6ca1\u6709\u6ce8\u610f\u4e00\u4ef6\u4e8b\uff1a\u5f53\u6211\u7684\u6587\u4ef6\u540d\u8bbe\u7f6e\u4e3aindex.html\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u6b22\u8fce\u9875\u9762\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u8fd9\u662f\u56e0\u4e3a\u5c0f\u732b\u54aaTomcat\u670d\u52a1\u5668\u5df2\u7ecf\u63d0\u524d\u914d\u7f6e\u597d\u4e86\u3002</p> </li> <li> <p>\u5b9e\u9645\u4e0a\u914d\u7f6e\u6b22\u8fce\u9875\u9762\u6709\u4e24\u4e2a\u5730\u65b9\u53ef\u4ee5\u914d\u7f6e\uff1a</p> <ul> <li> <p>\u4e00\u4e2a\u662f\u5728webapp\u5185\u90e8\u7684web.xml\u6587\u4ef6\u4e2d\u3002\uff08\u5728\u8fd9\u4e2a\u5730\u65b9\u914d\u7f6e\u7684\u5c5e\u4e8e\u5c40\u90e8\u914d\u7f6e\uff09</p> </li> <li> <p>\u4e00\u4e2a\u662f\u5728CATALINA_HOME/conf/web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u3002\uff08\u5728\u8fd9\u4e2a\u5730\u65b9\u914d\u7f6e\u7684\u5c5e\u4e8e\u5168\u5c40\u914d\u7f6e\uff09</p> </li> <li> <p><code>xml     &lt;welcome-file-list&gt;         &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;         &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;         &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;     &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>Tomcat\u670d\u52a1\u5668\u7684\u5168\u5c40\u6b22\u8fce\u9875\u9762\u662f\uff1aindex.html index.htm index.jsp\u3002\u5982\u679c\u4f60\u4e00\u4e2aweb\u7ad9\u70b9\u6ca1\u6709\u8bbe\u7f6e\u5c40\u90e8\u7684\u6b22\u8fce\u9875\u9762\uff0cTomcat\u670d\u52a1\u5668\u5c31\u4f1a\u4ee5index.html index.htm index.jsp\u4f5c\u4e3a\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762\u3002</p> </li> <li> <p>\u6ce8\u610f\u539f\u5219\uff1a\u5c40\u90e8\u4f18\u5148\u539f\u5219\u3002\uff08\u5c31\u8fd1\u539f\u5219\uff09</p> </li> </ul> </li> <li> <p>\u6b22\u8fce\u9875\u53ef\u4ee5\u662f\u4e00\u4e2aServlet\u5417\uff1f</p> </li> <li> <p>\u5f53\u7136\u53ef\u4ee5\u3002</p> </li> <li> <p>\u4f60\u4e0d\u8981\u591a\u60f3\uff0c\u6b22\u8fce\u9875\u5c31\u662f\u4e00\u4e2a\u8d44\u6e90\uff0c\u65e2\u7136\u662f\u4e00\u4e2a\u8d44\u6e90\uff0c\u90a3\u4e48\u53ef\u4ee5\u662f\u9759\u6001\u8d44\u6e90\uff0c\u4e5f\u53ef\u4ee5\u662f\u52a8\u6001\u8d44\u6e90\u3002</p> </li> <li> <p>\u9759\u6001\u8d44\u6e90\uff1aindex.html welcome.html .....</p> </li> <li> <p>\u52a8\u6001\u8d44\u6e90\uff1aServlet\u7c7b\u3002</p> </li> <li> <p>\u6b65\u9aa4\uff1a</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5199\u4e00\u4e2aServlet</p> </li> <li> <p><code>java     public class WelcomeServlet extends HttpServlet {         @Override         protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {             response.setContentType(\"text/html\");             PrintWriter out = response.getWriter();             out.print(\"&lt;h1&gt;welcome to bjpowernode!&lt;/h1&gt;\");         }     }</code></p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u914d\u7f6eservlet</p> </li> <li> <p><code>xml         &lt;servlet&gt;             &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;             &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.WelcomeServlet&lt;/servlet-class&gt;         &lt;/servlet&gt;         &lt;servlet-mapping&gt;             &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;             &lt;url-pattern&gt;/fdsa/fds/a/fds/af/ds/af/dsafdsafdsa&lt;/url-pattern&gt;         &lt;/servlet-mapping&gt;</code></p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u6b22\u8fce\u9875</p> </li> <li> <p><code>xml         &lt;welcome-file-list&gt;             &lt;welcome-file&gt;fdsa/fds/a/fds/af/ds/af/dsafdsafdsa&lt;/welcome-file&gt;         &lt;/welcome-file-list&gt;</code></p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#web-inf","title":"\u5173\u4e8eWEB-INF\u76ee\u5f55","text":"<ul> <li>\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6\uff1awelcome.html</li> <li>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee\uff1ahttp://localhost:8080/servlet07/WEB-INF/welcome.html \u51fa\u73b0\u4e86404\u9519\u8bef\u3002</li> <li>\u6ce8\u610f\uff1a\u653e\u5728WEB-INF\u76ee\u5f55\u4e0b\u7684\u8d44\u6e90\u662f\u53d7\u4fdd\u62a4\u7684\u3002\u5728\u6d4f\u89c8\u5668\u4e0a\u4e0d\u80fd\u591f\u901a\u8fc7\u8def\u5f84\u76f4\u63a5\u8bbf\u95ee\u3002\u6240\u4ee5\u50cfHTML\u3001CSS\u3001JS\u3001image\u7b49\u9759\u6001\u8d44\u6e90\u4e00\u5b9a\u8981\u653e\u5230WEB-INF\u76ee\u5f55\u4e4b\u5916\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#httpservletrequest","title":"HttpServletRequest\u63a5\u53e3\u8be6\u89e3","text":"<ul> <li> <p>HttpServletRequest\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5168\u9650\u5b9a\u540d\u79f0\uff1ajakarta.servlet.http.HttpServletRequest</p> </li> <li> <p>HttpServletRequest\u63a5\u53e3\u662fServlet\u89c4\u8303\u4e2d\u7684\u4e00\u5458\u3002</p> </li> <li> <p>HttpServletRequest\u63a5\u53e3\u7684\u7236\u63a5\u53e3\uff1aServletRequest</p> </li> <li> <p><code>java     public interface HttpServletRequest extends ServletRequest {}</code></p> </li> <li> <p>HttpServletRequest\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u8c01\u5199\u7684? HttpServletRequest\u5bf9\u8c61\u662f\u8c01\u7ed9\u521b\u5efa\u7684\uff1f</p> </li> <li> <p>\u901a\u8fc7\u6d4b\u8bd5\uff1aorg.apache.catalina.connector.RequestFacade \u5b9e\u73b0\u4e86 HttpServletRequest\u63a5\u53e3</p> <ul> <li><code>java   public class RequestFacade implements HttpServletRequest {}</code></li> </ul> </li> <li> <p>\u6d4b\u8bd5\u7ed3\u679c\u8bf4\u660e\uff1aTomcat\u670d\u52a1\u5668\uff08WEB\u670d\u52a1\u5668\u3001WEB\u5bb9\u5668\uff09\u5b9e\u73b0\u4e86HttpServletRequest\u63a5\u53e3\uff0c\u8fd8\u662f\u8bf4\u660e\u4e86Tomcat\u670d\u52a1\u5668\u5b9e\u73b0\u4e86Servlet\u89c4\u8303\u3002\u800c\u5bf9\u4e8e\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u5b9e\u9645\u4e0a\u4e0d\u9700\u8981\u5173\u5fc3\u8fd9\u4e2a\uff0c\u6211\u4eec\u53ea\u9700\u8981\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\u5373\u53ef\u3002\u6211\u4eec\u5173\u5fc3\u7684\u662fHttpServletRequest\u63a5\u53e3\u4e2d\u6709\u54ea\u4e9b\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u5b8c\u6210\u4ec0\u4e48\u529f\u80fd\uff01\uff01\uff01\uff01</p> </li> <li> <p>HttpServletRequest\u5bf9\u8c61\u4e2d\u90fd\u6709\u4ec0\u4e48\u4fe1\u606f\uff1f\u90fd\u5305\u88c5\u4e86\u4ec0\u4e48\u4fe1\u606f\uff1f</p> </li> <li> <p>HttpServletRequest\u5bf9\u8c61\u662fTomcat\u670d\u52a1\u5668\u8d1f\u8d23\u521b\u5efa\u7684\u3002\u8fd9\u4e2a\u5bf9\u8c61\u4e2d\u5c01\u88c5\u4e86\u4ec0\u4e48\u4fe1\u606f\uff1f\u5c01\u88c5\u4e86HTTP\u7684\u8bf7\u6c42\u534f\u8bae\u3002</p> </li> <li>\u5b9e\u9645\u4e0a\u662f\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u9075\u5faa\u4e86HTTP\u534f\u8bae\uff0c\u53d1\u9001\u7684\u662fHTTP\u7684\u8bf7\u6c42\u534f\u8bae\uff0cTomcat\u670d\u52a1\u5668\u5c06HTTP\u534f\u8bae\u4e2d\u7684\u4fe1\u606f\u4ee5\u53ca\u6570\u636e\u5168\u90e8\u89e3\u6790\u51fa\u6765\uff0c\u7136\u540eTomcat\u670d\u52a1\u5668\u628a\u8fd9\u4e9b\u4fe1\u606f\u5c01\u88c5\u5230HttpServletRequest\u5bf9\u8c61\u5f53\u4e2d\uff0c\u4f20\u7ed9\u4e86\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u3002</li> <li> <p>javaweb\u7a0b\u5e8f\u5458\u9762\u5411HttpServletRequest\u63a5\u53e3\u7f16\u7a0b\uff0c\u8c03\u7528\u65b9\u6cd5\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u8bf7\u6c42\u7684\u4fe1\u606f\u4e86\u3002</p> </li> <li> <p>request\u548cresponse\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\uff1f</p> </li> <li> <p>request\u5bf9\u8c61\u548cresponse\u5bf9\u8c61\uff0c\u4e00\u4e2a\u662f\u8bf7\u6c42\u5bf9\u8c61\uff0c\u4e00\u4e2a\u662f\u54cd\u5e94\u5bf9\u8c61\u3002\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u53ea\u5728\u5f53\u524d\u8bf7\u6c42\u4e2d\u6709\u6548\u3002</p> </li> <li>\u4e00\u6b21\u8bf7\u6c42\u5bf9\u5e94\u4e00\u4e2arequest\u3002</li> <li>\u4e24\u6b21\u8bf7\u6c42\u5219\u5bf9\u5e94\u4e24\u4e2arequest\u3002</li> <li> <p>.....</p> </li> <li> <p>HttpServletRequest\u63a5\u53e3\u4e2d\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff1f</p> </li> <li> <p>\u600e\u4e48\u83b7\u53d6\u524d\u7aef\u6d4f\u89c8\u5668\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff1f</p> <ul> <li> <p><code>java   Map&lt;String,String[]&gt; getParameterMap() \u8fd9\u4e2a\u662f\u83b7\u53d6Map   Enumeration&lt;String&gt; getParameterNames() \u8fd9\u4e2a\u662f\u83b7\u53d6Map\u96c6\u5408\u4e2d\u6240\u6709\u7684key   String[] getParameterValues(String name) \u6839\u636ekey\u83b7\u53d6Map\u96c6\u5408\u7684value   String getParameter(String name)  \u83b7\u53d6value\u8fd9\u4e2a\u4e00\u7ef4\u6570\u7ec4\u5f53\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u8fd9\u4e2a\u65b9\u6cd5\u6700\u5e38\u7528\u3002   // \u4ee5\u4e0a\u76844\u4e2a\u65b9\u6cd5\uff0c\u548c\u83b7\u53d6\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u6709\u5173\u7cfb\u3002</code></p> </li> <li> <p>\u601d\u8003\uff1a\u5982\u679c\u662f\u4f60\uff0c\u524d\u7aef\u7684form\u8868\u5355\u63d0\u4ea4\u4e86\u6570\u636e\u4e4b\u540e\uff0c\u4f60\u51c6\u5907\u600e\u4e48\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e\uff0c\u4f60\u51c6\u5907\u91c7\u7528\u4ec0\u4e48\u6837\u7684\u6570\u636e\u7ed3\u6784\u53bb\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e\u5462\uff1f</p> </li> <li> <p>\u524d\u7aef\u63d0\u4ea4\u7684\u6570\u636e\u683c\u5f0f\uff1ausername=abc&amp;userpwd=111&amp;aihao=s&amp;aihao=d&amp;aihao=tt</p> </li> <li> <p>\u6211\u4f1a\u91c7\u7528Map\u96c6\u5408\u6765\u5b58\u50a8\uff1a</p> <ul> <li><code>java   Map&lt;String,String&gt;       key\u5b58\u50a8String       value\u5b58\u50a8String       \u8fd9\u79cd\u60f3\u6cd5\u5bf9\u5417\uff1f\u4e0d\u5bf9\u3002       \u5982\u679c\u91c7\u7528\u4ee5\u4e0a\u7684\u6570\u636e\u7ed3\u6784\u5b58\u50a8\u4f1a\u53d1\u73b0key\u91cd\u590d\u7684\u65f6\u5019value\u8986\u76d6\u3002       key         value       ---------------------       username    abc       userpwd     111       aihao       s       aihao       d       aihao       tt       \u8fd9\u6837\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3amap\u7684key\u4e0d\u80fd\u91cd\u590d\u3002   Map&lt;String, String[]&gt;       key\u5b58\u50a8String       value\u5b58\u50a8String[]       key               value       -------------------------------       username      {\"abc\"}       userpwd           {\"111\"}       aihao         {\"s\",\"d\",\"tt\"}</code></li> </ul> </li> <li> <p>\u6ce8\u610f\uff1a\u524d\u7aef\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684\u65f6\u5019\uff0c\u5047\u8bbe\u63d0\u4ea4\u4e86120\u8fd9\u6837\u7684\u201c\u6570\u5b57\u201d\uff0c\u5176\u5b9e\u662f\u4ee5\u5b57\u7b26\u4e32\"120\"\u7684\u65b9\u5f0f\u63d0\u4ea4\u7684\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u5230\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\"120\"\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u5b57\u3002\uff08\u524d\u7aef\u6c38\u8fdc\u63d0\u4ea4\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u540e\u7aef\u83b7\u53d6\u7684\u4e5f\u6c38\u8fdc\u662f\u5b57\u7b26\u4e32\u3002\uff09</p> </li> </ul> </li> <li> <p>\u624b\u5de5\u5f00\u53d1\u4e00\u4e2awebapp\u3002\u6d4b\u8bd5HttpServletRequest\u63a5\u53e3\u4e2d\u7684\u76f8\u5173\u65b9\u6cd5\u3002</p> <ul> <li> <p>\u5148\u6d4b\u8bd5\u4e864\u4e2a\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\u7684\u56db\u4e2a\u65b9\u6cd5\u3002</p> </li> <li> <p><code>java         Map&lt;String,String[]&gt; parameterMap = request.getParameterMap();         Enumeration&lt;String&gt; names = request.getParameterNames();         String[] values = request.getParameterValues(\"name\");         String value = request.getParameter(\"name\");</code></p> </li> <li> <p>request\u5bf9\u8c61\u5b9e\u9645\u4e0a\u53c8\u79f0\u4e3a\u201c\u8bf7\u6c42\u57df\u201d\u5bf9\u8c61\u3002</p> </li> <li> <p>\u5e94\u7528\u57df\u5bf9\u8c61\u662f\u4ec0\u4e48\uff1f</p> <ul> <li> <p>ServletContext \uff08Servlet\u4e0a\u4e0b\u6587\u5bf9\u8c61\u3002\uff09</p> </li> <li> <p>\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u8003\u8651\u5411ServletContext\u8fd9\u4e2a\u5e94\u7528\u57df\u5f53\u4e2d\u7ed1\u5b9a\u6570\u636e\u5462\uff1f</p> </li> <li> <p>\u7b2c\u4e00\uff1a\u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u6570\u636e\u3002</p> </li> <li>\u7b2c\u4e8c\uff1a\u8fd9\u4e2a\u5171\u4eab\u7684\u6570\u636e\u91cf\u5f88\u5c0f\u3002</li> <li>\u7b2c\u4e09\uff1a\u8fd9\u4e2a\u5171\u4eab\u7684\u6570\u636e\u5f88\u5c11\u7684\u4fee\u6539\u64cd\u4f5c\u3002</li> <li>\u5728\u4ee5\u4e0a\u4e09\u4e2a\u6761\u4ef6\u90fd\u6ee1\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u8fd9\u4e2a\u5e94\u7528\u57df\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u6211\u4eec\u7a0b\u5e8f\u6267\u884c\u6548\u7387\u3002</li> <li> <p>\u5b9e\u9645\u4e0a\u5411\u5e94\u7528\u57df\u5f53\u4e2d\u7ed1\u5b9a\u6570\u636e\uff0c\u5c31\u76f8\u5f53\u4e8e\u628a\u6570\u636e\u653e\u5230\u4e86\u7f13\u5b58\uff08Cache\uff09\u5f53\u4e2d\uff0c\u7136\u540e\u7528\u6237\u8bbf\u95ee\u7684\u65f6\u5019\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u53d6\uff0c\u51cf\u5c11IO\u7684\u64cd\u4f5c\uff0c\u5927\u5927\u63d0\u5347\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u6240\u4ee5\u7f13\u5b58\u6280\u672f\u662f\u63d0\u9ad8\u7cfb\u7edf\u6027\u80fd\u7684\u91cd\u8981\u624b\u6bb5\u3002</p> </li> <li> <p>\u4f60\u89c1\u8fc7\u54ea\u4e9b\u7f13\u5b58\u6280\u672f\u5462\uff1f</p> </li> <li> <p>\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60</p> </li> <li>\u6574\u6570\u578b\u5e38\u91cf\u6c60 [-128~127]\uff0c\u4f46\u51e1\u662f\u5728\u8fd9\u4e2a\u8303\u56f4\u5f53\u4e2d\u7684Integer\u5bf9\u8c61\u4e0d\u518d\u521b\u5efa\u65b0\u5bf9\u8c61\uff0c\u76f4\u63a5\u4ece\u8fd9\u4e2a\u6574\u6570\u578b\u5e38\u91cf\u6c60\u4e2d\u83b7\u53d6\u3002\u5927\u5927\u63d0\u5347\u7cfb\u7edf\u6027\u80fd\u3002</li> <li>\u6570\u636e\u5e93\u8fde\u63a5\u6c60\uff08\u63d0\u524d\u521b\u5efa\u597dN\u4e2a\u8fde\u63a5\u5bf9\u8c61\uff0c\u5c06\u8fde\u63a5\u5bf9\u8c61\u653e\u5230\u96c6\u5408\u5f53\u4e2d\uff0c\u4f7f\u7528\u8fde\u63a5\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u62ff\u3002\u7701\u53bb\u4e86\u8fde\u63a5\u5bf9\u8c61\u7684\u521b\u5efa\u8fc7\u7a0b\u3002\u6548\u7387\u63d0\u5347\u3002\uff09</li> <li>\u7ebf\u7a0b\u6c60\uff08Tomcat\u670d\u52a1\u5668\u5c31\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\u3002\u6240\u8c13\u7684\u7ebf\u7a0b\u6c60\u5c31\u662f\u63d0\u524d\u5148\u521b\u5efa\u597dN\u4e2a\u7ebf\u7a0b\u5bf9\u8c61\uff0c\u5c06\u7ebf\u7a0b\u5bf9\u8c61\u5b58\u50a8\u5230\u96c6\u5408\u4e2d\uff0c\u7136\u540e\u7528\u6237\u8bf7\u6c42\u8fc7\u6765\u4e4b\u540e\uff0c\u76f4\u63a5\u4ece\u7ebf\u7a0b\u6c60\u4e2d\u83b7\u53d6\u7ebf\u7a0b\u5bf9\u8c61\uff0c\u76f4\u63a5\u62ff\u6765\u7528\u3002\u63d0\u5347\u7cfb\u7edf\u6027\u80fd\uff09</li> <li> <p>\u540e\u671f\u4f60\u8fd8\u4f1a\u5b66\u4e60\u66f4\u591a\u7684\u7f13\u5b58\u6280\u672f\uff0c\u4f8b\u5982\uff1aredis\u3001mongoDB.....</p> </li> <li> <p>ServletContext\u5f53\u4e2d\u6709\u4e09\u4e2a\u64cd\u4f5c\u57df\u7684\u65b9\u6cd5\uff1a</p> </li> <li> <p>```java     void setAttribute(String name, Object obj); // \u5411\u57df\u5f53\u4e2d\u7ed1\u5b9a\u6570\u636e\u3002     Object getAttribute(String name); // \u4ece\u57df\u5f53\u4e2d\u6839\u636ename\u83b7\u53d6\u6570\u636e\u3002     void removeAttribute(String name); // \u5c06\u57df\u5f53\u4e2d\u7ed1\u5b9a\u7684\u6570\u636e\u79fb\u9664</p> <p>// \u4ee5\u4e0a\u7684\u64cd\u4f5c\u7c7b\u4f3c\u4e8eMap\u96c6\u5408\u7684\u64cd\u4f5c\u3002 Map map; map.put(\"name\", obj); // \u5411map\u96c6\u5408\u4e2d\u653ekey\u548cvalue Object obj = map.get(\"name\"); // \u901a\u8fc7map\u96c6\u5408\u7684key\u83b7\u53d6value map.remove(\"name\"); // \u901a\u8fc7Map\u96c6\u5408\u7684key\u5220\u9664key\u548cvalue\u8fd9\u4e2a\u952e\u503c\u5bf9\u3002 ``` <li> <p>\u201c\u8bf7\u6c42\u57df\u201d\u5bf9\u8c61</p> <ul> <li> <p>\u201c\u8bf7\u6c42\u57df\u201d\u5bf9\u8c61\u8981\u6bd4\u201c\u5e94\u7528\u57df\u201d\u5bf9\u8c61\u8303\u56f4\u5c0f\u5f88\u591a\u3002\u751f\u547d\u5468\u671f\u77ed\u5f88\u591a\u3002\u8bf7\u6c42\u57df\u53ea\u5728\u4e00\u6b21\u8bf7\u6c42\u5185\u6709\u6548\u3002</p> </li> <li> <p>\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61request\u5bf9\u5e94\u4e00\u4e2a\u8bf7\u6c42\u57df\u5bf9\u8c61\u3002\u4e00\u6b21\u8bf7\u6c42\u7ed3\u675f\u4e4b\u540e\uff0c\u8fd9\u4e2a\u8bf7\u6c42\u57df\u5c31\u9500\u6bc1\u4e86\u3002</p> </li> <li> <p>\u8bf7\u6c42\u57df\u5bf9\u8c61\u4e5f\u6709\u8fd9\u4e09\u4e2a\u65b9\u6cd5\uff1a</p> </li> <li> <p><code>java     void setAttribute(String name, Object obj); // \u5411\u57df\u5f53\u4e2d\u7ed1\u5b9a\u6570\u636e\u3002     Object getAttribute(String name); // \u4ece\u57df\u5f53\u4e2d\u6839\u636ename\u83b7\u53d6\u6570\u636e\u3002     void removeAttribute(String name); // \u5c06\u57df\u5f53\u4e2d\u7ed1\u5b9a\u7684\u6570\u636e\u79fb\u9664</code></p> </li> <li> <p>\u8bf7\u6c42\u57df\u548c\u5e94\u7528\u57df\u7684\u9009\u7528\u539f\u5219\uff1f</p> </li> <li> <p>\u5c3d\u91cf\u4f7f\u7528\u5c0f\u7684\u57df\u5bf9\u8c61\uff0c\u56e0\u4e3a\u5c0f\u7684\u57df\u5bf9\u8c61\u5360\u7528\u7684\u8d44\u6e90\u8f83\u5c11\u3002</p> </li> </ul> </li> <li> <p>\u8df3\u8f6c</p> <ul> <li> <p>\u8f6c\u53d1\uff08\u4e00\u6b21\u8bf7\u6c42\uff09</p> </li> <li> <p>```java     // \u7b2c\u4e00\u6b65\uff1a\u83b7\u53d6\u8bf7\u6c42\u8f6c\u53d1\u5668\u5bf9\u8c61     RequestDispatcher dispatcher = request.getRequestDispatcher(\"/b\");     // \u7b2c\u4e8c\u6b65\uff1a\u8c03\u7528\u8f6c\u53d1\u5668\u7684forward\u65b9\u6cd5\u5b8c\u6210\u8df3\u8f6c/\u8f6c\u53d1     dispatcher.forward(request,response);</p> <p>// \u7b2c\u4e00\u6b65\u548c\u7b2c\u4e8c\u6b65\u4ee3\u7801\u53ef\u4ee5\u8054\u5408\u5728\u4e00\u8d77\u3002 request.getRequestDispatcher(\"/b\").forward(request,response);</p> <p>```</p> </li> </ul> </li> <li> <p>\u4e24\u4e2aServlet\u600e\u4e48\u5171\u4eab\u6570\u636e\uff1f</p> <ul> <li>\u5c06\u6570\u636e\u653e\u5230ServletContext\u5e94\u7528\u57df\u5f53\u4e2d\uff0c\u5f53\u7136\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u5e94\u7528\u57df\u8303\u56f4\u592a\u5927\uff0c\u5360\u7528\u8d44\u6e90\u592a\u591a\u3002\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002</li> <li>\u53ef\u4ee5\u5c06\u6570\u636e\u653e\u5230request\u57df\u5f53\u4e2d\uff0c\u7136\u540eAServlet\u8f6c\u53d1\u5230BServlet\uff0c\u4fdd\u8bc1AServlet\u548cBServlet\u5728\u540c\u4e00\u6b21\u8bf7\u6c42\u5f53\u4e2d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u505a\u5230\u4e24\u4e2aServlet\uff0c\u6216\u8005\u591a\u4e2aServlet\u5171\u4eab\u540c\u4e00\u4efd\u6570\u636e\u3002</li> </ul> </li> <li> <p>\u8f6c\u53d1\u7684\u4e0b\u4e00\u4e2a\u8d44\u6e90\u5fc5\u987b\u662f\u4e00\u4e2aServlet\u5417\uff1f</p> <ul> <li>\u4e0d\u4e00\u5b9a\uff0c\u53ea\u8981\u662fTomcat\u670d\u52a1\u5668\u5f53\u4e2d\u7684\u5408\u6cd5\u8d44\u6e90\uff0c\u90fd\u662f\u53ef\u4ee5\u8f6c\u53d1\u7684\u3002\u4f8b\u5982\uff1ahtml....</li> <li>\u6ce8\u610f\uff1a\u8f6c\u53d1\u7684\u65f6\u5019\uff0c\u8def\u5f84\u7684\u5199\u6cd5\u8981\u6ce8\u610f\uff0c\u8f6c\u53d1\u7684\u8def\u5f84\u4ee5\u201c/\u201d\u5f00\u59cb\uff0c\u4e0d\u52a0\u9879\u76ee\u540d\u3002</li> </ul> </li> <li> <p>\u5173\u4e8erequest\u5bf9\u8c61\u4e2d\u4e24\u4e2a\u975e\u5e38\u5bb9\u6613\u6df7\u6dc6\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>```java</li> </ul> <p>// uri?username=zhangsan&amp;userpwd=123&amp;sex=1   String username = request.getParameter(\"username\");</p> <p>// \u4e4b\u524d\u4e00\u5b9a\u662f\u6267\u884c\u8fc7\uff1arequest.setAttribute(\"name\", new Object())   Object obj = request.getAttribute(\"name\");</p> <p>// \u4ee5\u4e0a\u4e24\u4e2a\u65b9\u6cd5\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f   // \u7b2c\u4e00\u4e2a\u65b9\u6cd5\uff1a\u83b7\u53d6\u7684\u662f\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e0a\u63d0\u4ea4\u7684\u6570\u636e\u3002   // \u7b2c\u4e8c\u4e2a\u65b9\u6cd5\uff1a\u83b7\u53d6\u7684\u662f\u8bf7\u6c42\u57df\u5f53\u4e2d\u7ed1\u5b9a\u7684\u6570\u636e\u3002   ```</p> </li> <li> <p>HttpServletRequest\u63a5\u53e3\u7684\u5176\u4ed6\u5e38\u7528\u65b9\u6cd5\uff1a</p> <ul> <li>```java   // \u83b7\u53d6\u5ba2\u6237\u7aef\u7684IP\u5730\u5740   String remoteAddr = request.getRemoteAddr();</li> </ul> <p>// get\u8bf7\u6c42\u5728\u8bf7\u6c42\u884c\u4e0a\u63d0\u4ea4\u6570\u636e\u3002   // post\u8bf7\u6c42\u5728\u8bf7\u6c42\u4f53\u4e2d\u63d0\u4ea4\u6570\u636e\u3002   // \u8bbe\u7f6e\u8bf7\u6c42\u4f53\u7684\u5b57\u7b26\u96c6\u3002\uff08\u663e\u7136\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5904\u7406POST\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\u3002\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u80fd\u89e3\u51b3get\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\u3002\uff09   // Tomcat10\u4e4b\u540e\uff0crequest\u8bf7\u6c42\u4f53\u5f53\u4e2d\u7684\u5b57\u7b26\u96c6\u9ed8\u8ba4\u5c31\u662fUTF-8\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6e\u5b57\u7b26\u96c6\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4e71\u7801\u95ee\u9898\u3002   // Tomcat9\u524d\uff08\u5305\u62ec9\u5728\u5185\uff09\uff0c\u5982\u679c\u524d\u7aef\u8bf7\u6c42\u4f53\u63d0\u4ea4\u7684\u662f\u4e2d\u6587\uff0c\u540e\u7aef\u83b7\u53d6\u4e4b\u540e\u51fa\u73b0\u4e71\u7801\uff0c\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u4e71\u7801\uff1f\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u3002   request.setCharacterEncoding(\"UTF-8\");</p> <p>// \u5728Tomcat9\u4e4b\u524d\uff08\u5305\u62ec9\uff09\uff0c\u54cd\u5e94\u4e2d\u6587\u4e5f\u662f\u6709\u4e71\u7801\u7684\uff0c\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u54cd\u5e94\u7684\u4e71\u7801\uff1f   response.setContentType(\"text/html;charset=UTF-8\");   // \u5728Tomcat10\u4e4b\u540e\uff0c\u5305\u62ec10\u5728\u5185\uff0c\u54cd\u5e94\u4e2d\u6587\u7684\u65f6\u5019\u5c31\u4e0d\u5728\u51fa\u73b0\u4e71\u7801\u95ee\u9898\u4e86\u3002\u4ee5\u4e0a\u4ee3\u7801\u5c31\u4e0d\u9700\u8981\u8bbe\u7f6eUTF-8\u4e86\u3002</p> <p>// \u6ce8\u610f\u4e00\u4e2a\u7ec6\u8282   // \u5728Tomcat10\u5305\u62ec10\u5728\u5185\u4e4b\u540e\u7684\u7248\u672c\uff0c\u4e2d\u6587\u5c06\u4e0d\u518d\u51fa\u73b0\u4e71\u7801\u3002\uff08\u8fd9\u4e5f\u4f53\u73b0\u4e86\u4e2d\u6587\u5730\u4f4d\u7684\u63d0\u5347\u3002\uff09</p> <p>// get\u8bf7\u6c42\u4e71\u7801\u95ee\u9898\u600e\u4e48\u89e3\u51b3\uff1f   // get\u8bf7\u6c42\u53d1\u9001\u7684\u65f6\u5019\uff0c\u6570\u636e\u662f\u5728\u8bf7\u6c42\u884c\u4e0a\u63d0\u4ea4\u7684\uff0c\u4e0d\u662f\u5728\u8bf7\u6c42\u4f53\u5f53\u4e2d\u63d0\u4ea4\u7684\u3002   // get\u8bf7\u6c42\u4e71\u7801\u600e\u4e48\u89e3\u51b3   // \u65b9\u6848\uff1a\u4fee\u6539CATALINA_HOME/conf/server.xml\u914d\u7f6e\u6587\u4ef6      // \u6ce8\u610f\uff1a\u4eceTomcat8\u4e4b\u540e\uff0cURIEncoding\u7684\u9ed8\u8ba4\u503c\u5c31\u662fUTF-8\uff0c\u6240\u4ee5GET\u8bf7\u6c42\u4e5f\u6ca1\u6709\u4e71\u7801\u95ee\u9898\u4e86\u3002</p> <p>// \u83b7\u53d6\u5e94\u7528\u7684\u6839\u8def\u5f84   String contextPath = request.getContextPath();</p> <p>// \u83b7\u53d6\u8bf7\u6c42\u65b9\u5f0f   String method = request.getMethod();</p> <p>// \u83b7\u53d6\u8bf7\u6c42\u7684URI   String uri = request.getRequestURI();  // /aaa/testRequest</p> <p>// \u83b7\u53d6servlet path   String servletPath = request.getServletPath(); //   /testRequest</p> <p>```</p> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servletcrud","title":"\u4f7f\u7528\u7eafServlet\u505a\u4e00\u4e2a\u5355\u8868\u7684CRUD\u64cd\u4f5c","text":"<ul> <li> <p>\u4f7f\u7528\u7eaf\u7cb9\u7684Servlet\u5b8c\u6210\u5355\u8868\u3010\u5bf9\u90e8\u95e8\u7684\u3011\u7684\u589e\u5220\u6539\u67e5\u64cd\u4f5c\u3002\uff08B/S\u7ed3\u6784\u7684\u3002\uff09</p> </li> <li> <p>\u5b9e\u73b0\u6b65\u9aa4</p> </li> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u51c6\u5907\u4e00\u5f20\u6570\u636e\u5e93\u8868\u3002\uff08sql\u811a\u672c\uff09</p> <ul> <li><code>sql   # \u90e8\u95e8\u8868   drop table if exists dept;   create table dept(     deptno int primary key,       dname varchar(255),       loc varchar(255)   );   insert into dept(deptno, dname, loc) values(10, 'XiaoShouBu', 'BEIJING');   insert into dept(deptno, dname, loc) values(20, 'YanFaBu', 'SHANGHAI');   insert into dept(deptno, dname, loc) values(30, 'JiShuBu', 'GUANGZHOU');   insert into dept(deptno, dname, loc) values(40, 'MeiTiBu', 'SHENZHEN');   commit;   select * from dept;</code></li> </ul> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u51c6\u5907\u4e00\u5957HTML\u9875\u9762\uff08\u9879\u76ee\u539f\u578b\uff09\u3010\u524d\u7aef\u5f00\u53d1\u5de5\u5177\u4f7f\u7528HBuilder\u3011</p> <ul> <li>\u628aHTML\u9875\u9762\u51c6\u5907\u597d</li> <li>\u7136\u540e\u5c06HTML\u9875\u9762\u4e2d\u7684\u94fe\u63a5\u90fd\u80fd\u591f\u8dd1\u901a\u3002\uff08\u9875\u9762\u6d41\u8f6c\u6ca1\u95ee\u9898\u3002\uff09</li> <li>\u5e94\u8be5\u8bbe\u8ba1\u54ea\u4e9b\u9875\u9762\u5462\uff1f</li> <li>\u6b22\u8fce\u9875\u9762\uff1aindex.html</li> <li>\u5217\u8868\u9875\u9762\uff1alist.html\uff08\u4ee5\u5217\u8868\u9875\u9762\u4e3a\u6838\u5fc3\uff0c\u5c55\u5f00\u5176\u4ed6\u64cd\u4f5c\u3002\uff09</li> <li>\u65b0\u589e\u9875\u9762\uff1aadd.html</li> <li>\u4fee\u6539\u9875\u9762\uff1aedit.html</li> <li>\u8be6\u60c5\u9875\u9762\uff1adetail.html</li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5206\u6790\u6211\u4eec\u8fd9\u4e2a\u7cfb\u7edf\u5305\u62ec\u54ea\u4e9b\u529f\u80fd\uff1f</p> <ul> <li>\u4ec0\u4e48\u53eb\u505a\u4e00\u4e2a\u529f\u80fd\u5462\uff1f</li> <li>\u53ea\u8981 \u8fd9\u4e2a\u64cd\u4f5c\u8fde\u63a5\u4e86\u6570\u636e\u5e93\uff0c\u5c31\u8868\u793a\u4e00\u4e2a\u72ec\u7acb\u7684\u529f\u80fd\u3002</li> <li>\u5305\u62ec\u54ea\u4e9b\u529f\u80fd\uff1f</li> <li>\u67e5\u770b\u90e8\u95e8\u5217\u8868</li> <li>\u65b0\u589e\u90e8\u95e8</li> <li>\u5220\u9664\u90e8\u95e8</li> <li>\u67e5\u770b\u90e8\u95e8\u8be6\u7ec6\u4fe1\u606f</li> <li>\u8df3\u8f6c\u5230\u4fee\u6539\u9875\u9762</li> <li>\u4fee\u6539\u90e8\u95e8</li> </ul> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u5728IDEA\u5f53\u4e2d\u642d\u5efa\u5f00\u53d1\u73af\u5883</p> <ul> <li>\u521b\u5efa\u4e00\u4e2awebapp\uff08\u7ed9\u8fd9\u4e2awebapp\u6dfb\u52a0servlet-api.jar\u548cjsp-api.jar\u5230classpath\u5f53\u4e2d\u3002\uff09</li> <li>\u5411webapp\u4e2d\u6dfb\u52a0\u8fde\u63a5\u6570\u636e\u5e93\u7684jar\u5305\uff08mysql\u9a71\u52a8\uff09</li> <li>\u5fc5\u987b\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efalib\u76ee\u5f55\uff0c\u7136\u540e\u5c06mysql\u7684\u9a71\u52a8jar\u5305\u62f7\u8d1d\u5230\u8fd9\u4e2alib\u76ee\u5f55\u4e0b\u3002\u8fd9\u4e2a\u76ee\u5f55\u540d\u5fc5\u987b\u53eb\u505alib\uff0c\u5168\u90e8\u5c0f\u5199\u7684\u3002</li> <li>JDBC\u7684\u5de5\u5177\u7c7b</li> <li>\u5c06\u6240\u6709HTML\u9875\u9762\u62f7\u8d1d\u5230web\u76ee\u5f55\u4e0b\u3002</li> </ul> </li> <li> <p>\u7b2c\u4e94\u6b65\uff1a\u5b9e\u73b0\u7b2c\u4e00\u4e2a\u529f\u80fd\uff1a\u67e5\u770b\u90e8\u95e8\u5217\u8868</p> <ul> <li> <p>\u6211\u4eec\u5e94\u8be5\u600e\u4e48\u53bb\u5b9e\u73b0\u4e00\u4e2a\u529f\u80fd\u5462\uff1f</p> </li> <li> <p>\u5efa\u8bae\uff1a\u4f60\u53ef\u4ee5\u4ece\u540e\u7aef\u5f80\u524d\u7aef\u4e00\u6b65\u4e00\u6b65\u5199\u3002\u4e5f\u53ef\u4ee5\u4ece\u524d\u7aef\u4e00\u6b65\u4e00\u6b65\u5f80\u540e\u7aef\u5199\u3002\u90fd\u53ef\u4ee5\u3002\u4f46\u662f\u5343\u4e07\u8981\u8bb0\u4f4f\u4e0d\u8981\u60f3\u8d77\u6765\u4ec0\u4e48\u5199\u4ec0\u4e48\u3002\u4f60\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u6700\u597d\u662f\u7a0b\u5e8f\u7684\u6267\u884c\u8fc7\u7a0b\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u7a0b\u5e8f\u6267\u884c\u5230\u54ea\u91cc\uff0c\u4f60\u5c31\u5199\u54ea\u91cc\u3002\u8fd9\u6837\u4e00\u4e2a\u987a\u5e8f\u6d41\u4e0b\u6765\u4e4b\u540e\uff0c\u57fa\u672c\u4e0a\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\u3001\u610f\u5916\u3002</p> </li> <li> <p>\u4ece\u54ea\u91cc\u5f00\u59cb\uff1f</p> <ul> <li>\u5047\u8bbe\u4ece\u524d\u7aef\u5f00\u59cb\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u4ece\u7528\u6237\u70b9\u51fb\u6309\u94ae\u90a3\u91cc\u5f00\u59cb\u7684\u3002</li> </ul> </li> <li> <p>\u7b2c\u4e00\uff1a\u5148\u4fee\u6539\u524d\u7aef\u9875\u9762\u7684\u8d85\u94fe\u63a5\uff0c\u56e0\u4e3a\u7528\u6237\u5148\u70b9\u51fb\u7684\u5c31\u662f\u8fd9\u4e2a\u8d85\u94fe\u63a5\u3002</p> </li> <li> <p><code>html     &lt;a href=\"/oa/dept/list\"&gt;\u67e5\u770b\u90e8\u95e8\u5217\u8868&lt;/a&gt;</code></p> </li> <li> <p>\u7b2c\u4e8c\uff1a\u7f16\u5199web.xml\u6587\u4ef6</p> </li> <li> <p><code>xml     &lt;servlet&gt;         &lt;servlet-name&gt;list&lt;/servlet-name&gt;         &lt;servlet-class&gt;com.bjpowernode.oa.web.action.DeptListServlet&lt;/servlet-class&gt;     &lt;/servlet&gt;     &lt;servlet-mapping&gt;         &lt;servlet-name&gt;list&lt;/servlet-name&gt;         &lt;!--web.xml\u6587\u4ef6\u4e2d\u7684\u8fd9\u4e2a\u8def\u5f84\u4e5f\u662f\u4ee5\u201c/\u201d\u5f00\u59cb\u7684\uff0c\u4f46\u662f\u4e0d\u9700\u8981\u52a0\u9879\u76ee\u540d--&gt;         &lt;url-pattern&gt;/dept/list&lt;/url-pattern&gt;     &lt;/servlet-mapping&gt;</code></p> </li> <li> <p>\u7b2c\u4e09\uff1a\u7f16\u5199DeptListServlet\u7c7b\u7ee7\u627fHttpServlet\u7c7b\u3002\u7136\u540e\u91cd\u5199doGet\u65b9\u6cd5\u3002</p> </li> <li> <p>```java     package com.bjpowernode.oa.web.action;</p> <p>import jakarta.servlet.ServletException; import jakarta.servlet.http.HttpServlet; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse;</p> <p>import java.io.IOException;</p> <p>public class DeptListServlet extends HttpServlet {     @Override     protected void doGet(HttpServletRequest request, HttpServletResponse response)             throws ServletException, IOException {     } } ```</p> </li> <li> <p>\u7b2c\u56db\uff1a\u5728DeptListServlet\u7c7b\u7684doGet\u65b9\u6cd5\u4e2d\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u67e5\u8be2\u6240\u6709\u7684\u90e8\u95e8\uff0c\u52a8\u6001\u7684\u5c55\u793a\u90e8\u95e8\u5217\u8868\u9875\u9762.</p> </li> <li> <p>\u5206\u6790list.html\u9875\u9762\u4e2d\u54ea\u90e8\u5206\u662f\u56fa\u5b9a\u6b7b\u7684\uff0c\u54ea\u90e8\u5206\u662f\u9700\u8981\u52a8\u6001\u5c55\u793a\u7684\u3002</p> </li> <li> <p>list.html\u9875\u9762\u4e2d\u7684\u5185\u5bb9\u6240\u6709\u7684\u53cc\u5f15\u53f7\u8981\u66ff\u6362\u6210\u5355\u5f15\u53f7\uff0c\u56e0\u4e3aout.print(\"\")\u8fd9\u91cc\u6709\u4e00\u4e2a\u53cc\u5f15\u53f7\uff0c\u5bb9\u6613\u51b2\u7a81\u3002</p> </li> <li> <p>\u73b0\u5728\u5199\u5b8c\u8fd9\u4e2a\u529f\u80fd\u4e4b\u540e\uff0c\u4f60\u4f1a\u6709\u4e00\u79cd\u611f\u89c9\uff0c\u611f\u89c9\u5f00\u53d1\u5f88\u7e41\u7410\uff0c\u53ea\u4f7f\u7528servlet\u5199\u4ee3\u7801\u592a\u7e41\u7410\u4e86\u3002</p> </li> <li> <p>```java     while(rs.next()){         String deptno = rs.getString(\"a\");         String dname = rs.getString(\"dname\");         String loc = rs.getString(\"loc\");</p> Text Only<pre><code>out.print(\"         &lt;tr&gt;\");\nout.print(\"             &lt;td&gt;\"+(++i)+\"&lt;/td&gt;\");\nout.print(\"             &lt;td&gt;\"+deptno+\"&lt;/td&gt;\");\nout.print(\"             &lt;td&gt;\"+dname+\"&lt;/td&gt;\");\nout.print(\"             &lt;td&gt;\");\nout.print(\"                 &lt;a href=''&gt;\u5220\u9664&lt;/a&gt;\");\nout.print(\"                 &lt;a href='edit.html'&gt;\u4fee\u6539&lt;/a&gt;\");\nout.print(\"                 &lt;a href='detail.html'&gt;\u8be6\u60c5&lt;/a&gt;\");\nout.print(\"             &lt;/td&gt;\");\nout.print(\"         &lt;/tr&gt;\");\n</code></pre> <p>} ```</p> </li> </ul> </li> <li> <p>\u7b2c\u516d\u6b65\uff1a\u67e5\u770b\u90e8\u95e8\u8be6\u60c5\u3002</p> <ul> <li> <p>\u5efa\u8bae\uff1a\u4ece\u524d\u7aef\u5f80\u540e\u7aef\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\u3002\u9996\u5148\u8981\u8003\u8651\u7684\u662f\uff0c\u7528\u6237\u70b9\u51fb\u7684\u662f\u4ec0\u4e48\uff1f\u7528\u6237\u70b9\u51fb\u7684\u4e1c\u897f\u5728\u54ea\u91cc\uff1f</p> </li> <li> <p>\u4e00\u5b9a\u8981\u5148\u627e\u5230\u7528\u6237\u70b9\u7684\u201c\u8be6\u60c5\u201d\u5728\u54ea\u91cc\u3002\u627e\u4e86\u534a\u5929\uff0c\u7ec8\u4e8e\u5728\u540e\u7aef\u7684java\u7a0b\u5e8f\u4e2d\u627e\u5230\u4e86</p> <ul> <li> <p><code>html   &lt;a href='\u5199\u4e00\u4e2a\u8def\u5f84'&gt;\u8be6\u60c5&lt;/a&gt;</code></p> </li> <li> <p>\u8be6\u60c5  \u662f\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8d85\u94fe\u63a5\u70b9\u51fb\u4e4b\u540e\u4e5f\u662f\u9700\u8981\u6267\u884c\u4e00\u6bb5java\u4ee3\u7801\u7684\u3002\u6240\u4ee5\u8981\u5c06\u8fd9\u4e2a\u8d85\u94fe\u63a5\u7684\u8def\u5f84\u4fee\u6539\u4e00\u4e0b\u3002</p> </li> <li> <p>\u6ce8\u610f\uff1a\u4fee\u6539\u8def\u5f84\u4e4b\u540e\uff0c\u8fd9\u4e2a\u8def\u5f84\u662f\u9700\u8981\u52a0\u9879\u76ee\u540d\u7684\u3002\"/oa/dept/detail\"</p> </li> </ul> </li> <li> <p>\u6280\u5de7\uff1a</p> <ul> <li> <p><code>java   out.print(\"&lt;a href='\"+contextPath+\"/dept/detail?deptno=\"+deptno+\"'&gt;\u8be6\u60c5&lt;/a&gt;\");</code></p> </li> <li> <p>\u91cd\u70b9\uff1a\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\u7684\u683c\u5f0f\uff1auri?name=value&amp;name=value&amp;name=value&amp;name=value</p> </li> <li> <p>\u8fd9\u91cc\u7684\u95ee\u53f7\uff0c\u5fc5\u987b\u662f\u82f1\u6587\u7684\u95ee\u53f7\u3002\u4e0d\u80fd\u4e2d\u6587\u7684\u95ee\u53f7\u3002</p> </li> </ul> </li> <li> <p>\u89e3\u51b3404\u7684\u95ee\u9898\u3002\u5199web.xml\u6587\u4ef6\u3002</p> </li> <li> <p><code>xml     &lt;servlet&gt;         &lt;servlet-name&gt;detail&lt;/servlet-name&gt;         &lt;servlet-class&gt;com.bjpowernode.oa.web.action.DeptDetailServlet&lt;/servlet-class&gt;     &lt;/servlet&gt;     &lt;servlet-mapping&gt;         &lt;servlet-name&gt;detail&lt;/servlet-name&gt;         &lt;url-pattern&gt;/dept/detail&lt;/url-pattern&gt;     &lt;/servlet-mapping&gt;</code></p> </li> <li> <p>\u7f16\u5199\u4e00\u4e2a\u7c7b\uff1aDeptDetailServlet\u7ee7\u627fHttpServlet\uff0c\u91cd\u5199doGet\u65b9\u6cd5\u3002</p> </li> <li> <p>```java     package com.bjpowernode.oa.web.action;</p> <p>import jakarta.servlet.ServletException; import jakarta.servlet.http.HttpServlet; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse;</p> <p>import java.io.IOException;</p> <p>public class DeptDetailServlet extends HttpServlet {     @Override     protected void doGet(HttpServletRequest request, HttpServletResponse response)             throws ServletException, IOException {         //\u4e2d\u6587\u601d\u8def\uff08\u601d\u8def\u6765\u6e90\u4e8e\uff1a\u4f60\u8981\u505a\u4ec0\u4e48\uff1f\u76ee\u6807\uff1a\u67e5\u770b\u90e8\u95e8\u8be6\u7ec6\u4fe1\u606f\u3002\uff09         // \u7b2c\u4e00\u6b65\uff1a\u83b7\u53d6\u90e8\u95e8\u7f16\u53f7         // \u7b2c\u4e8c\u6b65\uff1a\u6839\u636e\u90e8\u95e8\u7f16\u53f7\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u83b7\u53d6\u8be5\u90e8\u95e8\u7f16\u53f7\u5bf9\u5e94\u7684\u90e8\u95e8\u4fe1\u606f\u3002         // \u7b2c\u4e09\u6b65\uff1a\u5c06\u90e8\u95e8\u4fe1\u606f\u54cd\u5e94\u5230\u6d4f\u89c8\u5668\u4e0a\u3002\uff08\u663e\u793a\u4e00\u4e2a\u8be6\u60c5\u3002\uff09     } } ```</p> </li> <li> <p>\u5728doGet\u65b9\u6cd5\u5f53\u4e2d\uff1a\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u6839\u636e\u90e8\u95e8\u7f16\u53f7\u67e5\u8be2\u8be5\u90e8\u95e8\u7684\u4fe1\u606f\u3002\u52a8\u6001\u5c55\u793a\u90e8\u95e8\u8be6\u60c5\u9875\u3002</p> </li> </ul> </li> <li> <p>\u7b2c\u4e03\u6b65\uff1a\u5220\u9664\u90e8\u95e8</p> <ul> <li> <p>\u600e\u4e48\u5f00\u59cb\uff1f\u4ece\u54ea\u91cc\u5f00\u59cb\uff1f\u4ece\u524d\u7aef\u9875\u9762\u5f00\u59cb\uff0c\u7528\u6237\u70b9\u51fb\u5220\u9664\u6309\u94ae\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u63d0\u793a\u7528\u6237\u662f\u5426\u5220\u9664\u3002\u56e0\u4e3a\u5220\u9664\u8fd9\u4e2a\u52a8\u4f5c\u662f\u6bd4\u8f83\u5371\u9669\u7684\u3002\u4efb\u4f55\u7cfb\u7edf\u5728\u8fdb\u884c\u5220\u9664\u64cd\u4f5c\u4e4b\u524d\uff0c\u662f\u5fc5\u987b\u8981\u63d0\u793a\u7528\u6237\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5220\u9664\u7684\u52a8\u4f5c\u6709\u53ef\u80fd\u662f\u7528\u6237\u8bef\u64cd\u4f5c\u3002\uff08\u5728\u524d\u7aef\u9875\u9762\u4e0a\u5199JS\u4ee3\u7801\uff0c\u6765\u63d0\u793a\u7528\u6237\u662f\u5426\u5220\u9664\u3002\uff09</p> </li> <li> <p><code>html     &lt;a href=\"javascript:void(0)\" onclick=\"del(30)\" &gt;\u5220\u9664&lt;/a&gt;     &lt;script type=\"text/javascript\"&gt;         function del(dno){             if(window.confirm(\"\u4eb2\uff0c\u5220\u4e86\u4e0d\u53ef\u6062\u590d\u54e6\uff01\")){                 document.location.href = \"/oa/dept/delete?deptno=\" + dno;             }         }     &lt;/script&gt;</code></p> </li> <li> <p>\u4ee5\u4e0a\u7684\u524d\u7aef\u7a0b\u5e8f\u8981\u5199\u5230\u540e\u7aef\u7684java\u4ee3\u7801\u5f53\u4e2d\uff1a</p> </li> <li> <p>DeptListServlet\u7c7b\u7684doGet\u65b9\u6cd5\u5f53\u4e2d\uff0c\u4f7f\u7528out.print()\u65b9\u6cd5\uff0c\u5c06\u4ee5\u4e0a\u7684\u524d\u7aef\u4ee3\u7801\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u4e0a\u3002</p> </li> <li> <p>\u89e3\u51b3404\u7684\u95ee\u9898\uff1a</p> </li> <li> <p>http://localhost:8080/oa/dept/delete?deptno=30</p> </li> <li> <p>web.xml\u6587\u4ef6</p> <ul> <li><code>xml   &lt;servlet&gt;       &lt;servlet-name&gt;delete&lt;/servlet-name&gt;       &lt;servlet-class&gt;com.bjpowernode.oa.web.action.DeptDelServlet&lt;/servlet-class&gt;   &lt;/servlet&gt;   &lt;servlet-mapping&gt;       &lt;servlet-name&gt;delete&lt;/servlet-name&gt;       &lt;url-pattern&gt;/dept/delete&lt;/url-pattern&gt;   &lt;/servlet-mapping&gt;</code></li> </ul> </li> <li> <p>\u7f16\u5199DeptDelServlet\u7ee7\u627fHttpServlet\uff0c\u91cd\u5199doGet\u65b9\u6cd5\u3002</p> </li> <li> <p>```java     package com.bjpowernode.oa.web.action;</p> <p>import jakarta.servlet.ServletException; import jakarta.servlet.http.HttpServlet; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse;</p> <p>import java.io.IOException;</p> <p>public class DeptDelServlet extends HttpServlet {     @Override     protected void doGet(HttpServletRequest request, HttpServletResponse response)             throws ServletException, IOException {         // \u6839\u636e\u90e8\u95e8\u7f16\u53f7\uff0c\u5220\u9664\u90e8\u95e8\u3002</p> Text Only<pre><code>}\n</code></pre> <p>} ```</p> </li> <li> <p>\u5220\u9664\u6210\u529f\u6216\u8005\u5931\u8d25\u7684\u65f6\u5019\u7684\u4e00\u4e2a\u5904\u7406\uff08\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4e86\u8f6c\u53d1\uff0c\u5e76\u6ca1\u6709\u4f7f\u7528\u91cd\u5b9a\u5411\u673a\u5236\u3002\uff09</p> <ul> <li><code>java   // \u5224\u65ad\u5220\u9664\u6210\u529f\u4e86\u8fd8\u662f\u5931\u8d25\u4e86\u3002   if (count == 1) {       //\u5220\u9664\u6210\u529f       //\u4ecd\u7136\u8df3\u8f6c\u5230\u90e8\u95e8\u5217\u8868\u9875\u9762       //\u90e8\u95e8\u5217\u8868\u9875\u9762\u7684\u663e\u793a\u9700\u8981\u6267\u884c\u53e6\u4e00\u4e2aServlet\u3002\u600e\u4e48\u529e\uff1f\u8f6c\u53d1\u3002       request.getRequestDispatcher(\"/dept/list\").forward(request, response);   }else{       // \u5220\u9664\u5931\u8d25       request.getRequestDispatcher(\"/error.html\").forward(request, response);   }</code></li> </ul> </li> </ul> </li> <li> <p>\u7b2c\u516b\u6b65\uff1a\u65b0\u589e\u90e8\u95e8</p> <ul> <li>\u6ce8\u610f\uff1a\u6700\u540e\u4fdd\u5b58\u6210\u529f\u4e4b\u540e\uff0c\u8f6c\u53d1\u5230 /dept/list \u7684\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0405\uff0c\u4e3a\u4ec0\u4e48\uff1f</li> <li>\u7b2c\u4e00\uff1a\u4fdd\u5b58\u7528\u7684\u662fpost\u8bf7\u6c42\u3002\u5e95\u5c42\u8981\u6267\u884cdoPost\u65b9\u6cd5\u3002</li> <li>\u7b2c\u4e8c\uff1a\u8f6c\u53d1\u662f\u4e00\u6b21\u8bf7\u6c42\uff0c\u4e4b\u524d\u662fpost\uff0c\u4e4b\u540e\u8fd8\u662fpost\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u6b21\u8bf7\u6c42\u3002</li> <li>\u7b2c\u4e09\uff1a/dept/list Servlet\u5f53\u4e2d\u53ea\u6709\u4e00\u4e2adoGet\u65b9\u6cd5\u3002</li> <li>\u600e\u4e48\u89e3\u51b3\uff1f\u4e24\u79cd\u65b9\u6848<ul> <li>\u7b2c\u4e00\u79cd\uff1a\u5728/dept/list Servlet\u4e2d\u6dfb\u52a0doPost\u65b9\u6cd5\uff0c\u7136\u540e\u5728doPost\u65b9\u6cd5\u4e2d\u8c03\u7528doGet\u3002</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u91cd\u5b9a\u5411\u3002</li> </ul> </li> </ul> </li> <li> <p>\u7b2c\u4e5d\u6b65\uff1a\u8df3\u8f6c\u5230\u4fee\u6539\u90e8\u95e8\u7684\u9875\u9762</p> </li> <li> <p>\u7b2c\u5341\u6b65\uff1a\u4fee\u6539\u90e8\u95e8</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#web_3","title":"\u5728\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u5e94\u8be5\u5982\u4f55\u5b8c\u6210\u8d44\u6e90\u7684\u8df3\u8f6c","text":"<ul> <li> <p>\u5728\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5b8c\u6210\u8d44\u6e90\u7684\u8df3\u8f6c\uff1a</p> </li> <li> <p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1a\u8f6c\u53d1</p> </li> <li> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1a\u91cd\u5b9a\u5411</p> </li> <li> <p>\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> </li> <li> <p>\u4ee3\u7801\u4e0a\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li> <p>\u8f6c\u53d1</p> </li> <li> <p>```java     // \u83b7\u53d6\u8bf7\u6c42\u8f6c\u53d1\u5668\u5bf9\u8c61     RequestDispatcher dispatcher = request.getRequestDispatcher(\"/dept/list\");     // \u8c03\u7528\u8bf7\u6c42\u8f6c\u53d1\u5668\u5bf9\u8c61\u7684forward\u65b9\u6cd5\u5b8c\u6210\u8f6c\u53d1     dispatcher.forward(request, response);</p> <p>// \u5408\u5e76\u4e00\u884c\u4ee3\u7801 request.getRequestDispatcher(\"/dept/list\").forward(request, response); // \u8f6c\u53d1\u7684\u65f6\u5019\u662f\u4e00\u6b21\u8bf7\u6c42\uff0c\u4e0d\u7ba1\u4f60\u8f6c\u53d1\u4e86\u591a\u5c11\u6b21\u3002\u90fd\u662f\u4e00\u6b21\u8bf7\u6c42\u3002 // AServlet\u8f6c\u53d1\u5230BServlet\uff0c\u518d\u8f6c\u53d1\u5230CServlet\uff0c\u518d\u8f6c\u53d1\u5230DServlet\uff0c\u4e0d\u7ba1\u8f6c\u53d1\u4e86\u591a\u5c11\u6b21\uff0c\u90fd\u5728\u540c\u4e00\u4e2arequest\u5f53\u4e2d\u3002 // \u8fd9\u662f\u56e0\u4e3a\u8c03\u7528forward\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u5f53\u524d\u7684request\u548cresponse\u5bf9\u8c61\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2aServlet\u3002 ```</p> </li> <li> <p>\u91cd\u5b9a\u5411</p> </li> <li> <p><code>java     // \u6ce8\u610f\uff1a\u8def\u5f84\u4e0a\u8981\u52a0\u4e00\u4e2a\u9879\u76ee\u540d\u3002\u4e3a\u4ec0\u4e48\uff1f     // \u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u8bf7\u6c42\u8def\u5f84\u4e0a\u662f\u9700\u8981\u6dfb\u52a0\u9879\u76ee\u540d\u7684\u3002     // \u4ee5\u4e0b\u8fd9\u4e00\u884c\u4ee3\u7801\u4f1a\u5c06\u8bf7\u6c42\u8def\u5f84\u201c/oa/dept/list\u201d\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668     // \u6d4f\u89c8\u5668\u4f1a\u81ea\u53d1\u7684\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u6b21\u5168\u65b0\u7684\u8bf7\u6c42\uff1a/oa/dept/list     response.sendRedirect(\"/oa/dept/list\");</code></p> </li> </ul> </li> <li> <p>\u5f62\u5f0f\u4e0a\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li>\u8f6c\u53d1\uff08\u4e00\u6b21\u8bf7\u6c42\uff09</li> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u53d1\u9001\u7684\u8bf7\u6c42\u662f\uff1ahttp://localhost:8080/servlet10/a \uff0c\u6700\u7ec8\u8bf7\u6c42\u7ed3\u675f\u4e4b\u540e\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u7684\u5730\u5740\u8fd8\u662f\u8fd9\u4e2a\u3002\u6ca1\u53d8\u3002</li> <li>\u91cd\u5b9a\u5411\uff08\u4e24\u6b21\u8bf7\u6c42\uff09</li> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u53d1\u9001\u7684\u8bf7\u6c42\u662f\uff1ahttp://localhost:8080/servlet10/a \uff0c\u6700\u7ec8\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u663e\u793a\u7684\u5730\u5740\u662f\uff1ahttp://localhost:8080/servlet10/b</li> </ul> </li> <li> <p>\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u7684\u672c\u8d28\u533a\u522b\uff1f</p> <ul> <li>\u8f6c\u53d1\uff1a\u662f\u7531WEB\u670d\u52a1\u5668\u6765\u63a7\u5236\u7684\u3002A\u8d44\u6e90\u8df3\u8f6c\u5230B\u8d44\u6e90\uff0c\u8fd9\u4e2a\u8df3\u8f6c\u52a8\u4f5c\u662fTomcat\u670d\u52a1\u5668\u5185\u90e8\u5b8c\u6210\u7684\u3002</li> <li>\u91cd\u5b9a\u5411\uff1a\u662f\u6d4f\u89c8\u5668\u5b8c\u6210\u7684\u3002\u5177\u4f53\u8df3\u8f6c\u5230\u54ea\u4e2a\u8d44\u6e90\uff0c\u662f\u6d4f\u89c8\u5668\u8bf4\u4e86\u7b97\u3002</li> </ul> </li> <li> <p>\u4f7f\u7528\u4e00\u4e2a\u4f8b\u5b50\u53bb\u63cf\u8ff0\u8fd9\u4e2a\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411</p> <ul> <li>\u501f\u94b1\uff08\u8f6c\u53d1\uff1a\u53d1\u9001\u4e86\u4e00\u6b21\u8bf7\u6c42\uff09</li> <li>\u675c\u8001\u5e08\u6ca1\u94b1\u4e86\uff0c\u627e\u5f20\u4e09\u501f\u94b1\uff0c\u5176\u5b9e\u5f20\u4e09\u6ca1\u6709\u94b1\uff0c\u4f46\u662f\u5f20\u4e09\u591f\u4e49\u6c14\uff0c\u5f20\u4e09\u81ea\u5df1\u627e\u674e\u56db\u501f\u4e86\u94b1\uff0c\u7136\u540e\u5f20\u4e09\u628a\u8fd9\u4e2a\u94b1\u7ed9\u4e86\u675c\u8001\u5e08\uff0c\u675c\u8001\u5e08\u4e0d\u77e5\u9053\u8fd9\u4e2a\u94b1\u662f\u674e\u56db\u7684\uff0c\u675c\u8001\u5e08\u53ea\u6c42\u4e86\u4e00\u4e2a\u4eba\u3002\u675c\u8001\u5e08\u4ee5\u4e3a\u8fd9\u4e2a\u94b1\u5c31\u662f\u5f20\u4e09\u7684\u3002</li> <li>\u501f\u94b1\uff08\u91cd\u5b9a\u5411\uff1a\u53d1\u9001\u4e86\u4e24\u6b21\u8bf7\u6c42\uff09</li> <li>\u675c\u8001\u5e08\u6ca1\u94b1\u4e86\uff0c\u627e\u5f20\u4e09\u501f\u94b1\uff0c\u5f20\u4e09\u6ca1\u6709\u94b1\uff0c\u5f20\u4e09\u6709\u4e00\u4e2a\u597d\u54e5\u4eec\uff0c\u53eb\u674e\u56db\uff0c\u674e\u56db\u662f\u4e2a\u5bcc\u4e8c\u4ee3\uff0c\u4e8e\u662f\u5f20\u4e09\u5c06\u674e\u56db\u7684\u5bb6\u5ead\u4f4f\u5740\u544a\u8bc9\u4e86\u675c\u8001\u5e08\uff0c\u675c\u8001\u5e08\u6309\u7167\u8fd9\u4e2a\u5730\u5740\u53bb\u627e\u5230\u674e\u56db\uff0c\u7136\u540e\u4ece\u674e\u56db\u90a3\u91cc\u501f\u4e86\u94b1\u3002\u663e\u7136\u675c\u8001\u5e08\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6c42\u4e86\u4e24\u4e2a\u4eba\u3002\u5e76\u4e14\u675c\u8001\u5e08\u77e5\u9053\u6700\u7ec8\u8fd9\u4e2a\u94b1\u662f\u674e\u56db\u501f\u7ed9\u4ffa\u7684\u3002</li> </ul> </li> <li> <p>\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u5e94\u8be5\u5982\u4f55\u9009\u62e9\uff1f\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u8f6c\u53d1\uff0c\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u91cd\u5b9a\u5411\uff1f</p> </li> <li> <p>\u5982\u679c\u5728\u4e0a\u4e00\u4e2aServlet\u5f53\u4e2d\u5411request\u57df\u5f53\u4e2d\u7ed1\u5b9a\u4e86\u6570\u636e\uff0c\u5e0c\u671b\u4ece\u4e0b\u4e00\u4e2aServlet\u5f53\u4e2d\u628arequest\u57df\u91cc\u9762\u7684\u6570\u636e\u53d6\u51fa\u6765\uff0c\u4f7f\u7528\u8f6c\u53d1\u673a\u5236\u3002</p> </li> <li> <p>\u5269\u4e0b\u6240\u6709\u7684\u8bf7\u6c42\u5747\u4f7f\u7528\u91cd\u5b9a\u5411\u3002\uff08\u91cd\u5b9a\u5411\u4f7f\u7528\u8f83\u591a\u3002\uff09</p> </li> <li> <p>\u8df3\u8f6c\u7684\u4e0b\u4e00\u4e2a\u8d44\u6e90\u6709\u6ca1\u6709\u8981\u6c42\u5462\uff1f\u5fc5\u987b\u662f\u4e00\u4e2aServlet\u5417\uff1f</p> </li> <li> <p>\u4e0d\u4e00\u5b9a\uff0c\u8df3\u8f6c\u7684\u8d44\u6e90\u53ea\u8981\u662f\u670d\u52a1\u5668\u5185\u90e8\u5408\u6cd5\u7684\u8d44\u6e90\u5373\u53ef\u3002\u5305\u62ec\uff1aServlet\u3001JSP\u3001HTML.....</p> </li> <li> <p>\u8f6c\u53d1\u4f1a\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u95ee\u9898\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#oa","title":"\u5c06oa\u9879\u76ee\u4e2d\u7684\u8d44\u6e90\u8df3\u8f6c\u4fee\u6539\u4e3a\u5408\u9002\u7684\u8df3\u8f6c\u65b9\u5f0f","text":"<ul> <li>\u5220\u9664\u4e4b\u540e\uff0c\u91cd\u5b9a\u5411</li> <li>\u4fee\u6539\u4e4b\u540e\uff0c\u91cd\u5b9a\u5411</li> <li>\u4fdd\u5b58\u4e4b\u540e\uff0c\u91cd\u5b9a\u5411</li> <li>\u91cd\u5b9a\u5411\uff1a</li> <li>\u6210\u529f</li> <li>\u5931\u8d25</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servlet_4","title":"Servlet\u6ce8\u89e3\uff0c\u7b80\u5316\u914d\u7f6e","text":"<ul> <li> <p>\u5206\u6790oa\u9879\u76ee\u4e2d\u7684web.xml\u6587\u4ef6</p> </li> <li> <p>\u73b0\u5728\u53ea\u662f\u4e00\u4e2a\u5355\u6807\u7684CRUD\uff0c\u6ca1\u6709\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5f88\u7b80\u5355\u7684\u4e00\u4e22\u4e22\u529f\u80fd\u3002web.xml\u6587\u4ef6\u4e2d\u5c31\u6709\u5982\u6b64\u591a\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u5982\u679c\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5927\u7684\u9879\u76ee\u6765\u8bf4\uff0c\u8fd9\u6837\u7684\u8bddweb.xml\u6587\u4ef6\u4f1a\u975e\u5e38\u5e9e\u5927\uff0c\u6709\u53ef\u80fd\u6700\u7ec8\u4f1a\u8fbe\u5230\u51e0\u5341\u5146\u3002</p> </li> <li>\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884cservlet\u4fe1\u606f\u7684\u914d\u7f6e\uff0c\u663e\u7136\u5f00\u53d1\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u6bcf\u4e00\u4e2a\u90fd\u9700\u8981\u914d\u7f6e\u4e00\u4e0b\u3002</li> <li> <p>\u800c\u4e14\u5728web.xml\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u662f\u5f88\u5c11\u88ab\u4fee\u6539\u7684\uff0c\u6240\u4ee5\u8fd9\u79cd\u914d\u7f6e\u4fe1\u606f\u80fd\u4e0d\u80fd\u76f4\u63a5\u5199\u5230java\u7c7b\u5f53\u4e2d\u5462\uff1f\u53ef\u4ee5\u7684\u3002</p> </li> <li> <p>Servlet3.0\u7248\u672c\u4e4b\u540e\uff0c\u63a8\u51fa\u4e86\u5404\u79cdServlet\u57fa\u4e8e\u6ce8\u89e3\u5f0f\u5f00\u53d1\u3002\u4f18\u70b9\u662f\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u5f00\u53d1\u6548\u7387\u9ad8\uff0c\u4e0d\u9700\u8981\u7f16\u5199\u5927\u91cf\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u76f4\u63a5\u5728java\u7c7b\u4e0a\u4f7f\u7528\u6ce8\u89e3\u8fdb\u884c\u6807\u6ce8\u3002</p> </li> <li> <p>web.xml\u6587\u4ef6\u4f53\u79ef\u53d8\u5c0f\u4e86\u3002</p> </li> <li> <p>\u5e76\u4e0d\u662f\u8bf4\u6ce8\u89e3\u6709\u4e86\u4e4b\u540e\uff0cweb.xml\u6587\u4ef6\u5c31\u4e0d\u9700\u8981\u4e86\uff1a</p> </li> <li> <p>\u6709\u4e00\u4e9b\u9700\u8981\u53d8\u5316\u7684\u4fe1\u606f\uff0c\u8fd8\u662f\u8981\u914d\u7f6e\u5230web.xml\u6587\u4ef6\u4e2d\u3002\u4e00\u822c\u90fd\u662f \u6ce8\u89e3+\u914d\u7f6e\u6587\u4ef6 \u7684\u5f00\u53d1\u6a21\u5f0f\u3002</p> </li> <li> <p>\u4e00\u4e9b\u4e0d\u4f1a\u7ecf\u5e38\u53d8\u5316\u4fee\u6539\u7684\u914d\u7f6e\u5efa\u8bae\u4f7f\u7528\u6ce8\u89e3\u3002\u4e00\u4e9b\u53ef\u80fd\u4f1a\u88ab\u4fee\u6539\u7684\u5efa\u8bae\u5199\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002</p> </li> <li> <p>\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u6ce8\u89e3\uff1a</p> </li> <li> <p><code>jakarta.servlet.annotation.WebServlet</code></p> </li> <li> <p>\u5728Servlet\u7c7b\u4e0a\u4f7f\u7528\uff1a@WebServlet\uff0cWebServlet\u6ce8\u89e3\u4e2d\u6709\u54ea\u4e9b\u5c5e\u6027\u5462\uff1f</p> <ul> <li>name\u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9aServlet\u7684\u540d\u5b57\u3002\u7b49\u540c\u4e8e\uff1a <li>urlPatterns\u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9aServlet\u7684\u6620\u5c04\u8def\u5f84\u3002\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u5b57\u7b26\u4e32\u3002 <li>loadOnStartUp\u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9a\u5728\u670d\u52a1\u5668\u542f\u52a8\u9636\u6bb5\u662f\u5426\u52a0\u8f7d\u8be5Servlet\u3002\u7b49\u540c\u4e8e\uff1a <li>value\u5c5e\u6027\uff1a\u5f53\u6ce8\u89e3\u7684\u5c5e\u6027\u540d\u662fvalue\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u6ce8\u89e3\u7684\u65f6\u5019\uff0cvalue\u5c5e\u6027\u540d\u662f\u53ef\u4ee5\u7701\u7565\u7684\u3002</li> <li>\u6ce8\u610f\uff1a\u4e0d\u662f\u5fc5\u987b\u5c06\u6240\u6709\u5c5e\u6027\u90fd\u5199\u4e0a\uff0c\u53ea\u9700\u8981\u63d0\u4f9b\u9700\u8981\u7684\u3002\uff08\u9700\u8981\u4ec0\u4e48\u7528\u4ec0\u4e48\u3002\uff09</li> <li>\u6ce8\u610f\uff1a\u5c5e\u6027\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u6570\u7ec4\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u4f7f\u7528\u8be5\u6ce8\u89e3\u7684\u65f6\u5019\uff0c\u5c5e\u6027\u503c\u7684\u5927\u62ec\u53f7\u53ef\u4ee5\u7701\u7565\u3002</li> <li> <p>\u6ce8\u89e3\u5bf9\u8c61\u7684\u4f7f\u7528\u683c\u5f0f\uff1a</p> </li> <li> <p>@\u6ce8\u89e3\u540d\u79f0(\u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c....)</p> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#oa_1","title":"\u4f7f\u7528\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\u4f18\u5316oa\u9879\u76ee","text":"<ul> <li>\u4e0a\u9762\u7684\u6ce8\u89e3\u89e3\u51b3\u4e86\u914d\u7f6e\u6587\u4ef6\u7684\u95ee\u9898\u3002\u4f46\u662f\u73b0\u5728\u7684oa\u9879\u76ee\u4ecd\u7136\u5b58\u5728\u4e00\u4e2a\u6bd4\u8f83\u81c3\u80bf\u7684\u95ee\u9898\u3002</li> <li>\u4e00\u4e2a\u5355\u6807\u7684CRUD\uff0c\u5c31\u5199\u4e866\u4e2aServlet\u3002\u5982\u679c\u4e00\u4e2a\u590d\u6742\u7684\u4e1a\u52a1\u7cfb\u7edf\uff0c\u8fd9\u79cd\u5f00\u53d1\u65b9\u5f0f\uff0c\u663e\u7136\u4f1a\u5bfc\u81f4\u7c7b\u7206\u70b8\u3002\uff08\u7c7b\u7684\u6570\u91cf\u592a\u5927\u3002\uff09</li> <li>\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u7c7b\u7206\u70b8\u95ee\u9898\uff1f\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\u3002</li> <li>\u600e\u4e48\u89e3\u51b3\u7c7b\u7206\u70b8\u95ee\u9898\uff1f</li> <li>\u4ee5\u524d\u7684\u8bbe\u8ba1\u662f\u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2aServlet\u7c7b\u30021000\u4e2a\u8bf7\u6c42\u5bf9\u5e941000\u4e2aServlet\u7c7b\u3002\u5bfc\u81f4\u7c7b\u7206\u70b8\u3002</li> <li>\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u5e94\u4e00\u4e2a\u65b9\u6cd5\u3002\u4e00\u4e2a\u4e1a\u52a1\u5bf9\u5e94\u4e00\u4e2aServlet\u7c7b\u3002</li> <li>\u5904\u7406\u90e8\u95e8\u76f8\u5173\u4e1a\u52a1\u7684\u5bf9\u5e94\u4e00\u4e2aDeptServlet\u3002\u5904\u7406\u7528\u6237\u76f8\u5173\u4e1a\u52a1\u7684\u5bf9\u5e94\u4e00\u4e2aUserServlet\u3002\u5904\u7406\u94f6\u884c\u5361\u5361\u7247\u4e1a\u52a1\u5bf9\u5e94\u4e00\u4e2aCardServlet\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#servletweb","title":"\u5206\u6790\u4f7f\u7528\u7eaf\u7cb9Servlet\u5f00\u53d1web\u5e94\u7528\u7684\u7f3a\u9677","text":"<ul> <li>\u5728Servlet\u5f53\u4e2d\u7f16\u5199HTML/CSS/JavaScript\u7b49\u524d\u7aef\u4ee3\u7801\u3002\u5b58\u5728\u4ec0\u4e48\u95ee\u9898\uff1f</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u7f16\u5199\u96be\u5ea6\u5927\u3002\u9ebb\u70e6\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u663e\u7136\u7a0b\u5e8f\u7684\u8026\u5408\u5ea6\u975e\u5e38\u9ad8\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u4ee3\u7801\u975e\u5e38\u4e0d\u7f8e\u89c2\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u7ef4\u62a4\u6210\u672c\u592a\u9ad8\u3002\uff08\u975e\u5e38\u96be\u4e8e\u7ef4\u62a4\uff09<ul> <li>\u4fee\u6539\u5c0f\u5c0f\u7684\u4e00\u4e2a\u524d\u7aef\u4ee3\u7801\uff0c\u53ea\u8981\u6709\u6539\u52a8\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u7f16\u8bd1java\u4ee3\u7801\uff0c\u751f\u6210\u65b0\u7684class\u6587\u4ef6\uff0c\u6253\u4e00\u4e2a\u65b0\u7684war\u5305\uff0c\u91cd\u65b0\u53d1\u5e03\u3002</li> </ul> </li> <li>\u601d\u8003\u4e00\u4e0b\uff0c\u5982\u679c\u662f\u4f60\u7684\u8bdd\uff0c\u4f60\u51c6\u5907\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1f</li> <li>\u601d\u8def\u5f88\u91cd\u8981\u3002\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u601d\u8def\u53bb\u505a\u3001\u53bb\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898<ul> <li>\u4e0a\u9762\u7684\u90a3\u4e2aServlet\uff08Java\u7a0b\u5e8f\uff09\u80fd\u4e0d\u80fd\u4e0d\u5199\u4e86\uff0c\u8ba9\u673a\u5668\u81ea\u52a8\u751f\u6210\u3002\u6211\u4eec\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u5199\u8fd9\u4e2aServlet\u7a0b\u5e8f\u4e2d\u7684\u201c\u524d\u7aef\u7684\u90a3\u6bb5\u4ee3\u7801\u201d\uff0c\u7136\u540e\u8ba9\u673a\u5668\u5c06\u6211\u4eec\u5199\u7684\u201c\u524d\u7aef\u4ee3\u7801\u201d\u81ea\u52a8\u7ffb\u8bd1\u751f\u6210\u201cServlet\u8fd9\u79cdjava\u7a0b\u5e8f\u201d\u3002\u7136\u540e\u673a\u5668\u518d\u81ea\u52a8\u5c06\u201cjava\u201d\u7a0b\u5e8f\u7f16\u8bd1\u751f\u6210\"class\"\u6587\u4ef6\u3002\u7136\u540e\u518d\u4f7f\u7528JVM\u8c03\u7528\u8fd9\u4e2aclass\u4e2d\u7684\u65b9\u6cd5\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#bssession","title":"\u5173\u4e8eB/S\u7ed3\u6784\u7cfb\u7edf\u7684\u4f1a\u8bdd\u673a\u5236\uff08session\u673a\u5236\uff09","text":"<ul> <li>\u4ec0\u4e48\u662f\u4f1a\u8bdd\uff1f</li> <li>\u4f1a\u8bdd\u5bf9\u5e94\u7684\u82f1\u8bed\u5355\u8bcd\uff1asession</li> <li>\u7528\u6237\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8fdb\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u7136\u540e\u6700\u7ec8\u5c06\u6d4f\u89c8\u5668\u5173\u95ed\uff0c\u8fd9\u4e2a\u6574\u4e2a\u8fc7\u7a0b\u53eb\u505a\uff1a\u4e00\u6b21\u4f1a\u8bdd\u3002\u4f1a\u8bdd\u5728\u670d\u52a1\u5668\u7aef\u4e5f\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684java\u5bf9\u8c61\uff0c\u8fd9\u4e2ajava\u5bf9\u8c61\u53eb\u505a\uff1asession\u3002</li> <li>\u4ec0\u4e48\u662f\u4e00\u6b21\u8bf7\u6c42\uff1a\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e0a\u70b9\u51fb\u4e86\u4e00\u4e0b\uff0c\u7136\u540e\u5230\u9875\u9762\u505c\u4e0b\u6765\uff0c\u53ef\u4ee5\u7c97\u7565\u8ba4\u4e3a\u662f\u4e00\u6b21\u8bf7\u6c42\u3002\u8bf7\u6c42\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u7aef\u7684java\u5bf9\u8c61\u662f\uff1arequest\u3002</li> <li> <p>\u4e00\u4e2a\u4f1a\u8bdd\u5f53\u4e2d\u5305\u542b\u591a\u6b21\u8bf7\u6c42\u3002\uff08\u4e00\u6b21\u4f1a\u8bdd\u5bf9\u5e94N\u6b21\u8bf7\u6c42\u3002\uff09</p> </li> <li> <p>\u5728java\u7684servlet\u89c4\u8303\u5f53\u4e2d\uff0csession\u5bf9\u5e94\u7684\u7c7b\u540d\uff1aHttpSession\uff08jarkata.servlet.http.HttpSession\uff09</p> </li> <li> <p>session\u673a\u5236\u5c5e\u4e8eB/S\u7ed3\u6784\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c\u4f7f\u7528php\u8bed\u8a00\u5f00\u53d1WEB\u9879\u76ee\uff0c\u540c\u6837\u4e5f\u662f\u6709session\u8fd9\u79cd\u673a\u5236\u7684\u3002session\u673a\u5236\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u89c4\u8303\u3002\u7136\u540e\u4e0d\u540c\u7684\u8bed\u8a00\u5bf9\u8fd9\u79cd\u4f1a\u8bdd\u673a\u5236\u90fd\u6709\u5b9e\u73b0\u3002</p> </li> <li> <p>session\u5bf9\u8c61\u6700\u4e3b\u8981\u7684\u4f5c\u7528\u662f\uff1a\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001\u3002\uff08\u7528\u6237\u767b\u5f55\u6210\u529f\u4e86\uff0c\u8fd9\u662f\u4e00\u79cd\u767b\u5f55\u6210\u529f\u7684\u72b6\u6001\uff0c\u4f60\u600e\u4e48\u628a\u767b\u5f55\u6210\u529f\u7684\u72b6\u6001\u4e00\u76f4\u4fdd\u5b58\u4e0b\u6765\u5462\uff1f\u4f7f\u7528session\u5bf9\u8c61\u53ef\u4ee5\u4fdd\u7559\u4f1a\u8bdd\u72b6\u6001\u3002\uff09</p> </li> <li> <p>\u4e3a\u4ec0\u4e48\u9700\u8981session\u5bf9\u8c61\u6765\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001\u5462\uff1f</p> </li> <li>\u56e0\u4e3aHTTP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u72b6\u6001\u534f\u8bae\u3002</li> <li>\u4ec0\u4e48\u662f\u65e0\u72b6\u6001\uff1a\u8bf7\u6c42\u7684\u65f6\u5019\uff0cB\u548cS\u662f\u8fde\u63a5\u7684\uff0c\u4f46\u662f\u8bf7\u6c42\u7ed3\u675f\u4e4b\u540e\uff0c\u8fde\u63a5\u5c31\u65ad\u4e86\u3002\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u505a\uff1fHTTP\u534f\u8bae\u4e3a\u4ec0\u4e48\u8981\u8bbe\u8ba1\u6210\u8fd9\u6837\uff1f\u56e0\u4e3a\u8fd9\u6837\u7684\u65e0\u72b6\u6001\u534f\u8bae\uff0c\u53ef\u4ee5\u964d\u4f4e\u670d\u52a1\u5668\u7684\u538b\u529b\u3002\u8bf7\u6c42\u7684\u77ac\u95f4\u662f\u8fde\u63a5\u7684\uff0c\u8bf7\u6c42\u7ed3\u675f\u4e4b\u540e\uff0c\u8fde\u63a5\u65ad\u5f00\uff0c\u8fd9\u6837\u670d\u52a1\u5668\u538b\u529b\u5c0f\u3002</li> <li> <p>\u53ea\u8981B\u548cS\u65ad\u5f00\u4e86\uff0c\u90a3\u4e48\u5173\u95ed\u6d4f\u89c8\u5668\u8fd9\u4e2a\u52a8\u4f5c\uff0c\u670d\u52a1\u5668\u77e5\u9053\u5417\uff1f</p> <ul> <li>\u4e0d\u77e5\u9053\u3002\u670d\u52a1\u5668\u662f\u4e0d\u77e5\u9053\u6d4f\u89c8\u5668\u5173\u95ed\u7684\u3002</li> </ul> </li> <li> <p>\u5f20\u4e09\u6253\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668A\uff0c\u674e\u56db\u6253\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668B\uff0c\u8bbf\u95ee\u670d\u52a1\u5668\u4e4b\u540e\uff0c\u5728\u670d\u52a1\u5668\u7aef\u4f1a\u751f\u6210\uff1a</p> </li> <li>\u5f20\u4e09\u4e13\u5c5e\u7684session\u5bf9\u8c61</li> <li> <p>\u674e\u56db\u4e13\u5c5e\u7684session\u5bf9\u8c61</p> </li> <li> <p>\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528request\u5bf9\u8c61\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528ServletContext\u5bf9\u8c61\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001\uff1f</p> </li> <li>request.setAttribute()\u5b58\uff0crequest.getAttribute()\u53d6\uff0cServletContext\u4e5f\u6709\u8fd9\u4e2a\u65b9\u6cd5\u3002request\u662f\u8bf7\u6c42\u57df\u3002ServletContext\u662f\u5e94\u7528\u57df\u3002</li> <li>request\u662f\u4e00\u6b21\u8bf7\u6c42\u4e00\u4e2a\u5bf9\u8c61\u3002</li> <li>ServletContext\u5bf9\u8c61\u662f\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\u521b\u5efa\uff0c\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u9500\u6bc1\uff0c\u8fd9\u4e2aServletContext\u5bf9\u8c61\u53ea\u6709\u4e00\u4e2a\u3002</li> <li>ServletContext\u5bf9\u8c61\u7684\u57df\u592a\u5927\u3002</li> <li>request\u8bf7\u6c42\u57df\uff08HttpServletRequest\uff09\u3001session\u4f1a\u8bdd\u57df\uff08HttpSession\uff09\u3001application\u57df\uff08ServletContext\uff09</li> <li> <p>request &lt; session &lt; application</p> </li> <li> <p>\u601d\u8003\u4e00\u4e0b\uff1asession\u5bf9\u8c61\u7684\u5b9e\u73b0\u539f\u7406\u3002</p> </li> <li>HttpSession session = request.getSession();</li> <li> <p>\u8fd9\u884c\u4ee3\u7801\u5f88\u795e\u5947\u3002\u5f20\u4e09\u8bbf\u95ee\u7684\u65f6\u5019\u83b7\u53d6\u7684session\u5bf9\u8c61\u5c31\u662f\u5f20\u4e09\u7684\u3002\u674e\u56db\u8bbf\u95ee\u7684\u65f6\u5019\u83b7\u53d6\u7684session\u5bf9\u8c61\u5c31\u662f\u674e\u56db\u7684\u3002</p> </li> <li> <p>session\u7684\u5b9e\u73b0\u539f\u7406\uff1a</p> </li> <li> <p>JSESSIONID=xxxxxx  \u8fd9\u4e2a\u662f\u4ee5Cookie\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u7684\u3002\u6d4f\u89c8\u5668\u53ea\u8981\u5173\u95ed\u3002\u8fd9\u4e2acookie\u5c31\u6ca1\u6709\u4e86\u3002</p> </li> <li>session\u5217\u8868\u662f\u4e00\u4e2aMap\uff0cmap\u7684key\u662fsessionid\uff0cmap\u7684value\u662fsession\u5bf9\u8c61\u3002</li> <li>\u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u751f\u6210session\u5bf9\u8c61\uff0c\u540c\u65f6\u751f\u6210id\uff0c\u5c06id\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\u3002</li> <li>\u7528\u6237\u7b2c\u4e8c\u6b21\u8bf7\u6c42\uff0c\u81ea\u52a8\u5c06\u6d4f\u89c8\u5668\u5185\u5b58\u4e2d\u7684id\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u6839\u636eid\u67e5\u627esession\u5bf9\u8c61\u3002</li> <li> <p>\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u5185\u5b58\u6d88\u5931\uff0ccookie\u6d88\u5931\uff0csessionid\u6d88\u5931\uff0c\u4f1a\u8bdd\u7b49\u540c\u4e8e\u7ed3\u675f\u3002</p> </li> <li> <p>Cookie\u7981\u7528\u4e86\uff0csession\u8fd8\u80fd\u627e\u5230\u5417\uff1f</p> </li> <li> <p>cookie\u7981\u7528\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u670d\u52a1\u5668\u6b63\u5e38\u53d1\u9001cookie\u7ed9\u6d4f\u89c8\u5668\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u4e0d\u8981\u4e86\u3002\u62d2\u6536\u4e86\u3002\u5e76\u4e0d\u662f\u670d\u52a1\u5668\u4e0d\u53d1\u4e86\u3002</p> </li> <li>\u627e\u4e0d\u5230\u4e86\u3002\u6bcf\u4e00\u6b21\u8bf7\u6c42\u90fd\u4f1a\u83b7\u53d6\u5230\u65b0\u7684session\u5bf9\u8c61\u3002</li> <li> <p>cookie\u7981\u7528\u4e86\uff0csession\u673a\u5236\u8fd8\u80fd\u5b9e\u73b0\u5417\uff1f</p> <ul> <li>\u53ef\u4ee5\u3002\u9700\u8981\u4f7f\u7528URL\u91cd\u5199\u673a\u5236\u3002</li> <li>http://localhost:8080/servlet12/test/session;jsessionid=19D1C99560DCBF84839FA43D58F56E16</li> <li>URL\u91cd\u5199\u673a\u5236\u4f1a\u63d0\u9ad8\u5f00\u53d1\u8005\u7684\u6210\u672c\u3002\u5f00\u53d1\u4eba\u5458\u5728\u7f16\u5199\u4efb\u4f55\u8bf7\u6c42\u8def\u5f84\u7684\u65f6\u5019\uff0c\u540e\u9762\u90fd\u8981\u6dfb\u52a0\u4e00\u4e2asessionid\uff0c\u7ed9\u5f00\u53d1\u5e26\u6765\u4e86\u5f88\u5927\u7684\u96be\u5ea6\uff0c\u5f88\u5927\u7684\u6210\u672c\u3002\u6240\u4ee5\u5927\u90e8\u5206\u7684\u7f51\u7ad9\u90fd\u662f\u8fd9\u6837\u8bbe\u8ba1\u7684\uff1a\u4f60\u8981\u662f\u7981\u7528cookie\uff0c\u4f60\u5c31\u522b\u7528\u4e86\u3002</li> </ul> </li> <li> <p>\u603b\u7ed3\u4e00\u4e0b\u5230\u76ee\u524d\u4f4d\u7f6e\u6211\u4eec\u6240\u4e86\u89e3\u7684\u57df\u5bf9\u8c61\uff1a</p> </li> <li> <p>request\uff08\u5bf9\u5e94\u7684\u7c7b\u540d\uff1aHttpServletRequest\uff09</p> <ul> <li>\u8bf7\u6c42\u57df\uff08\u8bf7\u6c42\u7ea7\u522b\u7684\uff09</li> </ul> </li> <li>session\uff08\u5bf9\u5e94\u7684\u7c7b\u540d\uff1aHttpSession\uff09<ul> <li>\u4f1a\u8bdd\u57df\uff08\u7528\u6237\u7ea7\u522b\u7684\uff09</li> </ul> </li> <li>application\uff08\u5bf9\u5e94\u7684\u7c7b\u540d\uff1aServletContext\uff09<ul> <li>\u5e94\u7528\u57df\uff08\u9879\u76ee\u7ea7\u522b\u7684\uff0c\u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u3002\uff09</li> </ul> </li> <li>\u8fd9\u4e09\u4e2a\u57df\u5bf9\u8c61\u7684\u5927\u5c0f\u5173\u7cfb<ul> <li>request &lt; session &lt; application</li> </ul> </li> <li>\u4ed6\u4eec\u4e09\u4e2a\u57df\u5bf9\u8c61\u90fd\u6709\u4ee5\u4e0b\u4e09\u4e2a\u516c\u5171\u7684\u65b9\u6cd5\uff1a<ul> <li>setAttribute\uff08\u5411\u57df\u5f53\u4e2d\u7ed1\u5b9a\u6570\u636e\uff09</li> <li>getAttribute\uff08\u4ece\u57df\u5f53\u4e2d\u83b7\u53d6\u6570\u636e\uff09</li> <li>removeAttribute\uff08\u5220\u9664\u57df\u5f53\u4e2d\u7684\u6570\u636e\uff09</li> </ul> </li> <li> <p>\u4f7f\u7528\u539f\u5219\uff1a\u5c3d\u91cf\u4f7f\u7528\u5c0f\u7684\u57df\u3002</p> </li> <li> <p>session\u638c\u63e1\u4e4b\u540e\uff0c\u6211\u4eec\u600e\u4e48\u89e3\u51b3oa\u9879\u76ee\u4e2d\u7684\u767b\u5f55\u95ee\u9898\uff0c\u600e\u4e48\u80fd\u8ba9\u767b\u5f55\u8d77\u4f5c\u7528\u3002</p> </li> <li> <p>\u767b\u5f55\u6210\u529f\u4e4b\u540e\uff0c\u53ef\u4ee5\u5c06\u7528\u6237\u7684\u767b\u5f55\u4fe1\u606f\u5b58\u50a8\u5230session\u5f53\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4session\u4e2d\u5982\u679c\u6709\u7528\u6237\u7684\u4fe1\u606f\u5c31\u4ee3\u8868\u7528\u6237\u767b\u5f55\u6210\u529f\u4e86\u3002session\u4e2d\u6ca1\u6709\u7528\u6237\u4fe1\u606f\uff0c\u8868\u793a\u7528\u6237\u6ca1\u6709\u767b\u5f55\u8fc7\u3002\u5219\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\u3002</p> </li> <li> <p>\u9500\u6bc1session\u5bf9\u8c61\uff1a</p> </li> <li> <p><code>java     session.invalidate();</code></p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/0-Servlet-JSP-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/#cookie","title":"Cookie","text":"<ul> <li>session\u7684\u5b9e\u73b0\u539f\u7406\u4e2d\uff0c\u6bcf\u4e00\u4e2asession\u5bf9\u8c61\u90fd\u4f1a\u5173\u8054\u4e00\u4e2asessionid\uff0c\u4f8b\u5982\uff1a</li> <li>JSESSIONID=41C481F0224664BDB28E95081D23D5B8</li> <li>\u4ee5\u4e0a\u7684\u8fd9\u4e2a\u952e\u503c\u5bf9\u6570\u636e\u5176\u5b9e\u5c31\u662fcookie\u5bf9\u8c61\u3002</li> <li>\u5bf9\u4e8esession\u5173\u8054\u7684cookie\u6765\u8bf4\uff0c\u8fd9\u4e2acookie\u662f\u88ab\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u201c\u8fd0\u884c\u5185\u5b58\u201d\u5f53\u4e2d\u3002</li> <li>\u53ea\u8981\u6d4f\u89c8\u5668\u4e0d\u5173\u95ed\uff0c\u7528\u6237\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u5c06\u8fd0\u884c\u5185\u5b58\u4e2d\u7684cookie\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002</li> <li>\u4f8b\u5982\uff0c\u8fd9\u4e2aCookie: JSESSIONID=41C481F0224664BDB28E95081D23D5B8\u5c31\u4f1a\u518d\u6b21\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002</li> <li> <p>\u670d\u52a1\u5668\u5c31\u662f\u6839\u636e41C481F0224664BDB28E95081D23D5B8\u8fd9\u4e2a\u503c\u6765\u627e\u5230\u5bf9\u5e94\u7684session\u5bf9\u8c61\u7684\u3002</p> </li> <li> <p>cookie\u600e\u4e48\u751f\u6210\uff1fcookie\u4fdd\u5b58\u5728\u4ec0\u4e48\u5730\u65b9\uff1fcookie\u6709\u5565\u7528\uff1f\u6d4f\u89c8\u5668\u4ec0\u4e48\u65f6\u5019\u4f1a\u53d1\u9001cookie\uff0c\u53d1\u9001\u54ea\u4e9bcookie\u7ed9\u670d\u52a1\u5668\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f\uff1f</p> </li> <li> <p>cookie\u6700\u7ec8\u662f\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u4e0a\u7684\u3002</p> </li> <li> <p>\u53ef\u4ee5\u4fdd\u5b58\u5728\u8fd0\u884c\u5185\u5b58\u4e2d\u3002\uff08\u6d4f\u89c8\u5668\u53ea\u8981\u5173\u95edcookie\u5c31\u6d88\u5931\u4e86\u3002\uff09</p> </li> <li> <p>\u4e5f\u53ef\u4ee5\u4fdd\u5b58\u5728\u786c\u76d8\u6587\u4ef6\u4e2d\u3002\uff08\u6c38\u4e45\u4fdd\u5b58\u3002\uff09</p> </li> <li> <p>cookie\u6709\u5565\u7528\u5462\uff1f</p> </li> <li> <p>cookie\u548csession\u673a\u5236\u5176\u5b9e\u90fd\u662f\u4e3a\u4e86\u4fdd\u5b58\u4f1a\u8bdd\u7684\u72b6\u6001\u3002</p> </li> <li>cookie\u662f\u5c06\u4f1a\u8bdd\u7684\u72b6\u6001\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u4e0a\u3002\uff08cookie\u6570\u636e\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u4e0a\u7684\u3002\uff09</li> <li>session\u662f\u5c06\u4f1a\u8bdd\u7684\u72b6\u6001\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u7aef\u4e0a\u3002\uff08session\u5bf9\u8c61\u662f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\u3002\uff09</li> <li> <p>\u4e3a\u4ec0\u4e48\u8981\u6709cookie\u548csession\u673a\u5236\u5462\uff1f\u56e0\u4e3aHTTP\u534f\u8bae\u662f\u65e0\u72b6\u6001 \u65e0\u8fde\u63a5\u534f\u8bae\u3002</p> </li> <li> <p>cookie\u7684\u7ecf\u5178\u6848\u4f8b</p> </li> <li> <p>\u4eac\u4e1c\u5546\u57ce\uff0c\u5728\u672a\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u8d2d\u7269\u8f66\u4e2d\u653e\u51e0\u4ef6\u5546\u54c1\u3002\u7136\u540e\u5173\u95ed\u5546\u57ce\uff0c\u518d\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee\u4eac\u4e1c\u5546\u57ce\u7684\u65f6\u5019\uff0c\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u8fd8\u5728\uff0c\u8fd9\u662f\u600e\u4e48\u505a\u7684\uff1f\u6211\u6ca1\u6709\u767b\u5f55\uff0c\u4e3a\u4ec0\u4e48\u8d2d\u7269\u8f66\u4e2d\u8fd8\u6709\u5546\u54c1\u5462\uff1f</p> <ul> <li>\u5c06\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u7f16\u53f7\u653e\u5230cookie\u5f53\u4e2d\uff0ccookie\u4fdd\u5b58\u5728\u786c\u76d8\u6587\u4ef6\u5f53\u4e2d\u3002\u8fd9\u6837\u5373\u4f7f\u5173\u95ed\u6d4f\u89c8\u5668\u3002\u786c\u76d8\u4e0a\u7684cookie\u8fd8\u5728\u3002\u4e0b\u4e00\u6b21\u518d\u6253\u5f00\u4eac\u4e1c\u5546\u57ce\u7684\u65f6\u5019\uff0c\u67e5\u770b\u8d2d\u7269\u8f66\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u8bfb\u53d6\u672c\u5730\u786c\u76d8\u4e2d\u5b58\u50a8\u7684cookie\uff0c\u62ff\u5230\u5546\u54c1\u7f16\u53f7\uff0c\u52a8\u6001\u5c55\u793a\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u3002</li> <li>\u4eac\u4e1c\u5b58\u50a8\u8d2d\u7269\u8f66\u4e2d\u5546\u54c1\u7684cookie\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1aproductIds=xxxxx,yyyy,zzz,kkkk</li> <li>\u6ce8\u610f\uff1acookie\u5982\u679c\u6e05\u9664\u6389\uff0c\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u5c31\u6d88\u5931\u4e86\u3002</li> </ul> </li> <li> <p>126\u90ae\u7bb1\u4e2d\u6709\u4e00\u4e2a\u529f\u80fd\uff1a\u5341\u5929\u5185\u514d\u767b\u5f55</p> <ul> <li>\u8fd9\u4e2a\u529f\u80fd\u4e5f\u662f\u9700\u8981cookie\u6765\u5b9e\u73b0\u7684\u3002</li> <li>\u600e\u4e48\u5b9e\u73b0\u7684\u5462\uff1f</li> <li>\u7528\u6237\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5e76\u4e14\u540c\u65f6\u9009\u62e9\u5341\u5929\u5185\u514d\u767b\u5f55\u3002\u767b\u5f55\u6210\u529f\u540e\u3002\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u4f1a\u4fdd\u5b58\u4e00\u4e2acookie\uff0c\u8fd9\u4e2acookie\u4e2d\u4fdd\u5b58\u4e86\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e2acookie\u662f\u4fdd\u5b58\u5728\u786c\u76d8\u6587\u4ef6\u5f53\u4e2d\u7684\uff0c\u5341\u5929\u6709\u6548\u3002\u5728\u5341\u5929\u5185\u7528\u6237\u518d\u6b21\u8bbf\u95ee126\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u63d0\u4ea4126\u7684\u5173\u8054\u7684cookie\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u63a5\u6536\u5230cookie\u4e4b\u540e\uff0c\u83b7\u53d6\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u9a8c\u8bc1\uff0c\u901a\u8fc7\u4e4b\u540e\uff0c\u81ea\u52a8\u767b\u5f55\u6210\u529f\u3002</li> <li>\u600e\u4e48\u8ba9cookie\u5931\u6548\uff1f<ul> <li>\u5341\u5929\u8fc7\u540e\u81ea\u52a8\u5931\u6548\u3002</li> <li>\u6216\u8005\u6539\u5bc6\u7801\u3002</li> <li>\u6216\u8005\u5728\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u4e0a\u6e05\u9664cookie\u3002</li> </ul> </li> </ul> </li> <li> <p>cookie\u673a\u5236\u548csession\u673a\u5236\u5176\u5b9e\u90fd\u4e0d\u5c5e\u4e8ejava\u4e2d\u7684\u673a\u5236\uff0c\u5b9e\u9645\u4e0acookie\u673a\u5236\u548csession\u673a\u5236\u90fd\u662fHTTP\u534f\u8bae\u7684\u4e00\u90e8\u5206\u3002php\u5f00\u53d1\u4e2d\u4e5f\u6709cookie\u548csession\u673a\u5236\uff0c\u53ea\u8981\u662f\u4f60\u662f\u505aweb\u5f00\u53d1\uff0c\u4e0d\u7ba1\u662f\u4ec0\u4e48\u7f16\u7a0b\u8bed\u8a00\uff0ccookie\u548csession\u673a\u5236\u90fd\u662f\u9700\u8981\u7684\u3002</p> </li> <li> <p>HTTP\u534f\u8bae\u4e2d\u89c4\u5b9a\uff1a\u4efb\u4f55\u4e00\u4e2acookie\u90fd\u662f\u7531name\u548cvalue\u7ec4\u6210\u7684\u3002name\u548cvalue\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u3002</p> </li> <li> <p>\u5728java\u7684servlet\u4e2d\uff0c\u5bf9cookie\u63d0\u4f9b\u4e86\u54ea\u4e9b\u652f\u6301\u5462\uff1f</p> </li> <li> <p>\u63d0\u4f9b\u4e86\u4e00\u4e2aCookie\u7c7b\u6765\u4e13\u95e8\u8868\u793acookie\u6570\u636e\u3002jakarta.servlet.http.Cookie;</p> </li> <li> <p>java\u7a0b\u5e8f\u600e\u4e48\u628acookie\u6570\u636e\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\u5462\uff1fresponse.addCookie(cookie);</p> </li> <li> <p>\u5728HTTP\u534f\u8bae\u4e2d\u662f\u8fd9\u6837\u89c4\u5b9a\u7684\uff1a\u5f53\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u643a\u5e26\u8be5path\u4e0b\u7684cookie\u6570\u636e\u7ed9\u670d\u52a1\u5668\u3002\uff08URL\u3002\uff09</p> </li> <li> <p>\u5173\u4e8ecookie\u7684\u6709\u6548\u65f6\u95f4</p> </li> <li> <p>\u600e\u4e48\u7528java\u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4</p> <ul> <li>cookie.setMaxAge(60 * 60); \u8bbe\u7f6ecookie\u5728\u4e00\u5c0f\u65f6\u4e4b\u540e\u5931\u6548\u3002</li> </ul> </li> <li>\u6ca1\u6709\u8bbe\u7f6e\u6709\u6548\u65f6\u95f4\uff1a\u9ed8\u8ba4\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u8fd0\u884c\u5185\u5b58\u4e2d\uff0c\u6d4f\u89c8\u5668\u5173\u95ed\u5219cookie\u6d88\u5931\u3002</li> <li>\u53ea\u8981\u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4 &gt; 0\uff0c\u8fd9\u4e2acookie\u4e00\u5b9a\u4f1a\u5b58\u50a8\u5230\u786c\u76d8\u6587\u4ef6\u5f53\u4e2d\u3002</li> <li>\u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4 = 0 \u5462\uff1f<ul> <li>cookie\u88ab\u5220\u9664\uff0c\u540c\u540dcookie\u88ab\u5220\u9664\u3002</li> </ul> </li> <li> <p>\u8bbe\u7f6ecookie\u7684\u6709\u6548\u65f6\u95f4 &lt; 0 \u5462\uff1f</p> <ul> <li>\u4fdd\u5b58\u5728\u8fd0\u884c\u5185\u5b58\u4e2d\u3002\u548c\u4e0d\u8bbe\u7f6e\u4e00\u6837\u3002</li> </ul> </li> <li> <p>\u5173\u4e8ecookie\u7684path\uff0ccookie\u5173\u8054\u7684\u8def\u5f84\uff1a</p> </li> <li> <p>\u5047\u8bbe\u73b0\u5728\u53d1\u9001\u7684\u8bf7\u6c42\u8def\u5f84\u662f\u201chttp://localhost:8080/servlet13/cookie/generate\u201d\u751f\u6210\u7684cookie\uff0c\u5982\u679ccookie\u6ca1\u6709\u8bbe\u7f6epath\uff0c\u9ed8\u8ba4\u7684path\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u9ed8\u8ba4\u7684path\u662f\uff1ahttp://localhost:8080/servlet13/cookie \u4ee5\u53ca\u5b83\u7684\u5b50\u8def\u5f84\u3002</li> <li>\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ee5\u540e\u53ea\u8981\u6d4f\u89c8\u5668\u7684\u8bf7\u6c42\u8def\u5f84\u662fhttp://localhost:8080/servlet13/cookie \u8fd9\u4e2a\u8def\u5f84\u4ee5\u53ca\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u5b50\u8def\u5f84\uff0ccookie\u90fd\u4f1a\u88ab\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002</li> </ul> </li> <li> <p>\u624b\u52a8\u8bbe\u7f6ecookie\u7684path</p> <ul> <li>cookie.setPath(\u201c/servlet13\u201d); \u8868\u793a\u53ea\u8981\u662f\u8fd9\u4e2aservlet13\u9879\u76ee\u7684\u8bf7\u6c42\u8def\u5f84\uff0c\u90fd\u4f1a\u63d0\u4ea4\u8fd9\u4e2acookie\u7ed9\u670d\u52a1\u5668\u3002</li> </ul> </li> <li> <p>\u6d4f\u89c8\u5668\u53d1\u9001cookie\u7ed9\u670d\u52a1\u5668\u4e86\uff0c\u670d\u52a1\u5668\u4e2d\u7684java\u7a0b\u5e8f\u600e\u4e48\u63a5\u6536\uff1f</p> </li> <li> <p>```java     Cookie[] cookies = request.getCookies(); // \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u80fd\u8fd4\u56denull     if(cookies != null){         for(Cookie cookie : cookies){             // \u83b7\u53d6cookie\u7684name             String name = cookie.getName();             // \u83b7\u53d6cookie\u7684value             String value = cookie.getValue();         }     }</p> <p>```</p> </li> <li> <p>\u4f7f\u7528cookie\u5b9e\u73b0\u4e00\u4e0b\u5341\u5929\u5185\u514d\u767b\u5f55\u529f\u80fd\u3002</p> </li> <li> <p>\u5148\u5b9e\u73b0\u767b\u5f55\u529f\u80fd</p> <ul> <li>\u767b\u5f55\u6210\u529f</li> <li>\u8df3\u8f6c\u5230\u90e8\u95e8\u5217\u8868\u9875\u9762</li> <li>\u767b\u5f55\u5931\u8d25</li> <li>\u8df3\u8f6c\u5230\u767b\u5f55\u5931\u8d25\u9875\u9762</li> </ul> </li> <li>\u4fee\u6539\u524d\u7aef\u9875\u9762<ul> <li>\u5728\u767b\u5f55\u9875\u9762\u7ed9\u4e00\u4e2a\u590d\u9009\u6846\uff0c\u590d\u9009\u6846\u540e\u9762\u7ed9\u4e00\u53e5\u8bdd\uff1a\u5341\u5929\u5185\u514d\u767b\u5f55\u3002</li> <li>\u7528\u6237\u9009\u62e9\u4e86\u590d\u9009\u6846\uff1a\u8868\u793a\u8981\u652f\u6301\u5341\u5929\u5185\u514d\u767b\u5f55\u3002</li> <li>\u7528\u6237\u6ca1\u6709\u9009\u62e9\u590d\u9009\u6846\uff1a\u8868\u793a\u7528\u6237\u4e0d\u60f3\u4f7f\u7528\u5341\u5929\u5185\u514d\u767b\u5f55\u529f\u80fd\u3002</li> </ul> </li> <li>\u4fee\u6539Servlet\u4e2d\u7684login\u65b9\u6cd5<ul> <li>\u5982\u679c\u7528\u6237\u767b\u5f55\u6210\u529f\u4e86\uff0c\u5e76\u4e14\u7528\u6237\u767b\u5f55\u65f6\u9009\u62e9\u4e86\u5341\u5929\u5185\u514d\u767b\u5f55\u529f\u80fd\uff0c\u8fd9\u4e2a\u65f6\u5019\u5e94\u8be5\u5728Servlet\u7684login\u65b9\u6cd5\u4e2d\u521b\u5efacookie\uff0c\u7528\u6765\u5b58\u50a8\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5e76\u4e14\u8bbe\u7f6e\u8def\u5f84\uff0c\u8bbe\u7f6e\u6709\u6548\u671f\uff0c\u5c06cookie\u54cd\u5e94\u7ed9\u6d4f\u89c8\u5668\u3002\uff08\u6d4f\u89c8\u5668\u5c06\u5176\u81ea\u52a8\u4fdd\u5b58\u5728\u786c\u76d8\u6587\u4ef6\u5f53\u4e2d10\u5929\uff09</li> </ul> </li> <li>\u7528\u6237\u518d\u6b21\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684\u65f6\u5019\uff0c\u8bbf\u95ee\u8fd9\u4e2a\u7f51\u7ad9\u7684\u9996\u9875\u7684\u65f6\u5019\uff0c\u6709\u4e24\u4e2a\u8d70\u5411:<ul> <li>\u8981\u4e48\u8df3\u8f6c\u5230\u90e8\u95e8\u5217\u8868\u9875\u9762</li> <li>\u8981\u4e48\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762</li> <li>\u4ee5\u4e0a\u5206\u522b\u6709\u4e24\u4e2a\u8d70\u5411\uff0c\u8fd9\u663e\u7136\u662f\u9700\u8981\u7f16\u5199java\u7a0b\u5e8f\u8fdb\u884c\u63a7\u5236\u7684\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/","title":"Servlet","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#ideaservlet","title":"IDEA\u521b\u5efaServlet\u9879\u76ee","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#1javase","title":"1\u3001\u521b\u5efa\u4e00\u4e2aJavaSE\u6a21\u5757","text":"<p>\u4e0d\u8981\u521b\u5efaJakartaEE\u6a21\u5757\u7b49\u7b49\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f7f\u7528Maven\uff0c\u6211\u4eec\u53ea\u521b\u5efa\u5355\u7eaf\u7684Tomcat+Servlet+JSP\u9879\u76ee\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#2web","title":"2\u3001\u6dfb\u52a0web\u76ee\u5f55","text":"<p>\u7531\u4e8e\u521b\u5efa\u51fa\u7684\u6a21\u5757\u6ca1\u6709web\u76ee\u5f55\uff0c\u6211\u4eec\u9700\u8981\u53cc\u51fbShift\u641c\u7d22\u201c\u6dfb\u52a0\u6846\u67b6\u652f\u6301\u201d\uff0c\u9009\u62e9Web</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#3tomcat","title":"3\u3001\u5b8c\u5584Tomcat\u8fd0\u884c\u73af\u5883","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servlet_1","title":"Servlet\u751f\u547d\u5468\u671f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#newservletweb","title":"\u81ea\u5df1new\u7684Servlet\u5bf9\u8c61\u4e0d\u53d7Web\u5bb9\u5668\u7684\u7ba1\u7406","text":"<p>Web\u5bb9\u5668\uff08Tomcat\u670d\u52a1\u5668\uff09\u5728\u521b\u5efaServlet\u5bf9\u8c61\u65f6\uff0c\u4f1a\u5148\u521b\u5efa\u4e00\u4e2aHashMap\u96c6\u5408\uff0c\u5c06\u5176\u521b\u5efa\u7684Servlet\u5bf9\u8c61\u90fd\u5b58\u5165\u5230\u96c6\u5408\u5f53\u4e2d\uff0c\u7edf\u4e00\u8fdb\u884c\u7ba1\u7406\u3002</p> <p>\u4f46\u662f\u6211\u4eec\u81ea\u5df1new\u51fa\u6765\u7684Servlet\u5bf9\u8c61\uff0c\u6ca1\u6709\u6dfb\u52a0\u5230\u96c6\u5408\u5f53\u4e2d\uff0c\u4e0d\u53d7Web\u5bb9\u5668\u7684\u7ba1\u7406\u3002</p> <p>\u56e0\u6b64\u81ea\u5df1\u521b\u5efa\u7684Servlet\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u4e0e</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servlet_2","title":"\u670d\u52a1\u5668\u542f\u52a8\u540e\uff0c\u4e0d\u4f1a\u521b\u5efaServlet\u5bf9\u8c61","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_1","title":"\u8bc1\u660e\uff1a","text":"Java<pre><code>public class AServlet implements Servlet {\n\n    public AServlet() {\n        System.out.println(\"AServlet\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\u4e86\");\n    }\n\n    @Override\n    ....\n}\n</code></pre> <p>\u670d\u52a1\u5668\u542f\u52a8\u540e\uff0cAServlet\u7684\u6784\u9020\u65b9\u6cd5\u5e76\u6ca1\u6709\u88ab\u8c03\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_2","title":"\u89e3\u91ca\uff1a","text":"<p>\u5728\u670d\u52a1\u5668\u521a\u521a\u542f\u52a8\u7684\u65f6\u5019\uff0c\u52a0\u5165\u6211\u4eec\u5199\u4e861000\u4e2aServlet\u7c7b\uff0c\u5982\u679c\u90fd\u521b\u5efa\u4e86\u5bf9\u8c61\uff0c\u4f1a\u975e\u5e38\u5360\u7528\u5185\u5b58\u3002</p> <p>\u6839\u636e\u7528\u6237\u53d1\u9001\u7684\u8bf7\u6c42\uff0c\u52a8\u6001\u7684\u521b\u5efaServlet</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servlet_3","title":"\u914d\u7f6eServlet\u7c7b\u5728\u670d\u52a1\u5668\u542f\u52a8\u65f6\uff0c\u81ea\u52a8\u521b\u5efa\u5bf9\u8c61","text":"<p>\u5982\u679c\u5728web.xml\u4e2d\u914d\u7f6e<code>`&lt;load-on-startup&gt;\u4efb\u610f\u4e00\u4e2a\u6574\u6570&lt;/load-on-startup&gt;</code>\uff0c\u90a3\u4e48\u8be5servlet\u7c7b\u4f1a\u5728\u670d\u52a1\u5668\u542f\u52a8\u65f6\u542f\u52a8\u521b\u5efa\u3002</p> <p>\u6574\u6570\u8d8a\u5c0f\uff0c\u8868\u793a\u521b\u5efa\u5bf9\u8c61\u7684\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002\u4e0d\u7528\u5728\u610f\u8d1f\u6570\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u6570\u7ec4\u4e0b\u6807</p> XML<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;aservlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.hahajiukanjian.servlet.AServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;aservlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/a&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_3","title":"\u751f\u547d\u5468\u671f","text":"Bash<pre><code>AServlet\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\u4e86\nAServlet init method execute!\nAServlet service method execute!\n--------------\u8bbf\u95ee\u4e86\u4e00\u6b21http://localhost:8080/lifecycle/a--------------\nAServlet service method execute!\nAServlet service method execute!\nAServlet service method execute!\nAServlet service method execute!\nAServlet service method execute!\nAServlet service method execute!\n--------------\u8bbf\u95ee\u4e86\u591a\u6b21http://localhost:8080/lifecycle/a--------------\n</code></pre> <p>\u6839\u636e\u4ee5\u4e0a\u7ed3\u679c\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5</p> <ul> <li>\u7528\u6237\u5728\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019Servlet\u5bf9\u8c61\u88ab\u5b9e\u4f8b\u5316\uff08AServlet\u7684\u6784\u9020\u65b9\u6cd5\u88ab\u6267\u884c\u4e86\u3002\u5e76\u4e14\u6267\u884c\u7684\u662f\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002\uff09</li> <li>AServlet\u5bf9\u8c61\u88ab\u521b\u5efa\u51fa\u6765\u4e4b\u540e\uff0cTomcat\u670d\u52a1\u5668\u9a6c\u4e0a\u8c03\u7528\u4e86AServlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u3002\uff08init\u65b9\u6cd5\u5728\u6267\u884c\u7684\u65f6\u5019\uff0cAServlet\u5bf9\u8c61\u5df2\u7ecf\u5b58\u5728\u4e86\u3002\u5df2\u7ecf\u88ab\u521b\u5efa\u51fa\u6765\u4e86\u3002\uff09</li> <li> <p>\u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cinit\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\uff0cTomcat\u670d\u52a1\u5668\u9a6c\u4e0a\u8c03\u7528AServlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u3002</p> </li> <li> <p>\u6839\u636e\u4ee5\u4e0a\u8f93\u51fa\u7ed3\u679c\u5f97\u77e5\uff0c\u7528\u6237\u5728\u53d1\u9001\u7b2c\u4e8c\u6b21\uff0c\u6216\u8005\u7b2c\u4e09\u6b21\uff0c\u6216\u8005\u7b2c\u56db\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cServlet\u5bf9\u8c61\u5e76\u6ca1\u6709\u65b0\u5efa\uff0c\u8fd8\u662f\u4f7f\u7528\u4e4b\u524d\u521b\u5efa\u597d\u7684Servlet\u5bf9\u8c61\uff0c\u76f4\u63a5\u8c03\u7528\u8be5Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\uff0c\u8fd9\u8bf4\u660e\uff1a</p> <ol> <li> <p>Servlet\u5bf9\u8c61\u662f\u5355\u4f8b\u7684\uff08\u5355\u5b9e\u4f8b\u7684\u3002\u4f46\u662f\u8981\u6ce8\u610f\uff1aServlet\u5bf9\u8c61\u662f\u5355\u5b9e\u4f8b\u7684\uff0c\u4f46\u662fServlet\u7c7b\u5e76\u4e0d\u7b26\u5408\u5355\u4f8b\u6a21\u5f0f\u3002\u6211\u4eec\u79f0\u4e4b\u4e3a\u5047\u5355\u4f8b\u3002\u4e4b\u6240\u4ee5\u5355\u4f8b\u662f\u56e0\u4e3aServlet\u5bf9\u8c61\u7684\u521b\u5efa\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u7ba1\u4e0d\u7740\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u521b\u5efa\u53ea\u80fd\u662fTomcat\u6765\u8bf4\u4e86\u7b97\uff0cTomcat\u53ea\u521b\u5efa\u4e86\u4e00\u4e2a\uff0c\u6240\u4ee5\u5bfc\u81f4\u4e86\u5355\u4f8b\uff0c\u4f46\u662f\u5c5e\u4e8e\u5047\u5355\u4f8b\u3002\u771f\u5355\u4f8b\u6a21\u5f0f\uff0c\u6784\u9020\u65b9\u6cd5\u662f\u79c1\u6709\u5316\u7684\u3002\uff09</p> </li> <li> <p>\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3001init\u65b9\u6cd5\u53ea\u5728\u7b2c\u4e00\u6b21\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002init\u65b9\u6cd5\u4e5f\u53ea\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002</p> </li> <li> <p>\u53ea\u8981\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff1aservice\u65b9\u6cd5\u5fc5\u7136\u4f1a\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002\u53d1\u9001100\u6b21\u8bf7\u6c42\uff0cservice\u65b9\u6cd5\u4f1a\u88ab\u8c03\u7528100\u6b21\u3002</p> </li> </ol> </li> <li> <p>\u5173\u95ed\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u63a7\u5236\u53f0\u8f93\u51fa\u4e86\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> Text Only<pre><code>AServlet's destroy method execute!\n</code></pre> </li> <li> <p>\u901a\u8fc7\u4ee5\u4e0a\u8f93\u51fa\u5185\u5bb9\uff0c\u53ef\u4ee5\u5f97\u51fa\u4ee5\u4e0b\u7ed3\u8bba\uff1a</p> <ul> <li>Servlet\u7684destroy\u65b9\u6cd5\u53ea\u88abTomcat\u670d\u52a1\u5668\u8c03\u7528\u4e00\u6b21\u3002</li> <li>destroy\u65b9\u6cd5\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u88ab\u8c03\u7528\u7684\uff1f<ul> <li>\u5728\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u3002</li> <li>\u56e0\u4e3a\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u8981\u9500\u6bc1AServlet\u5bf9\u8c61\u7684\u5185\u5b58\u3002</li> <li>\u670d\u52a1\u5668\u5728\u9500\u6bc1AServlet\u5bf9\u8c61\u5185\u5b58\u4e4b\u524d\uff0cTomcat\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u8c03\u7528AServlet\u5bf9\u8c61\u7684destroy\u65b9\u6cd5\u3002</li> </ul> </li> </ul> </li> <li> <p>\u8bf7\u95ee\uff1adestroy\u65b9\u6cd5\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5bf9\u8c61\u9500\u6bc1\u4e86\u8fd8\u662f\u6ca1\u6709\u9500\u6bc1\u5462\uff1f</p> <ul> <li>destroy\u65b9\u6cd5\u6267\u884c\u7684\u65f6\u5019AServlet\u5bf9\u8c61\u8fd8\u5728\uff0c\u6ca1\u6709\u88ab\u9500\u6bc1\u3002destroy\u65b9\u6cd5\u6267\u884c\u7ed3\u675f\u4e4b\u540e\uff0cAServlet\u5bf9\u8c61\u7684\u5185\u5b58\u624d\u4f1a\u88abTomcat\u91ca\u653e\u3002</li> </ul> </li> <li> <p>Servlet\u5bf9\u8c61\u66f4\u50cf\u4e00\u4e2a\u4eba\u7684\u4e00\u751f\uff1a</p> <ul> <li>Servlet\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u51fa\u751f\u4e86\u3002</li> <li>Servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u6b63\u5728\u63a5\u53d7\u6559\u80b2\u3002</li> <li>Servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4f60\u5df2\u7ecf\u5f00\u59cb\u5de5\u4f5c\u4e86\uff0c\u5df2\u7ecf\u5f00\u59cb\u4e3a\u4eba\u7c7b\u63d0\u4f9b\u670d\u52a1\u4e86\u3002</li> <li>Servlet\u5bf9\u8c61\u7684destroy\u65b9\u6cd5\u7684\u6267\u884c\uff1a\u6807\u5fd7\u7740\u4e34\u7ec8\u3002\u6709\u4ec0\u4e48\u9057\u8a00\uff0c\u6293\u7d27\u7684\u3002\u8981\u4e0d\u7136\uff0c\u6765\u4e0d\u53ca\u4e86\u3002</li> </ul> </li> <li> <p>\u5173\u4e8eServlet\u7c7b\u4e2d\u65b9\u6cd5\u7684\u8c03\u7528\u6b21\u6570\uff1f</p> <ul> <li>\u6784\u9020\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> <li>init\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> <li>service\u65b9\u6cd5\uff1a\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\u5219\u6267\u884c\u4e00\u6b21\uff0c\u53d1\u9001N\u6b21\u8bf7\u6c42\u5219\u6267\u884cN\u6b21\u3002</li> <li>destroy\u65b9\u6cd5\u53ea\u6267\u884c\u4e00\u6b21\u3002</li> </ul> </li> </ul> <p>tips</p> <p>Q\uff1a\u5728Servlet\u4e2d\uff0cinit\u65b9\u6cd5\u548c\u6784\u9020\u65b9\u6cd5\u90fd\u662f\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u5e76\u4e14\u5b83\u4eec\u6267\u884c\u7684\u65f6\u95f4\u5927\u81f4\u76f8\u540c\u3002\u4e3a\u4ec0\u4e48Sun\u516c\u53f8\u5728\u5236\u5b9aServlet\u89c4\u8303\u7684\u65f6\u5019\uff0c\u5236\u5b9a\u4e86init\u65b9\u6cd5\u5462\uff1f\u76f4\u63a5\u4f7f\u7528\u6784\u9020\u65b9\u6cd5\u4e0d\u5c31\u884c\u4e86\u5417\uff1f</p> <p>A\uff1a\u5982\u679c\u7a0b\u5e8f\u5458\u4f7f\u7528\u6784\u9020\u65b9\u6cd5\u521d\u59cb\u5316Servlet\u5bf9\u8c61\uff0c\u5f88\u5bb9\u6613\u5199\u51fa\u6709\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\u3002\u800cTomcat\u670d\u52a1\u5668\uff0c\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u521b\u5efaServlet\u5bf9\u8c61\u65f6\uff0c\u53ea\u80fd\u8c03\u7528\u65e0\u53c2\u6784\u9020\u65b9\u6cd5\u3002\u56e0\u6b64\u4e0d\u5982\u91cd\u65b0\u5236\u5b9a\u4e00\u4e2a\u89c4\u8303\uff0c\u4f7f\u7528init\u65b9\u6cd5\u521d\u59cb\u5316Servlet\u5bf9\u8c61\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_4","title":"\u9002\u914d\u5668\u6a21\u5f0f","text":"<p>\u6211\u4eec\u7684\u624b\u673a\u76f4\u63a5\u63d2\u5728220V\u7684\u7535\u538b\u4e0a\uff0c\u624b\u673a\u53ef\u80fd\u4f1a\u62a5\u5e9f\u6389\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u624b\u673a\u7684\u63d2\u5934\uff08\u5145\u7535\u9002\u914d\u5668\uff09</p> <p>\u5728AServlet\u5b9e\u73b0Servlet\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u9700\u8981\u5b9e\u73b0\u5f88\u591a\u7684\u65b9\u6cd5\uff0c\u800c\u6211\u4eec\u5b9e\u9645\u5e38\u7528\u7684\u53ea\u6709init\u3001service\u3001destory\u65b9\u6cd5\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2aAAdapter\u62bd\u8c61\u7c7b\uff0c\u5b9e\u73b0\u5176\u4ed6\u4e0d\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u62bd\u8c61init\u3001service\u3001destory\u65b9\u6cd5\u3002</p> <p>\u4f46\u662f\u8fd9\u6837AServlet\u53ea\u80fd\u901a\u8fc7\u7ee7\u627f\uff08extends\uff09\u7684\u65b9\u5f0f\uff0c\u6765\u5b9e\u73b0Servlet\u7c7b\u7684\u65b9\u6cd5\uff0c\u4f1a\u5360\u7528\u7ee7\u627f\u4f4d\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_5","title":"\u5b8c\u5584\u9002\u914d\u5668","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#1servletconfig","title":"1\u3001\u63a5\u6536\u53ef\u80fd\u4f1a\u7528\u5230\u7684ServletConfig\u5bf9\u8c61","text":"<p>tomcat\u4e3a\u4ee3\u7801\u5927\u81f4\u5199\u6cd5</p> Java<pre><code>public class Tomcat {\n    public static void main(String[] args) {\n        // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\uff0c\u8bfb\u53d6web.xml\u6587\u4ef6\u4e2d\u7684\u6570\u636e\n        Class clazz = Class.forName(\"com.hahajiukanjian.servlet.LoginServlet\");\n        Object obj = clazz.newInstance();\n        // \u5411\u4e0b\u8f6c\u578b\n        Servlet servlet = (Servlet)obj;\n\n        // \u521b\u5efaServletConfig\u5bf9\u8c61\n        // Tomcat\u670d\u52a1\u5668\u8d1f\u8d23\u5c06ServletConfig\u5bf9\u8c61\u5b9e\u4f8b\u5316\u51fa\u6765\u3002\n        // \u591a\u6001\uff08Tomcat\u670d\u52a1\u5668\u5b8c\u5168\u5b9e\u73b0\u4e86Servlet\u89c4\u8303\uff09\n        ServletConfig servletConfig = new org.apache.catalina.core.StandardWrapperFacade();\n\n        // \u8c03\u7528init\u65b9\u6cd5\n        servlet.init(servletConfig);\n\n        // \u7b49\u5f85\u8c03\u7528service\u65b9\u6cd5\n    }\n}\n</code></pre> <p>\u5728\u521b\u5efaServlet\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4f1a\u521b\u5efaServletConfig\u5bf9\u8c61\u3002\u5c06\u5176\u4f5c\u4e3a\u5f62\u53c2\u4f20\u5165servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u4e2d\u3002</p> <p>\u6211\u4eec\u521b\u5efa\u7684\u9002\u914d\u5668\uff0c\u53ea\u62bd\u8c61\u4e86service\u65b9\u6cd5\u3002<code>public abstract void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException;</code></p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u65e0\u6cd5\u63a5\u6536\u5230servletConfig\u5f62\u53c2\u7684\u503c\u3002\u6211\u4eec\u9700\u8981\u5bf9\u9002\u914d\u5668\u8fdb\u884c\u5b8c\u5584\u3002\u4f7f\u6211\u4eec\u5728\u7ee7\u627f\u9002\u914d\u5668\u7684\u65f6\u5019\u80fd\u591f\u5f97\u5230servletConfig\u7684\u503c</p> Java<pre><code>public abstract class AdapterServlet implements Servlet {\n\n    private ServletConfig servletConfig;\n\n    @Override\n    public ServletConfig getServletConfig() {\n        return servletConfig;\n    }\n\n    @Override\n    public void init(ServletConfig servletConfig) throws ServletException {\n        System.out.println(\"AdapterServlet's init method is execute\");\n        this.servletConfig = servletConfig;\n    }\n\n    ....\n}\n</code></pre> <p>\u6211\u4eec\u5728AdapterServlet\uff08\u9002\u914d\u5668Servlet\u7c7b\uff09\u4e2d\u6dfb\u52a0\u4e86\u79c1\u6709\u7684\u6210\u5458\u53d8\u91cfservletConfig\u3002\u5e76\u521b\u5efa\u4e86get\u65b9\u6cd5\u3002\u8fd9\u6837\u901a\u8fc7\u5b50\u7c7b\u8c03\u7528<code>this.getServletConfig()</code>\uff0c\u5373\u53ef\u83b7\u5f97\u5f62\u53c2servletConfig\u7684\u503c\u3002</p> <p>\u67e5\u770b\u8f93\u51fa\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#2initfinal","title":"2\u3001\u7ed9\u7236\u7c7b\u7684init\u65b9\u6cd5\u52a0\u4e0afinal\u4fee\u9970","text":"<p>\u5982\u679c\u5b50\u7c7b\u91cd\u5199init\u65b9\u6cd5\uff0c\u6b65\u9aa41\u5c31\u4f1a\u5931\u6548</p> Java<pre><code>public class LoginServlet extends AdapterServlet {\n\n    @Override\n    public void init(ServletConfig servletConfig) throws ServletException {\n    }\n\n    @Override\n    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {\n        System.out.println(\"\u54c8\u54c8\u5c31\u770b\u89c1\");\n        System.out.println(this.getServletConfig());\n    }\n}\n</code></pre> <p>\u5b50\u7c7b\u91cd\u5199\u4e86init\u65b9\u6cd5\uff0c\u7236\u7c7b\uff08AdapterServlet\uff09\u7684init\u65b9\u6cd5\u4e0d\u4f1a\u88ab\u6267\u884c\u3002\u5bfc\u81f4service\u4e2d\u83b7\u53d6\u7684servletConfig\u5bf9\u8c61\u7684\u503c\u4e3anull\u3002</p> <p>Q\uff1a\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f</p> <p>A\uff1a\u5c06\u7236\u7c7b\u7684init\u65b9\u6cd5\u52a0\u4e0afinal\u4fee\u9970\uff0c\u4f7f\u5b50\u7c7b\u4e0d\u80fd\u91cd\u5199\u8be5\u65b9\u6cd5\u3002</p> Java<pre><code>public class AdapterServlet implements Servlet {\n    ...\n    public final void init(ServletConfig servletConfig) throws ServletException {\n        this.servletConfig = servletConfig;\n    }\n    ...\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#3init","title":"3\u3001\u63d0\u4f9b\u4e00\u4e2a\u65e0\u53c2\u7684init\u65b9\u6cd5\u4f9b\u5b50\u7c7b\u91cd\u5199","text":"<p>\u7236\u7c7b\u5f53\u4e2d\u6709\u53c2\u6570\u7684init\u65b9\u6cd5\u5df2\u7ecf\u52a0\u4e0a\u4e86final\u4fee\u9970\uff0c\u65e0\u6cd5\u88ab\u5b50\u7c7b\u91cd\u5199\u3002\u800c\u5b50\u7c7b\u5728\u5199\u4e1a\u52a1\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u9700\u8981\u91cd\u5199init\u65b9\u6cd5\uff0c\u6765\u8fbe\u5230\u4e1a\u52a1\u7684\u9700\u6c42\u3002\u8fd9\u65f6\u5019\u5e94\u8be5\u600e\u4e48\u529e\u5462\uff1f</p> <p>\u8ba9\u7236\u7c7b\u63d0\u4f9b\u4e00\u4e2a\u65e0\u53c2\u7684init\u65b9\u6cd5\u3002</p> Java<pre><code>public class AdapterServlet implements Servlet {\n    ...\n    public final void init(ServletConfig servletConfig) throws ServletException {\n        this.servletConfig = servletConfig;\n        init();  // &lt;============\n    }\n    public void init() {} // &lt;===============\n    ...\n}\n</code></pre> <p>\u5e76\u4e14\u5728\u6709\u53c2\u6570\u7684init\u65b9\u6cd5\uff08Tomcat\u670d\u52a1\u5668\u4e2d\u8c03\u7528\u7684\u662f\u6709\u53c2\u6570\u7684init\u65b9\u6cd5\uff09\u4e2d\u8c03\u7528\u8fd9\u4e2a\u65e0\u53c2\u6570\u7684init\u65b9\u6cd5\u3002</p> <p>\u8fd9\u6837\uff0c\u5982\u679c\u5b50\u7c7b\u9700\u8981\u91cd\u5199init\u65b9\u6cd5\u65f6\uff0c\u53ea\u9700\u8981\u91cd\u5199\u65e0\u53c2\u6570\u7684init\u65b9\u6cd5\u5c31\u53ef\u4ee5\u5566\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_6","title":"\u5b98\u65b9\u63d0\u4f9b\u7684\u5b8c\u5584\u9002\u914d\u5668","text":"<p>\u5305\u8def\u5f84\uff1ajakarta.servlet.GenericServlet;</p> Java<pre><code>public abstract class GenericServlet implements Servlet, ServletConfig, Serializable {\n    private transient ServletConfig config;     // &lt;==========\n\n    // .......\n\n    public void init(ServletConfig config) throws ServletException {\n        this.config = config;\n        this.init();        // &lt;=========\n    }\n\n    public void init() throws ServletException {}       // &lt;=========\n\n    public abstract void service(ServletRequest var1, ServletResponse var2) throws ServletException, IOException;\n    // ......\n}\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5b98\u65b9\u7684\u9002\u914d\u5668\u90e8\u5206\u5b9e\u73b0\u601d\u8def\u4e0e\u6211\u4eec\u4e0a\u9762\u7684\u601d\u8def\u7c7b\u4f3c\uff08\u56e0\u4e3a\u6211\u4eec\u4e0a\u9762\u7684\u601d\u8def\u5c31\u662f\u8ddf\u7740\u5b98\u65b9\u6765\u7684\u5566\uff09\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servletconfig","title":"ServletConfig","text":"<p>ServletConfig\u662fServlet\u4e2d\u7684\u4e00\u4e2a\u89c4\u8303\uff08\u63a5\u53e3\uff09</p> <p>\u7531Sun\u516c\u53f8\u63d0\u4f9b\u3002Tomcat\u8fdb\u884c\u5b9e\u73b0\uff08org.apache.catalina.core.SdardWrapperFacade\uff09</p> <p>\u5728\u4e0a\u9762\uff0c\u6211\u4eec\u7528\u4e86\u5f88\u5de7\u5999\u7684\u601d\u8def\u83b7\u53d6\u5230\u4e86ServletConfig\u5bf9\u8c61\u3002\u5b83\u6709\u4ec0\u4e48\u4f5c\u7528\u5462\uff1f</p> <p>\u4ed6\u7684\u4f5c\u7528\u5c31\u662f\uff1a\u83b7\u53d6\u6211\u4eec\u81ea\u5df1\u5728web.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\u5185\u5bb9\u4fe1\u606f\u3002</p> XML<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;configservlet02&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.hahajiukanjian.servlet.ConfigServlet02&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;configservlet02&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/test02&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre> <ul> <li> <p>\u4e00\u4e2aServlet\u5bf9\u5e94\u4e00\u4e2aServletConfig\u5bf9\u8c61\u3002</p> </li> <li> <p>Servlet\u5bf9\u8c61\u662fTomcat\u670d\u52a1\u5668\u521b\u5efa\uff0c\u5e76\u4e14ServletConfig\u5bf9\u8c61\u4e5f\u662fTomcat\u670d\u52a1\u5668\u521b\u5efa\u3002\u5e76\u4e14\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4ed6\u4eec\u90fd\u662f\u5728\u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u521b\u5efa\u3002</p> </li> <li> <p>Tomcat\u670d\u52a1\u5668\u8c03\u7528Servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5\u7684\u65f6\u5019\u9700\u8981\u4f20\u4e00\u4e2aServletConfig\u5bf9\u8c61\u7684\u53c2\u6570\u7ed9init\u65b9\u6cd5\u3002</p> </li> <li> <p>ServletConfig\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u662fTomcat\u670d\u52a1\u5668\u7ed9\u5b9e\u73b0\u7684\u3002\uff08Tomcat\u670d\u52a1\u5668\u8bf4\u7684\u5c31\u662fWEB\u670d\u52a1\u5668\u3002\uff09</p> </li> <li> <p>ServletConfig\u63a5\u53e3\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u65b9\u6cd5\uff1f</p> </li> <li> <p><code>java     public String getInitParameter(String name); // \u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u7684name\u83b7\u53d6value     public Enumeration&lt;String&gt; getInitParameterNames(); // \u83b7\u53d6\u6240\u6709\u7684\u521d\u59cb\u5316\u53c2\u6570\u7684name     public ServletContext getServletContext(); // \u83b7\u53d6ServletContext\u5bf9\u8c61     public String getServletName(); // \u83b7\u53d6Servlet\u7684name</code></p> </li> <li> <p>\u4ee5\u4e0a\u65b9\u6cd5\u5728Servlet\u7c7b\u5f53\u4e2d\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528this\u53bb\u8c03\u7528\u3002\u56e0\u4e3aGenericServlet\u5b9e\u73b0\u4e86ServletConfig\u63a5\u53e3\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servletcontext","title":"ServletContext","text":"<p>ServletContext\u662fServlet\u4e2d\u7684\u89c4\u8303\uff08\u63a5\u53e3\uff09</p> <p>\u7531Sun\u516c\u53f8\u8bbe\u8ba1\u63d0\u4f9b\u3002Tomcat\u5b9e\u73b0\uff08org.apache.catalina.core.ApplicationContextFacade\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#webappservletcontext","title":"\u4e00\u4e2awebapp\u4e2d\u5171\u4eab\u4e00\u4e2aServletContext","text":"<p>\u5728ServletConfig\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u4e86\u5b83\u5927\u90e8\u5206\u65b9\u6cd5\u7684\u4f5c\u7528\u3002\u4f46\u662f\u4f7f\u7528<code>getServletContext</code>\u65b9\u6cd5\u83b7\u53d6\u5230\u7684ServletContext\u662f\u7528\u6765\u5e72\u4ec0\u4e48\u7684\uff0c\u6211\u4eec\u8fd8\u4e0d\u77e5\u9053\u3002\u73b0\u5728\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0bServletContext</p> Java<pre><code>public class AServlet extends GenericServlet {\n\n    @Override\n    public void service(ServletRequest request, ServletResponse response) throws ServletException, IOException {\n        response.setContentType(\"text/html\");\n        PrintWriter out = response.getWriter();\n\n        ServletContext application = this.getServletContext();\n        out.print(application.toString());\n    }\n}\n</code></pre> <p>\u5148\u83b7\u53d6\u5230ServletContext\u5e76\u5c06\u5176\u8f93\u51fa\u5230\u9875\u9762\u4e0a\uff08\u540c\u65f6\u8fd8\u6709\u4e00\u4e2aBServlet\uff09</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0cA/BServlet\u7684ServletContext\u662f\u540c\u4e00\u4e2a\u503c\u3002</p> <p>ServletContext\u7684\u4f5c\u7528\u662f\u5305\u542b\u5f53\u524dwebapp\u4e2d\u6240\u6709servlet\u5bf9\u8c61\u7684\u6570\u636e\uff08\u5305\u542b\u4e00\u6574\u4e2aweb.xml)</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servletcontext_1","title":"ServletContext\u7684\u5e38\u7528\u65b9\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#webxml","title":"\u83b7\u53d6web.xml\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9","text":"Java<pre><code>public String getInitParameter(String name); // \u901a\u8fc7\u521d\u59cb\u5316\u53c2\u6570\u7684name\u83b7\u53d6value\npublic Enumeration&lt;String&gt; getInitParameterNames(); // \u83b7\u53d6\u6240\u6709\u7684\u521d\u59cb\u5316\u53c2\u6570\u7684name\n</code></pre> XML<pre><code>&lt;!--\u4ee5\u4e0a\u4e24\u4e2a\u65b9\u6cd5\u662fServletContext\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u4ec0\u4e48\u4fe1\u606f\uff1f\u662f\u4ee5\u4e0b\u7684\u914d\u7f6e\u4fe1\u606f--&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;pageSize&lt;/param-name&gt;\n    &lt;param-value&gt;10&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;startIndex&lt;/param-name&gt;\n    &lt;param-value&gt;0&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;!--\u6ce8\u610f\uff1a\u4ee5\u4e0a\u7684\u914d\u7f6e\u4fe1\u606f\u5c5e\u4e8e\u5e94\u7528\u7ea7\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u4e00\u822c\u4e00\u4e2a\u9879\u76ee\u4e2d\u5171\u4eab\u7684\u914d\u7f6e\u4fe1\u606f\u4f1a\u653e\u5230\u4ee5\u4e0a\u7684\u6807\u7b7e\u5f53\u4e2d\u3002--&gt;\n&lt;!--\u5982\u679c\u4f60\u7684\u914d\u7f6e\u4fe1\u606f\u53ea\u662f\u60f3\u7ed9\u67d0\u4e00\u4e2aservlet\u4f5c\u4e3a\u53c2\u8003\uff0c\u90a3\u4e48\u4f60\u914d\u7f6e\u5230servlet\u6807\u7b7e\u5f53\u4e2d\u5373\u53ef\uff0c\u4f7f\u7528ServletConfig\u5bf9\u8c61\u6765\u83b7\u53d6\u3002--&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#webapp","title":"\u83b7\u53d6\u5f53\u524dwebapp\u7684\u6839\u8def\u5f84\u540d\u79f0","text":"Java<pre><code>// \u5728java\u6e90\u7801\u4e2d\u5f53\u4e2d\u6709\u4e00\u4e9b\u5730\u65b9\u53ef\u80fd\u4f1a\u9700\u8981\u5e94\u7528\u7684\u6839\u8def\u5f84\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u52a8\u6001\u83b7\u53d6\u5e94\u7528\u7684\u6839\u8def\u5f84\n// \u5728java\u6e90\u7801\u5f53\u4e2d\uff0c\u4e0d\u8981\u5c06\u5e94\u7528\u7684\u6839\u8def\u5f84\u5199\u6b7b\uff0c\u56e0\u4e3a\u4f60\u6c38\u8fdc\u90fd\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5e94\u7528\u5728\u6700\u7ec8\u90e8\u7f72\u7684\u65f6\u5019\uff0c\u8d77\u4e00\u4e2a\u4ec0\u4e48\u540d\u5b57\u3002\npublic String getContextPath();\n// String contextPath = application.getContextPath();\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#os","title":"\u83b7\u53d6\u5f53\u524d\u6587\u4ef6\u7684\u771f\u5b9e\u8def\u5f84\uff08\u5728OS\u4e2d\u7684\u7edd\u5bf9\u8def\u5f84\uff09","text":"Java<pre><code>// \u83b7\u53d6\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff08\u771f\u5b9e\u8def\u5f84\uff09\npublic String getRealPath(String path);\napplication.getRealPath(\"/\") // \u83b7\u53d6\u6839\uff08webapp\uff09\u5728OS\u4e2d\u7684\u771f\u5b9e\u8def\u5f84\n</code></pre> Java<pre><code>// \u901a\u8fc7ServletContext\u5bf9\u8c61\u4e5f\u662f\u53ef\u4ee5\u8bb0\u5f55\u65e5\u5fd7\u7684\npublic void log(String message);\npublic void log(String message, Throwable t);\n// \u8fd9\u4e9b\u65e5\u5fd7\u4fe1\u606f\u8bb0\u5f55\u5230\u54ea\u91cc\u4e86\uff1f\n// localhost.2021-11-05.log\n\n// Tomcat\u670d\u52a1\u5668\u7684logs\u76ee\u5f55\u4e0b\u90fd\u6709\u54ea\u4e9b\u65e5\u5fd7\u6587\u4ef6\uff1f\n//catalina.2021-11-05.log \u670d\u52a1\u5668\u7aef\u7684java\u7a0b\u5e8f\u8fd0\u884c\u7684\u63a7\u5236\u53f0\u4fe1\u606f\u3002\n//localhost.2021-11-05.log ServletContext\u5bf9\u8c61\u7684log\u65b9\u6cd5\u8bb0\u5f55\u7684\u65e5\u5fd7\u4fe1\u606f\u5b58\u50a8\u5230\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002\n//localhost_access_log.2021-11-05.txt \u8bbf\u95ee\u65e5\u5fd7\n\napplication.log(\"\u4f60\u597d\uff0c\u6b22\u8fce\u4f7f\u7528CServlet\u8fdb\u7a0b\u3002\u8fd9\u662f\u4e00\u6761\u65e5\u5fd7\u8bb0\u5f55\");\n\nint age = 17;\nif (age &lt;= 18) {\n    application.log(\"\u4f60\u672a\u6ee118\u5c81\uff0c\u7981\u6b62\u8bbf\u95ee\ud83c\ude32\ufe0f\", new RuntimeException(\"\u5c0f\u5c41\u5b69\uff0c\u5feb\u8d70\u5f00\"));\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_7","title":"\u6dfb\u52a0\u3001\u83b7\u53d6\u3001\u5220\u9664 \u5e94\u7528\u57df\u4e2d\u7684\u6570\u636e","text":"Java<pre><code>// \u5b58\uff08\u600e\u4e48\u5411ServletContext\u5e94\u7528\u57df\u4e2d\u5b58\u6570\u636e\uff09\npublic void setAttribute(String name, Object value); // map.put(k, v)\n// \u53d6\uff08\u600e\u4e48\u4eceServletContext\u5e94\u7528\u57df\u4e2d\u53d6\u6570\u636e\uff09\npublic Object getAttribute(String name); // Object v = map.get(k)\n// \u5220\uff08\u600e\u4e48\u5220\u9664ServletContext\u5e94\u7528\u57df\u4e2d\u7684\u6570\u636e\uff09\npublic void removeAttribute(String name); // map.remove(k)\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_8","title":"\u95ee\u9898\u4e0e\u56de\u7b54","text":"<p>ServletContext\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u540d\u5b57\uff1a\u5e94\u7528\u57df\uff08\u540e\u9762\u8fd8\u6709\u5176\u4ed6\u57df\uff1a\u8bf7\u6c42\u57df\u3001\u4f1a\u8bdd\u57df....\uff09</p> <p>\u5982\u679c\u6240\u6709\u7528\u6237\u5171\u4eab\u4e00\u4efd\u6570\u636e\u3001\u6570\u636e\u91cf\u8f83\u5c0f\u3001\u6570\u636e\u56fa\u5b9a\uff08\u4e0d\u7ecf\u5e38\u4fee\u6539\uff09\uff0c\u90a3\u4e48\u8fd9\u6837\u7684\u6570\u636e\u53ef\u4ee5\u653e\u5230ServletContext\u4e2d\uff08\u4e5f\u5c31\u662f\u653e\u5230web.xml\u4e2d\u7684<code>context-param</code>\u6807\u7b7e\u4e2d</p> <p>Q\uff1a\u4e3a\u4ec0\u4e48\u662f\u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u6570\u636e\uff0c\u624d\u80fd\u653e\u5230\u5e94\u7528\u57df\u4e2d</p> <p>A\uff1a\u4e0d\u662f\u5171\u4eab\u7684\u6ca1\u6709\u610f\u4e49\u3002\u56e0\u4e3aServletContext\u8fd9\u4e2a\u5bf9\u8c61\u5728\u4e00\u4e2awebapp\u4e2d\u53ea\u6709\u4e00\u4e2a\u3002\u53ea\u6709\u9700\u8981\u5171\u4eab\u7684\u6570\u636e\u653e\u5165\u5176\u4e2d\u624d\u6709\u610f\u4e49</p> <p>Q\uff1a\u4e3a\u4ec0\u4e48\u8981\u6570\u636e\u91cf\u5c0f\uff0c\u624d\u80fd\u653e\u5230\u5e94\u7528\u57df\u4e2d</p> <p>A\uff1a\u8fd9\u4e9b\u6570\u636e\u5728\u670d\u52a1\u5668\u8fd0\u884c\u65f6\u4f1a\u653e\u5165\u5806\u5185\u5b58\u4e2d\u3002\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5927\uff0c\u4f1a\u5360\u7528\u592a\u591a\u7684\u5806\u5185\u5b58\uff0c\u62d6\u6162\u670d\u52a1\u5668\u8fd0\u884c\u7684\u901f\u5ea6\u3002\u5e76\u4e14ServletContext\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u6bd4\u8f83\u957f\uff0c\u5728\u670d\u52a1\u5668\u5173\u95ed\u7684\u65f6\u5019\u624d\u4f1a\u88ab\u9500\u6bc1\uff0c\u4f1a\u5f71\u54cd\u670d\u52a1\u5668\u7684\u6027\u80fd\u3002\u5360\u7528\u5185\u5b58\u8f83\u5c0f\u7684\u6570\u636e\u91cf\u53ef\u4ee5\u8003\u8651\u653e\u8fdb\u53bb\u3002</p> <p>Q\uff1a\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e9b\u6570\u636e\u5f88\u5c11\u88ab\u4fee\u6539\uff0c\u624d\u80fd\u653e\u5230\u5e94\u7528\u57df\u4e2d</p> <p>A\uff1a\u6240\u6709\u7528\u6237\u5171\u4eab\u7684\u6570\u636e\uff0c\u5982\u679c\u6d89\u53ca\u5230\u9700\u8981\u4fee\u6539\u7684\u64cd\u4f5c\uff0c\u5fc5\u7136\u4f1a\u5b58\u5728\u7ebf\u7a0b\u5e76\u53d1\u6240\u5bfc\u81f4\u7684\u5b89\u5168\u95ee\u9898\u3002\u6240\u4ee5\u653e\u5230ServletContext\u5bf9\u8c61\u4e2d\u7684\u6570\u636e\u4e00\u822c\u662f\u53ea\u8bfb\u7684</p> <p>\u6570\u636e\u91cf\u5c0f\u3001\u6240\u6709\u7528\u6237\u5171\u4eab\u3001\u53c8\u4e0d\u4fee\u6539\uff0c\u8fd9\u6837\u7684\u6570\u636e\u653e\u5230ServletContext\u8fd9\u4e2a\u5e94\u7528\u57df\u5f53\u4e2d\uff0c\u4f1a\u5927\u5927\u63d0\u5347\u6548\u7387\u3002\u56e0\u4e3a\u5e94\u7528\u57df\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7f13\u5b58\uff0c\u653e\u5230\u7f13\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u4e0b\u6b21\u5728\u7528\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u4ece\u6570\u636e\u5e93\u4e2d\u518d\u6b21\u83b7\u53d6\uff0c\u5927\u5927\u63d0\u5347\u6267\u884c\u6548\u7387\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_9","title":"\u5e38\u89c1\u7684\u7f13\u5b58\u673a\u5236","text":"<ul> <li>\u6570\u636e\u5e93\u8fde\u63a5\u6c60<ul> <li>\u8fd9\u91cc\u6240\u8bf4\u7684\u8fde\u63a5\u6c60\u4e2d\u7684\u8fde\u63a5\u662fjava\u8bed\u8a00\u8fde\u63a5\u6570\u636e\u5e93\u7684\u8fde\u63a5\u5bf9\u8c61\uff1ajava.sql.Connection\u5bf9\u8c61\u3002</li> <li>JVM\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002MySQL\u6570\u636e\u5e93\u662f\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8fdb\u7a0b\u548c\u8fdb\u7a0b\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\uff0c\u6253\u5f00\u901a\u9053\u662f\u5f88\u8d39\u52b2\u7684\u3002\u662f\u5f88\u8017\u8d39\u8d44\u6e90\u7684\u3002\u600e\u4e48\u529e\uff1f\u53ef\u4ee5\u63d0\u524d\u5148\u521b\u5efa\u597dN\u4e2aConnection\u8fde\u63a5\u5bf9\u8c61\uff0c\u5c06\u8fde\u63a5\u5bf9\u8c61\u653e\u5230\u4e00\u4e2a\u96c6\u5408\u5f53\u4e2d\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u653e\u6709Connection\u5bf9\u8c61\u7684\u96c6\u5408\u79f0\u4e3a\u8fde\u63a5\u6c60\u3002\u6bcf\u4e00\u6b21\u7528\u6237\u8fde\u63a5\u7684\u65f6\u5019\u4e0d\u9700\u8981\u518d\u65b0\u5efa\u8fde\u63a5\u5bf9\u8c61\uff0c\u7701\u53bb\u4e86\u65b0\u5efa\u7684\u73af\u8282\uff0c\u76f4\u63a5\u4ece\u8fde\u63a5\u6c60\u4e2d\u83b7\u53d6\u8fde\u63a5\u5bf9\u8c61\uff0c\u5927\u5927\u63d0\u5347\u8bbf\u95ee\u6548\u7387\u3002</li> <li>\u8fde\u63a5\u6c60<ul> <li>\u6700\u5c0f\u8fde\u63a5\u6570</li> <li>\u6700\u5927\u8fde\u63a5\u6570</li> <li>\u8fde\u63a5\u6c60\u53ef\u4ee5\u63d0\u9ad8\u7528\u6237\u7684\u8bbf\u95ee\u6548\u7387\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u5b89\u5168\u6027\u3002</li> </ul> </li> </ul> </li> <li>\u7ebf\u7a0b\u6c60<ul> <li>Tomcat\u670d\u52a1\u5668\u672c\u8eab\u5c31\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\u3002</li> <li>Tomcat\u670d\u52a1\u5668\u662f\u5728\u7528\u6237\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff0c\u5c31\u65b0\u5efa\u4e00\u4e2aThread\u7ebf\u7a0b\u5bf9\u8c61\u5417\uff1f<ul> <li>\u5f53\u7136\u4e0d\u662f\uff0c\u5b9e\u9645\u4e0a\u662f\u5728Tomcat\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u521b\u5efa\u597dN\u591a\u4e2a\u7ebf\u7a0bThread\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u7ebf\u7a0b\u5bf9\u8c61\u653e\u5230\u96c6\u5408\u5f53\u4e2d\uff0c\u79f0\u4e3a\u7ebf\u7a0b\u6c60\u3002\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u8fc7\u6765\u4e4b\u540e\uff0c\u9700\u8981\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u65f6\u5019\u7ebf\u7a0b\u5bf9\u8c61\u5c31\u4f1a\u76f4\u63a5\u4ece\u7ebf\u7a0b\u6c60\u4e2d\u62ff\uff0c\u6548\u7387\u6bd4\u8f83\u9ad8\u3002</li> <li>\u6240\u6709\u7684WEB\u670d\u52a1\u5668\uff0c\u6216\u8005\u5e94\u7528\u670d\u52a1\u5668\uff0c\u90fd\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\uff0c\u90fd\u6709\u7ebf\u7a0b\u6c60\u673a\u5236\u3002</li> </ul> </li> </ul> </li> <li>ServletContext\u5e94\u7528\u57df</li> <li>\u5806\u5185\u5b58\u5f53\u4e2d\u7684\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60<ul> <li>\"abc\"\u73b0\u5728\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u627e\uff0c\u5982\u679c\u6709\uff0c\u76f4\u63a5\u62ff\u6765\u7528\uff1b\u5982\u679c\u6ca1\u6709\uff0c\u5219\u65b0\u5efa\uff0c\u518d\u653e\u5165\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60</li> </ul> </li> <li>\u5806\u5185\u5b58\u5f53\u4e2d\u7684\u6574\u6570\u5e38\u91cf\u6c60<ul> <li>[-128 ~ 127]\u4e00\u5171256\u4e2aInteger\u7c7b\u578b\u7684\u5f15\u7528\uff0c\u653e\u5728\u6574\u6570\u578b\u5e38\u91cf\u6c60\u4e2d\u3002\u6ca1\u6709\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u7684\u8bdd\uff0c\u76f4\u63a5\u4ece\u5e38\u91cf\u6c60\u4e2d\u53d6\u3002</li> </ul> </li> <li>redis</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#http","title":"HTTP\u534f\u8bae","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_10","title":"\u4ec0\u4e48\u662f\u534f\u8bae\uff1f","text":"<p>\u534f\u8bae\u662f\u67d0\u4e9b\u4eba\u6216\u8005\u67d0\u4e9b\u7ec4\u7ec7\u5236\u5b9a\u7684\u4e00\u5957\u89c4\u8303\u3002</p> <p>\u6211\u8bf4\u8bdd\u4f60\u80fd\u542c\u61c2\uff0c\u4f60\u8bf4\u8bdd\u6211\u4e5f\u80fd\u542c\u61c2\uff0c\u8fd9\u8bf4\u660e\u6211\u4eec\u4e4b\u95f4\u7684\u804a\u5929\u9075\u5faa\u7740\u4e00\u79cd\u89c4\u8303\uff0c\u4e00\u5957\u534f\u8bae\u3002\u8fd9\u5957\u534f\u8bae\u5c31\u662f\uff1a\u666e\u901a\u8bdd\u534f\u8bae\u3002\u9075\u5faa\u8fd9\u4e2a\u534f\u8bae\u7684\u4eba\u53ef\u4ee5\u8fdb\u884c\u6c9f\u901a\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#http_1","title":"\u4ec0\u4e48\u662fHTTP\u534f\u8bae\uff1f","text":"<p>HTTP\u534f\u8bae\uff1a\u662fW3C\u5236\u5b9a\u7684\u4e00\u79cd\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u3002\uff08\u901a\u4fe1\u534f\u8bae\uff1a\u53d1\u9001\u6d88\u606f\u7684\u6a21\u7248\u63d0\u524d\u88ab\u5236\u5b9a\u597d\u3002\uff09</p> <p>HTTP\u534f\u8bae\u6e38\u8d70\u5728B\u548cS\u4e4b\u95f4\u3002B\u5411S\u53d1\u6570\u636e\u8981\u9075\u5faaHTTP\u534f\u8bae\u3002S\u5411B\u53d1\u6570\u636e\u540c\u6837\u9700\u8981\u9075\u5faaHTTP\u534f\u8bae\u3002\u8fd9\u6837B\u548cS\u624d\u80fd\u89e3\u8026\u5408\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#w3c","title":"W3C\u662f\u4ec0\u4e48\uff1f","text":"<p>\u4e07\u7ef4\u7f51\u8054\u76df\u7ec4\u7ec7</p> <p>\u8d1f\u8d23\u5236\u5b9a\u6807\u51c6\u7684\uff1aHTTP HTML4.0 HTML5 XML DOM\u7b49\u89c4\u8303\u90fd\u662fW3C\u5236\u5b9a\u7684\u3002</p> <p>\u4e07\u7ef4\u7f51\u4e4b\u7236\uff1a\u8482\u59c6\u00b7\u4f2f\u7eb3\u65af\u00b7\u674e</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_11","title":"\u8d85\u6587\u672c\u662f\u4ec0\u4e48\uff1f","text":"<p>\u8d85\u6587\u672c\u8bf4\u7684\u5c31\u662f\uff1a\u4e0d\u662f\u666e\u901a\u6587\u672c\uff0c\u6bd4\u5982\u6d41\u5a92\u4f53\uff1a\u58f0\u97f3\u3001\u89c6\u9891\u3001\u56fe\u7247\u7b49\u3002</p> <p>HTTP\u534f\u8bae\u652f\u6301\uff1a\u4e0d\u4f46\u53ef\u4ee5\u4f20\u9001\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u540c\u6837\u652f\u6301\u4f20\u9012\u58f0\u97f3\u3001\u89c6\u9891\u3001\u56fe\u7247\u7b49\u6d41\u5a92\u4f53\u4fe1\u606f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_12","title":"\u89e3\u8026\u5408\u662f\u4ec0\u4e48\uff1f","text":"<p>B\u4e0d\u4f9d\u8d56S\u3002</p> <p>S\u4e0d\u4f9d\u8d56B\u3002</p> <p>\u4e0d\u7ba1\u662f\u54ea\u4e2a\u54c1\u724c\u7684\u6d4f\u89c8\u5668\uff0c\u90fd\u662f\u4e00\u6837\u7684\u5411WEB\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u8868\u73b0\u4e3aS\u4e0d\u4f9d\u8d56B</p> <p>\u4e0d\u7ba1\u662f\u54ea\u4e2a\u54c1\u724c\u7684WEB\u670d\u52a1\u5668\uff0c\u90fd\u662f\u4e00\u6837\u7684\u5411\u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\uff0c\u8868\u73b0\u4e3aB\u4e0d\u4f9d\u8d56S</p> <p>\u5177\u4f53\u4f8b\u5b50\uff1a</p> <p>B\u6307\u6d4f\u89c8\u5668\u3002\u6d4f\u89c8\u5668\u6709\u8bb8\u591a\u79cd\uff1aFireFox\u3001Safari\u3001Chrome\u3001IE\u3001Edge\u7b49\u7b49\u3002</p> <p>S\u6307\u670d\u52a1\u5668\u3002\u670d\u52a1\u5668\u4e5f\u6709\u591a\u79cd\uff1aTomcat\u3001jboss\u7b49\u7b49\u3002\u6211\u4eec\u751a\u81f3\u80fd\u591f\u81ea\u5df1\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u670d\u52a1\u5668\u3002</p> <p>Firefox\u6d4f\u89c8\u5668  \u53ef\u4ee5\u5411 Tomcat\u53d1\u9001\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u5411Jetty\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u3002\u6d4f\u89c8\u5668\u4e0d\u4f9d\u8d56\u5177\u4f53\u7684\u670d\u52a1\u5668\u54c1\u724c\u3002</p> <p>WEB\u670d\u52a1\u5668\u4e5f\u4e0d\u4f9d\u8d56\u5177\u4f53\u7684\u6d4f\u89c8\u5668\u54c1\u724c\u3002\u53ef\u4ee5\u662fFirefox\u6d4f\u89c8\u5668\uff0c\u4e5f\u53ef\u4ee5\u662fChrome\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u662fIE\uff0c\u90fd\u884c\u3002</p> <p>\u6d4f\u89c8\u5668\uff08B\uff09\u5411 \u670d\u52a1\u5668\uff08S\uff09\u53d1\u9001\u6570\u636e\uff0c\u53eb\u505a\u8bf7\u6c42\uff08Request\uff09</p> <p>\u670d\u52a1\u5668\uff08S\uff09 \u5411\u6d4f\u89c8\u5668\uff08B\uff09\u53d1\u9001\u6570\u636e\uff0c\u53eb\u505a\u54cd\u5e94\uff08Response\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#http_2","title":"HTTP\u534f\u8bae\u5305\u62ec\u4ec0\u4e48\uff1f","text":"<p>\u8bf7\u6c42\u534f\u8bae</p> <p>\u200b   \u6d4f\u89c8\u5668  \u5411  WEB\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u8fd9\u6761\u6570\u636e\u9700\u8981\u9075\u5faa\u4e00\u5957\u6807\u51c6\u3002\u8fd9\u5957\u6807\u51c6\u4e2d\u5236\u5b9a\u4e86\u8bf7\u6c42\u62a5\u6587\u7684\u5177\u4f53\u683c\u5f0f</p> <p>\u54cd\u5e94\u534f\u8bae</p> <p>\u200b   WEB\u670d\u52a1\u5668  \u5411  \u6d4f\u89c8\u5668\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u8fd9\u6761\u6570\u636e\u9700\u8981\u9075\u5faa\u4e00\u5957\u6807\u51c6\u3002\u8fd9\u5957\u6807\u51c6\u4e2d\u5236\u5b9a\u4e86\u54cd\u5e94\u62a5\u6587\u7684\u5177\u4f53\u683c\u5f0f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#b-s","title":"\u8bf7\u6c42\u534f\u8bae\uff08B --&gt; S\uff09","text":"<p>\u5305\u62ec\uff1a</p> <p>\u8bf7\u6c42\u884c</p> <p>\u8bf7\u6c42\u5934</p> <p>\u7a7a\u767d\u884c</p> <p>\u8bf7\u6c42\u4f53</p> <p>\u5177\u4f53\u683c\u5f0f\uff1a</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#get","title":"GET\u8bf7\u6c42","text":"Text Only<pre><code>GET /Servlet05/getServlet?username=hahajiukanjian&amp;password=123 HTTP/1.1                 \u8bf7\u6c42\u884c\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7                                                         \u8bf7\u6c42\u5934\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\nConnection: keep-alive\nCookie: Webstorm-3ce9868e=f802af0d-6ba1-4574-856e-b9dfad3068fc; Idea-1bc37047=a7ac6816-7a91-41e9-a690-0fa926945504\nHost: localhost:8080\nReferer: http://localhost:8080/Servlet05/index.html\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: same-origin\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\nsec-ch-ua: \"Chromium\";v=\"116\", \"Not)A;Brand\";v=\"24\", \"Google Chrome\";v=\"116\"\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: \"macOS\"\n                                                                                        \u7a7a\u767d\u884c\n                                                                                        \u8bf7\u6c42\u4f53\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#post","title":"POST\u8bf7\u6c42","text":"Text Only<pre><code>POST /Servlet05/postServlet HTTP/1.1                                                    \u8bf7\u6c42\u884c\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7                                                         \u8bf7\u6c42\u5934\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\nCache-Control: max-age=0\nConnection: keep-alive\nContent-Length: 36\nContent-Type: application/x-www-form-urlencoded\nCookie: Webstorm-3ce9868e=f802af0d-6ba1-4574-856e-b9dfad3068fc; Idea-1bc37047=a7ac6816-7a91-41e9-a690-0fa926945504\nHost: localhost:8080\nOrigin: http://localhost:8080\nReferer: http://localhost:8080/Servlet05/index.html\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: same-origin\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\nsec-ch-ua: \"Chromium\";v=\"116\", \"Not)A;Brand\";v=\"24\", \"Google Chrome\";v=\"116\"\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: \"macOS\"\n                                                                                        \u7a7a\u767d\u884c\nusername=hahajiukanjian&amp;password=123                                                    \u8bf7\u6c42\u4f53\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_13","title":"\u5206\u6790","text":"<ul> <li>\u8bf7\u6c42\u884c<code>GET /Servlet05/getServlet?username=hahajiukanjian&amp;password=123</code><ul> <li>\u5305\u62ec\u4e09\u90e8\u5206<ul> <li>\u7b2c\u4e00\u90e8\u5206\uff1a\u8bf7\u6c42\u7684\u65b9\u5f0f\uff08\u51717\u4e03\u79cd\uff09<ul> <li>get\uff08\u5e38\u7528\u7684\uff09</li> <li>post\uff08\u5e38\u7528\u7684\uff09</li> <li>delete</li> <li>put</li> <li>head</li> <li>options</li> <li>trace</li> </ul> </li> <li>\u7b2c\u4e8c\u90e8\u5206\uff1aURI<ul> <li>\u4ec0\u4e48\u662fURI\uff1f<ul> <li>\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\u3002\u4ee3\u8868\u7f51\u7edc\u4e2d\u67d0\u4e2a\u8d44\u6e90\u7684\u540d\u5b57\u3002\u4f46\u662f\u901a\u8fc7URI\u662f\u65e0\u6cd5\u5b9a\u4f4d\u5230\u8be5\u8d44\u6e90\u7684</li> </ul> </li> <li>\u4ec0\u4e48\u662fURL\uff1f<ul> <li>\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\u3002\u4ee3\u8868\u7f51\u7edc\u4e2d\u67d0\u4e2a\u8d44\u6e90\uff0c\u540c\u65f6\uff0c\u901a\u8fc7URL\u662f\u53ef\u4ee5\u5b9a\u4f4d\u5230\u8be5\u8d44\u6e90\u7684\u3002</li> </ul> </li> <li>URL \u548c URI\u6709\u4ec0\u4e48\u5173\u7cfb\uff0c\u4ec0\u4e48\u533a\u522b\uff1f<ul> <li>URL \u5305\u62ec URI</li> <li>http://localhost:8080/Servlet05/getServlet  \u8fd9\u662fURL</li> <li>/Servlet05/getServlet  \u8fd9\u662fURI</li> </ul> </li> </ul> </li> <li>\u7b2c\u4e09\u90e8\u5206\uff1aHTTP\u534f\u8bae\u7248\u672c\u53f7</li> </ul> </li> </ul> </li> <li>\u8bf7\u6c42\u5934<ul> <li>\u8bf7\u6c42\u7684\u670d\u52a1\u5668IP</li> <li>\u8bbf\u95ee\u670d\u52a1\u5668\u7684\u7aef\u53e3</li> <li>\u6d4f\u89c8\u5668\u4fe1\u606f</li> <li>\u5ba2\u6237\u7aef\u7684\u4e3b\u673a\u4fe1\u606f</li> <li>Cookie\u4fe1\u606f</li> <li>...</li> </ul> </li> <li>\u7a7a\u767d\u884c<ul> <li>\u7528\u4e8e\u5206\u5272 \u8bf7\u6c42\u5934 \u548c \u8bf7\u6c42\u4f53</li> </ul> </li> <li>\u8bf7\u6c42\u4f53<ul> <li>\u5411\u670d\u52a1\u5668\u53d1\u9001\u7684\u5177\u4f53\u6570\u636e\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#s-b","title":"\u54cd\u5e94\u534f\u8bae\uff08S --&gt; B\uff09","text":"<p>\u5305\u62ec\uff1a</p> <p>\u72b6\u6001\u884c</p> <p>\u54cd\u5e94\u5934</p> <p>\u7a7a\u767d\u884c</p> <p>\u54cd\u5e94\u4f53</p> <p>\u5177\u4f53\u683c\u5f0f\uff1a</p> Text Only<pre><code>HTTP/1.1 200 ok                                         \u72b6\u6001\u884c\nContent-Type: text/html;charset=UTF-8                   \u54cd\u5e94\u5934\nContent-Length: 115\nDate: Mon, 18 Sep 2023 08:39:06 GMT\nKeep-Alive: timeout=20\nConnection: keep-alive\n                                                        \u7a7a\u767d\u884c\n&lt;!DOCTYPE html&gt;                                         \u54cd\u5e94\u4f53\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Get\u9875\u9762&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Get Page Response&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_14","title":"\u5206\u6790","text":"<ul> <li>\u72b6\u6001\u884c<ul> <li>\u4e09\u90e8\u5206\u7ec4\u6210<ul> <li>\u7b2c\u4e00\u90e8\u5206\uff1a\u534f\u8bae\u7248\u672c\u53f7\uff08HTTP/1.1\uff09</li> <li>\u7b2c\u4e8c\u90e8\u5206\uff1a\u72b6\u6001\u7801\uff08HTTP\u534f\u8bae\u4e2d\u89c4\u5b9a\u7684\u54cd\u5e94\u72b6\u6001\u53f7\u3002\u4e0d\u540c\u7684\u54cd\u5e94\u7ed3\u679c\u5bf9\u5e94\u4e0d\u540c\u7684\u53f7\u7801\u3002\uff09<ul> <li>200 \u8868\u793a\u8bf7\u6c42\u54cd\u5e94\u6210\u529f\uff0c\u6b63\u5e38\u7ed3\u675f\u3002</li> <li>404\u8868\u793a\u8bbf\u95ee\u7684\u8d44\u6e90\u4e0d\u5b58\u5728\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u8981\u4e48\u662f\u4f60\u8def\u5f84\u5199\u9519\u4e86\uff0c\u8981\u4e48\u662f\u8def\u5f84\u5199\u5bf9\u4e86\uff0c\u4f46\u662f\u670d\u52a1\u5668\u4e2d\u5bf9\u5e94\u7684\u8d44\u6e90\u5e76\u6ca1\u6709\u542f\u52a8\u6210\u529f\u3002\u603b\u4e4b404\u9519\u8bef\u662f\u524d\u7aef\u9519\u8bef\u3002</li> <li>405\u8868\u793a\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u65b9\u5f0f\u4e0e\u540e\u7aef\u8bf7\u6c42\u7684\u5904\u7406\u65b9\u5f0f\u4e0d\u4e00\u81f4\u65f6\u53d1\u751f\uff1a<ul> <li>\u6bd4\u5982\uff1a\u524d\u7aef\u662fPOST\u8bf7\u6c42\uff0c\u540e\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u6309\u7167get\u65b9\u5f0f\u8fdb\u884c\u5904\u7406\u65f6\uff0c\u53d1\u751f405</li> <li>\u6bd4\u5982\uff1a\u524d\u7aef\u662fGET\u8bf7\u6c42\uff0c\u540e\u7aef\u7684\u5904\u7406\u65b9\u5f0f\u6309\u7167post\u65b9\u5f0f\u8fdb\u884c\u5904\u7406\u65f6\uff0c\u53d1\u751f405</li> </ul> </li> <li>500\u8868\u793a\u670d\u52a1\u5668\u7aef\u7684\u7a0b\u5e8f\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\u4e00\u822c\u4f1a\u8ba4\u4e3a\u662f\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> <li>\u4ee54\u5f00\u59cb\u7684\uff0c\u4e00\u822c\u662f\u6d4f\u89c8\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> <li>\u4ee55\u5f00\u59cb\u7684\uff0c\u4e00\u822c\u662f\u670d\u52a1\u5668\u7aef\u7684\u9519\u8bef\u5bfc\u81f4\u7684\u3002</li> </ul> </li> <li>\u7b2c\u4e09\u90e8\u5206\uff1a\u72b6\u6001\u7684\u63cf\u8ff0\u4fe1\u606f<ul> <li>ok \u8868\u793a\u6b63\u5e38\u6210\u529f\u7ed3\u675f\u3002</li> <li>not found \u8868\u793a\u8d44\u6e90\u627e\u4e0d\u5230\u3002</li> </ul> </li> </ul> </li> </ul> </li> <li> <p>\u54cd\u5e94\u5934\uff1a</p> <ul> <li>\u54cd\u5e94\u7684\u5185\u5bb9\u7c7b\u578b</li> <li>\u54cd\u5e94\u7684\u5185\u5bb9\u957f\u5ea6</li> <li>\u54cd\u5e94\u7684\u65f6\u95f4</li> <li>......</li> <li> <p>\u7a7a\u767d\u884c\uff1a</p> </li> <li> <p>\u7528\u6765\u5206\u9694\u201c\u54cd\u5e94\u5934\u201d\u548c\u201c\u54cd\u5e94\u4f53\u201d\u7684\u3002</p> </li> <li> <p>\u54cd\u5e94\u4f53\uff1a</p> </li> <li> <p>\u54cd\u5e94\u4f53\u5c31\u662f\u54cd\u5e94\u7684\u6b63\u6587\uff0c\u8fd9\u4e9b\u5185\u5bb9\u662f\u4e00\u4e2a\u957f\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u88ab\u6d4f\u89c8\u5668\u6e32\u67d3\uff0c\u89e3\u91ca\u5e76\u6267\u884c\uff0c\u6700\u7ec8\u5c55\u793a\u51fa\u6548\u679c\u3002</p> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#getpost","title":"\u600e\u4e48\u5411\u670d\u52a1\u5668\u53d1\u9001GET\u8bf7\u6c42\uff0c\u600e\u4e48\u5411\u670d\u52a1\u5668\u53d1\u9001POST\u8bf7\u6c42\uff1f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#post_1","title":"POST","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\u53ef\u4ee5\u53d1\u9001POST\u8bf7\u6c42\uff1a\u4f7f\u7528form\u8868\u5355\uff0c\u5e76\u4e14form\u6807\u7b7e\u4e2d\u7684method\u5c5e\u6027\u503c\u4e3a\uff1amethod=\"post\"\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#get_1","title":"GET","text":"<p>\u5176\u4ed6\u6240\u6709\u60c5\u51b5\u4e00\u5f8b\u90fd\u662fget\u8bf7\u6c42\uff1a</p> <p>\u200b   \u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u76f4\u63a5\u8f93\u5165URL\uff0c\u6572\u56de\u8f66\uff0c\u5c4a\u4e8eget\u8bf7\u6c42\u3002</p> <p>\u200b   \u5728\u6d4f\u89c8\u5668\u4e0a\u76f4\u63a5\u70b9\u51fb\u8d85\u94fe\u63a5\uff0c\u5c5e\u4e8eget\u8bf7\u6c42\u3002</p> <p>\u200b   \u4f7f\u7528form\u8868\u5355\u63d0\u4ea4\u6570\u636e\u65f6\uff0cform\u6807\u7b7e\u4e2d\u6ca1\u6709\u5199method\u5c5e\u6027\uff0c\u9ed8\u8ba4\u5c31\u662fget</p> <p>\u200b   \u6216\u8005\u4f7f\u7528form\u7684\u65f6\u5019\uff0cform\u6807\u7b7e\u4e2dmethod\u5c5e\u6027\u503c\u4e3a\uff1amethod=\"'get\u201d</p> <p>\u200b   ...</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#getpost_1","title":"GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u6709\u4ec0\u4e48\u533a\u522b\uff1f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#get_2","title":"GET","text":"<ol> <li>get\u8bf7\u6c42\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u6570\u636e\u4f1a\u6302\u5728URI\u7684\u540e\u9762\uff0c\u5e76\u4e14\u5728URI\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u201c?\u201d\uff0c\"?\"\u540e\u9762\u662f\u6570\u636e\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4\u53d1\u9001\u7684\u6570\u636e\u56de\u663e\u5728\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e0a\u3002\uff08get\u8bf7\u6c42\u5728\u201c\u8bf7\u6c42\u884c\u201d\u4e0a\u53d1\u9001\u6570\u636e\uff09<ul> <li>http://localhost:8080/servlet05/getServlet?username=zhangsan&amp;userpwd=1111</li> </ul> </li> <li>get\u8bf7\u6c42\u53ea\u80fd\u53d1\u9001\u666e\u901a\u7684\u5b57\u7b26\u4e32\u3002\u5e76\u4e14\u53d1\u9001\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u6709\u9650\u5236\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u9650\u5236\u4e0d\u540c\u3002\u8fd9\u4e2a\u6ca1\u6709\u660e\u786e\u7684\u89c4\u8303\u3002<ul> <li>get\u8bf7\u6c42\u65e0\u6cd5\u53d1\u9001\u5927\u6570\u636e\u91cf\u3002</li> <li>get\u8bf7\u6c42\u5728W3C\u4e2d\u662f\u8fd9\u6837\u8bf4\u7684\uff1aget\u8bf7\u6c42\u6bd4\u8f83\u9002\u5408\u4ece\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e\u3002</li> </ul> </li> <li>get\u8bf7\u6c42\u662f\u5b89\u5168\u7684\u3002get\u8bf7\u6c42\u662f\u7edd\u5bf9\u5b89\u5168\u7684\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3aget\u8bf7\u6c42\u53ea\u662f\u4e3a\u4e86\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u6570\u636e\u3002\u4e0d\u4f1a\u5bf9\u670d\u52a1\u5668\u9020\u6210\u5a01\u80c1\u3002\uff08get\u672c\u8eab\u662f\u5b89\u5168\u7684\uff0c\u4f60\u4e0d\u8981\u7528\u9519\u4e86\u3002\u7528\u9519\u4e86\u4e4b\u540e\u53c8\u51a4\u6789\u4eba\u5bb6get\u4e0d\u5b89\u5168\uff0c\u4f60\u8fd9\u6837\u4e0d\u597d\uff08\u592a\u574f\u4e86\uff09\uff0c\u90a3\u662f\u4f60\u81ea\u5df1\u7684\u95ee\u9898\uff0c\u4e0d\u662fget\u8bf7\u6c42\u7684\u95ee\u9898\u3002\uff09</li> <li>get\u8bf7\u6c42\u652f\u6301\u7f13\u5b58\u3002<ol> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/b40c-b425eb67cabc342ff5b9dc018b4b00cc.jpg\u9996\u6b21\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c06\u8fd9\u4e2a\u8d44\u6e90\u7f13\u5b58\u8d77\u6765\uff0c\u8fd9\u6837\u4e0b\u6b21\u4f7f\u7528get\u8bf7\u6c42\u8bbf\u95ee\u8fd9\u4e2a\u94fe\u63a5\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u76f4\u63a5\u4ece\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u5f53\u4e2d\u53d6\u51fa\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u670d\u52a1\u5668\u7684\u54cd\u5e94\u53d6\u51fa\u3002\uff08\u5728\u6709\u4e9b\u65f6\u5019\uff0c\u5373\u4fbf\u662f\u6211\u4eec\u65ad\u7f51\u4e86\uff0c\u5728\u4f7f\u7528get\u8bf7\u6c42\u8bbf\u95ee\u4e00\u4e9b\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u7684\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u4ecd\u7136\u80fd\u591f\u8bbf\u95ee\u5230\uff0c\u56e0\u4e3a\u6709\u7f13\u5b58\u561b\uff09</li> <li>\u4efb\u4f55\u4e00\u4e2aget\u8bf7\u6c42\u6700\u7ec8\u7684\u201c\u54cd\u5e94\u7ed3\u679c\u201d\u90fd\u4f1a\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\u8d77\u6765\u3002\u5728\u6d4f\u89c8\u5668\u7f13\u5b58\u5f53\u4e2d\uff1a<ul> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84a  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84b  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>\u4e00\u4e2aget\u8bf7\u6c42\u7684\u8def\u5f84c  \u5bf9\u5e94  \u4e00\u4e2a\u8d44\u6e90\u3002</li> <li>....</li> </ul> </li> <li>\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ea\u8981\u53d1\u9001get\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u90fd\u662f\u5148\u4ece\u672c\u5730\u6d4f\u89c8\u5668\u7f13\u5b58\u4e2d\u627e\uff0c\u627e\u4e0d\u5230\u7684\u65f6\u5019\u624d\u4f1a\u53bb\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u3002\u8fd9\u79cd\u7f13\u5b58\u673a\u5236\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8\u7528\u6237\u7684\u4f53\u9a8c\u3002</li> <li>\u6709\u6ca1\u6709\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\uff1a\u6211\u4eec\u4e0d\u5e0c\u671bget\u8bf7\u6c42\u8d70\u7f13\u5b58\uff0c\u600e\u4e48\u529e\uff1f\u600e\u4e48\u907f\u514d\u8d70\u7f13\u5b58\uff1f\u6211\u5e0c\u671b\u6bcf\u4e00\u6b21\u8fd9\u4e2aget\u8bf7\u6c42\u90fd\u53bb\u670d\u52a1\u5668\u4e0a\u627e\u8d44\u6e90\uff0c\u6211\u4e0d\u60f3\u4ece\u672c\u5730\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u4e2d\u53d6\u3002<ul> <li>\u53ea\u8981\u6bcf\u4e00\u6b21get\u8bf7\u6c42\u7684\u8bf7\u6c42\u8def\u5f84\u4e0d\u540c\u5373\u53ef\u3002</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897898</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897899</li> <li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=\u7cfb\u7edf\u6beb\u79d2\u6570</li> <li>\u600e\u4e48\u89e3\u51b3\uff1f\u53ef\u4ee5\u5728\u8def\u5f84\u7684\u540e\u9762\u6dfb\u52a0\u4e00\u4e2a\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d8\u5316\u7684\u201c\u65f6\u95f4\u6233\u201d\uff0c\u8fd9\u6837\uff0c\u6bcf\u4e00\u6b21\u7684\u8bf7\u6c42\u8def\u5f84\u90fd\u4e0d\u4e00\u6837\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u8d70\u7f13\u5b58\u4e86\u3002</li> </ul> </li> </ol> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#post_2","title":"POST","text":"<ol> <li>post\u8bf7\u6c42\u53d1\u9001\u6570\u636e\u7684\u65f6\u5019\uff0c\u5728\u8bf7\u6c42\u4f53\u5f53\u4e2d\u53d1\u9001\u3002\u4e0d\u4f1a\u56de\u663e\u5230\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e0a\u3002\u4e5f\u5c31\u662f\u8bf4post\u53d1\u9001\u7684\u6570\u636e\uff0c\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u770b\u4e0d\u5230\u3002\uff08post\u5728\u201c\u8bf7\u6c42\u4f53\u201d\u5f53\u4e2d\u53d1\u9001\u6570\u636e\uff09</li> <li>post\u8bf7\u6c42\u53ef\u4ee5\u53d1\u9001\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff0c\u5305\u62ec\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u6d41\u5a92\u4f53\u7b49\u4fe1\u606f\uff1a\u89c6\u9891\u3001\u58f0\u97f3\u3001\u56fe\u7247\u3002<ul> <li>post\u8bf7\u6c42\u53ef\u4ee5\u53d1\u9001\u5927\u6570\u636e\u91cf\uff0c\u7406\u8bba\u4e0a\u6ca1\u6709\u957f\u5ea6\u9650\u5236\u3002</li> <li>post\u8bf7\u6c42\u5728W3C\u4e2d\u662f\u8fd9\u6837\u8bf4\u7684\uff1apost\u8bf7\u6c42\u6bd4\u8f83\u9002\u5408\u5411\u670d\u52a1\u5668\u7aef\u4f20\u9001\u6570\u636e\u3002</li> </ul> </li> <li>post\u8bf7\u6c42\u662f\u5371\u9669\u7684\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3apost\u8bf7\u6c42\u662f\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\uff0c\u5982\u679c\u8fd9\u4e9b\u6570\u636e\u901a\u8fc7\u540e\u95e8\u7684\u65b9\u5f0f\u8fdb\u5165\u5230\u670d\u52a1\u5668\u5f53\u4e2d\uff0c\u670d\u52a1\u5668\u662f\u5f88\u5371\u9669\u7684\u3002\u53e6\u5916post\u662f\u4e3a\u4e86\u63d0\u4ea4\u6570\u636e\uff0c\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\u62e6\u622a\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5927\u90e8\u5206\u4f1a\u9009\u62e9\u62e6\u622a\uff08\u76d1\u542c\uff09post\u8bf7\u6c42\u3002</li> <li>post\u8bf7\u6c42\u4e0d\u652f\u6301\u7f13\u5b58\u3002\uff08POST\u662f\u7528\u6765\u4fee\u6539\u670d\u52a1\u5668\u7aef\u7684\u8d44\u6e90\u7684\u3002\uff09<ul> <li>post\u8bf7\u6c42\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u201c\u54cd\u5e94\u7684\u7ed3\u679c\u201d\u4e0d\u4f1a\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\u8d77\u6765\u3002\u56e0\u4e3a\u8fd9\u4e2a\u7f13\u5b58\u6ca1\u6709\u610f\u4e49\u3002</li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#getpost_2","title":"GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u5982\u4f55\u9009\u62e9\uff1f","text":"<p>\u600e\u4e48\u9009\u62e9GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u5462\uff1f\u8861\u91cf\u6807\u51c6\u662f\u4ec0\u4e48\u5462\uff1f\u4f60\u8fd9\u4e2a\u8bf7\u6c42\u662f\u60f3\u83b7\u53d6\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e\uff0c\u8fd8\u662f\u60f3\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002\u5982\u679c\u4f60\u662f\u60f3\u4ece\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\u8d44\u6e90\uff0c\u5efa\u8bae\u4f7f\u7528GET\u8bf7\u6c42\uff0c\u5982\u679c\u4f60\u8fd9\u4e2a\u8bf7\u6c42\u662f\u4e3a\u4e86\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u6570\u636e\uff0c\u5efa\u8bae\u4f7f\u7528POST\u8bf7\u6c42\u3002</p> <ol> <li>\u5927\u90e8\u5206\u7684form\u8868\u5355\u63d0\u4ea4\uff0c\u90fd\u662fpost\u65b9\u5f0f\uff0c\u56e0\u4e3aform\u8868\u5355\u4e2d\u8981\u586b\u5199\u5927\u91cf\u7684\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u662f\u6536\u96c6\u7528\u6237\u7684\u4fe1\u606f\uff0c\u4e00\u822c\u662f\u9700\u8981\u4f20\u7ed9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u5c06\u8fd9\u4e9b\u6570\u636e\u4fdd\u5b58/\u4fee\u6539\u7b49\u3002</li> <li>\u5982\u679c\u8868\u5355\u4e2d\u6709\u654f\u611f\u4fe1\u606f\uff0c\u8fd8\u662f\u5efa\u8bae\u9002\u7528post\u8bf7\u6c42\uff0c\u56e0\u4e3aget\u8bf7\u6c42\u4f1a\u56de\u663e\u654f\u611f\u4fe1\u606f\u5230\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u3002\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u4fe1\u606f\uff09</li> <li>\u505a\u6587\u4ef6\u4e0a\u4f20\uff0c\u4e00\u5b9a\u662fpost\u8bf7\u6c42\u3002\u8981\u4f20\u7684\u6570\u636e\u4e0d\u662f\u666e\u901a\u6587\u672c\u3002</li> <li>\u5176\u4ed6\u60c5\u51b5\u90fd\u53ef\u4ee5\u4f7f\u7528get\u8bf7\u6c42\u3002</li> </ol> <p>\u4e0d\u7ba1\u4f60\u662fget\u8bf7\u6c42\u8fd8\u662fpost\u8bf7\u6c42\uff0c\u53d1\u9001\u7684\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u662f==\u5b8c\u5168\u76f8\u540c==\u7684\uff0c\u53ea\u4e0d\u8fc7\u4f4d\u7f6e\u4e0d\u540c\uff0c\u683c\u5f0f\u90fd\u662f\u7edf\u4e00\u7684\uff1a</p> <ul> <li>name=value&amp;name=value&amp;name=value&amp;name=value</li> <li>name\u662f\u4ec0\u4e48\uff1f<ul> <li>\u4ee5form\u8868\u5355\u4e3a\u4f8b\uff1aform\u8868\u5355\u4e2dinput\u6807\u7b7e\u7684name\u3002</li> </ul> </li> <li>value\u662f\u4ec0\u4e48\uff1f<ul> <li>\u4ee5form\u8868\u5355\u4e3a\u4f8b\uff1aform\u8868\u5355\u4e2dinput\u6807\u7b7e\u7684value\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_15","title":"\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f","text":"<ul> <li>\u4ec0\u4e48\u662f\u8bbe\u8ba1\u6a21\u5f0f\uff1f<ul> <li>\u67d0\u4e2a\u95ee\u9898\u7684\u56fa\u5b9a\u7684\u89e3\u51b3\u65b9\u6848\u3002(\u53ef\u4ee5\u88ab\u91cd\u590d\u4f7f\u7528\u3002)</li> </ul> </li> <li>\u4f60\u77e5\u9053\u54ea\u4e9b\u8bbe\u8ba1\u6a21\u5f0f\uff1f<ul> <li>GoF\u8bbe\u8ba1\u6a21\u5f0f\uff1a<ul> <li>\u901a\u5e38\u6211\u4eec\u6240\u8bf4\u768423\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\uff08Gang of Four\uff1a4\u4eba\u7ec4\u63d0\u51fa\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff09</li> <li>\u5355\u4f8b\u6a21\u5f0f</li> <li>\u5de5\u5382\u6a21\u5f0f</li> <li>\u4ee3\u7406\u6a21\u5f0f</li> <li>\u95e8\u9762\u6a21\u5f0f</li> <li>\u8d23\u4efb\u94fe\u8bbe\u8ba1\u6a21\u5f0f</li> <li>\u89c2\u5bdf\u8005\u6a21\u5f0f</li> <li>\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f</li> <li>.....</li> </ul> </li> <li>JavaEE\u8bbe\u8ba1\u6a21\u5f0f\uff1a<ul> <li>DAO</li> <li>DTO</li> <li>VO</li> <li>PO</li> <li>pojo</li> <li>....</li> </ul> </li> <li>....</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\uff1f<ul> <li>\u5728\u6a21\u677f\u7c7b\u7684\u6a21\u677f\u65b9\u6cd5\u5f53\u4e2d\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\u9aa8\u67b6\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6b65\u9aa4\u53ef\u4ee5\u5ef6\u8fdf\u5230\u5b50\u7c7b\u5f53\u4e2d\u5b8c\u6210\u3002</li> </ul> </li> <li>\u6a21\u677f\u7c7b\u901a\u5e38\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u6a21\u677f\u7c7b\u5f53\u4e2d\u7684\u6a21\u677f\u65b9\u6cd5\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u901a\u5e38\u662ffinal\u7684\uff08\u4f46\u4e5f\u53ef\u4ee5\u4e0d\u662ffinal\u7684\uff09</li> <li>\u6a21\u677f\u7c7b\u5f53\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\u5c31\u662f\u4e0d\u786e\u5b9a\u5b9e\u73b0\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u4e0d\u786e\u5b9a\u600e\u4e48\u5b9e\u73b0\u7684\u4e8b\u513f\u4ea4\u7ed9\u5b50\u7c7b\u53bb\u505a\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#httpservlet","title":"HttpServlet","text":"<p>HttpServlet\u7c7b\u662f\u4e13\u95e8\u4e3aHTTP\u534f\u8bae\u51c6\u5907\u7684\u3002\u6bd4GenericServlet\u66f4\u52a0\u9002\u5408HTTP\u534f\u8bae\u4e0b\u7684\u5f00\u53d1\u3002</p> <p>jakarta.servlet.http.HttpServlet</p> <p>\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u63a5\u89e6\u4e86servlet\u89c4\u8303\u4e2d\u54ea\u4e9b\u63a5\u53e3\uff1f</p> <ul> <li>jakarta.servlet.Servlet  \u6838\u5fc3\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletConfig Servlet\u914d\u7f6e\u4fe1\u606f\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletContext Servlet\u4e0a\u4e0b\u6587\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletRequest Servlet\u8bf7\u6c42\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletResponse Servlet\u54cd\u5e94\u63a5\u53e3\uff08\u63a5\u53e3\uff09</li> <li>jakarta.servlet.ServletException Servlet\u5f02\u5e38\uff08\u7c7b\uff09</li> <li>jakarta.servlet.GenericServlet \u6807\u51c6\u901a\u7528\u7684Servlet\u7c7b\uff08\u62bd\u8c61\u7c7b\uff09</li> </ul> <p>http\u5305\u4e0b\u90fd\u6709\u54ea\u4e9b\u7c7b\u548c\u63a5\u53e3\u5462\uff1fjakarta.servlet.http.*;</p> <ul> <li>HttpServlet\uff08HTTP\u534f\u8bae\u4e13\u7528\u7684Servlet\u7c7b\uff0c\u63a5\u53e3\uff09</li> <li>HttpServletRequest\uff08HTTP\u534f\u8bae\u4e13\u7528\u7684\u8bf7\u6c42\u5bf9\u8c61\uff0c\u63a5\u53e3\uff09</li> <li>HttpServletResponse \uff08HTTP\u534f\u8bae\u4e13\u7528\u7684\u54cd\u5e94\u5bf9\u8c61\uff0c\u63a5\u53e3\uff09</li> </ul> <p></p> <p>HttpServlet\u6e90\u7801\u5206\u6790\uff1a</p> Java<pre><code>// =======================\u521b\u5efa\u4e00\u4e2aServlet\u7c7b=========================\npublic class HelloServlet extends HttpServlet {\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\uff0c\u521b\u5efaHelloServlet\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002\n    public HelloServlet() {\n    }\n\n    //override \u91cd\u5199 doGet\u65b9\u6cd5\n    //override \u91cd\u5199 doPost\u65b9\u6cd5\n}\n\n// =======================\u8c03\u7528\u7684init\u65b9\u6cd5\u6e90\u7801=========================\npublic abstract class GenericServlet implements Servlet, ServletConfig,\n        java.io.Serializable {\n\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0cHelloServlet\u5bf9\u8c61\u7b2c\u4e00\u6b21\u88ab\u521b\u5efa\u4e4b\u540e\uff0c\u8fd9\u4e2ainit\u65b9\u6cd5\u4f1a\u6267\u884c\u3002\n    public void init(ServletConfig config) throws ServletException {\n        this.config = config;\n        this.init();\n    }\n    // \u7528\u6237\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u5e26\u6709\u53c2\u6570\u7684init(ServletConfig config)\u6267\u884c\u4e4b\u540e\uff0c\u4f1a\u6267\u884c\u8fd9\u4e2a\u6ca1\u6709\u53c2\u6570\u7684init()\n    public void init() throws ServletException {\n        // NOOP by default\n    }\n}\n\n// =======================\u8c03\u7528\u7684serivce\u65b9\u6cd5\u6e90\u7801=======================\n// HttpServlet\u6a21\u677f\u7c7b\u3002\npublic abstract class HttpServlet extends GenericServlet {\n    // \u7528\u6237\u53d1\u9001\u7b2c\u4e00\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\u8fd9\u4e2aservice\u4f1a\u6267\u884c\n    // \u7528\u6237\u53d1\u9001\u7b2cN\u6b21\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u8fd9\u4e2aservice\u65b9\u6cd5\u8fd8\u662f\u4f1a\u6267\u884c\u3002\n    // \u7528\u6237\u53ea\u8981\u53d1\u9001\u4e00\u6b21\u8bf7\u6c42\uff0c\u8fd9\u4e2aservice\u65b9\u6cd5\u5c31\u4f1a\u6267\u884c\u4e00\u6b21\u3002\n    @Override\n    public void service(ServletRequest req, ServletResponse res)\n        throws ServletException, IOException {\n\n        HttpServletRequest  request;\n        HttpServletResponse response;\n\n        try {\n            // \u5c06ServletRequest\u548cServletResponse\u5411\u4e0b\u8f6c\u578b\u4e3a\u5e26\u6709Http\u7684HttpServletRequest\u548cHttpServletResponse\n            request = (HttpServletRequest) req;\n            response = (HttpServletResponse) res;\n        } catch (ClassCastException e) {\n            throw new ServletException(lStrings.getString(\"http.non_http\"));\n        }\n        // \u8c03\u7528\u91cd\u8f7d\u7684service\u65b9\u6cd5\u3002\n        service(request, response);\n    }\n\n    // \u8fd9\u4e2aservice\u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5e26\u6709Http\u7684\u3002\n    // \u8fd9\u4e2aservice\u662f\u4e00\u4e2a\u6a21\u677f\u65b9\u6cd5\u3002\n    // \u5728\u8be5\u65b9\u6cd5\u4e2d\u5b9a\u4e49\u6838\u5fc3\u7b97\u6cd5\u9aa8\u67b6\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6b65\u9aa4\u5ef6\u8fdf\u5230\u5b50\u7c7b\u4e2d\u53bb\u5b8c\u6210\u3002\n    protected void service(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException {\n        // \u83b7\u53d6\u8bf7\u6c42\u65b9\u5f0f\n        // \u8fd9\u4e2a\u8bf7\u6c42\u65b9\u5f0f\u6700\u7ec8\u53ef\u80fd\u662f\uff1a\"\"\n        // \u6ce8\u610f\uff1arequest.getMethod()\u65b9\u6cd5\u83b7\u53d6\u7684\u662f\u8bf7\u6c42\u65b9\u5f0f\uff0c\u53ef\u80fd\u662f\u4e03\u79cd\u4e4b\u4e00\uff1a\n        // GET POST PUT DELETE HEAD OPTIONS TRACE\n        String method = req.getMethod();\n\n        // \u5982\u679c\u8bf7\u6c42\u65b9\u5f0f\u662fGET\u8bf7\u6c42\uff0c\u5219\u6267\u884cdoGet\u65b9\u6cd5\u3002\n        if (method.equals(METHOD_GET)) {\n            long lastModified = getLastModified(req);\n            if (lastModified == -1) {\n                // servlet doesn't support if-modified-since, no reason\n                // to go through further expensive logic\n                doGet(req, resp);\n            } else {\n                long ifModifiedSince;\n                try {\n                    ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);\n                } catch (IllegalArgumentException iae) {\n                    // Invalid date header - proceed as if none was set\n                    ifModifiedSince = -1;\n                }\n                if (ifModifiedSince &lt; (lastModified / 1000 * 1000)) {\n                    // If the servlet mod time is later, call doGet()\n                    // Round down to the nearest second for a proper compare\n                    // A ifModifiedSince of -1 will always be less\n                    maybeSetLastModified(resp, lastModified);\n                    doGet(req, resp);\n                } else {\n                    resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);\n                }\n            }\n\n        } else if (method.equals(METHOD_HEAD)) {\n            long lastModified = getLastModified(req);\n            maybeSetLastModified(resp, lastModified);\n            doHead(req, resp);\n\n        } else if (method.equals(METHOD_POST)) {\n            // \u5982\u679c\u8bf7\u6c42\u65b9\u5f0f\u662fPOST\u8bf7\u6c42\uff0c\u5219\u6267\u884cdoPost\u65b9\u6cd5\u3002\n            doPost(req, resp);\n\n        } else if (method.equals(METHOD_PUT)) {\n            doPut(req, resp);\n\n        } else if (method.equals(METHOD_DELETE)) {\n            doDelete(req, resp);\n\n        } else if (method.equals(METHOD_OPTIONS)) {\n            doOptions(req,resp);\n\n        } else if (method.equals(METHOD_TRACE)) {\n            doTrace(req,resp);\n\n        } else {\n            //\n            // Note that this means NO servlet supports whatever\n            // method was requested, anywhere on this server.\n            //\n\n            String errMsg = lStrings.getString(\"http.method_not_implemented\");\n            Object[] errArgs = new Object[1];\n            errArgs[0] = method;\n            errMsg = MessageFormat.format(errMsg, errArgs);\n\n            resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);\n        }\n    }\n\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException{\n        // \u62a5405\u9519\u8bef\n        String msg = lStrings.getString(\"http.method_get_not_supported\");\n        sendMethodNotAllowed(req, resp, msg);\n    }\n\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException {\n        // \u62a5405\u9519\u8bef\n        String msg = lStrings.getString(\"http.method_post_not_supported\");\n        sendMethodNotAllowed(req, resp, msg);\n    }\n\n}\n/*\n\u901a\u8fc7\u4ee5\u4e0a\u6e90\u4ee3\u7801\u5206\u6790\uff1a\n    \u5047\u8bbe\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u662fget\u8bf7\u6c42\uff0c\u540e\u7aef\u7a0b\u5e8f\u5458\u91cd\u5199\u7684\u65b9\u6cd5\u662fdoPost\n    \u5047\u8bbe\u524d\u7aef\u53d1\u9001\u7684\u8bf7\u6c42\u662fpost\u8bf7\u6c42\uff0c\u540e\u7aef\u7a0b\u5e8f\u5458\u91cd\u5199\u7684\u65b9\u6cd5\u662fdoGet\n    \u4f1a\u53d1\u751f\u4ec0\u4e48\u5462\uff1f\n        \u53d1\u751f405\u8fd9\u6837\u7684\u4e00\u4e2a\u9519\u8bef\u3002\n        405\u8868\u793a\u524d\u7aef\u7684\u9519\u8bef\uff0c\u53d1\u9001\u7684\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u5bf9\u3002\u548c\u670d\u52a1\u5668\u4e0d\u4e00\u81f4\u3002\u4e0d\u662f\u670d\u52a1\u5668\u9700\u8981\u7684\u8bf7\u6c42\u65b9\u5f0f\u3002\n\n    \u901a\u8fc7\u4ee5\u4e0a\u6e90\u4ee3\u7801\u53ef\u4ee5\u77e5\u9053\uff1a\u53ea\u8981HttpServlet\u7c7b\u4e2d\u7684doGet\u65b9\u6cd5\u6216doPost\u65b9\u6cd5\u6267\u884c\u4e86\uff0c\u5fc5\u7136405.\n\n\u600e\u4e48\u907f\u514d405\u7684\u9519\u8bef\u5462\uff1f\n    \u540e\u7aef\u91cd\u5199\u4e86doGet\u65b9\u6cd5\uff0c\u524d\u7aef\u4e00\u5b9a\u8981\u53d1get\u8bf7\u6c42\u3002\n    \u540e\u7aef\u91cd\u5199\u4e86doPost\u65b9\u6cd5\uff0c\u524d\u7aef\u4e00\u5b9a\u8981\u53d1post\u8bf7\u6c42\u3002\n    \u8fd9\u6837\u53ef\u4ee5\u907f\u514d405\u9519\u8bef\u3002\n\n    \u8fd9\u79cd\u524d\u7aef\u5230\u5e95\u9700\u8981\u53d1\u4ec0\u4e48\u6837\u7684\u8bf7\u6c42\uff0c\u5176\u5b9e\u5e94\u8be5\u540e\u7aef\u8bf4\u4e86\u7b97\u3002\u540e\u7aef\u8ba9\u53d1\u4ec0\u4e48\u65b9\u5f0f\uff0c\u524d\u7aef\u5c31\u5f97\u53d1\u4ec0\u4e48\u65b9\u5f0f\u3002\n\n\u6709\u7684\u4eba\uff0c\u4f60\u4f1a\u770b\u5230\u4e3a\u4e86\u907f\u514d405\u9519\u8bef\uff0c\u5728Servlet\u7c7b\u5f53\u4e2d\uff0c\u5c06doGet\u548cdoPost\u65b9\u6cd5\u90fd\u8fdb\u884c\u4e86\u91cd\u5199\u3002\n\u8fd9\u6837\uff0c\u786e\u5b9e\u53ef\u4ee5\u907f\u514d405\u7684\u53d1\u751f\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\uff0c405\u9519\u8bef\u8fd8\u662f\u6709\u7528\u7684\u3002\u8be5\u62a5\u9519\u7684\u65f6\u5019\u5c31\u5e94\u8be5\u8ba9\u4ed6\u62a5\u9519\u3002\n\u5982\u679c\u4f60\u8981\u662f\u540c\u65f6\u91cd\u5199\u4e86doGet\u548cdoPost\uff0c\u90a3\u8fd8\u4e0d\u5982\u4f60\u76f4\u63a5\u91cd\u5199service\u65b9\u6cd5\u597d\u4e86\u3002\u8fd9\u6837\u4ee3\u7801\u8fd8\u80fd\n\u5c11\u5199\u4e00\u70b9\u3002\n*/\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servlet_4","title":"\u6700\u7ec8\u6211\u4eec\u6572\u5b9aServlet\u7684\u5f00\u53d1\u6b65\u9aa4\uff1a","text":"<ol> <li>\u7b2c\u4e00\u6b65\uff1a\u7f16\u5199\u4e00\u4e2aServlet\u7c7b\uff0c\u76f4\u63a5\u7ee7\u627fHttpServlet</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u91cd\u5199doGet\u65b9\u6cd5\u6216\u8005\u91cd\u5199doPost\u65b9\u6cd5\uff0c\u5230\u5e95\u91cd\u5199\u8c01\uff0cjavaweb\u7a0b\u5e8f\u5458\u8bf4\u4e86\u7b97\u3002</li> <li>\u7b2c\u4e09\u6b65\uff1a\u5c06Servlet\u7c7b\u914d\u7f6e\u5230web.xml\u6587\u4ef6\u5f53\u4e2d\u3002</li> <li>\u7b2c\u56db\u6b65\uff1a\u51c6\u5907\u524d\u7aef\u7684\u9875\u9762\uff08form\u8868\u5355\uff09\uff0cform\u8868\u5355\u4e2d\u6307\u5b9a\u8bf7\u6c42\u8def\u5f84\u5373\u53ef\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#httpservletrequest","title":"HttpServletRequest","text":"<p>HttpServletRequest\uff0c\u7b80\u79f0request\u5bf9\u8c61\u3002\u5c01\u88c5\u4e86\u8bf7\u6c42\u534f\u8bae\u7684\u5168\u90e8\u5185\u5bb9\u3002</p> <p>Tomcat\u670d\u52a1\u5668\uff08WEB\u670d\u52a1\u5668\uff09\u5c06\u201c\u8bf7\u6c42\u534f\u8bae\u201d\u4e2d\u7684\u6570\u636e\u5168\u90e8\u89e3\u6790\u51fa\u6765\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u6570\u636e\u5168\u90e8\u5c01\u88c5\u5230request\u5bf9\u8c61\u5f53\u4e2d\u4e86\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ea\u8981\u9762\u5411HttpServletRequest\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u8bf7\u6c42\u534f\u8bae\u4e2d\u7684\u6570\u636e\u3002</p> <p>HttpServletRequest\u63a5\u53e3\u7684\u7236\u63a5\u53e3\uff1aServletRequest</p> Java<pre><code>public interface HttpServletRequest extends ServletRequest {...}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_16","title":"\u5b9e\u73b0\u7c7b","text":"<p>\u901a\u8fc7\u6d4b\u8bd5\uff1a<code>org.apache.catalina.connector.RequestFacade</code> \u5b9e\u73b0\u4e86 HttpServletRequest\u63a5\u53e3</p> Java<pre><code>public class RequestFacade implements HttpServletRequest {}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#request","title":"request\u5bf9\u8c61\u4e2d\u90fd\u6709\u4ec0\u4e48\u4fe1\u606f\uff1f","text":"<p>\u5c01\u88c5\u4e86HTTP\u7684\u8bf7\u6c42\u534f\u8bae\u3002</p> <p>\u5b9e\u9645\u4e0a\u662f\u7528\u6237\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u9075\u5faa\u4e86HTTP\u534f\u8bae\uff0c\u53d1\u9001\u7684\u662fHTTP\u7684\u8bf7\u6c42\u534f\u8bae\uff0cTomcat\u670d\u52a1\u5668\u5c06HTTP\u534f\u8bae\u4e2d\u7684\u4fe1\u606f\u4ee5\u53ca\u6570\u636e\u5168\u90e8\u89e3\u6790\u51fa\u6765\uff0c\u7136\u540eTomcat\u670d\u52a1\u5668\u628a\u8fd9\u4e9b\u4fe1\u606f\u5c01\u88c5\u5230HttpServletRequest\u5bf9\u8c61\u5f53\u4e2d\uff0c\u4f20\u7ed9\u4e86\u6211\u4eecjavaweb\u7a0b\u5e8f\u5458\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#requestresponse","title":"request\u548cresponse\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\uff1f","text":"<p>request\u5bf9\u8c61\u548cresponse\u5bf9\u8c61\uff0c\u4e00\u4e2a\u662f\u8bf7\u6c42\u5bf9\u8c61\uff0c\u4e00\u4e2a\u662f\u54cd\u5e94\u5bf9\u8c61\u3002\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u53ea\u5728\u5f53\u524d\u8bf7\u6c42\u4e2d\u6709\u6548\u3002</p> <p>\u4e00\u6b21\u8bf7\u6c42\u5bf9\u5e94\u4e00\u4e2arequest\u3002\u4e24\u6b21\u8bf7\u6c42\u5219\u5bf9\u5e94\u4e24\u4e2arequest\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_17","title":"\u5e38\u7528\u7684\u65b9\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_18","title":"\u83b7\u53d6\u524d\u7aef\u6d4f\u89c8\u5668\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e","text":"Java<pre><code>Map&lt;String,String[]&gt; getParameterMap() \u8fd9\u4e2a\u662f\u83b7\u53d6Map\nEnumeration&lt;String&gt; getParameterNames() \u8fd9\u4e2a\u662f\u83b7\u53d6Map\u96c6\u5408\u4e2d\u6240\u6709\u7684key\nString[] getParameterValues(String name) \u6839\u636ekey\u83b7\u53d6Map\u96c6\u5408\u7684value\nString getParameter(String name)  \u83b7\u53d6value\u8fd9\u4e2a\u4e00\u7ef4\u6570\u7ec4\u5f53\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u8fd9\u4e2a\u65b9\u6cd5\u6700\u5e38\u7528\u3002\n// \u4ee5\u4e0a\u76844\u4e2a\u65b9\u6cd5\uff0c\u548c\u83b7\u53d6\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u6709\u5173\u7cfb\u3002\n</code></pre> <ul> <li> <p>\u601d\u8003\uff1a\u5982\u679c\u662f\u4f60\uff0c\u524d\u7aef\u7684form\u8868\u5355\u63d0\u4ea4\u4e86\u6570\u636e\u4e4b\u540e\uff0c\u4f60\u51c6\u5907\u600e\u4e48\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e\uff0c\u4f60\u51c6\u5907\u91c7\u7528\u4ec0\u4e48\u6837\u7684\u6570\u636e\u7ed3\u6784\u53bb\u5b58\u50a8\u8fd9\u4e9b\u6570\u636e\u5462\uff1f</p> <ul> <li> <p>\u524d\u7aef\u63d0\u4ea4\u7684\u6570\u636e\u683c\u5f0f\uff1ausername=abc&amp;userpwd=111&amp;aihao=s&amp;aihao=d&amp;aihao=tt</p> </li> <li> <p>\u6211\u4f1a\u91c7\u7528Map\u96c6\u5408\u6765\u5b58\u50a8\uff1a</p> </li> </ul> </li> </ul> Java<pre><code>Map&lt;String,String&gt;\n    key\u5b58\u50a8String\n    value\u5b58\u50a8String\n    \u8fd9\u79cd\u60f3\u6cd5\u5bf9\u5417\uff1f\u4e0d\u5bf9\u3002\n    \u5982\u679c\u91c7\u7528\u4ee5\u4e0a\u7684\u6570\u636e\u7ed3\u6784\u5b58\u50a8\u4f1a\u53d1\u73b0key\u91cd\u590d\u7684\u65f6\u5019value\u8986\u76d6\u3002\n    key         value\n    ---------------------\n    username    abc\n    userpwd     111\n    aihao       s\n    aihao       d\n    aihao       tt\n    \u8fd9\u6837\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3amap\u7684key\u4e0d\u80fd\u91cd\u590d\u3002\nMap&lt;String, String[]&gt;\n    key\u5b58\u50a8String\n    value\u5b58\u50a8String[]\n    key               value\n    -------------------------------\n    username      {\"abc\"}\n    userpwd           {\"111\"}\n    aihao         {\"s\",\"d\",\"tt\"}\n</code></pre> <p>\u6ce8\u610f\uff1a\u524d\u7aef\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684\u65f6\u5019\uff0c\u5047\u8bbe\u63d0\u4ea4\u4e86120\u8fd9\u6837\u7684\u201c\u6570\u5b57\u201d\uff0c\u5176\u5b9e\u662f\u4ee5\u5b57\u7b26\u4e32\"120\"\u7684\u65b9\u5f0f\u63d0\u4ea4\u7684\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u5230\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\"120\"\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u6570\u5b57\u3002\uff08\u524d\u7aef\u6c38\u8fdc\u63d0\u4ea4\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u540e\u7aef\u83b7\u53d6\u7684\u4e5f\u6c38\u8fdc\u662f\u5b57\u7b26\u4e32\u3002\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_19","title":"\u8f6c\u53d1\uff08\u4e00\u6b21\u8bf7\u6c42\uff09","text":"Java<pre><code>/*\n\u5047\u8bbeAServlet\u4e2d\u7684\u8bf7\u6c42\u60f3\u8981\u4f20\u9012\u7ed9BServlet\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u662f\u8fd9\u6837\u5199\u7684\u3002\nBServlet bs = new BServlet();\nbs.doGet(request, response);\n\u800c\u6211\u4eec\u81ea\u5df1\u8fd9\u6837\u5199\u7684BServlet\u4e0d\u53d7Tomcat\uff08WEB\u5bb9\u5668\uff09\u7684\u7ba1\u63a7\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u8fd0\u884c\u3002\n */\n\n// \u7b2c\u4e00\u6b65\u548c\u7b2c\u4e8c\u6b65\u4ee3\u7801\u53ef\u4ee5\u8054\u5408\u5728\u4e00\u8d77\u3002\nrequest.getRequestDispatcher(\"/b\").forward(request,response);\n</code></pre> <p>\u4e24\u4e2aServlet\u600e\u4e48\u5171\u4eab\u6570\u636e\uff1f</p> <ol> <li>\u5c06\u6570\u636e\u653e\u5230ServletContext\u5e94\u7528\u57df\u5f53\u4e2d\uff0c\u5f53\u7136\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u5e94\u7528\u57df\u8303\u56f4\u592a\u5927\uff0c\u5360\u7528\u8d44\u6e90\u592a\u591a\u3002\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002</li> <li>\u53ef\u4ee5\u5c06\u6570\u636e\u653e\u5230request\u57df\u5f53\u4e2d\uff0c\u7136\u540eAServlet\u8f6c\u53d1\u5230BServlet\uff0c\u4fdd\u8bc1AServlet\u548cBServlet\u5728\u540c\u4e00\u6b21\u8bf7\u6c42\u5f53\u4e2d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u505a\u5230\u4e24\u4e2aServlet\uff0c\u6216\u8005\u591a\u4e2aServlet\u5171\u4eab\u540c\u4e00\u4efd\u6570\u636e\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_20","title":"\u83b7\u53d6\u8bf7\u6c42\u57df\u4e2d\u7684\u6570\u636e","text":"Java<pre><code>Object obj = request.getAttribute(\"name\");\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_21","title":"\u5176\u4ed6\u5e38\u7528\u65b9\u6cd5","text":"Java<pre><code>// \u83b7\u53d6\u5ba2\u6237\u7aef\u7684IP\u5730\u5740\nString remoteAddr = request.getRemoteAddr();\n\n// get\u8bf7\u6c42\u5728\u8bf7\u6c42\u884c\u4e0a\u63d0\u4ea4\u6570\u636e\u3002\n// post\u8bf7\u6c42\u5728\u8bf7\u6c42\u4f53\u4e2d\u63d0\u4ea4\u6570\u636e\u3002\n// \u8bbe\u7f6e\u8bf7\u6c42\u4f53\u7684\u5b57\u7b26\u96c6\u3002\uff08\u663e\u7136\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5904\u7406POST\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\u3002\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u80fd\u89e3\u51b3get\u8bf7\u6c42\u7684\u4e71\u7801\u95ee\u9898\u3002\uff09\n// Tomcat10\u4e4b\u540e\uff0crequest\u8bf7\u6c42\u4f53\u5f53\u4e2d\u7684\u5b57\u7b26\u96c6\u9ed8\u8ba4\u5c31\u662fUTF-8\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6e\u5b57\u7b26\u96c6\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4e71\u7801\u95ee\u9898\u3002\n// Tomcat9\u524d\uff08\u5305\u62ec9\u5728\u5185\uff09\uff0c\u5982\u679c\u524d\u7aef\u8bf7\u6c42\u4f53\u63d0\u4ea4\u7684\u662f\u4e2d\u6587\uff0c\u540e\u7aef\u83b7\u53d6\u4e4b\u540e\u51fa\u73b0\u4e71\u7801\uff0c\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u4e71\u7801\uff1f\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u3002\nrequest.setCharacterEncoding(\"UTF-8\");\n\n// \u5728Tomcat9\u4e4b\u524d\uff08\u5305\u62ec9\uff09\uff0c\u54cd\u5e94\u4e2d\u6587\u4e5f\u662f\u6709\u4e71\u7801\u7684\uff0c\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u54cd\u5e94\u7684\u4e71\u7801\uff1f\nresponse.setContentType(\"text/html;charset=UTF-8\");\n// \u5728Tomcat10\u4e4b\u540e\uff0c\u5305\u62ec10\u5728\u5185\uff0c\u54cd\u5e94\u4e2d\u6587\u7684\u65f6\u5019\u5c31\u4e0d\u5728\u51fa\u73b0\u4e71\u7801\u95ee\u9898\u4e86\u3002\u4ee5\u4e0a\u4ee3\u7801\u5c31\u4e0d\u9700\u8981\u8bbe\u7f6eUTF-8\u4e86\u3002\n\n// \u6ce8\u610f\u4e00\u4e2a\u7ec6\u8282\n// \u5728Tomcat10\u5305\u62ec10\u5728\u5185\u4e4b\u540e\u7684\u7248\u672c\uff0c\u4e2d\u6587\u5c06\u4e0d\u518d\u51fa\u73b0\u4e71\u7801\u3002\uff08\u8fd9\u4e5f\u4f53\u73b0\u4e86\u4e2d\u6587\u5730\u4f4d\u7684\u63d0\u5347\u3002\uff09\n\n// get\u8bf7\u6c42\u4e71\u7801\u95ee\u9898\u600e\u4e48\u89e3\u51b3\uff1f\n// get\u8bf7\u6c42\u53d1\u9001\u7684\u65f6\u5019\uff0c\u6570\u636e\u662f\u5728\u8bf7\u6c42\u884c\u4e0a\u63d0\u4ea4\u7684\uff0c\u4e0d\u662f\u5728\u8bf7\u6c42\u4f53\u5f53\u4e2d\u63d0\u4ea4\u7684\u3002\n// get\u8bf7\u6c42\u4e71\u7801\u600e\u4e48\u89e3\u51b3\n// \u65b9\u6848\uff1a\u4fee\u6539CATALINA_HOME/conf/server.xml\u914d\u7f6e\u6587\u4ef6\n&lt;Connector URIEncoding=\"UTF-8\" /&gt;\n// \u6ce8\u610f\uff1a\u4eceTomcat8\u4e4b\u540e\uff0cURIEncoding\u7684\u9ed8\u8ba4\u503c\u5c31\u662fUTF-8\uff0c\u6240\u4ee5GET\u8bf7\u6c42\u4e5f\u6ca1\u6709\u4e71\u7801\u95ee\u9898\u4e86\u3002\n\n// \u83b7\u53d6\u5e94\u7528\u7684\u6839\u8def\u5f84\nString contextPath = request.getContextPath();\n\n// \u83b7\u53d6\u8bf7\u6c42\u65b9\u5f0f\nString method = request.getMethod();\n\n// \u83b7\u53d6\u8bf7\u6c42\u7684URI\nString uri = request.getRequestURI();  // /aaa/testRequest\n\n// \u83b7\u53d6servlet path\nString servletPath = request.getServletPath(); //   /testRequest\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#httpservletresponse","title":"HttpServletResponse","text":"<p>HttpServletResponse\u5bf9\u8c61\u662f\u4e13\u95e8\u7528\u6765\u54cd\u5e94HTTP\u534f\u8bae\u5230\u6d4f\u89c8\u5668\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#web-inf","title":"\u5173\u4e8eWEB-INF\u76ee\u5f55","text":"<p>\u5728WEB-INF\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6\uff1awelcome.html</p> <p>\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee\uff1ahttp://localhost:8080/servlet07/WEB-INF/welcome.html \u51fa\u73b0\u4e86404\u9519\u8bef\u3002</p> <p>\u6ce8\u610f\uff1a\u653e\u5728WEB-INF\u76ee\u5f55\u4e0b\u7684\u8d44\u6e90\u662f\u53d7\u4fdd\u62a4\u7684\u3002\u5728\u6d4f\u89c8\u5668\u4e0a\u4e0d\u80fd\u591f\u901a\u8fc7\u8def\u5f84\u76f4\u63a5\u8bbf\u95ee\u3002\u6240\u4ee5\u50cfHTML\u3001CSS\u3001JS\u3001image\u7b49\u9759\u6001\u8d44\u6e90\u4e00\u5b9a\u8981\u653e\u5230WEB-INF\u76ee\u5f55\u4e4b\u5916\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#web","title":"\u5173\u4e8e\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762","text":"<ul> <li> <p>\u4ec0\u4e48\u662f\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762\uff1f</p> <ul> <li>\u5bf9\u4e8e\u4e00\u4e2awebapp\u6765\u8bf4\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u8bbe\u7f6e\u5b83\u7684\u6b22\u8fce\u9875\u9762\u7684\u3002</li> <li>\u8bbe\u7f6e\u4e86\u6b22\u8fce\u9875\u9762\u4e4b\u540e\uff0c\u5f53\u4f60\u8bbf\u95ee\u8fd9\u4e2awebapp\u7684\u65f6\u5019\uff0c\u6216\u8005\u8bbf\u95ee\u8fd9\u4e2aweb\u7ad9\u70b9\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u6307\u5b9a\u4efb\u4f55\u201c\u8d44\u6e90\u8def\u5f84\u201d\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f1a\u9ed8\u8ba4\u8bbf\u95ee\u4f60\u7684\u6b22\u8fce\u9875\u9762\u3002</li> <li>\u6211\u4eec\u4e00\u822c\u7684\u8bbf\u95ee\u65b9\u5f0f\u662f\uff1a<ul> <li>http://localhost:8080/servlet06/login.html \u8fd9\u79cd\u65b9\u5f0f\u662f\u6307\u5b9a\u4e86\u8981\u8bbf\u95ee\u7684\u5c31\u662flogin.html\u8d44\u6e90\u3002</li> </ul> </li> <li>\u5982\u679c\u6211\u4eec\u8bbf\u95ee\u7684\u65b9\u5f0f\u662f\uff1a<ul> <li>http://localhost:8080/servlet06 \u5982\u679c\u6211\u4eec\u8bbf\u95ee\u7684\u5c31\u662f\u8fd9\u4e2a\u7ad9\u70b9\uff0c\u6ca1\u6709\u6307\u5b9a\u5177\u4f53\u7684\u8d44\u6e90\u8def\u5f84\u3002\u5b83\u9ed8\u8ba4\u4f1a\u8bbf\u95ee\u8c01\u5462\uff1f</li> <li>\u9ed8\u8ba4\u4f1a\u8bbf\u95ee\u4f60\u8bbe\u7f6e\u7684\u6b22\u8fce\u9875\u9762\u3002</li> </ul> </li> </ul> </li> <li> <p>\u600e\u4e48\u8bbe\u7f6e\u6b22\u8fce\u9875\u9762\u5462\uff1f</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u6211\u5728IDEA\u5de5\u5177\u7684web\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6login.html</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u4e86\u4ee5\u4e0b\u7684\u914d\u7f6e</p> <ul> <li> <p><code>xml         &lt;welcome-file-list&gt;             &lt;welcome-file&gt;login.html&lt;/welcome-file&gt;         &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8bbe\u7f6e\u6b22\u8fce\u9875\u9762\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u8def\u5f84\u4e0d\u9700\u8981\u4ee5\u201c/\u201d\u5f00\u59cb\u3002\u5e76\u4e14\u8fd9\u4e2a\u8def\u5f84\u9ed8\u8ba4\u662f\u4ecewebapp\u7684\u6839\u4e0b\u5f00\u59cb\u67e5\u627e\u3002</p> </li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u542f\u52a8\u670d\u52a1\u5668\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u8f93\u5165\u5730\u5740</p> <ul> <li>http://localhost:8080/servlet07</li> </ul> </li> </ul> </li> <li> <p>\u5982\u679c\u5728webapp\u7684\u6839\u4e0b\u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u76ee\u5f55\u4e2d\u518d\u7ed9\u4e00\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6b22\u8fce\u9875\u8be5\u5982\u4f55\u8bbe\u7f6e\u5462\uff1f</p> <ul> <li> <p>\u5728webapp\u6839\u4e0b\u65b0\u5efapage1</p> </li> <li> <p>\u5728page1\u4e0b\u65b0\u5efapage2\u76ee\u5f55</p> </li> <li> <p>\u5728page2\u76ee\u5f55\u4e0b\u65b0\u5efapage.html\u9875\u9762</p> </li> <li> <p>\u5728web.xml\u6587\u4ef6\u4e2d\u5e94\u8be5\u8fd9\u6837\u914d\u7f6e</p> <ul> <li> <p><code>&lt;welcome-file-list&gt;         &lt;welcome-file&gt;page1/page2/page.html&lt;/welcome-file&gt;     &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8def\u5f84\u4e0d\u9700\u8981\u4ee5\u201c/\u201d\u5f00\u59cb\uff0c\u5e76\u4e14\u8def\u5f84\u9ed8\u8ba4\u4ecewebapp\u7684\u6839\u4e0b\u5f00\u59cb\u627e\u3002</p> </li> </ul> </li> </ul> </li> <li> <p>\u4e00\u4e2awebapp\u662f\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u6b22\u8fce\u9875\u9762\u7684</p> <ul> <li> <p><code>xml     &lt;welcome-file-list&gt;         &lt;welcome-file&gt;page1/page2/page.html&lt;/welcome-file&gt;         &lt;welcome-file&gt;login.html&lt;/welcome-file&gt;     &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>\u6ce8\u610f\uff1a\u8d8a\u9760\u4e0a\u7684\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002\u627e\u4e0d\u5230\u7684\u7ee7\u7eed\u5411\u4e0b\u627e\u3002</p> </li> </ul> </li> <li> <p>\u4f60\u6709\u6ca1\u6709\u6ce8\u610f\u4e00\u4ef6\u4e8b\uff1a\u5f53\u6211\u7684\u6587\u4ef6\u540d\u8bbe\u7f6e\u4e3aindex.html\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u6b22\u8fce\u9875\u9762\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\uff1f</p> <ul> <li> <p>\u8fd9\u662f\u56e0\u4e3a\u5c0f\u732b\u54aaTomcat\u670d\u52a1\u5668\u5df2\u7ecf\u63d0\u524d\u914d\u7f6e\u597d\u4e86\u3002</p> </li> <li> <p>\u5b9e\u9645\u4e0a\u914d\u7f6e\u6b22\u8fce\u9875\u9762\u6709\u4e24\u4e2a\u5730\u65b9\u53ef\u4ee5\u914d\u7f6e\uff1a</p> <ul> <li> <p>\u4e00\u4e2a\u662f\u5728webapp\u5185\u90e8\u7684web.xml\u6587\u4ef6\u4e2d\u3002\uff08\u5728\u8fd9\u4e2a\u5730\u65b9\u914d\u7f6e\u7684\u5c5e\u4e8e\u5c40\u90e8\u914d\u7f6e\uff09</p> </li> <li> <p>\u4e00\u4e2a\u662f\u5728CATALINA_HOME/conf/web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u3002\uff08\u5728\u8fd9\u4e2a\u5730\u65b9\u914d\u7f6e\u7684\u5c5e\u4e8e\u5168\u5c40\u914d\u7f6e\uff09</p> <ul> <li> <p><code>xml     &lt;welcome-file-list&gt;         &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;         &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;         &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;     &lt;/welcome-file-list&gt;</code></p> </li> <li> <p>Tomcat\u670d\u52a1\u5668\u7684\u5168\u5c40\u6b22\u8fce\u9875\u9762\u662f\uff1aindex.html index.htm index.jsp\u3002\u5982\u679c\u4f60\u4e00\u4e2aweb\u7ad9\u70b9\u6ca1\u6709\u8bbe\u7f6e\u5c40\u90e8\u7684\u6b22\u8fce\u9875\u9762\uff0cTomcat\u670d\u52a1\u5668\u5c31\u4f1a\u4ee5index.html index.htm index.jsp\u4f5c\u4e3a\u4e00\u4e2aweb\u7ad9\u70b9\u7684\u6b22\u8fce\u9875\u9762\u3002</p> </li> </ul> </li> <li> <p>\u6ce8\u610f\u539f\u5219\uff1a\u5c40\u90e8\u4f18\u5148\u539f\u5219\u3002\uff08\u5c31\u8fd1\u539f\u5219\uff09</p> </li> </ul> </li> </ul> </li> <li> <p>\u6b22\u8fce\u9875\u53ef\u4ee5\u662f\u4e00\u4e2aServlet\u5417\uff1f</p> <ul> <li> <p>\u5f53\u7136\u53ef\u4ee5\u3002</p> </li> <li> <p>\u4f60\u4e0d\u8981\u591a\u60f3\uff0c\u6b22\u8fce\u9875\u5c31\u662f\u4e00\u4e2a\u8d44\u6e90\uff0c\u65e2\u7136\u662f\u4e00\u4e2a\u8d44\u6e90\uff0c\u90a3\u4e48\u53ef\u4ee5\u662f\u9759\u6001\u8d44\u6e90\uff0c\u4e5f\u53ef\u4ee5\u662f\u52a8\u6001\u8d44\u6e90\u3002</p> </li> <li> <p>\u9759\u6001\u8d44\u6e90\uff1aindex.html welcome.html .....</p> </li> <li> <p>\u52a8\u6001\u8d44\u6e90\uff1aServlet\u7c7b\u3002</p> </li> <li> <p>\u6b65\u9aa4\uff1a</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5199\u4e00\u4e2aServlet</p> <ul> <li><code>java     public class WelcomeServlet extends HttpServlet {         @Override         protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {             response.setContentType(\"text/html\");             PrintWriter out = response.getWriter();             out.print(\"&lt;h1&gt;welcome to bjpowernode!&lt;/h1&gt;\");         }     }</code></li> </ul> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u914d\u7f6eservlet</p> <ul> <li><code>xml         &lt;servlet&gt;             &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;             &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.WelcomeServlet&lt;/servlet-class&gt;         &lt;/servlet&gt;         &lt;servlet-mapping&gt;             &lt;servlet-name&gt;welcomeServlet&lt;/servlet-name&gt;             &lt;url-pattern&gt;/fdsa/fds/a/fds/af/ds/af/dsafdsafdsa&lt;/url-pattern&gt;         &lt;/servlet-mapping&gt;</code></li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728web.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u6b22\u8fce\u9875</p> <ul> <li><code>xml         &lt;welcome-file-list&gt;             &lt;welcome-file&gt;fdsa/fds/a/fds/af/ds/af/dsafdsafdsa&lt;/welcome-file&gt;         &lt;/welcome-file-list&gt;</code></li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servletcurd","title":"\u4f7f\u7528Servlet\u5236\u4f5cCURD\u7cfb\u7edf","text":"<p>\u589e\u5220\u6539\u67e5</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#1","title":"1. \u521b\u5efa\u6570\u636e\u5e93\u8868","text":"SQL<pre><code>drop table if exists dept;\ncreate table dept(\n    deptno      int primary key,\n    deptname    varchar(255),\n    loc         varchar(255)\n);\ninsert into dept(deptno,deptname,loc) values(10, '\u9500\u552e\u90e8', '\u5317\u4eac');\ninsert into dept(deptno,deptname,loc) values(20, '\u6280\u672f\u90e8', '\u4e0a\u6d77');\ninsert into dept(deptno,deptname,loc) values(10, '\u7814\u53d1\u90e8', '\u5e7f\u5dde');\ninsert into dept(deptno,deptname,loc) values(10, '\u5a92\u4f53\u90e8', '\u6df1\u5733');\ninsert into dept(deptno,deptname,loc) values(10, '\u8fd0\u8425\u90e8', '\u9752\u5c9b');\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#2-html","title":"2. \u521b\u5efahtml\u9759\u6001\u9875\u9762","text":"<p>\u6b22\u8fce\u9875\u9762index</p> <p>\u90e8\u95e8\u5c55\u793a\u9875\u9762list</p> <p>\u6dfb\u52a0\u90e8\u95e8\u9875\u9762add</p> <p>\u4fee\u6539\u90e8\u95e8\u9875\u9762alter</p> <p>\u5c55\u793a\u90e8\u95e8\u8be6\u60c5\u9875\u9762</p> <p></p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_22","title":"\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411","text":"<p>\u5728\u4e00\u4e2aweb\u5e94\u7528\u4e2d\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5b8c\u6210\u8d44\u6e90\u7684\u8df3\u8f6c\uff1a\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_23","title":"\u8f6c\u53d1","text":"Java<pre><code>request.getRequestDispatcher(\"/dept/list\").forward(request, response);\n// \u8f6c\u53d1\u7684\u65f6\u5019\u662f\u4e00\u6b21\u8bf7\u6c42\uff0c\u4e0d\u7ba1\u4f60\u8f6c\u53d1\u4e86\u591a\u5c11\u6b21\u3002\u90fd\u662f\u4e00\u6b21\u8bf7\u6c42\u3002\n// AServlet\u8f6c\u53d1\u5230BServlet\uff0c\u518d\u8f6c\u53d1\u5230CServlet\uff0c\u518d\u8f6c\u53d1\u5230DServlet\uff0c\u4e0d\u7ba1\u8f6c\u53d1\u4e86\u591a\u5c11\u6b21\uff0c\u90fd\u5728\u540c\u4e00\u4e2arequest\u5f53\u4e2d\u3002\n// \u8fd9\u662f\u56e0\u4e3a\u8c03\u7528forward\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u4f1a\u5c06\u5f53\u524d\u7684request\u548cresponse\u5bf9\u8c61\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2aServlet\u3002\n</code></pre> <ol> <li>\u8f6c\u53d1\uff08\u4e00\u6b21\u8bf7\u6c42\uff09<ul> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u53d1\u9001\u7684\u8bf7\u6c42\u662f\uff1ahttp://localhost:8080/servlet10/a \uff0c\u6700\u7ec8\u8bf7\u6c42\u7ed3\u675f\u4e4b\u540e\uff0c\u65e0\u8bba\u6211\u4eec\u8df3\u8f6c\u5230\u4e86\u54ea\u4e2a\u9875\u9762\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u7684\u5730\u5740\u8fd8\u662f\u8fd9\u4e2a\u3002</li> </ul> </li> <li>\u672c\u8d28\u533a\u522b\uff1a\u662f\u7531WEB\u670d\u52a1\u5668\u6765\u63a7\u5236\u7684\u3002A\u8d44\u6e90\u8df3\u8f6c\u5230B\u8d44\u6e90\uff0c\u8fd9\u4e2a\u8df3\u8f6c\u52a8\u4f5c\u662fTomcat\u670d\u52a1\u5668\u5185\u90e8\u5b8c\u6210\u7684\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_24","title":"\u91cd\u5b9a\u5411","text":"Java<pre><code>// \u6ce8\u610f\uff1a\u8def\u5f84\u4e0a\u8981\u52a0\u4e00\u4e2a\u9879\u76ee\u540d\u3002\u4e3a\u4ec0\u4e48\uff1f\n// \u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u8bf7\u6c42\u8def\u5f84\u4e0a\u662f\u9700\u8981\u6dfb\u52a0\u9879\u76ee\u540d\u7684\u3002\n// \u4ee5\u4e0b\u8fd9\u4e00\u884c\u4ee3\u7801\u4f1a\u5c06\u8bf7\u6c42\u8def\u5f84\u201c/oa/dept/list\u201d\u53d1\u9001\u7ed9\u6d4f\u89c8\u5668\n// \u6d4f\u89c8\u5668\u4f1a\u81ea\u53d1\u7684\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u6b21\u5168\u65b0\u7684\u8bf7\u6c42\uff1a/oa/dept/list\nresponse.sendRedirect(\"/oa/dept/list\");\n</code></pre> <ol> <li>\u91cd\u5b9a\u5411\uff08\u4e24\u6b21\u8bf7\u6c42\uff09<ul> <li>\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u53d1\u9001\u7684\u8bf7\u6c42\u662f\uff1ahttp://localhost:8080/servlet10/a \uff0c\u6700\u7ec8\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e0a\u663e\u793a\u7684\u5730\u5740\u662f\uff1ahttp://localhost:8080/servlet10/b</li> </ul> </li> <li>\u672c\u8d28\u533a\u522b\uff1a\u662f\u6d4f\u89c8\u5668\u5b8c\u6210\u7684\u3002\u5177\u4f53\u8df3\u8f6c\u5230\u54ea\u4e2a\u8d44\u6e90\uff0c\u662f\u6d4f\u89c8\u5668\u8bf4\u4e86\u7b97\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_25","title":"\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u5e94\u8be5\u5982\u4f55\u9009\u62e9\uff1f\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u8f6c\u53d1\uff0c\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u91cd\u5b9a\u5411\uff1f","text":"<ul> <li> <p>\u5982\u679c\u5728\u4e0a\u4e00\u4e2aServlet\u5f53\u4e2d\u5411request\u57df\u5f53\u4e2d\u7ed1\u5b9a\u4e86\u6570\u636e\uff0c\u5e0c\u671b\u4ece\u4e0b\u4e00\u4e2aServlet\u5f53\u4e2d\u628arequest\u57df\u91cc\u9762\u7684\u6570\u636e\u53d6\u51fa\u6765\uff0c\u4f7f\u7528\u8f6c\u53d1\u673a\u5236\u3002</p> </li> <li> <p>\u5269\u4e0b\u6240\u6709\u7684\u8bf7\u6c42\u5747\u4f7f\u7528\u91cd\u5b9a\u5411\u3002\uff08\u91cd\u5b9a\u5411\u4f7f\u7528\u8f83\u591a\u3002\uff09</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_26","title":"==\u8f6c\u53d1\u4f1a\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u95ee\u9898==\u3002","text":"<p>\u5982\u679c\u6211\u4eec\u6b64\u523b\u7684\u64cd\u4f5c\u662f\u5411\u6570\u636e\u5e93\u6dfb\u52a0\u6570\u636e\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u8f6c\u53d1\u8bf7\u6c42\u5230\u8fbe\u53e6\u4e00\u4e2a\u9875\u9762\u65f6\uff0c\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4ecd\u7136\u4fdd\u6301\u7740\u5411\u6570\u636e\u5e93\u6dfb\u52a0\u6570\u636e\u8fd9\u4e2a\u64cd\u4f5c\u7684 URL\u3002\u5982\u679c\u6b64\u65f6\u6211\u4eec\u5237\u65b0\u9875\u9762\uff0c\u8fd8\u662f\u4f1a\u5411\u6570\u636e\u5e93\u6dfb\u52a0\u6570\u636e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#servlet_5","title":"Servlet\u6ce8\u89e3\uff0c\u7b80\u5316\u914d\u7f6e","text":"<p>\u5206\u6790oa\u9879\u76ee\u4e2d\u7684web.xml\u6587\u4ef6</p> <p>\u73b0\u5728\u53ea\u662f\u4e00\u4e2a\u5355\u6807\u7684CRUD\uff0c\u6ca1\u6709\u590d\u6742\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5f88\u7b80\u5355\u7684\u4e00\u4e22\u4e22\u529f\u80fd\u3002web.xml\u6587\u4ef6\u4e2d\u5c31\u6709\u5982\u6b64\u591a\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u5982\u679c\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5927\u7684\u9879\u76ee\u6765\u8bf4\uff0c\u8fd9\u6837\u7684\u8bddweb.xml\u6587\u4ef6\u4f1a\u975e\u5e38\u5e9e\u5927\uff0c\u6709\u53ef\u80fd\u6700\u7ec8\u4f1a\u8fbe\u5230\u51e0\u5341\u5146\u3002</p> <p>\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884cservlet\u4fe1\u606f\u7684\u914d\u7f6e\uff0c\u663e\u7136\u5f00\u53d1\u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u6bcf\u4e00\u4e2a\u90fd\u9700\u8981\u914d\u7f6e\u4e00\u4e0b\u3002</p> <p>\u800c\u4e14\u5728web.xml\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u662f\u5f88\u5c11\u88ab\u4fee\u6539\u7684\uff0c\u6240\u4ee5\u8fd9\u79cd\u914d\u7f6e\u4fe1\u606f\u80fd\u4e0d\u80fd\u76f4\u63a5\u5199\u5230java\u7c7b\u5f53\u4e2d\u5462\uff1f\u53ef\u4ee5\u7684\u3002</p> <p>Servlet3.0\u7248\u672c\u4e4b\u540e\uff0c\u63a8\u51fa\u4e86\u5404\u79cdServlet\u57fa\u4e8e\u6ce8\u89e3\u5f0f\u5f00\u53d1\u3002</p> <p>\u4f18\u70b9\u662f\u4ec0\u4e48\uff1f</p> <ul> <li>\u5f00\u53d1\u6548\u7387\u9ad8\uff0c\u4e0d\u9700\u8981\u7f16\u5199\u5927\u91cf\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u76f4\u63a5\u5728java\u7c7b\u4e0a\u4f7f\u7528\u6ce8\u89e3\u8fdb\u884c\u6807\u6ce8\u3002</li> <li>web.xml\u6587\u4ef6\u4f53\u79ef\u53d8\u5c0f\u4e86\u3002</li> </ul> <p>\u5e76\u4e0d\u662f\u8bf4\u6ce8\u89e3\u6709\u4e86\u4e4b\u540e\uff0cweb.xml\u6587\u4ef6\u5c31\u4e0d\u9700\u8981\u4e86\uff1f</p> <ul> <li>\u6709\u4e00\u4e9b\u9700\u8981\u53d8\u5316\u7684\u4fe1\u606f\uff0c\u8fd8\u662f\u8981\u914d\u7f6e\u5230web.xml\u6587\u4ef6\u4e2d\u3002\u4e00\u822c\u90fd\u662f \u6ce8\u89e3+\u914d\u7f6e\u6587\u4ef6 \u7684\u5f00\u53d1\u6a21\u5f0f\u3002</li> <li>\u4e00\u4e9b\u4e0d\u4f1a\u7ecf\u5e38\u53d8\u5316\u4fee\u6539\u7684\u914d\u7f6e\u5efa\u8bae\u4f7f\u7528\u6ce8\u89e3\u3002\u4e00\u4e9b\u53ef\u80fd\u4f1a\u88ab\u4fee\u6539\u7684\u5efa\u8bae\u5199\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002</li> </ul> <p>\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u6ce8\u89e3\uff1a</p> Java<pre><code>jakarta.servlet.annotation.WebServlet\n</code></pre> <p>\u5728Servlet\u7c7b\u4e0a\u4f7f\u7528\uff1a@WebServlet</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#webservlet","title":"WebServlet\u6ce8\u89e3\u4e2d\u6709\u54ea\u4e9b\u5c5e\u6027\u5462\uff1f","text":"<ul> <li>name \u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9aServlet\u7684\u540d\u5b57\u3002\u7b49\u540c\u4e8e\uff1a <li>value/urlPattern \u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9aServlet\u7684\u6620\u5c04\u8def\u5f84\u3002\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u5b57\u7b26\u4e32\u3002\u3002value\u5c5e\u6027\u540d\u662f\u53ef\u4ee5\u7701\u7565\u7684\u3002 <li>loadOnStartUp\u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9a\u5728\u670d\u52a1\u5668\u542f\u52a8\u9636\u6bb5\u662f\u5426\u52a0\u8f7d\u8be5Servlet\u3002\u7b49\u540c\u4e8e\uff1a <li>\u6ce8\u610f\uff1a\u5c5e\u6027\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u6570\u7ec4\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u4f7f\u7528\u8be5\u6ce8\u89e3\u7684\u65f6\u5019\uff0c\u5c5e\u6027\u503c\u7684\u5927\u62ec\u53f7\u53ef\u4ee5\u7701\u7565\u3002</li> <li>\u6ce8\u610f\uff1a\u4e0d\u662f\u5fc5\u987b\u5c06\u6240\u6709\u5c5e\u6027\u90fd\u5199\u4e0a\uff0c\u53ea\u9700\u8981\u63d0\u4f9b\u9700\u8981\u7684\u3002\uff08\u9700\u8981\u4ec0\u4e48\u7528\u4ec0\u4e48\u3002\uff09</li> <p>\u6ce8\u89e3\u5bf9\u8c61\u7684\u4f7f\u7528\u683c\u5f0f\uff1a</p> <ul> <li>@\u6ce8\u89e3\u540d\u79f0(\u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c....)</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#oa","title":"\u4f7f\u7528\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\u4f18\u5316oa\u9879\u76ee","text":"<ul> <li>\u4e0a\u9762\u7684\u6ce8\u89e3\u89e3\u51b3\u4e86\u914d\u7f6e\u6587\u4ef6\u7684\u95ee\u9898\u3002\u4f46\u662f\u73b0\u5728\u7684oa\u9879\u76ee\u4ecd\u7136\u5b58\u5728\u4e00\u4e2a\u6bd4\u8f83\u81c3\u80bf\u7684\u95ee\u9898\u3002<ul> <li>\u4e00\u4e2a\u5355\u6807\u7684CRUD\uff0c\u5c31\u5199\u4e866\u4e2aServlet\u3002\u5982\u679c\u4e00\u4e2a\u590d\u6742\u7684\u4e1a\u52a1\u7cfb\u7edf\uff0c\u8fd9\u79cd\u5f00\u53d1\u65b9\u5f0f\uff0c\u663e\u7136\u4f1a\u5bfc\u81f4\u7c7b\u7206\u70b8\u3002\uff08\u7c7b\u7684\u6570\u91cf\u592a\u5927\u3002\uff09</li> <li>\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u7c7b\u7206\u70b8\u95ee\u9898\uff1f\u53ef\u4ee5\u4f7f\u7528\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\u3002</li> </ul> </li> <li>\u600e\u4e48\u89e3\u51b3\u7c7b\u7206\u70b8\u95ee\u9898\uff1f<ul> <li>\u4ee5\u524d\u7684\u8bbe\u8ba1\u662f\u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2aServlet\u7c7b\u30021000\u4e2a\u8bf7\u6c42\u5bf9\u5e941000\u4e2aServlet\u7c7b\u3002\u5bfc\u81f4\u7c7b\u7206\u70b8\u3002</li> <li>\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u5e94\u4e00\u4e2a\u65b9\u6cd5\u3002\u4e00\u4e2a\u4e1a\u52a1\u5bf9\u5e94\u4e00\u4e2aServlet\u7c7b\u3002</li> <li>\u5904\u7406\u90e8\u95e8\u76f8\u5173\u4e1a\u52a1\u7684\u5bf9\u5e94\u4e00\u4e2aDeptServlet\u3002\u5904\u7406\u7528\u6237\u76f8\u5173\u4e1a\u52a1\u7684\u5bf9\u5e94\u4e00\u4e2aUserServlet\u3002\u5904\u7406\u94f6\u884c\u5361\u5361\u7247\u4e1a\u52a1\u5bf9\u5e94\u4e00\u4e2aCardServlet\u3002</li> </ul> </li> </ul> Java<pre><code>@WebServlet({\"/dept/list\", \"/dept/add\", \"/dept/edit\", \"/dept/modify\", \"/dept/delete\", \"/dept/details\"})\npublic class ActionServlet extends HttpServlet {\n    @Override\n    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException,\n            IOException {\n        // \u6309\u7167\u6a21\u7248\u8bbe\u8ba1\u6a21\u5f0f\u91cd\u65b0\u5bf9oa\u9879\u76ee\u8fdb\u884c\u8bbe\u8ba1\uff0c\u51cf\u5c11Servlet\u7c7b\u7684\u4f7f\u7528\uff08\u53ea\u4f7f\u7528\u4e00\u4e2aServlet\u7c7b\u5904\u7406oa\u7684\u8bf7\u6c42\uff09\n        // \u83b7\u53d6\u5230\u524d\u7aef\u7684\u8bf7\u6c42\u8def\u5f84\n        String servletPath = request.getServletPath();\n\n        if (servletPath.equals(\"/dept/list\")) {\n            doList(request, response);\n        } else if (servletPath.equals(\"/dept/add\")) {\n            doAdd(request, response);\n        } else if (servletPath.equals(\"/dept/edit\")) {\n            doEdit(request, response);\n        } else if (servletPath.equals(\"/dept/modify\")) {\n            doModify(request, response);\n        } else if (servletPath.equals(\"/dept/delete\")) {\n            doDel(request, response);\n        } else if (servletPath.equals(\"/dept/details\")) {\n            doDetails(request, response);\n        }\n    }\n</code></pre> <p>\u6309\u7167 Httpservlet \u4e2d service \u65b9\u6cd5\u7684\u8bbe\u8ba1\u6a21\u5f0f\u6a21\u677f\uff0c\u6211\u4eec\u53ef\u4ee5\u6539\u9020\u4e3a doPath \u7684\u5f62\u5f0f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#session","title":"Session\u6280\u672f","text":"<p>HTTP\u662f\u4e00\u4e2a\u65e0\u72b6\u6001\u7684\u534f\u8bae\u3002</p> <ol> <li>\u4ec0\u4e48\u662f\u72b6\u6001\uff1f<ul> <li>\u72b6\u6001\u901a\u5e38\u6307\u7684\u662f\u5173\u4e8e\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u7684\u4fe1\u606f\uff0c\u7528\u4e8e\u8ddf\u8e2a\u5b83\u4eec\u4e4b\u95f4\u7684\u4ea4\u4e92\u3002</li> </ul> </li> <li>\u4ec0\u4e48\u662f\u65e0\u72b6\u6001\u534f\u8bae\uff1f<ul> <li>\u6bcf\u4e2aHTTP\u8bf7\u6c42\u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u670d\u52a1\u5668\u4e0d\u4f1a\u4fdd\u7559\u5173\u4e8e\u5ba2\u6237\u7aef\u7684\u4efb\u4f55\u4fe1\u606f\u6216\u72b6\u6001\u3002\u6bcf\u6b21HTTP\u8bf7\u6c42\u90fd\u662f\u72ec\u7acb\u7684\u4ea4\u4e92\uff0c\u670d\u52a1\u5668\u4e0d\u4f1a\u77e5\u9053\u8fd9\u4e2a\u8bf7\u6c42\u662f\u4e0e\u4e4b\u524d\u7684\u8bf7\u6c42\u76f8\u5173\u8054\u7684\u3002</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48HTTP\u662f\u65e0\u72b6\u6001\u7684<ul> <li>\u7b80\u5316\u534f\u8bae\uff1aHTTP\u7684\u4e3b\u8981\u76ee\u6807\u4e4b\u4e00\u662f\u4fdd\u6301\u534f\u8bae\u7684\u7b80\u6d01\u6027\u3002\u65e0\u72b6\u6001\u6027\u8d28\u4f7f\u534f\u8bae\u66f4\u52a0\u7b80\u5355\uff0c\u56e0\u4e3a\u6bcf\u4e2aHTTP\u8bf7\u6c42\u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u670d\u52a1\u5668\u65e0\u9700\u4fdd\u7559\u5173\u4e8e\u5ba2\u6237\u7aef\u7684\u72b6\u6001\u4fe1\u606f\u3002\u8fd9\u4f7f\u5f97\u534f\u8bae\u7684\u8bbe\u8ba1\u66f4\u52a0\u6e05\u6670\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u5b9e\u73b0\u3002</li> <li>\u53ef\u4f38\u7f29\u6027\uff1a\u7531\u4e8eHTTP\u662f\u65e0\u72b6\u6001\u7684\uff0c\u670d\u52a1\u5668\u4e0d\u9700\u8981\u5b58\u50a8\u5173\u4e8e\u6bcf\u4e2a\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u4fe1\u606f\uff0c\u8fd9\u4f7f\u5f97\u670d\u52a1\u5668\u66f4\u5bb9\u6613\u6269\u5c55\u4ee5\u5904\u7406\u5927\u91cf\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002\u5982\u679cHTTP\u662f\u6709\u72b6\u6001\u7684\uff0c\u670d\u52a1\u5668\u9700\u8981\u5728\u6bcf\u4e2a\u8fde\u63a5\u4e0a\u7ef4\u62a4\u5ba2\u6237\u7aef\u72b6\u6001\u4fe1\u606f\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u8d44\u6e90\u7684\u5feb\u901f\u8017\u5c3d\u3002</li> <li>\u5bb9\u9519\u6027\uff1a\u65e0\u72b6\u6001\u6027\u8d28\u4f7f\u5f97HTTP\u534f\u8bae\u66f4\u52a0\u5bb9\u9519\u3002\u5373\u4f7f\u5728\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u7aef\u53d1\u751f\u6545\u969c\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\u5e76\u7ee7\u7eed\u901a\u4fe1\uff0c\u56e0\u4e3a\u5148\u524d\u7684\u8bf7\u6c42\u548c\u54cd\u5e94\u4e0d\u4f9d\u8d56\u4e8e\u540e\u7eed\u8bf7\u6c42\u3002</li> <li>\u7075\u6d3b\u6027\uff1a\u65e0\u72b6\u6001\u6027\u8d28\u4f7f\u5f97\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u66f4\u52a0\u7075\u6d3b\u3002\u5ba2\u6237\u7aef\u53ef\u4ee5\u968f\u65f6\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff0c\u800c\u670d\u52a1\u5668\u53ef\u4ee5\u72ec\u7acb\u5730\u5904\u7406\u6bcf\u4e2a\u8bf7\u6c42\uff0c\u800c\u4e0d\u9700\u8981\u8003\u8651\u4e4b\u524d\u7684\u8bf7\u6c42\u3002</li> </ul> </li> </ol> <p>\u5c3d\u7ba1\u8fd9\u6837\u80fd\u591f\u51cf\u8f7b\u670d\u52a1\u5668\u7684\u538b\u529b\uff0c\u4f46\u662f\u6211\u4eec\u5728\u5b9e\u9645\u4f7f\u7528B/S\u7ed3\u6784\u7684\u7cfb\u7edf\u4e2d\uff0c\u8fd8\u662f\u5e0c\u671b\u80fd\u591f\u5728\u591a\u4e2aHTTP\u8bf7\u6c42\u4e4b\u95f4\u4fdd\u5b58\u67d0\u79cd\u4fe1\u606f\uff08\u4f8b\u5982\u7528\u6237\u7684\u8eab\u4efd\u8ba4\u8bc1\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u5185\u5bb9\u7b49\uff09\u3002</p> <p>\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u8f6c\u53d1\u8bf7\u6c42\u6765\u5b9e\u73b0\uff0c\u4f46\u662f\u901a\u8fc7\u8f6c\u53d1\u673a\u5236\uff0c\u4e0d\u4ec5\u9ebb\u70e6\uff0c\u8fd8\u4f1a\u9020\u6210\u5f88\u591a\u7684\u5f0a\u7aef\uff08\u5982\u5237\u65b0\u95ee\u9898\u7b49\uff09\u3002</p> <p>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5f15\u5165Session\u6280\u672f\u6765\u5b9e\u73b0\u5728\u591a\u4e2aHTTP\u8bf7\u6c42\u4e4b\u95f4\u4fdd\u5b58\u4fe1\u606f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#session_1","title":"\u4ec0\u4e48\u662fSession","text":"<ul> <li>\u5168\u5305\u8def\u5f84\uff1ajakarta.servlet.http.HttpSession</li> <li>\u7ffb\u8bd1\u6210\u4e2d\u6587\u662f\u4f1a\u8bdd\u7684\u610f\u601d</li> <li>\u7528\u6237\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8fdb\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u7136\u540e\u6700\u7ec8\u5c06\u6d4f\u89c8\u5668\u5173\u95ed\uff0c\u8fd9\u4e2a\u6574\u4e2a\u8fc7\u7a0b\u53eb\u505a\uff1a\u4e00\u6b21\u4f1a\u8bdd\u3002\u4f1a\u8bdd\u5728\u670d\u52a1\u5668\u7aef\u4e5f\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684java\u5bf9\u8c61\uff0c\u8fd9\u4e2ajava\u5bf9\u8c61\u53eb\u505a\uff1asession\u3002\u4e00\u4e2a\u4f1a\u8bdd\u5f53\u4e2d\u5305\u542b\u591a\u6b21\u8bf7\u6c42\u3002\uff08\u4e00\u6b21\u4f1a\u8bdd\u5bf9\u5e94N\u6b21\u8bf7\u6c42\u3002\uff09</li> <li>session\u673a\u5236\u5c5e\u4e8eB/S\u7ed3\u6784\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c\u4f7f\u7528php\u8bed\u8a00\u5f00\u53d1WEB\u9879\u76ee\uff0c\u540c\u6837\u4e5f\u662f\u6709session\u8fd9\u79cd\u673a\u5236\u7684\u3002session\u673a\u5236\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u89c4\u8303\u3002\u7136\u540e\u4e0d\u540c\u7684\u8bed\u8a00\u5bf9\u8fd9\u79cd\u4f1a\u8bdd\u673a\u5236\u90fd\u6709\u5b9e\u73b0\u3002</li> <li> <p>session\u5bf9\u8c61\u6700\u4e3b\u8981\u7684\u4f5c\u7528\u662f\uff1a\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001\u3002\uff08\u7528\u6237\u767b\u5f55\u6210\u529f\u4e86\uff0c\u8fd9\u662f\u4e00\u79cd\u767b\u5f55\u6210\u529f\u7684\u72b6\u6001\uff0c\u4f60\u600e\u4e48\u628a\u767b\u5f55\u6210\u529f\u7684\u72b6\u6001\u4e00\u76f4\u4fdd\u5b58\u4e0b\u6765\u5462\uff1f\u4f7f\u7528session\u5bf9\u8c61\u53ef\u4ee5\u4fdd\u7559\u4f1a\u8bdd\u72b6\u6001\u3002\uff09</p> </li> <li> <p>session\u5bf9\u8c61\u662f\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef\u7684</p> </li> <li> <p>\ufeff\ufeff\u4e00\u4e2asession\u5bf9\u8c61\u5bf9\u5e94\u4e00\u4e2a\u4f1a\u8bdd\u3002</p> </li> <li> <p>\ufeff\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u5305\u542b\u591a\u6b21\u8bf7\u6c42\u3002</p> </li> <li> <p>session\u600e\u4e48\u83b7\u53d6\uff1f</p> <ol> <li>HttpSession session = request.getSession();</li> <li>\u4ece\u670d\u52a1\u5668\u4e2d\u83b7\u53d6session\u5bf9\u8c61\u3002\u5982\u679c\u6ca1\u6709\u83b7\u53d6\u5230session\u5bf9\u8c61\uff0c\u5219\u65b0\u5efa\u4e00\u4e2asession</li> <li>HttpSession session = request.getSession(false);</li> <li>\u5982\u679c\u83b7\u53d6\u4e0d\u5230session\u5bf9\u8c61\uff0c\u4e5f\u4e0d\u4f1a\u65b0\u5efasession</li> </ol> </li> <li> <p>\u4e3a\u4ec0\u4e48\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u4f1a\u8bdd\u7ed3\u675f\uff1f</p> <ol> <li>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6ecookie\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c06sessionid\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7f13\u5b58\u5f53\u4e2d\u3002\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\u540e\uff0c\u6d4f\u89c8\u5668\u7f13\u5b58\u81ea\u7136\u4e5f\u88ab\u6e05\u9664\u3002\u518d\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee\u8be5\u9875\u9762\u65f6\uff0c\u65e0\u6cd5\u83b7\u53d6\u5230\u4e0a\u6b21\u7684session ID\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u4f1a\u8bdd\u7ed3\u675f\u4e86\u3002</li> <li>\u5b9e\u9645\u4e0a\uff0c\u670d\u52a1\u5668\u7aef\u7684session\u5bf9\u8c61\u5e76\u6ca1\u6709\u56e0\u4e3a\u5173\u95ed\u6d4f\u89c8\u5668\u800c\u88ab\u9500\u6bc1\u3002\u4f1a\u8bdd\u7ed3\u675f\uff0c\u53ea\u662f\u56e0\u4e3a\u65e0\u6cd5\u5bf9\u5e94\u4e0asessionID\u4e86\u3002</li> </ol> </li> <li> <p>session\u5bf9\u8c61\u4ec0\u4e48\u65f6\u5019\u88ab\u9500\u6bc1\uff1f</p> <ol> <li> <p>\u8d85\u65f6\u9500\u6bc1</p> <ol> <li> <p>\u6d4f\u89c8\u5668\u5173\u95ed\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u662f\u4e0d\u77e5\u9053\u7684\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u76d1\u6d4b\u5230\u6d4f\u89c8\u5668\u5173\u95ed\u4e86\uff0c\u6240\u4ee5session\u7684\u9500\u6bc1\u8981\u4f9d\u9760session\u8d85\u65f6\u673a\u5236\u3002</p> </li> <li> <p><code>java     session.setMaxInactiveInterval();     // \u4f7f\u7528\u8be5\u65b9\u6cd5\u8bbe\u7f6esession\u7684\u8d85\u65f6\u65f6\u95f4</code></p> </li> </ol> </li> <li> <p>\u624b\u52a8\u9500\u6bc1</p> <ol> <li> <p>\u7cfb\u7d71\u63d0\u4f9b\u4e86\u201c\u5b89\u5168\u9000\u51fa\u201d\uff0c\u7528\u6237\u53ef\u4ee5\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\uff0c\u8fd9\u6837\u670d\u52a1\u5668\u5c31\u77e5\u9053\u4f60\u9000\u51fa\u4e86\uff0c\u7136\u540e\u670d\u52a1\u5668\u4f1a\u81ea\u52a8\u9500\u6bc1session\u5bf9\u8c61\u3002</p> </li> <li> <p><code>java     session.invalidate();     // \u4f7f\u7528\u8be5\u65b9\u6cd5\u624b\u52a8\u9500\u6bc1session\u5bf9\u8c61</code></p> </li> </ol> </li> </ol> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#session_2","title":"session\u5bf9\u8c61\u7684\u5b9e\u73b0\u539f\u7406\u3002","text":"<p>HttpSession session = request.getSession();</p> <p>\u8fd9\u884c\u4ee3\u7801\u5f88\u795e\u5947\u3002\u5f20\u4e09\u8bbf\u95ee\u7684\u65f6\u5019\u83b7\u53d6\u7684session\u5bf9\u8c61\u5c31\u662f\u5f20\u4e09\u7684\u3002\u674e\u56db\u8bbf\u95ee\u7684\u65f6\u5019\u83b7\u53d6\u7684session\u5bf9\u8c61\u5c31\u662f\u674e\u56db\u7684\u3002</p> <ul> <li> <p>JSESSIONID=xxxxxx  \u8fd9\u4e2a\u662f\u4ee5Cookie\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u5185\u5b58\u4e2d\u7684\u3002\u6d4f\u89c8\u5668\u53ea\u8981\u5173\u95ed\u3002\u8fd9\u4e2acookie\u5c31\u6ca1\u6709\u4e86\u3002</p> </li> <li> <p>\u5728web\u670d\u52a1\u5668\u4e2d\uff0c\u6709\u4e00\u4e2a\u7ba1\u7406session\u7684\u8868\uff0c\u7c7b\u4f3c\u4e8emap\u96c6\u5408\u3002</p> <ol> <li>\u8fd9\u4e2a\u8868\u7684key\u5b58\u50a8\u4e3a\uff1asessionid</li> <li>value\u5b58\u50a8\u4e3a\uff1asession\u5bf9\u8c61</li> </ol> </li> <li>\u5f53\u7528\u6237\u7b2c\u4e00\u6b21\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684session\u5bf9\u8c61\uff0c\u5e76\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2asessionid\u3002\u901a\u8fc7\u54cd\u5e94\u5c06sessionid\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u3002\u6d4f\u89c8\u5668\u5c06\u5176\u5b58\u50a8\u5728cookie\u5f53\u4e2d</li> <li>\u5f53\u7528\u6237\u7b2c\u4e8c\u6b21\u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c06sessionid\u9644\u52a0\u5230\u8bf7\u6c42\u5934\u5f53\u4e2d\uff0c\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002\u670d\u52a1\u5668\u83b7\u53d6\u5230sessionid\u540e\uff0c\u6839\u636eid\u627e\u5230\u5bf9\u5e94\u7684session\u5bf9\u8c61</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#cookie","title":"Cookie","text":"<p>\u5728session\u7684\u5b9e\u73b0\u539f\u7406\u4e2d\uff0c\u6bcf\u4e00\u4e2asession\u5bf9\u8c61\u90fd\u4f1a\u5173\u8054\u4e00\u4e2asessionID</p> <p>JSESSIONID=41C481F0224664BDB28E95081D23D5B8</p> <p>\u4ee5\u4e0a\u8fd9\u4e2a\u952e\u503c\u5bf9\u6570\u636e\u5176\u5b9e\u5c31\u662f\u4e00\u4e2acookie\u5bf9\u8c61</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#cookie_1","title":"cookie\u662f\u600e\u4e48\u751f\u6210\u7684\uff1f","text":"Java<pre><code>Cookie cookie = new Cookie(\"Key\", \"Value\");\n</code></pre> <p>\u901a\u8fc7\u670d\u52a1\u5668\u7aef\u521b\u5efacookie</p> Java<pre><code>response.addCookie(cookie);\n</code></pre> <p>\u670d\u52a1\u5668\u901a\u8fc7\u54cd\u5e94\uff0c\u5c06cookie\u6dfb\u52a0\u5230\u6d4f\u89c8\u5668\u4e2d</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_27","title":"\u88ab\u4fdd\u5b58\u5728\u4ec0\u4e48\u5730\u65b9\uff1f","text":"<ul> <li>\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u8fd0\u884c\u5185\u5b58\u4e2d\uff08\u53ea\u8981\u6d4f\u89c8\u5668\u5173\u95ed\uff0ccookie\u5c31\u6d88\u5931\u4e86\uff09</li> <li>\u4fdd\u5b58\u5728\u672c\u673a\u7684\u786c\u76d8\u5f53\u4e2d\uff08\u6c38\u4e45\u4fdd\u5b58\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_28","title":"\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f","text":"<ol> <li>cookie\u4e0esession\u673a\u5236\u4e00\u6837\uff0c\u90fd\u662f\u4e3a\u4e86\u4fdd\u5b58\u4f1a\u8bdd\u72b6\u6001</li> <li>cookie\u5c06\u4f1a\u8bdd\u7684\u72b6\u6001\u4fdd\u5b58\u5230\u6d4f\u89c8\u5668\u5ba2\u6237\u7aef\u4e0a\uff08cookie\u6570\u636e\u5b58\u50a8\u5728\u6d4f\u89c8\u5668\u4e0a/\u786c\u76d8\u4e0a\uff09</li> <li>session\u662f\u5c06\u4f1a\u8bdd\u72b6\u6001\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u4e0a\uff08session\u6570\u636e\u5b58\u50a8\u5728\u670d\u52a1\u5668\u4e0a\uff09</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_29","title":"\u4f7f\u7528\u6848\u4f8b","text":"<ol> <li>\u65e9\u671f\u4eac\u4e1c\u5546\u57ce\uff0c\u4e0d\u767b\u5f55\u5c31\u80fd\u6dfb\u52a0\u7269\u54c1\u5230\u8d2d\u7269\u8f66</li> </ol> <p>Q\uff1a\u4eac\u4e1c\u5546\u57ce\uff0c\u5728\u672a\u767b\u5f55\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u8d2d\u7269\u8f66\u4e2d\u653e\u51e0\u4ef6\u5546\u54c1\u3002\u7136\u540e\u5173\u95ed\u5546\u57ce\uff0c\u518d\u6b21\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u8bbf\u95ee\u4eac\u4e1c\u5546\u57ce\u7684\u65f6\u5019\uff0c\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u8fd8\u5728\uff0c\u8fd9\u662f\u600e\u4e48\u505a\u7684\uff1f\u6211\u6ca1\u6709\u767b\u5f55\uff0c\u4e3a\u4ec0\u4e48\u8d2d\u7269\u8f66\u4e2d\u8fd8\u6709\u5546\u54c1\u5462\uff1f</p> <p>A\uff1a\u5c06\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u7f16\u53f7\u653e\u5230cookie\u5f53\u4e2d\uff0ccookie\u4fdd\u5b58\u5728\u786c\u76d8\u6587\u4ef6\u5f53\u4e2d\u3002\u8fd9\u6837\u5373\u4f7f\u5173\u95ed\u6d4f\u89c8\u5668\u3002\u786c\u76d8\u4e0a\u7684cookie\u8fd8\u5728\u3002\u4e0b\u4e00\u6b21\u518d\u6253\u5f00\u4eac\u4e1c\u5546\u57ce\u7684\u65f6\u5019\uff0c\u67e5\u770b\u8d2d\u7269\u8f66\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u8bfb\u53d6\u672c\u5730\u786c\u76d8\u4e2d\u5b58\u50a8\u7684cookie\uff0c\u62ff\u5230\u5546\u54c1\u7f16\u53f7\uff0c\u52a8\u6001\u5c55\u793a\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u3002</p> <p>\u4eac\u4e1c\u5b58\u50a8\u8d2d\u7269\u8f66\u4e2d\u5546\u54c1\u7684cookie\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1aproductIds=xxxxx,yyyy,zzz,kkkk</p> <p>\u6ce8\u610f\uff1acookie\u5982\u679c\u6e05\u9664\u6389\uff0c\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u5c31\u6d88\u5931\u4e86\u3002</p> <p>\u4e3a\u4ec0\u4e48\u65e9\u671f\u4eac\u4e1c\u4f1a\u5141\u8bb8\u4e0d\u767b\u5f55\u5c31\u80fd\u6dfb\u52a0\u5546\u54c1\u5230\u8d2d\u7269\u8f66\u5462\uff1f\u4e3a\u4e86\u62a2\u5360\u7528\u6237</p> <ol> <li>126\u90ae\u7bb1\u4e2d\u6709\u4e00\u4e2a\u529f\u80fd\uff1a\u5341\u5929\u5185\u514d\u767b\u5f55</li> </ol> <p>\u8fd9\u4e2a\u529f\u80fd\u4e5f\u662f\u9700\u8981cookie\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u600e\u4e48\u8ba9cookie\u5931\u6548\uff1f</p> <ul> <li>\u5341\u5929\u540e\u81ea\u52a8\u5931\u6548</li> <li>\u6539\u5bc6\u7801</li> <li>\u6d4f\u89c8\u5668\u624b\u52a8\u6e05\u9664cookie</li> </ul> <p>cookie\u673a\u5236\u548csession\u673a\u5236\u5176\u5b9e\u90fd\u4e0d\u5c5e\u4e8ejava\u4e2d\u7684\u673a\u5236\uff0c\u5b9e\u9645\u4e0acookie\u673a\u5236\u548csession\u673a\u5236\u90fd\u662fHTTP\u534f\u8bae\u7684\u4e00\u90e8\u5206\u3002php\u5f00\u53d1\u4e2d\u4e5f\u6709cookie\u548csession\u673a\u5236\uff0c\u53ea\u8981\u662f\u4f60\u662f\u505aweb\u5f00\u53d1\uff0c\u4e0d\u7ba1\u662f\u4ec0\u4e48\u7f16\u7a0b\u8bed\u8a00\uff0ccookie\u548csession\u673a\u5236\u90fd\u662f\u9700\u8981\u7684\u3002</p> <p>HTTP\u534f\u8bae\u4e2d\u89c4\u5b9a\uff1a\u4efb\u4f55\u4e00\u4e2acookie\u90fd\u662f\u7531name\u548cvalue\u7ec4\u6210\u7684\u3002name\u548cvalue\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#_30","title":"\u5e38\u7528\u65b9\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#setmaxage","title":"setMaxAge","text":"Java<pre><code>cookie.setMaxAge(time);\n// \u8bbe\u7f6ecookie\u7684\u5b58\u6d3b\u65f6\u95f4/\u8fc7\u671f\u65f6\u95f4\n</code></pre> Java<pre><code>// \u8bbe\u7f6ecookie\u8fc7\u671f\u65f6\u95f4\u4e3a\u4e00\u5c0f\u65f6\ncookie1.setMaxAge(60 * 60);\n\n// \u8bbe\u7f6ecookie\u8fc7\u671f\u65f6\u95f4\u4e3a0\u3002\u8868\u793a\u7acb\u5373\u8fc7\u671f\uff0c\u5e38\u7528\u4e8e\u5220\u9664\u6d4f\u89c8\u5668\u4e2d\u7684\u540c\u540dcookie\ncookie1.setMaxAge(0);\n\n// \u8bbe\u7f6ecookie\u8fc7\u671f\u65f6\u95f4\u4e3a\u8d1f\u6570\uff0c\u8be5cookie\u4e0d\u4f1a\u88ab\u5b58\u50a8\uff0c\u8bf4\u7684\u662f\u4e0d\u4f1a\u88ab\u5b58\u50a8\u5230\u786c\u76d8\u4e2d\uff0c\u4f1a\u5b58\u50a8\u5230\u6d4f\u89c8\u5668\u7f13\u5b58\u4e2d\ncookie1.setMaxAge(-1);\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#setpath","title":"setPath","text":"Java<pre><code>cookie.setPath(\"Path\");\n// \u8bbe\u7f6ecookie\u7684\u8bbf\u95ee\u8def\u5f84\u3002\u8bbe\u7f6e\u4e86\u4ec0\u4e48\u8def\u5f84\uff0c\u5c31\u4f1a\u4ee5\u8be5\u8def\u5f84\u4e3a\u6839\u8def\u5f84\uff0c\u7528\u6237\u5728\u63d0\u4ea4\u8bf7\u6c42\u65f6\uff0c\u4f1a\u5c06cookie\u6dfb\u52a0\u5230\u8bf7\u6c42\u5934\u5f53\u4e2d\u3002\n</code></pre> Java<pre><code>cookie.setPath(request.getContextPath());\n// \u8bbe\u7f6ecookie\u7684\u8bf7\u6c42\u6839\u8def\u5f84\u4e3a\u9879\u76ee\u7684\u6839\u8def\u5f84\u3002\n// \u8fd9\u6837\u65e0\u8bba\u5728\u8bbf\u95ee\u672c\u9879\u76ee\u7684\u4efb\u610f\u94fe\u63a5\u65f6\u90fd\u4f1a\u643a\u5e26\u8be5cookie\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/1-Servlet/#cookie_2","title":"\u6d4f\u89c8\u5668\u4ec0\u4e48\u65f6\u5019\u4f1a\u53d1\u9001cookie\uff1f","text":"<p>\u5982\u679c\u6ca1\u6709\u8bbe\u7f6ecookie\u7684path\uff08setPath\u65b9\u6cd5\uff09\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u53d1\u9001cookie\u65f6\uff0c\u4f1a\u6839\u636e\u521b\u5efa\u5b83\uff08\u8fd9\u4e2acookie\uff09\u7684Servlet\u7684\u8def\u5f84\u6765\u53d1\u9001\u3002</p> <ul> <li>\u5047\u8bbe\u73b0\u5728\u53d1\u9001\u7684\u8bf7\u6c42\u8def\u5f84\u662f\u201chttp://localhost:8080/servlet13/cookie/generate\u201d\u751f\u6210\u7684cookie\uff0c\u5982\u679ccookie\u6ca1\u6709\u8bbe\u7f6epath\uff0c\u9ed8\u8ba4\u7684path\u662f\u4ec0\u4e48\uff1f<ul> <li>\u9ed8\u8ba4\u7684path\u662f\uff1ahttp://localhost:8080/servlet13/cookie \u4ee5\u53ca\u5b83\u7684\u5b50\u8def\u5f84\u3002</li> <li>\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ee5\u540e\u53ea\u8981\u6d4f\u89c8\u5668\u7684\u8bf7\u6c42\u8def\u5f84\u662fhttp://localhost:8080/servlet13/cookie \u8fd9\u4e2a\u8def\u5f84\u4ee5\u53ca\u8fd9\u4e2a\u8def\u5f84\u4e0b\u7684\u5b50\u8def\u5f84\uff0ccookie\u90fd\u4f1a\u88ab\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002</li> </ul> </li> </ul> <p>\u6d4f\u89c8\u5668\u53d1\u9001cookie\u7ed9\u670d\u52a1\u5668\u4e86\uff0c\u670d\u52a1\u5668\u4e2d\u7684java\u7a0b\u5e8f\u600e\u4e48\u63a5\u6536\uff1f</p> Java<pre><code>Cookie[] cookies = request.getCookies();\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/","title":"JSP","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#servletweb","title":"\u5206\u6790\u4f7f\u7528\u7eaf\u7cb9Servlet\u5f00\u53d1web\u5e94\u7528\u7684\u7f3a\u9677","text":"<p>\u5728Servlet\u5f53\u4e2d\u7f16\u5199HTML/CSS/JavaScript\u7b49\u524d\u7aef\u4ee3\u7801\u3002\u5b58\u5728\u4ec0\u4e48\u95ee\u9898\uff1f</p> <ul> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u7f16\u5199\u96be\u5ea6\u5927\u3002\u9ebb\u70e6\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u663e\u7136\u7a0b\u5e8f\u7684\u8026\u5408\u5ea6\u975e\u5e38\u9ad8\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u4ee3\u7801\u975e\u5e38\u4e0d\u7f8e\u89c2\u3002</li> <li>java\u7a0b\u5e8f\u4e2d\u7f16\u5199\u524d\u7aef\u4ee3\u7801\uff0c\u7ef4\u62a4\u6210\u672c\u592a\u9ad8\u3002\uff08\u975e\u5e38\u96be\u4e8e\u7ef4\u62a4\uff09<ul> <li>\u4fee\u6539\u5c0f\u5c0f\u7684\u4e00\u4e2a\u524d\u7aef\u4ee3\u7801\uff0c\u53ea\u8981\u6709\u6539\u52a8\uff0c\u5c31\u9700\u8981\u91cd\u65b0\u7f16\u8bd1java\u4ee3\u7801\uff0c\u751f\u6210\u65b0\u7684class\u6587\u4ef6\uff0c\u6253\u4e00\u4e2a\u65b0\u7684war\u5305\uff0c\u91cd\u65b0\u53d1\u5e03\u3002</li> </ul> </li> </ul> <p>Servlet\uff08Java\u7a0b\u5e8f\uff09\u80fd\u4e0d\u80fd\u4e0d\u5199\u4e86\uff0c\u8ba9\u673a\u5668\u81ea\u52a8\u751f\u6210\u3002\u6211\u4eec\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u5199\u8fd9\u4e2aServlet\u7a0b\u5e8f\u4e2d\u7684\u201c\u524d\u7aef\u7684\u90a3\u6bb5\u4ee3\u7801\u201d\uff0c\u7136\u540e\u8ba9\u673a\u5668\u5c06\u6211\u4eec\u5199\u7684\u201c\u524d\u7aef\u4ee3\u7801\u201d\u81ea\u52a8\u7ffb\u8bd1\u751f\u6210\u201cServlet\u8fd9\u79cdjava\u7a0b\u5e8f\u201d\u3002\u7136\u540e\u673a\u5668\u518d\u81ea\u52a8\u5c06\u201cjava\u201d\u7a0b\u5e8f\u7f16\u8bd1\u751f\u6210\"class\"\u6587\u4ef6\u3002\u7136\u540e\u518d\u4f7f\u7528JVM\u8c03\u7528\u8fd9\u4e2aclass\u4e2d\u7684\u65b9\u6cd5\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jsp_1","title":"JSP\u662f\u4ec0\u4e48\uff1f","text":"<p>JSP\u662f\uff1aJavaServer Pages\u7684\u7f29\u5199\u3002\uff08\u57fa\u4e8eJava\u8bed\u8a00\u5b9e\u73b0\u7684\u670d\u52a1\u5668\u7aef\u7684\u9875\u9762\u3002\uff09</p> <p>Servlet\u662fJavaEE\u768413\u4e2a\u5b50\u89c4\u8303\u4e4b\u4e00\uff0c\u90a3\u4e48JSP\u4e5f\u662fJavaEE\u768413\u4e2a\u5b50\u89c4\u8303\u4e4b\u4e00\u3002</p> <p>JSP\u662f\u4e00\u5957\u89c4\u8303\u3002\u6240\u6709\u7684web\u5bb9\u5668/web\u670d\u52a1\u5668\u90fd\u662f\u9075\u5faa\u8fd9\u5957\u89c4\u8303\u7684\uff0c\u90fd\u662f\u6309\u7167\u8fd9\u5957\u89c4\u8303\u8fdb\u884c\u7684\u201c\u7ffb\u8bd1\u201d</p> <p>\u6bcf\u4e00\u4e2aweb\u5bb9\u5668/web\u670d\u52a1\u5668\u90fd\u4f1a\u5185\u7f6e\u4e00\u4e2aJSP\u7ffb\u8bd1\u5f15\u64ce\u3002</p> <p>\u5bf9JSP\u8fdb\u884c\u9519\u8bef\u8c03\u8bd5\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u8981\u76f4\u63a5\u6253\u5f00JSP\u6587\u4ef6\u5bf9\u5e94\u7684java\u6587\u4ef6\uff0c\u68c0\u67e5java\u4ee3\u7801\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jspservlet","title":"JSP\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2aServlet\u3002","text":"<ul> <li> <p>\u5f53\u6211\u4eec\u8bbf\u95ee index.jsp \u65f6\uff0c\u5b9e\u9645\u4e0a\u5e95\u5c42\u6267\u884c\u7684\u662f\uff1aindex_jsp.class \u8fd9\u4e2ajava\u7a0b\u5e8f\u3002</p> </li> <li> <p>\u8fd9\u4e2aindex.jsp\u4f1a\u88abtomcat\u7ffb\u8bd1\u751f\u6210index_jsp.java\u6587\u4ef6\uff0c\u7136\u540etomcat\u670d\u52a1\u5668\u53c8\u4f1a\u5c06index_jsp.java\u7f16\u8bd1\u751f\u6210index_jsp.class\u6587\u4ef6</p> </li> <li> <p>index_jsp \u7c7b\u7ee7\u627f HttpJspBase\uff0c\u800cHttpJspBase\u7c7b\u7ee7\u627f\u7684\u662fHttpServlet\u3002\u6240\u4ee5index_jsp\u7c7b\u5c31\u662f\u4e00\u4e2aServlet\u7c7b\u3002</p> </li> <li>jsp\u7684\u751f\u547d\u5468\u671f\u548cServlet\u7684\u751f\u547d\u5468\u671f\u5b8c\u5168\u76f8\u540c\u3002\u5b8c\u5168\u5c31\u662f\u4e00\u4e2a\u4e1c\u897f\u3002\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002</li> <li>jsp\u548cservlet\u4e00\u6837\uff0c\u90fd\u662f\u5355\u4f8b\u7684\u3002\uff08\u5047\u5355\u4f8b\u3002\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jsp_2","title":"\u4e3a\u4ec0\u4e48jsp\u6587\u4ef6\u7b2c\u4e00\u6b21\u8bbf\u95ee\u65f6\u6bd4\u8f83\u6162\uff1f","text":"<ul> <li>\u4e3a\u4ec0\u4e48\u5927\u90e8\u5206\u7684\u8fd0\u7ef4\u4eba\u5458\u5728\u7ed9\u5ba2\u6237\u6f14\u793a\u9879\u76ee\u7684\u65f6\u5019\uff0c\u4e3a\u4ec0\u4e48\u63d0\u524d\u5148\u628a\u6240\u6709\u7684jsp\u6587\u4ef6\u5148\u8bbf\u95ee\u4e00\u904d\u3002<ul> <li>\u8981\u628ajsp\u6587\u4ef6\u7ffb\u8bd1\u751f\u6210java\u6e90\u6587\u4ef6</li> <li>java\u6e90\u6587\u4ef6\u8981\u7f16\u8bd1\u751f\u6210class\u5b57\u8282\u7801\u6587\u4ef6</li> <li>\u7136\u540e\u901a\u8fc7class\u53bb\u521b\u5efaservlet\u5bf9\u8c61</li> <li>\u7136\u540e\u8c03\u7528servlet\u5bf9\u8c61\u7684init\u65b9\u6cd5</li> <li>\u6700\u540e\u8c03\u7528servlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u3002</li> </ul> </li> <li>\u7b2c\u4e8c\u6b21\u5c31\u6bd4\u8f83\u5feb\u4e86\uff0c\u4e3a\u4ec0\u4e48\uff1f<ul> <li>\u56e0\u4e3a\u7b2c\u4e8c\u6b21\u76f4\u63a5\u8c03\u7528\u5355\u4f8bservlet\u5bf9\u8c61\u7684service\u65b9\u6cd5\u5373\u53ef\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jspservletjspservlet","title":"JSP\u65e2\u7136\u672c\u8d28\u4e0a\u662f\u4e00\u4e2aServlet\uff0c\u90a3\u4e48JSP\u548cServlet\u5230\u5e95\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f","text":"<p>\u804c\u8d23\u4e0d\u540c\uff1a</p> <ul> <li>Servlet\u7684\u804c\u8d23\u662f\u4ec0\u4e48\uff1a\u6536\u96c6\u6570\u636e\u3002\uff08Servlet\u7684\u5f3a\u9879\u662f\u903b\u8f91\u5904\u7406\uff0c\u4e1a\u52a1\u5904\u7406\uff0c\u7136\u540e\u94fe\u63a5\u6570\u636e\u5e93\uff0c\u83b7\u53d6/\u6536\u96c6\u6570\u636e\u3002\uff09</li> <li>JSP\u7684\u804c\u8d23\u662f\u4ec0\u4e48\uff1a\u5c55\u793a\u6570\u636e\u3002\uff08JSP\u7684\u5f3a\u9879\u662f\u505a\u6570\u636e\u7684\u5c55\u793a\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jsp_3","title":"JSP\u7684\u57fa\u7840\u8bed\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jsp_4","title":"\u5728jsp\u6587\u4ef6\u4e2d\u76f4\u63a5\u7f16\u5199\u6587\u5b57\uff0c\u90fd\u4f1a\u81ea\u52a8\u88ab\u7ffb\u8bd1\u5230\u54ea\u91cc\uff1f","text":"<p>\u7ffb\u8bd1\u5230servlet\u7c7b\u7684service\u65b9\u6cd5\u7684out.write(\"\u7ffb\u8bd1\u5230\u8fd9\u91cc\")\uff0c\u76f4\u63a5\u7ffb\u8bd1\u5230\u53cc\u5f15\u53f7\u91cc\uff0c\u88abjava\u7a0b\u5e8f\u5f53\u505a\u666e\u901a\u5b57\u7b26\u4e32\u6253\u5370\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#java","title":"&lt;% java\u8bed\u53e5; %&gt;","text":"<ul> <li>\u5728\u8fd9\u4e2a\u7b26\u53f7\u5f53\u4e2d\u7f16\u5199\u7684\u88ab\u89c6\u4e3ajava\u7a0b\u5e8f\uff0c\u88ab\u7ffb\u8bd1\u5230Servlet\u7c7b\u7684service\u65b9\u6cd5\u5185\u90e8\u3002</li> <li>\u8fd9\u91cc\u4f60\u8981\u7ec6\u5fc3\u70b9\uff0c\u4f60\u8981\u601d\u8003\uff0c\u5728&lt;% %&gt;\u8fd9\u4e2a\u7b26\u53f7\u91cc\u9762\u5199java\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u4f60\u8981\u65f6\u65f6\u523b\u523b\u7684\u8bb0\u4f4f\u4f60\u6b63\u5728\u201c\u65b9\u6cd5\u4f53\u201d\u5f53\u4e2d\u5199\u4ee3\u7801\uff0c\u65b9\u6cd5\u4f53\u4e2d\u53ef\u4ee5\u5199\u4ec0\u4e48\uff0c\u4e0d\u53ef\u4ee5\u5199\u4ec0\u4e48\uff0c\u4f60\u5fc3\u91cc\u662f\u5426\u660e\u767d\u5462\uff1f</li> <li>\u5728service\u65b9\u6cd5\u5f53\u4e2d\u7f16\u5199\u7684\u4ee3\u7801\u662f\u6709\u987a\u5e8f\u7684\uff0c\u65b9\u6cd5\u4f53\u5f53\u4e2d\u7684\u4ee3\u7801\u8981\u9075\u5faa\u81ea\u4e0a\u800c\u4e0b\u7684\u987a\u5e8f\u4f9d\u6b21\u9010\u884c\u6267\u884c\u3002</li> <li>service\u65b9\u6cd5\u5f53\u4e2d\u4e0d\u80fd\u5199\u9759\u6001\u4ee3\u7801\u5757\uff0c\u4e0d\u80fd\u5199\u65b9\u6cd5\uff0c\u4e0d\u80fd\u5b9a\u4e49\u6210\u5458\u53d8\u91cf\u3002\u3002\u3002\u3002\u3002\u3002</li> <li>\u5728\u540c\u4e00\u4e2aJSP\u5f53\u4e2d &lt;%%&gt; \u8fd9\u4e2a\u7b26\u53f7\u53ef\u4ee5\u51fa\u73b0\u591a\u4e2a\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_1","title":"&lt;%! %&gt;","text":"<ul> <li>\u5728\u8fd9\u4e2a\u7b26\u53f7\u5f53\u4e2d\u7f16\u5199\u7684java\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u7ffb\u8bd1\u5230service\u65b9\u6cd5\u4e4b\u5916\u3002</li> <li>\u8fd9\u4e2a\u8bed\u6cd5\u5f88\u5c11\u7528\uff0c\u4e3a\u4ec0\u4e48\uff1f\u4e0d\u5efa\u8bae\u4f7f\u7528\uff0c\u56e0\u4e3a\u5728service\u65b9\u6cd5\u5916\u9762\u5199\u9759\u6001\u53d8\u91cf\u548c\u5b9e\u4f8b\u53d8\u91cf\uff0c\u90fd\u4f1a\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\uff0c\u56e0\u4e3aJSP\u5c31\u662fservlet\uff0cservlet\u662f\u5355\u4f8b\u7684\uff0c\u591a\u7ebf\u7a0b\u5e76\u53d1\u7684\u73af\u5883\u4e0b\uff0c\u8fd9\u4e2a\u9759\u6001\u53d8\u91cf\u548c\u5b9e\u4f8b\u53d8\u91cf\u4e00\u65e6\u6709\u4fee\u6539\u64cd\u4f5c\uff0c\u5fc5\u7136\u4f1a\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_2","title":"&lt;%= %&gt;","text":"<ul> <li>\u600e\u4e48\u5411\u6d4f\u89c8\u5668\u4e0a\u8f93\u51fa\u4e00\u4e2ajava\u53d8\u91cf\u3002</li> <li>&lt;% String name = \u201cjack\u201d;  out.write(\"name = \" + name); %&gt;</li> <li>\u6ce8\u610f\uff1a\u4ee5\u4e0a\u4ee3\u7801\u4e2d\u7684out\u662fJSP\u7684\u4e5d\u5927\u5185\u7f6e\u5bf9\u8c61\u4e4b\u4e00\u3002\u53ef\u4ee5\u76f4\u63a5\u62ff\u6765\u7528\u3002\u5f53\u7136\uff0c\u5fc5\u987b\u53ea\u80fd\u5728service\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u3002</li> <li>\u5982\u679c\u5411\u6d4f\u89c8\u5668\u4e0a\u8f93\u51fa\u7684\u5185\u5bb9\u4e2d\u6ca1\u6709\u201cjava\u4ee3\u7801\u201d\uff0c\u4f8b\u5982\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728jsp\u4e2d\u7f16\u5199\uff0c\u4e0d\u9700\u8981\u5199\u5230&lt;%%&gt; \u8fd9\u91cc\u3002</li> <li>\u5982\u679c\u8f93\u51fa\u7684\u5185\u5bb9\u4e2d\u542b\u6709\u201cjava\u4ee3\u7801\u201d\uff0c\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8bed\u6cd5\u683c\u5f0f\uff1a<ul> <li>&lt;%= %&gt; \u6ce8\u610f\uff1a\u5728=\u7684\u540e\u9762\u7f16\u5199\u8981\u8f93\u51fa\u7684\u5185\u5bb9\u3002</li> <li>&lt;%= %&gt; \u8fd9\u4e2a\u7b26\u53f7\u4f1a\u88ab\u7ffb\u8bd1\u5230\u54ea\u91cc\uff1f\u6700\u7ec8\u7ffb\u8bd1\u6210\u4ec0\u4e48\uff1f<ul> <li>\u7ffb\u8bd1\u6210\u4e86\u8fd9\u4e2ajava\u4ee3\u7801\uff1a   out.print();</li> <li>\u7ffb\u8bd1\u5230service\u65b9\u6cd5\u5f53\u4e2d\u4e86\u3002</li> </ul> </li> <li>\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528&lt;%=%&gt; \u8f93\u51fa\u5462\uff1f\u8f93\u51fa\u7684\u5185\u5bb9\u4e2d\u542b\u6709java\u7684\u53d8\u91cf\uff0c\u8f93\u51fa\u7684\u5185\u5bb9\u662f\u4e00\u4e2a\u52a8\u6001\u7684\u5185\u5bb9\uff0c\u4e0d\u662f\u4e00\u4e2a\u6b7b\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u8f93\u51fa\u7684\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u76f4\u63a5\u5728JSP\u6587\u4ef6\u4e2d\u7f16\u5199\u5373\u53ef\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#-","title":"&lt;%--  --%&gt;","text":"<p>\u5728JSP\u4e2d\u5982\u4f55\u7f16\u5199JSP\u7684\u4e13\u4e1a\u6ce8\u91ca</p> <ul> <li>&lt;%--JSP\u7684\u4e13\u4e1a\u6ce8\u91ca\uff0c\u4e0d\u4f1a\u88ab\u7ffb\u8bd1\u5230java\u6e90\u4ee3\u7801\u5f53\u4e2d\u3002--%&gt;</li> <li></li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#page","title":"&lt;%@page %&gt;\u6307\u4ee4","text":"<p>&lt;%@page  contentType=\"text/html;charset=UTF-8\"%&gt;</p> <ul> <li>page\u6307\u4ee4\uff0c\u901a\u8fc7contentType\u5c5e\u6027\u7528\u6765\u8bbe\u7f6e\u54cd\u5e94\u7684\u5185\u5bb9\u7c7b\u578b\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#jsp-","title":"JSP\u57fa\u7840\u8bed\u6cd5---\u6307\u4ee4\u8bb2\u89e3","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_3","title":"\u6307\u4ee4\u7684\u4f5c\u7528","text":"<p>\u6307\u5bfcJSP\u7684\u7ffb\u8bd1\u5f15\u64ce\u5982\u4f55\u5de5\u4f5c\uff08\u6307\u5bfc\u5f53\u524d\u7684JSP\u7ffb\u8bd1\u5f15\u64ce\u5982\u4f55\u7ffb\u8bd1JSP\u6587\u4ef6\u3002\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_4","title":"\u6307\u4ee4\u90fd\u6709\u54ea\u4e9b","text":"<ul> <li>inclue\u6307\u4ee4\uff1a\u5305\u542b\u6307\u4ee4\uff0c\u5728JSP\u4e2d\u5b8c\u6210\u9759\u6001\u5305\u542b\uff0c\u5f88\u5c11\u7528\uff08\u4e0d\u5b66\uff09</li> <li>taglib\u6307\u4ee4\uff1a\u5f15\u5165\u6807\u7b7e\u5e93\u7684\u6307\u4ee4\u3002\u5728JSTL\u6807\u7b7e\u5e93\u7684\u65f6\u5019\u518d\u5b66\u4e60</li> <li>page  \u6307\u4ee4\uff1a\u91cd\u70b9\u5b66\u4e60</li> </ul> <p>&lt;%@\u6307\u4ee4\u540d  \u5c5e\u6027\u540d=\u5c5e\u6027\u503c  \u5c5e\u6027\u540d=\u5c5e\u6027\u503c  \u5c5e\u6027\u540d=\u5c5e\u6027\u503c....%&gt;</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#page_1","title":"page\u6307\u4ee4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#session","title":"session","text":"Java Server Page<pre><code>&lt;%@page session=\"true|false\" %&gt;\ntrue\u8868\u793a\u542f\u7528JSP\u7684\u5185\u7f6e\u5bf9\u8c61session\uff0c\u8868\u793a\u4e00\u5b9a\u542f\u52a8session\u5bf9\u8c61\u3002\u6ca1\u6709session\u5bf9\u8c61\u4f1a\u521b\u5efa\u3002\n\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u503c\u5c31\u662fsession=\"true\"\nsession=\"false\" \u8868\u793a\u4e0d\u542f\u52a8\u5185\u7f6e\u5bf9\u8c61session\u3002\u5f53\u524dJSP\u9875\u9762\u4e2d\u65e0\u6cd5\u4f7f\u7528\u5185\u7f6e\u5bf9\u8c61session\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#contenttype","title":"contentType","text":"Java Server Page<pre><code>&lt;%@page contentType=\"text/json\" %&gt;\ncontentType\u5c5e\u6027\u7528\u6765\u8bbe\u7f6e\u54cd\u5e94\u7684\u5185\u5bb9\u7c7b\u578b\n\u4f46\u540c\u65f6\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u5b57\u7b26\u96c6\u3002\n&lt;%@page contentType=\"text/json;charset=UTF-8\" %&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#pageencoding","title":"pageEncoding","text":"Java Server Page<pre><code>&lt;%@page pageEncoding=\"UTF-8\" %&gt;\npageEncoding=\"UTF-8\" \u8868\u793a\u8bbe\u7f6e\u54cd\u5e94\u65f6\u91c7\u7528\u7684\u5b57\u7b26\u96c6\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#import","title":"import","text":"Java Server Page<pre><code>&lt;%@page import=\"java.util.List, java.util.Date, java.util.ArrayList\" %&gt;\n&lt;%@page import=\"java.util.*\" %&gt;\nimport\u8bed\u53e5\uff0c\u5bfc\u5305\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#errorpage","title":"errorPage","text":"Java Server Page<pre><code>&lt;%@page errorPage=\"/error.jsp\" %&gt;\n\u5f53\u524d\u9875\u9762\u51fa\u73b0\u5f02\u5e38\u4e4b\u540e\uff0c\u8df3\u8f6c\u5230error.jsp\u9875\u9762\u3002\nerrorPage\u5c5e\u6027\u7528\u6765\u6307\u5b9a\u51fa\u9519\u4e4b\u540e\u7684\u8df3\u8f6c\u4f4d\u7f6e\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#iserrorpage","title":"isErrorPage","text":"Java Server Page<pre><code>&lt;%@page isErrorPage=\"true\" %&gt;\n\u8868\u793a\u542f\u7528JSP\u4e5d\u5927\u5185\u7f6e\u5bf9\u8c61\u4e4b\u4e00\uff1aexception\n\u9ed8\u8ba4\u503c\u662ffalse\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_5","title":"\u4e5d\u5927\u5185\u7f6e\u5bf9\u8c61","text":"<p>jakarta.servlet.jsp.PageContext pageContext</p> <p>jakarta.servlet.http.HttpServletRequest request</p> <p>jakarta.servlet.http.HttpSession session</p> <p>jakarta.servlet.ServletContext application</p> <p>jakarta.servlet.jsp.JspWriter out</p> <p>jakarta.servlet.http.HttpServletResponse response</p> <p>java.lang.Throwable exception</p> <p>jakarta.servlet.ServletConfig config</p> <p>java.lang.Object page</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_6","title":"\u56db\u7ea7\u4f5c\u7528\u57df","text":"Java<pre><code>jakarta.servlet.jsp.PageContext             pageContext\njakarta.servlet.http.HttpServletRequest     request\njakarta.servlet.http.HttpSession            session\njakarta.servlet.ServletContext              application\n</code></pre> <p>\u4f5c\u7528\u57df\u7684\u5927\u5c0f\u6392\u5e8f\u4e3a</p> <p>pageContext <code>&lt;</code> request <code>&lt;</code> session <code>&lt;</code> application</p> <p>\u9875\u9762\u57df <code>&lt;</code> \u8bf7\u6c42\u57df <code>&lt;</code> \u4f1a\u8bdd\u57df <code>&lt;</code> \u5e94\u7528\u57df</p> <p>\u5b83\u4eec\u90fd\u6709<code>setAttribute</code> <code>getAttribute</code> <code>removeAttribute</code>\u65b9\u6cd5</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/2-JSP/#_7","title":"\u5176\u4f59\u7684\u5185\u7f6e\u5bf9\u8c61","text":"<p><code>out | response</code></p> <p><code>exception</code></p> <p><code>page ===&gt; this</code></p> <p><code>config</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"EL\u8868\u8fbe\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#el_1","title":"EL\u8868\u8fbe\u5f0f\u662f\u5e72\u4ec0\u4e48\u7684\uff1f","text":"<ul> <li> <p>Expression Language\uff08\u8868\u8fbe\u5f0f\u8bed\u8a00\uff09</p> </li> <li> <p>EL\u8868\u8fbe\u5f0f\u53ef\u4ee5\u4ee3\u66ffJSP\u4e2d\u7684java\u4ee3\u7801\uff0c\u8ba9JSP\u6587\u4ef6\u4e2d\u7684\u7a0b\u5e8f\u770b\u8d77\u6765\u66f4\u52a0\u6574\u6d01\uff0c\u7f8e\u89c2\u3002</p> </li> <li>JSP\u4e2d\u5939\u6742\u7740\u5404\u79cdjava\u4ee3\u7801\uff0c\u4f8b\u5982&lt;% java\u4ee3\u7801 %&gt;\u3001&lt;%=%&gt;\u7b49\uff0c\u5bfc\u81f4JSP\u6587\u4ef6\u5f88\u6df7\u4e71\uff0c\u4e0d\u597d\u770b\uff0c\u4e0d\u597d\u7ef4\u62a4\u3002\u6240\u4ee5\u624d\u6709\u4e86\u540e\u671f\u7684EL\u8868\u8fbe\u5f0f\u3002</li> <li>EL\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7b97\u662fJSP\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u3002EL\u8868\u8fbe\u5f0f\u5f52\u5c5e\u4e8eJSP\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#eljsp","title":"EL\u8868\u8fbe\u5f0f\u51fa\u73b0\u5728JSP\u4e2d\u4e3b\u8981\u662f","text":"<ul> <li>\u4ece\u67d0\u4e2a\u4f5c\u7528\u57df\u4e2d\u53d6\u6570\u636e\uff0c\u7136\u540e\u5c06\u5176\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u5176\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002\u8fd9\u5c31\u662fEL\u8868\u8fbe\u5f0f\u7684\u529f\u6548\u3002\u4e09\u5927\u529f\u6548\uff1a<ol> <li>\u7b2c\u4e00\u529f\u6548\uff1a\u4ece\u67d0\u4e2a\u57df\u4e2d\u53d6\u6570\u636e\u3002<ul> <li>\u56db\u4e2a\u57df\uff1a<ul> <li>pageContext</li> <li>request</li> <li>session</li> <li>application     -</li> </ul> </li> </ul> </li> <li>\u7b2c\u4e8c\u529f\u6548\uff1a\u5c06\u53d6\u51fa\u7684\u6570\u636e\u8f6c\u6210\u5b57\u7b26\u4e32\u3002<ul> <li>\u5982\u679c\u662f\u4e00\u4e2ajava\u5bf9\u8c61\uff0c\u4e5f\u4f1a\u81ea\u52a8\u8c03\u7528java\u5bf9\u8c61\u7684toString\u65b9\u6cd5\u5c06\u5176\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u3002</li> </ul> </li> <li>\u7b2c\u4e09\u529f\u6548\uff1a\u5c06\u5b57\u7b26\u4e32\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002<ul> <li>\u548c\u8fd9\u4e2a\u4e00\u6837\uff1a&lt;%= %&gt;\uff0c\u5c06\u5176\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002</li> </ul> </li> </ol> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u4f7f\u7528","text":"<p>\u8bed\u6cd5\u683c\u5f0f\uff1a${\u8868\u8fbe\u5f0f}</p> Java Server Page<pre><code>&lt;%\n    // \u521b\u5efaUser\u5bf9\u8c61\n    User user = new User();\n    user.setUsername(\"jackson\");\n    user.setPassword(\"1234\");\n    user.setAge(50);\n\n    // \u5c06User\u5bf9\u8c61\u5b58\u50a8\u5230\u67d0\u4e2a\u57df\u5f53\u4e2d\u3002\u4e00\u5b9a\u8981\u5b58\uff0c\u56e0\u4e3aEL\u8868\u8fbe\u5f0f\u53ea\u80fd\u4ece\u67d0\u4e2a\u8303\u56f4\u4e2d\u53d6\u6570\u636e\u3002\n    // \u6570\u636e\u662f\u5fc5\u987b\u5b58\u50a8\u5230\u56db\u5927\u8303\u56f4\u4e4b\u4e00\u7684\u3002\n    request.setAttribute(\"userObj\", user);\n%&gt;\n\n&lt;%--\u4f7f\u7528EL\u8868\u8fbe\u5f0f\u53d6--%&gt;\n${\u8fd9\u4e2a\u4f4d\u7f6e\u5199\u4ec0\u4e48\uff1f\uff1f\uff1f\uff1f\u8fd9\u91cc\u5199\u7684\u4e00\u5b9a\u662f\u5b58\u50a8\u5230\u57df\u5bf9\u8c61\u5f53\u4e2d\u65f6\u7684name}\n\u8981\u8fd9\u6837\u5199\uff1a\n${userObj}\n\u7b49\u540c\u4e8ejava\u4ee3\u7801\uff1a&lt;%=request.getAttribute(\"userObj\")%&gt;\n\u4f60\u4e0d\u8981\u8fd9\u6837\u5199\uff1a${\"userObj\"}\n\n\u9762\u8bd5\u9898\uff1a\n    ${abc} \u548c ${\"abc\"}\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f\n        ${abc}\u8868\u793a\u4ece\u67d0\u4e2a\u57df\u4e2d\u53d6\u51fa\u6570\u636e\uff0c\u5e76\u4e14\u88ab\u53d6\u7684\u8fd9\u4e2a\u6570\u636e\u7684name\u662f\"abc\"\uff0c\u4e4b\u524d\u4e00\u5b9a\u6709\u8fd9\u6837\u7684\u4ee3\u7801: \u57df.setAttribute(\"abc\", \u5bf9\u8c61);\n        ${\"abc\"} \u8868\u793a\u76f4\u63a5\u5c06\"abc\"\u5f53\u505a\u666e\u901a\u5b57\u7b26\u4e32\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002\u4e0d\u4f1a\u4ece\u67d0\u4e2a\u57df\u4e2d\u53d6\u6570\u636e\u4e86\u3002\n\n${userObj} \u5e95\u5c42\u662f\u600e\u4e48\u505a\u7684\uff1f\u4ece\u57df\u4e2d\u53d6\u6570\u636e\uff0c\u53d6\u51fauser\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528user\u5bf9\u8c61\u7684toString\u65b9\u6cd5\uff0c\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\uff0c\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u3002\n\n&lt;%--\u5982\u679c\u60f3\u8f93\u51fa\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\uff0c\u600e\u4e48\u529e\uff1f--%&gt;\n${userObj.username} \u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\u7684\u524d\u63d0\u662f\uff1aUser\u5bf9\u8c61\u6709getUsername()\u65b9\u6cd5\u3002\n${userObj.password} \u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\u7684\u524d\u63d0\u662f\uff1aUser\u5bf9\u8c61\u6709getPassword()\u65b9\u6cd5\u3002\n${userObj.age} \u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\u7684\u524d\u63d0\u662f\uff1aUser\u5bf9\u8c61\u6709getAge()\u65b9\u6cd5\u3002\n${userObj.email} \u4f7f\u7528\u8fd9\u4e2a\u8bed\u6cd5\u7684\u524d\u63d0\u662f\uff1aUser\u5bf9\u8c61\u6709getEmail()\u65b9\u6cd5\u3002\nEL\u8868\u8fbe\u5f0f\u4e2d\u7684. \u8fd9\u4e2a\u8bed\u6cd5\uff0c\u5b9e\u9645\u4e0a\u8c03\u7528\u4e86\u5e95\u5c42\u7684getXxx()\u65b9\u6cd5\u3002\n\u6ce8\u610f\uff1a\u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684get\u65b9\u6cd5\uff0c\u5219\u51fa\u73b0\u5f02\u5e38\u3002\u62a5500\u9519\u8bef\u3002\n\n${userObj.addr222.zipcode}\n\u4ee5\u4e0aEL\u8868\u8fbe\u5f0f\u5bf9\u5e94\u7684java\u4ee3\u7801\uff1a\nuser.getAddr222().getZipcode()\n</code></pre> <p>\u7efc\u4e0a\u6240\u8ff0EL\u8868\u8fbe\u5f0f\u662f\u4ece\u56db\u7ea7\u4f5c\u7528\u57df\u4e2d\u83b7\u53d6\u4ed6\u4eec\u7684\u5c5e\u6027</p> <ul> <li>pageContext &gt; request &gt; session &gt; application</li> <li> <p>\u901a\u8fc7<code>getAttribute</code>\u83b7\u53d6</p> </li> <li> <p>\u5982\u679c\u5b58\u5165\u4f5c\u7528\u57df\u4e2d\u7684\u5c5e\u6027\u662f\u4e00\u4e2aJavabean\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7<code>.</code>\u6765\u8f93\u51fa\u7c7b\u4e2d\u7684\u5c5e\u6027</p> <ul> <li>User.xxx   \u8fd9\u4e2axxx\u662fUser\u7c7b\u4e2d\u7684getXxx\u65b9\u6cd5</li> </ul> </li> <li> <p><code>${User.address.email}</code></p> </li> <li><code>&lt;%= ((User)request.getAttribute(\"User\")).getAddress().getEmail()</code></li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#pagecontext","title":"pageContext","text":"<p>\u9700\u8981\u6ce8\u610f\uff01</p> <p>\u5728EL\u8868\u8fbe\u5f0f\u4e2d\uff0c\u53ea\u6709pageContext\u5bf9\u8c61</p> <ul> <li> <p>EL\u8868\u8fbe\u5f0f\u4e2d\u6709\u56db\u4e2a\u9690\u542b\u7684\u9690\u5f0f\u7684\u8303\u56f4\uff1a</p> <ul> <li> <p>pageScope \u5bf9\u5e94\u7684\u662f pageContext\u8303\u56f4\u3002</p> </li> <li> <p>requestScope \u5bf9\u5e94\u7684\u662f request\u8303\u56f4\u3002</p> </li> <li> <p>sessionScope \u5bf9\u5e94\u7684\u662f session\u8303\u56f4\u3002</p> </li> <li> <p>applicationScope \u5bf9\u5e94\u7684\u662f application\u8303\u56f4\u3002</p> </li> </ul> </li> <li> <p>EL\u8868\u8fbe\u5f0f\u5bf9null\u8fdb\u884c\u4e86\u9884\u5904\u7406\u3002\u5982\u679c\u662fnull\uff0c\u5219\u5411\u6d4f\u89c8\u5668\u8f93\u51fa\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002</p> </li> <li> <p>EL\u8868\u8fbe\u5f0f\u53d6\u6570\u636e\u7684\u65f6\u5019\u6709\u4e24\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\uff1a.  \uff08\u5927\u90e8\u5206\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff09</p> </li> <li> <p>\u7b2c\u4e8c\u79cd\uff1a[ ] \uff08\u5982\u679c\u5b58\u50a8\u5230\u57df\u7684\u65f6\u5019\uff0c\u8fd9\u4e2aname\u4e2d\u542b\u6709\u7279\u6b8a\u5b57\u7b26\uff0c\u53ef\u4ee5\u4f7f\u7528 [ ]\uff09</p> <ul> <li><code>java     request.setAttribute(\"abc.def\", \"zhangsan\");     ${requestScope.abc.def} \u8fd9\u6837\u662f\u65e0\u6cd5\u53d6\u503c\u7684\u3002     \u5e94\u8be5\u8fd9\u6837\uff1a${requestScope[\"abc.def\"]}</code></li> </ul> </li> </ul> </li> <li> <p>EL\u8868\u8fbe\u5f0f\u8f93\u51fa\u6570\u7ec4\u3001JavaBean\u6570\u7ec4\u3001LIst\u96c6\u5408\u3001Set\u96c6\u5408\u7684\u65b9\u5f0f</p> <ul> <li>\u5176\u4e2dSet\u96c6\u5408\u6ca1\u6709\u7d22\u5f15\u3002\u65e0\u6cd5\u901a\u8fc7<code>[\u7d22\u5f15]</code>\u7684\u65b9\u5f0f\u83b7\u53d6\u5185\u5bb9</li> </ul> </li> </ul> Java Server Page<pre><code>        &lt;h3&gt;\u6570\u7ec4\u7684\u8f93\u51fa\u65b9\u5f0f&lt;/h3&gt;&lt;br&gt;\n        n1[0]\uff1a${names1[0]}&lt;br&gt;\n\n        &lt;h3&gt;JavaBean\u7684\u6570\u7ec4\u7684\u8f93\u51fa\u65b9\u5f0f&lt;/h3&gt;&lt;br&gt;\n        u[0]\uff1a${users[0].name}&lt;br&gt;\n\n        &lt;h3&gt;List\u96c6\u5408\u7684\u8f93\u51fa\u65b9\u5f0f&lt;/h3&gt;&lt;br&gt;\n        n2[0]\uff1a${names2[0]}&lt;br&gt;\n\n        &lt;h3&gt;Set\u96c6\u5408\u7684\u8f93\u51fa\u65b9\u5f0f&lt;/h3&gt;&lt;br&gt;\n        names3\uff1a${names3}&lt;br&gt;\n</code></pre> <ul> <li>page\u6307\u4ee4\u5f53\u4e2d\uff0c\u6709\u4e00\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u5ffd\u7565EL\u8868\u8fbe\u5f0f</li> </ul> Java<pre><code>        &lt;%@page contentType=\"text/html;charset=UTF-8\" isELIgnored=\"true\" %&gt;\n        isELIgnored=\"true\" \u8868\u793a\u5ffd\u7565EL\u8868\u8fbe\u5f0f\n        isELIgnored=\"false\" \u8868\u793a\u4e0d\u5ffd\u7565EL\u8868\u8fbe\u5f0f\u3002\uff08\u8fd9\u662f\u9ed8\u8ba4\u503c\uff09\n\n        isELIgnored=\"true\" \u8fd9\u4e2a\u662f\u5168\u5c40\u7684\u63a7\u5236\u3002\n\n        \u53ef\u4ee5\u4f7f\u7528\u53cd\u659c\u6760\u8fdb\u884c\u5c40\u90e8\u63a7\u5236\uff1a\\${username} \u8fd9\u6837\u4e5f\u53ef\u4ee5\u5ffd\u7565EL\u8868\u8fbe\u5f0f\u3002\n</code></pre> <ul> <li> <p>\u901a\u8fc7EL\u8868\u8fbe\u5f0f\u83b7\u53d6\u5e94\u7528\u7684\u6839\uff1a</p> <ul> <li><code>${pageContext.request.contextPath}</code></li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#el_2","title":"EL\u8868\u8fbe\u5f0f\u4e2d\u5176\u4ed6\u7684\u9690\u5f0f\u5bf9\u8c61\uff1a","text":"<ul> <li> <p>pageContext</p> </li> <li> <p>param</p> </li> <li> <p>paramValues</p> </li> <li> <p>initParam</p> </li> </ul> Java Server Page<pre><code>    \u5982\u679cURL\u4e3ahttp://localhost:8080/JSP/5.jsp?name=\"\u5f20\u4e09\"&lt;br&gt;\n    jsp:&lt;%=request.getParameter(\"name\")%&gt;&lt;br&gt;\n    EL :${param.name}&lt;br&gt;\n\n    &lt;hr&gt;\n    \u5982\u679cURL\u4e3ahttp://localhost:8080/JSP/5.jsp?aihao=\"\u9a91\u9a6c\"&amp;aihao=\"\u5251\u672f\"&lt;br&gt;\n    jsp:&lt;%=request.getParameterValues(\"aihao\")%&gt;&lt;br&gt;\n    EL: ${paramValues.aihao}&lt;br&gt;\n    EL: ${paramValues.aihao[0]}&lt;br&gt;\n    EL: ${paramValues.aihao[1]}&lt;br&gt;\n\n    &lt;hr&gt;\n    \u83b7\u53d6web.xml\u7684\u5185\u5bb9&lt;br&gt;\n    jsp:&lt;%=application.getInitParameter(\"pageSize\")%&gt;&lt;br&gt;\n    jsp:&lt;%=application.getInitParameter(\"pageNum\")%&gt;&lt;br&gt;\n    EL: ${initParam.pageSize}&lt;br&gt;\n    EL: ${initParam.pageNum}&lt;br&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/3-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/#el_3","title":"EL\u8868\u8fbe\u5f0f\u7684\u8fd0\u7b97\u7b26","text":"<ul> <li>\u7b97\u672f\u8fd0\u7b97\u7b26<ul> <li>+\u3001-\u3001*\u3001/\u3001%</li> </ul> </li> <li>\u5173\u7cfb\u8fd0\u7b97\u7b26<ul> <li>[ ] == eq != &gt; &gt;= &lt; &lt;=</li> </ul> </li> <li>\u903b\u8f91\u8fd0\u7b97\u7b26<ul> <li>[ ] !  &amp;&amp; ||  not and or</li> </ul> </li> <li>\u6761\u4ef6\u8fd0\u7b97\u7b26<ul> <li>[ ] ? :</li> </ul> </li> <li>\u53d6\u503c\u8fd0\u7b97\u7b26<ul> <li>[ ]\u548c.</li> </ul> </li> <li>empty\u8fd0\u7b97\u7b26<ul> <li>[ ] empty\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c\u662fboolean\u7c7b\u578b</li> <li>[ ] ${empty param.username}</li> <li>[ ] ${not empty param.username}</li> <li>[ ] ${!empty param.password}</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/","title":"JSTL\u6807\u7b7e\u5e93","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#jstl_1","title":"\u4ec0\u4e48\u662fJSTL\u6807\u7b7e\u5e93\uff1f","text":"<p>Java Standard Tag Lib\uff08Java\u6807\u51c6\u7684\u6807\u7b7e\u5e93\uff09</p> <p>JSTL\u6807\u7b7e\u5e93\u901a\u5e38\u7ed3\u5408EL\u8868\u8fbe\u5f0f\u4e00\u8d77\u4f7f\u7528\u3002\u76ee\u7684\u662f\u8ba9JSP\u4e2d\u7684java\u4ee3\u7801\u6d88\u5931\u3002</p> <p>\u6807\u7b7e\u662f\u5199\u5728JSP\u5f53\u4e2d\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u6700\u7ec8\u8fd8\u662f\u8981\u6267\u884c\u5bf9\u5e94\u7684java\u7a0b\u5e8f\u3002\uff08java\u7a0b\u5e8f\u5728jar\u5305\u5f53\u4e2d\u3002\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#jstl_2","title":"\u4f7f\u7528JSTL\u6807\u7b7e\u5e93\u7684\u6b65\u9aa4\uff1a","text":"<ol> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5f15\u5165JSTL\u6807\u7b7e\u5e93\u5bf9\u5e94\u7684jar\u5305\u3002</p> <ul> <li> <p>tomcat10\u4e4b\u540e\u5f15\u5165\u7684jar\u5305\u662f\uff1a</p> <ul> <li> <p>jakarta.servlet.jsp.jstl-2.0.0.jar</p> </li> <li> <p>jakarta.servlet.jsp.jstl-api-2.0.0.jar</p> </li> </ul> </li> </ul> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728JSP\u4e2d\u5f15\u5165\u8981\u4f7f\u7528\u6807\u7b7e\u5e93\u3002\uff08\u4f7f\u7528taglib\u6307\u4ee4\u5f15\u5165\u6807\u7b7e\u5e93\u3002\uff09</p> <ul> <li> <p>JSTL\u63d0\u4f9b\u4e86\u5f88\u591a\u79cd\u6807\u7b7e\uff0c\u4f60\u8981\u5f15\u5165\u54ea\u4e2a\u6807\u7b7e\uff1f\uff1f\uff1f\uff1f\u91cd\u70b9\u638c\u63e1\u6838\u5fc3\u6807\u7b7e\u5e93\u3002</p> </li> <li> <p><code>jsp     &lt;%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;     \u8fd9\u4e2a\u5c31\u662f\u6838\u5fc3\u6807\u7b7e\u5e93\u3002     prefix=\"\u8fd9\u91cc\u968f\u4fbf\u8d77\u4e00\u4e2a\u540d\u5b57\u5c31\u884c\u4e86\uff0c\u6838\u5fc3\u6807\u7b7e\u5e93\uff0c\u5927\u5bb6\u9ed8\u8ba4\u7684\u53eb\u505ac\uff0c\u4f60\u968f\u610f\u3002\"</code></p> </li> </ul> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u5728\u9700\u8981\u4f7f\u7528\u6807\u7b7e\u7684\u4f4d\u7f6e\u4f7f\u7528\u5373\u53ef\u3002\u8868\u9762\u4f7f\u7528\u7684\u662f\u6807\u7b7e\uff0c\u5e95\u5c42\u5b9e\u9645\u4e0a\u8fd8\u662fjava\u7a0b\u5e8f\u3002</p> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#jstl_3","title":"JSTL\u6807\u7b7e\u7684\u539f\u7406","text":"Java Server Page<pre><code>&lt;%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n\u4ee5\u4e0auri\u540e\u9762\u7684\u8def\u5f84\u5b9e\u9645\u4e0a\u6307\u5411\u4e86\u4e00\u4e2axxx.tld\u6587\u4ef6\u3002\ntld\u6587\u4ef6\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2axml\u914d\u7f6e\u6587\u4ef6\u3002\n\u5728tld\u6587\u4ef6\u4e2d\u63cf\u8ff0\u4e86\u201c\u6807\u7b7e\u201d\u548c\u201cjava\u7c7b\u201d\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\n\u4ee5\u4e0a\u6838\u5fc3\u6807\u7b7e\u5e93\u5bf9\u5e94\u7684tld\u6587\u4ef6\u662f\uff1ac.tld\u6587\u4ef6\u3002\u5b83\u5728\u54ea\u91cc\u3002\n\u5728jakarta.servlet.jsp.jstl-2.0.0.jar\u91cc\u9762META-INF\u76ee\u5f55\u4e0b\uff0c\u6709\u4e00\u4e2ac.tld\u6587\u4ef6\u3002\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#tld","title":"\u6e90\u7801\u89e3\u6790\uff1a\u914d\u7f6e\u6587\u4ef6tld\u89e3\u6790","text":"XML<pre><code>&lt;tag&gt;\n    &lt;description&gt;\u5bf9\u8be5\u6807\u7b7e\u7684\u63cf\u8ff0&lt;/description&gt;\n    &lt;name&gt;catch&lt;/name&gt; \u6807\u7b7e\u7684\u540d\u5b57\n    &lt;tag-class&gt;org.apache.taglibs.standard.tag.common.core.CatchTag&lt;/tag-class&gt; \u6807\u7b7e\u5bf9\u5e94\u7684java\u7c7b\u3002\n    &lt;body-content&gt;JSP&lt;/body-content&gt; \u6807\u7b7e\u4f53\u5f53\u4e2d\u53ef\u4ee5\u51fa\u73b0\u7684\u5185\u5bb9\uff0c\u5982\u679c\u662fJSP\uff0c\u5c31\u8868\u793a\u6807\u7b7e\u4f53\u4e2d\u53ef\u4ee5\u51fa\u73b0\u7b26\u5408JSP\u6240\u6709\u8bed\u6cd5\u7684\u4ee3\u7801\u3002\u4f8b\u5982EL\u8868\u8fbe\u5f0f\u3002\n    &lt;attribute&gt;\n        &lt;description&gt;\n            \u5bf9\u8fd9\u4e2a\u5c5e\u6027\u7684\u63cf\u8ff0\n        &lt;/description&gt;\n        &lt;name&gt;var&lt;/name&gt; \u5c5e\u6027\u540d\n        &lt;required&gt;false&lt;/required&gt; false\u8868\u793a\u8be5\u5c5e\u6027\u4e0d\u662f\u5fc5\u987b\u7684\u3002true\u8868\u793a\u8be5\u5c5e\u6027\u662f\u5fc5\u987b\u7684\u3002\n        &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt; \u8fd9\u4e2a\u63cf\u8ff0\u8bf4\u660e\u4e86\u8be5\u5c5e\u6027\u662f\u5426\u652f\u6301EL\u8868\u8fbe\u5f0f\u3002false\u8868\u793a\u4e0d\u652f\u6301\u3002true\u8868\u793a\u652f\u6301EL\u8868\u8fbe\u5f0f\u3002\n    &lt;/attribute&gt;\n  &lt;/tag&gt;\n\n&lt;c:catch var=\"\"&gt;\n    JSP....\n&lt;/c:catch&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#jstlcore","title":"jstl\u4e2d\u7684\u6838\u5fc3\u6807\u7b7e\u5e93core\u5f53\u4e2d\u6709\u54ea\u4e9b\u5e38\u7528\u7684\u6807\u7b7e\u5462\uff1f","text":"<ul> <li> <p>c:if</p> <ul> <li> <li> <p>c:forEach</p> <ul> <li><code>&lt;c:forEach items=\"\u96c6\u5408\uff0c\u652f\u6301EL\u8868\u8fbe\u5f0f\" var=\"\u96c6\u5408\u4e2d\u7684\u5143\u7d20\" varStatus=\"\u5143\u7d20\u72b6\u6001\u5bf9\u8c61\"&gt; ${\u5143\u7d20\u72b6\u6001\u5bf9\u8c61.count} &lt;/c: forEach&gt;</code></li> <li><code>&lt;c:forEach var=\"i\" begin=\"1\" end=\"10\" step=\"2\"&gt; ${i} &lt;/c: forEach&gt;</code></li> </ul> </li> <li> <p>c:choose c:when c:otherwise</p> <ul> <li><code>jsp     &lt;c:choose&gt;         &lt;c:when test=\"${param.age &lt; 18}\"&gt;             \u9752\u5c11\u5e74         &lt;/c:when&gt;         &lt;c:when test=\"${param.age &lt; 35}\"&gt;             \u9752\u5e74         &lt;/c:when&gt;         &lt;c:when test=\"${param.age &lt; 55}\"&gt;             \u4e2d\u5e74         &lt;/c:when&gt;         &lt;c:otherwise&gt;             \u8001\u5e74         &lt;/c:otherwise&gt;     &lt;/c:choose&gt;</code></li> </ul> </li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/4-JSTL%E6%A0%87%E7%AD%BE%E5%BA%93/#oa","title":"\u4f7f\u7528\u4ee5\u4e0a\u77e5\u8bc6\u6539\u9020OA","text":"<p>\u6211\u4eec\u73b0\u5728\u9700\u8981\u4fee\u6539\u524d\u7aef\u7684jsp\u9875\u9762\uff0c\u5c3d\u91cf\u51cf\u5c11Java\u4ee3\u7801\u7684\u51fa\u73b0\uff0c\u4f7f\u7528JSTL\u548cEL\u8868\u8fbe\u5f0f\u6765\u4ee3\u66ff\u4ed6\u4eec</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/","title":"Filter\u8fc7\u6ee4\u5668","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#filter_1","title":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528Filter","text":"<p>\u8fd9\u65f6\u5019\u6211\u4eec\u9700\u8981\u5f15\u5165Servlet\u89c4\u8303\u4e2d\u7684Filter\u8fc7\u6ee4\u5668\u6765\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#oa","title":"\u5f53\u524d\u7684OA\u9879\u76ee\u5b58\u5728\u4ec0\u4e48\u7f3a\u9677\uff1f","text":"<p>\u5047\u8bbe\u6211\u4eec\u5f53\u524d\u7684\u7cfb\u7edf\u6709\u591a\u4e2a\u529f\u80fd\u3002\u9700\u8981\u4f7f\u7528DeptServlet\u3001EmpServlet\u3001OrderServlet\u7b49Servlet\u6765\u5b9e\u73b0\u8be5\u529f\u80fd\u3002</p> <p>\u800c\u4ee5\u4e0a\u7684Servlet\u90fd\u9700\u8981\u63d0\u524d\u5224\u65ad\u7528\u6237\u662f\u5426\u767b\u5f55\uff0c\u5e76\u4e14\u6bcf\u4e2aServlet\u90fd\u9700\u8981\u5904\u7406\u8bf7\u6c42\u3001\u54cd\u5e94\u7684\u4e71\u7801\u95ee\u9898\u3002</p> <p>\u8fd9\u4e9b\u90fd\u662f\u91cd\u590d\u7684\u4ee3\u7801\uff0c\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u5197\u4f59\u3002\u663e\u7136\u6ca1\u6709\u8fbe\u5230\u4ee3\u7801\u590d\u7528\u7684\u8981\u6c42\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#filter_2","title":"Filter\u7684\u4f5c\u7528\uff1f","text":"<ul> <li>Filter\u53ef\u4ee5\u5728Servlet\u8fd9\u4e2a\u76ee\u6807\u7a0b\u5e8f\u6267\u884c\u4e4b\u524d\u6dfb\u52a0\u4ee3\u7801\u3002\u4e5f\u53ef\u4ee5\u5728\u76ee\u6807Servlet\u6267\u884c\u4e4b\u540e\u6dfb\u52a0\u4ee3\u7801\u3002\u4e4b\u524d\u4e4b\u540e\u90fd\u53ef\u4ee5\u6dfb\u52a0\u8fc7\u6ee4\u89c4\u5219\u3002</li> <li>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u5728\u8fc7\u6ee4\u5668\u5f53\u4e2d\u7f16\u5199\u516c\u5171\u4ee3\u7801\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#_1","title":"\u4f7f\u7528\u6b65\u9aa4\uff1f","text":"<ol> <li> <p>\u521b\u5efa\u4e00\u4e2aJava\u7c7b\uff0c\u5b9e\u73b0jakarta.servlet.Filter\u63a5\u53e3\uff0c\u5e76\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\u7684\u6240\u6709\u65b9\u6cd5</p> <ul> <li>```java     public interface Filter {         default void init(FilterConfig filterConfig) throws ServletException {         }Text Only<pre><code>void doFilter(ServletRequest var1, ServletResponse var2, FilterChain var3) throws IOException, ServletException;\n\ndefault void destroy() {\n}\n</code></pre> <p>} ```</p> </li> </ul> </li> <li> <p>\u5728web.xml\u6587\u4ef6\u4e2d\u5bf9Filter\u8fdb\u884c\u914d\u7f6e\u3002\u8fd9\u4e2a\u914d\u7f6e\u548cServlet\u5f88\u50cf\u3002</p> <ul> <li> <p><code>xml     &lt;filter&gt;         &lt;filter-name&gt;filter2&lt;/filter-name&gt;         &lt;filter-class&gt;com.bjpowernode.javaweb.servlet.Filter2&lt;/filter-class&gt;     &lt;/filter&gt;     &lt;filter-mapping&gt;         &lt;filter-name&gt;filter2&lt;/filter-name&gt;         &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;     &lt;/filter-mapping&gt;</code></p> </li> <li> <p>\u6216\u8005\u4f7f\u7528\u6ce8\u89e3\uff1a@WebFilter({\"*.do\"})</p> </li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#_2","title":"\u6ce8\u610f","text":"<ul> <li> <p>Filter\u5bf9\u8c61\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u65b0\u5efa\u5bf9\u8c61\u3002\u800cServlet\u5982\u679c\u6ca1\u6709\u7279\u6b8a\u914d\u7f6e\uff0c\u662f\u5728\u8c03\u7528\u5b83\u65f6\u624d\u4f1a\u521b\u5efa\u5bf9\u8c61</p> </li> <li> <p>Servlet\u662f\u5355\u4f8b\u7684\u3002Filter\u4e5f\u662f\u5355\u4f8b\u7684\u3002\uff08\u5355\u5b9e\u4f8b\u3002\uff09</p> </li> <li> <p>\u76ee\u6807Servlet\u662f\u5426\u6267\u884c\uff0c\u53d6\u51b3\u4e8e\u4e24\u4e2a\u6761\u4ef6\uff1a</p> <ol> <li> <p>Filter\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u4e2d\u7684<code>doFilter</code>\u65b9\u6cd5\u7f16\u5199\u4e86<code>chain.doFilter(request, response);</code>\u8bed\u53e5</p> </li> <li> <p>\u7528\u6237\u53d1\u9001\u7684\u8bf7\u6c42\u8def\u5f84\u4e0eServlet\u5904\u7406\u7684\u8bf7\u6c42\u8def\u5f84\u4e00\u81f4</p> </li> </ol> </li> <li> <p><code>chain.doFilter(request, response);</code>\u8fd9\u884c\u4ee3\u7801\u7684\u4f5c\u7528\uff1a</p> <ul> <li>\u6267\u884c\u4e0b\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u5982\u679c\u6ca1\u6709\u4e0b\u4e00\u4e2a\u8fc7\u6ee4\u5668\uff0c\u5c31\u6267\u884c\u5bf9\u5e94\u7684Servlet\uff0c\u6700\u7ec8\u6267\u884c\u5230Servlet\u7ed3\u675f\u3002\u4e0e\u9012\u5f52\u7684\u8fc7\u7a0b\u76f8\u4f3c\uff0c\u9075\u5faa\u6808\u7684\u6570\u636e\u7ed3\u6784\u3002</li> </ul> </li> <li> <p>Filter\u5929\u751f\u7684\u5c31\u6bd4Servlet\u4f18\u5148\u7ea7\u9ad8\u3002</p> <ul> <li>/a.do \u5bf9\u5e94\u4e00\u4e2aFilter\uff0c\u4e5f\u5bf9\u5e94\u4e00\u4e2aServlet\u3002\u90a3\u4e48\u4e00\u5b9a\u662f\u5148\u6267\u884cFilter\uff0c\u7136\u540e\u518d\u6267\u884cServlet\u3002</li> </ul> </li> <li> <p>\u5173\u4e8eFilter\u7684\u914d\u7f6e\u8def\u5f84\uff1a</p> <ul> <li>/a.do\u3001/b.do\u3001/dept/save\u3002\u8fd9\u4e9b\u914d\u7f6e\u65b9\u5f0f\u90fd\u662f\u7cbe\u786e\u5339\u914d\u3002</li> <li>/* \u5339\u914d\u6240\u6709\u8def\u5f84\u3002</li> <li>*.do \u540e\u7f00\u5339\u914d\u3002\u4e0d\u8981\u4ee5 / \u5f00\u59cb</li> <li>/dept/*  \u524d\u7f00\u5339\u914d\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#webxmlfilter","title":"\u5728web.xml\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\u7684\u65f6\u5019\uff0cFilter\u7684\u6267\u884c\u987a\u5e8f\u662f\u4ec0\u4e48\uff1f","text":"<p>\u4f9d\u9760filter-mapping\u6807\u7b7e\u7684\u914d\u7f6e\u4f4d\u7f6e\uff0c\u8d8a\u9760\u4e0a\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#webfilterfilter","title":"\u4f7f\u7528@WebFilter\u7684\u65f6\u5019\uff0cFilter\u7684\u6267\u884c\u987a\u5e8f\u662f\u600e\u6837\u7684\u5462\uff1f","text":"<p>\u6267\u884c\u987a\u5e8f\u662f\uff1a\u6bd4\u8f83Filter\u8fd9\u4e2a\u7c7b\u540d\u3002</p> <ul> <li>\u6bd4\u5982\uff1aFilterA\u548cFilterB\uff0c\u5219\u5148\u6267\u884cFilterA\u3002</li> <li>\u6bd4\u5982\uff1aFilter1\u548cFilter2\uff0c\u5219\u5148\u6267\u884cFilter1.</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#filter_3","title":"Filter\u7684\u751f\u547d\u5468\u671f\uff1f","text":"<ul> <li>\u548cServlet\u5bf9\u8c61\u751f\u547d\u5468\u671f\u4e00\u81f4\u3002</li> <li>\u552f\u4e00\u7684\u533a\u522b\uff1aFilter\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u670d\u52a1\u5668\u542f\u52a8\u9636\u6bb5\u5c31\u5b9e\u4f8b\u5316\u3002Servlet\u4e0d\u4f1a\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#filter_4","title":"Filter\u8fc7\u6ee4\u5668\u8fd9\u91cc\u6709\u4e00\u4e2a\u8bbe\u8ba1\u6a21\u5f0f\uff1a","text":"<ul> <li> <ul> <li>\u8d23\u4efb\u94fe\u8bbe\u8ba1\u6a21\u5f0f\u3002             - \u8fc7\u6ee4\u5668\u6700\u5927\u7684\u4f18\u70b9\uff1a                 - \u5728\u7a0b\u5e8f\u7f16\u8bd1\u9636\u6bb5\u4e0d\u4f1a\u786e\u5b9a\u8c03\u7528\u987a\u5e8f\u3002\u56e0\u4e3aFilter\u7684\u8c03\u7528\u987a\u5e8f\u662f\u914d\u7f6e\u5230web.xml\u6587\u4ef6\u4e2d\u7684\uff0c\u53ea\u8981\u4fee\u6539web.xml\u914d\u7f6e\u6587\u4ef6\u4e2dfilter-mapping\u7684\u987a\u5e8f\u5c31\u53ef\u4ee5\u8c03\u6574Filter\u7684\u6267\u884c\u987a\u5e8f\u3002\u663e\u7136Filter\u7684\u6267\u884c\u987a\u5e8f\u662f\u5728\u7a0b\u5e8f\u8fd0\u884c\u9636\u6bb5\u52a8\u6001\u7ec4\u5408\u7684\u3002\u90a3\u4e48\u8fd9\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u88ab\u79f0\u4e3a\u8d23\u4efb\u94fe\u8bbe\u8ba1\u6a21\u5f0f\u3002             - \u8d23\u4efb\u94fe\u8bbe\u8ba1\u6a21\u5f0f\u6700\u5927\u7684\u6838\u5fc3\u601d\u60f3\uff1a                 - \u5728\u7a0b\u5e8f\u8fd0\u884c\u9636\u6bb5\uff0c\u52a8\u6001\u7684\u7ec4\u5408\u7a0b\u5e8f\u7684\u8c03\u7528\u987a\u5e8f\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/JavaWeb/5-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/#filteroa","title":"\u4f7f\u7528Filter\u6539\u9020OA\u9879\u76ee","text":"<p>\u6211\u4eec\u5e0c\u671b\u5c06</p> <ul> <li>\u901a\u8fc7\u83b7\u53d6Session\u5224\u65ad\u7528\u6237\u662f\u5426\u767b\u5f55\u7684\u4ee3\u7801\u6574\u5408\u5230Filter\u5b9e\u73b0\u7c7b\u4e2d\u3002</li> <li>Filter\u5904\u7406\u7684\u8def\u5f84\u8bbe\u7f6e\u4e3a\u6574\u4e2a\u9879\u76ee\u4e0b\u7684\u6240\u6709\u8def\u5f84<ul> <li>\u8fd9\u4f1a\u5e26\u6765\u4e00\u4e2a\u95ee\u9898\uff1a\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u5019\u3001\u52fe\u9009\u4e8610\u5929\u514d\u767b\u5f55\u4e4b\u540e\u4e0b\u4e00\u6b21\u767b\u5f55\u7684\u65f6\u5019\u3001\u7528\u6237\u7b2c\u4e8c\u6b21\u767b\u5f55\u7684\u65f6\u5019\u2026\u2026\u8fd9\u4e9b\u8bf7\u6c42\u4e5f\u90fd\u4f1a\u88abFilter\u5904\u7406\u3002</li> <li>\u663e\u7136\u4e0a\u9762\u7684\u8bf7\u6c42\u4e00\u822c\u60c5\u51b5\u4e0b\u662f\u4e0d\u4f1a\u643a\u5e26\u6211\u4eec\u5e0c\u671b\u7684Session\u4fe1\u606f\u7684\u3002</li> <li>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5bf9\u4e0a\u8ff0\u60c5\u51b5\u505a\u7279\u6b8a\u5904\u7406\uff1a<ul> <li>\u83b7\u53d6\u8bf7\u6c42\u8def\u5f84\uff0c\u5982\u679c\u8bf7\u6c42\u8def\u5f84\u662f\uff1a<code>/welcome</code>,<code>/index.jsp</code>,<code>/login/in</code>, <code>/login/out</code></li> <li>\u8fd9\u4e9b\u8def\u5f84\u7684\u8bdd\uff0c\u6211\u4eec\u4e0d\u5bf9\u5176\u8fdb\u884c\u8fc7\u6ee4</li> </ul> </li> </ul> </li> <li>\u5904\u7406\u5224\u65adSession\u4e2d\u662f\u5426\u5b58\u4e86\u6211\u4eec\u60f3\u8981\u7684\u5c5e\u6027\u503c\u3001\u8def\u5f84\u7684\u5339\u914d\u2026\u2026<ul> <li>\u5982\u679c\u4e3atrue\uff0c\u8c03\u7528chain.doFilter()\u65b9\u6cd5</li> <li>\u5982\u679c\u4e3afalse\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/","title":"\u4e00\u3001Spring\u542f\u793a\u5f55","text":"<p>\u9605\u8bfb\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> Java<pre><code>package com.powernode.oa.controller;\n\nimport com.powernode.oa.service.UserService;\nimport com.powernode.oa.service.impl.UserServiceImpl;\n\npublic class UserController {\n\n    private UserService userService = new UserServiceImpl();\n\n    public void login(){\n        String username = \"admin\";\n        String password = \"123456\";\n        boolean success = userService.login(username, password);\n        if (success) {\n            // \u767b\u5f55\u6210\u529f\n        } else {\n            // \u767b\u5f55\u5931\u8d25\n        }\n    }\n}\npackage com.powernode.oa.service.impl;\n\nimport com.powernode.oa.bean.User;\nimport com.powernode.oa.dao.UserDao;\nimport com.powernode.oa.dao.impl.UserDaoImplForMySQL;\nimport com.powernode.oa.service.UserService;\n\npublic class UserServiceImpl implements UserService {\n\n    private UserDao userDao = new UserDaoImplForMySQL();\n\n    public boolean login(String username, String password) {\n        User user = userDao.selectByUsernameAndPassword(username, password);\n        if (user != null) {\n            return true;\n        }\n        return false;\n    }\n}\npackage com.powernode.oa.dao.impl;\n\nimport com.powernode.oa.bean.User;\nimport com.powernode.oa.dao.UserDao;\n\npublic class UserDaoImplForMySQL implements UserDao {\n    public User selectByUsernameAndPassword(String username, String password) {\n        // \u8fde\u63a5MySQL\u6570\u636e\u5e93\uff0c\u6839\u636e\u7528\u6237\u540d\u548c\u5bc6\u7801\u67e5\u8be2\u7528\u6237\u4fe1\u606f\n        return null;\n    }\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0cUserDaoImplForMySQL\u4e2d\u4e3b\u8981\u662f\u8fde\u63a5MySQL\u6570\u636e\u5e93\u8fdb\u884c\u64cd\u4f5c\u3002\u5982\u679c\u66f4\u6362\u5230Oracle\u6570\u636e\u5e93\u4e0a\uff0c\u5219\u9700\u8981\u518d\u63d0\u4f9b\u4e00\u4e2aUserDaoImplForOracle\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.oa.dao.impl;\n\nimport com.powernode.oa.bean.User;\nimport com.powernode.oa.dao.UserDao;\n\npublic class UserDaoImplForOracle implements UserDao {\n    public User selectByUsernameAndPassword(String username, String password) {\n        // \u8fde\u63a5Oracle\u6570\u636e\u5e93\uff0c\u6839\u636e\u7528\u6237\u540d\u548c\u5bc6\u7801\u67e5\u8be2\u7528\u6237\u4fe1\u606f\n        return null;\n    }\n}\n</code></pre> <p>\u5f88\u660e\u663e\uff0c\u4ee5\u4e0a\u7684\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\u529f\u80fd\u7684\u6269\u5c55\uff0c\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684\u7c7bUserDaoImplForOracle\u6765\u5e94\u4ed8\u6570\u636e\u5e93\u7684\u53d8\u5316\uff0c\u8fd9\u91cc\u7684\u53d8\u5316\u4f1a\u5f15\u8d77\u8fde\u9501\u53cd\u5e94\u5417\uff1f\u5f53\u7136\u4f1a\uff0c\u5982\u679c\u60f3\u8981\u5207\u6362\u5230Oracle\u6570\u636e\u5e93\u4e0a\uff0cUserServiceImpl\u7c7b\u4ee3\u7801\u5c31\u9700\u8981\u4fee\u6539\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.oa.service.impl;\n\nimport com.powernode.oa.bean.User;\nimport com.powernode.oa.dao.UserDao;\nimport com.powernode.oa.dao.impl.UserDaoImplForOracle;\nimport com.powernode.oa.service.UserService;\n\npublic class UserServiceImpl implements UserService {\n\n    //private UserDao userDao = new UserDaoImplForMySQL();\n    private UserDao userDao = new UserDaoImplForOracle();\n\n    public boolean login(String username, String password) {\n        User user = userDao.selectByUsernameAndPassword(username, password);\n        if (user != null) {\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#11-ocp","title":"1.1 OCP\u5f00\u95ed\u539f\u5219","text":"<p>\u8fd9\u6837\u4e00\u6765\u5c31\u8fdd\u80cc\u4e86\u5f00\u95ed\u539f\u5219OCP\u3002\u5f00\u95ed\u539f\u5219\u662f\u8fd9\u6837\u8bf4\u7684\uff1a\u5728\u8f6f\u4ef6\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5e94\u5f53\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5173\u95ed\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u7c7b\u662f\u6ca1\u95ee\u9898\u7684\uff0c\u4f46\u56e0\u4e3a\u529f\u80fd\u6269\u5c55\u800c\u4fee\u6539\u4e4b\u524d\u8fd0\u884c\u6b63\u5e38\u7684\u7a0b\u5e8f\uff0c\u8fd9\u662f\u5fcc\u8bb3\u7684\uff0c\u4e0d\u88ab\u5141\u8bb8\u7684\u3002\u56e0\u4e3a\u4e00\u65e6\u4fee\u6539\u4e4b\u524d\u8fd0\u884c\u6b63\u5e38\u7684\u7a0b\u5e8f\uff0c\u5c31\u4f1a\u5bfc\u81f4\u9879\u76ee\u6574\u4f53\u8981\u8fdb\u884c\u5168\u65b9\u4f4d\u7684\u91cd\u65b0\u6d4b\u8bd5\u3002\u8fd9\u662f\u76f8\u5f53\u9ebb\u70e6\u7684\u8fc7\u7a0b\u3002\u5bfc\u81f4\u4ee5\u4e0a\u95ee\u9898\u7684\u4e3b\u8981\u539f\u56e0\u662f\uff1a\u4ee3\u7801\u548c\u4ee3\u7801\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u592a\u9ad8\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u53ef\u4ee5\u5f88\u660e\u663e\u7684\u770b\u51fa\uff0c\u4e0a\u5c42\u662f\u4f9d\u8d56\u4e0b\u5c42\u7684\u3002UserController\u4f9d\u8d56UserServiceImpl\uff0c\u800cUserServiceImpl\u4f9d\u8d56UserDaoImplForMySQL\uff0c\u8fd9\u6837\u5c31\u4f1a\u5bfc\u81f4\u4e0b\u9762\u53ea\u8981\u6539\u52a8\uff0c\u4e0a\u9762\u5fc5\u7136\u4f1a\u53d7\u7275\u8fde\uff08\u8ddf\u7740\u4e5f\u4f1a\u6539\uff09\uff0c\u6240\u8c13\u7275\u4e00\u53d1\u800c\u52a8\u5168\u8eab\u3002\u8fd9\u6837\u4e5f\u5c31\u540c\u65f6\u8fdd\u80cc\u4e86\u53e6\u4e00\u4e2a\u5f00\u53d1\u539f\u5219\uff1a\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#12-dip","title":"1.2 \u4f9d\u8d56\u5012\u7f6e\u539f\u5219DIP","text":"<p>\u4f9d\u8d56\u5012\u7f6e\u539f\u5219(Dependence Inversion Principle)\uff0c\u7b80\u79f0DIP\uff0c\u4e3b\u8981\u5021\u5bfc\u9762\u5411\u62bd\u8c61\u7f16\u7a0b\uff0c\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\uff0c\u4e0d\u8981\u9762\u5411\u5177\u4f53\u7f16\u7a0b\uff0c\u8ba9\u4e0a\u5c42\u4e0d\u518d\u4f9d\u8d56\u4e0b\u5c42\uff0c\u4e0b\u9762\u6539\u52a8\u4e86\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u53d7\u5230\u7275\u8fde\u3002\u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u964d\u4f4e\u7a0b\u5e8f\u7684\u8026\u5408\u5ea6\uff0c\u8026\u5408\u5ea6\u4f4e\u4e86\uff0c\u6269\u5c55\u529b\u5c31\u5f3a\u4e86\uff0c\u540c\u65f6\u4ee3\u7801\u590d\u7528\u6027\u4e5f\u4f1a\u589e\u5f3a\u3002\uff08\u8f6f\u4ef6\u4e03\u5927\u5f00\u53d1\u539f\u5219\u90fd\u662f\u5728\u4e3a\u89e3\u8026\u5408\u670d\u52a1\uff09</p> <p>\u4f60\u53ef\u80fd\u4f1a\u8bf4\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5df2\u7ecf\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\u4e86\u5440\uff1a</p> <p></p> <p>\u786e\u5b9e\u5df2\u7ecf\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\u4e86\uff0c\u4f46\u5bf9\u8c61\u7684\u521b\u5efa\u662f\uff1anew UserDaoImplForOracle()\u663e\u7136\u5e76\u6ca1\u6709\u5b8c\u5168\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\uff0c\u8fd8\u662f\u4f7f\u7528\u5230\u4e86\u5177\u4f53\u7684\u63a5\u53e3\u5b9e\u73b0\u7c7b\u3002\u4ec0\u4e48\u53eb\u505a\u5b8c\u5168\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\uff1f\u4ec0\u4e48\u53eb\u505a\u5b8c\u5168\u7b26\u5408\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u5462\uff1f\u8bf7\u770b\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <p></p> <p>\u5982\u679c\u4ee3\u7801\u662f\u8fd9\u6837\u7f16\u5199\u7684\uff0c\u624d\u7b97\u662f\u5b8c\u5168\u9762\u5411\u63a5\u53e3\u7f16\u7a0b\uff0c\u624d\u7b26\u5408\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u3002\u90a3\u4f60\u53ef\u80fd\u4f1a\u95ee\uff0c\u8fd9\u6837userDao\u662fnull\uff0c\u5728\u6267\u884c\u7684\u65f6\u5019\u5c31\u4f1a\u51fa\u73b0\u7a7a\u6307\u9488\u5f02\u5e38\u5440\u3002\u4f60\u8bf4\u7684\u6709\u9053\u7406\uff0c\u786e\u5b9e\u662f\u8fd9\u6837\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u89e3\u51b3\u7a7a\u6307\u9488\u5f02\u5e38\u7684\u95ee\u9898\uff0c\u5176\u5b9e\u5c31\u662f\u89e3\u51b3\u4e24\u4e2a\u6838\u5fc3\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u8c01\u6765\u8d1f\u8d23\u5bf9\u8c61\u7684\u521b\u5efa\u3002\u3010\u4e5f\u5c31\u662f\u8bf4\u8c01\u6765\uff1anew UserDaoImplForOracle()/new UserDaoImplForMySQL()\u3011</li> <li>\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff1a\u8c01\u6765\u8d1f\u8d23\u628a\u521b\u5efa\u7684\u5bf9\u8c61\u8d4b\u5230\u8fd9\u4e2a\u5c5e\u6027\u4e0a\u3002\u3010\u4e5f\u5c31\u662f\u8bf4\u8c01\u6765\u628a\u4e0a\u9762\u521b\u5efa\u7684\u5bf9\u8c61\u8d4b\u7ed9userDao\u5c5e\u6027\u3011</li> </ul> <p>\u5982\u679c\u6211\u4eec\u628a\u4ee5\u4e0a\u4e24\u4e2a\u6838\u5fc3\u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u5c31\u53ef\u4ee5\u505a\u5230\u65e2\u7b26\u5408OCP\u5f00\u95ed\u539f\u5219\uff0c\u53c8\u7b26\u5408\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u3002</p> <p>\u5f88\u8363\u5e78\u7684\u901a\u77e5\u4f60\uff1aSpring\u6846\u67b6\u53ef\u4ee5\u505a\u5230\u3002</p> <p>\u5728Spring\u6846\u67b6\u4e2d\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eecnew\u5bf9\u8c61\uff0c\u5e76\u4e14\u5b83\u8fd8\u53ef\u4ee5\u5c06new\u51fa\u6765\u7684\u5bf9\u8c61\u8d4b\u5230\u5c5e\u6027\u4e0a\u3002\u6362\u53e5\u8bdd\u8bf4\uff0cSpring\u6846\u67b6\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u5bf9\u8c61\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u7ef4\u62a4\u5bf9\u8c61\u548c\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u6bd4\u5982\uff1a</p> <p></p> <p>Spring\u53ef\u4ee5new\u51fa\u6765UserDaoImplForMySQL\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5new\u51fa\u6765UserDaoImplForOracle\u5bf9\u8c61\uff0c\u5e76\u4e14\u8fd8\u53ef\u4ee5\u8ba9new\u51fa\u6765\u7684dao\u5bf9\u8c61\u548cservice\u5bf9\u8c61\u4ea7\u751f\u5173\u7cfb\uff08\u4ea7\u751f\u5173\u7cfb\u5176\u5b9e\u672c\u8d28\u4e0a\u5c31\u662f\u7ed9\u5c5e\u6027\u8d4b\u503c\uff09\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u5c06\u5bf9\u8c61\u7684\u521b\u5efa\u6743/\u7ba1\u7406\u6743\u4ea4\u51fa\u53bb\u4e86\uff0c\u4e0d\u518d\u4f7f\u7528\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u4e86\u3002\u540c\u65f6\u4e5f\u628a\u5bf9\u8c61\u5173\u7cfb\u7684\u7ba1\u7406\u6743\u4ea4\u51fa\u53bb\u4e86\uff0c\u4e5f\u4e0d\u518d\u4f7f\u7528\u786c\u7f16\u7801\u7684\u65b9\u5f0f\u4e86\u3002\u50cf\u8fd9\u79cd\u628a\u5bf9\u8c61\u7684\u521b\u5efa\u6743\u4ea4\u51fa\u53bb\uff0c\u628a\u5bf9\u8c61\u5173\u7cfb\u7684\u7ba1\u7406\u6743\u4ea4\u51fa\u53bb\uff0c\u88ab\u79f0\u4e3a\u63a7\u5236\u53cd\u8f6c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#13-ioc","title":"1.3 \u63a7\u5236\u53cd\u8f6cIoC","text":"<p>\u63a7\u5236\u53cd\u8f6c\uff08Inversion of Control\uff0c\u7f29\u5199\u4e3aIoC\uff09\uff0c\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u7684\u4e00\u79cd\u8bbe\u8ba1\u601d\u60f3\uff0c\u53ef\u4ee5\u7528\u6765\u964d\u4f4e\u4ee3\u7801\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\uff0c\u7b26\u5408\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\u3002</p> <p>\u63a7\u5236\u53cd\u8f6c\u7684\u6838\u5fc3\u662f\uff1a\u5c06\u5bf9\u8c61\u7684\u521b\u5efa\u6743\u4ea4\u51fa\u53bb\uff0c\u5c06\u5bf9\u8c61\u548c\u5bf9\u8c61\u4e4b\u95f4\u5173\u7cfb\u7684\u7ba1\u7406\u6743\u4ea4\u51fa\u53bb\uff0c\u7531\u7b2c\u4e09\u65b9\u5bb9\u5668\u6765\u8d1f\u8d23\u521b\u5efa\u4e0e\u7ef4\u62a4\u3002</p> <p>\u63a7\u5236\u53cd\u8f6c\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a\u4f9d\u8d56\u6ce8\u5165\uff08Dependency Injection\uff0c\u7b80\u79f0DI\uff09</p> <p>\u901a\u5e38\uff0c\u4f9d\u8d56\u6ce8\u5165\u7684\u5b9e\u73b0\u7531\u5305\u62ec\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li> <p>set\u65b9\u6cd5\u6ce8\u5165</p> </li> <li> <p>\u6784\u9020\u65b9\u6cd5\u6ce8\u5165</p> </li> </ul> <p>\u800cSpring\u6846\u67b6\u5c31\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86IoC\u601d\u60f3\u7684\u6846\u67b6\u3002</p> <p>IoC\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u5168\u65b0\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4f46\u662f\u7406\u8bba\u548c\u65f6\u95f4\u6210\u719f\u76f8\u5bf9\u8f83\u665a\uff0c\u5e76\u6ca1\u6709\u5305\u542b\u5728GoF\u4e2d\u3002\uff08GoF\u6307\u7684\u662f23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_1","title":"\u4e8c\u3001Spring\u6982\u8ff0","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#21-spring","title":"2.1 Spring\u7b80\u4ecb","text":"<p>\u6765\u81ea\u767e\u5ea6\u767e\u79d1</p> <p>Spring\u662f\u4e00\u4e2a\u5f00\u6e90\u6846\u67b6\uff0c\u5b83\u7531Rod Johnson\u521b\u5efa\u3002\u5b83\u662f\u4e3a\u4e86\u89e3\u51b3\u4f01\u4e1a\u5e94\u7528\u5f00\u53d1\u7684\u590d\u6742\u6027\u800c\u521b\u5efa\u7684\u3002</p> <p>\u4ece\u7b80\u5355\u6027\u3001\u53ef\u6d4b\u8bd5\u6027\u548c\u677e\u8026\u5408\u7684\u89d2\u5ea6\u800c\u8a00\uff0c\u4efb\u4f55Java\u5e94\u7528\u90fd\u53ef\u4ee5\u4eceSpring\u4e2d\u53d7\u76ca\u3002</p> <p>Spring\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u63a7\u5236\u53cd\u8f6c(IoC)\u548c\u9762\u5411\u5207\u9762(AOP)\u7684\u5bb9\u5668\u6846\u67b6\u3002</p> <p>Spring\u6700\u521d\u7684\u51fa\u73b0\u662f\u4e3a\u4e86\u89e3\u51b3EJB\u81c3\u80bf\u7684\u8bbe\u8ba1\uff0c\u4ee5\u53ca\u96be\u4ee5\u6d4b\u8bd5\u7b49\u95ee\u9898\u3002</p> <p>Spring\u4e3a\u7b80\u5316\u5f00\u53d1\u800c\u751f\uff0c\u8ba9\u7a0b\u5e8f\u5458\u53ea\u9700\u5173\u6ce8\u6838\u5fc3\u4e1a\u52a1\u7684\u5b9e\u73b0\uff0c\u5c3d\u53ef\u80fd\u7684\u4e0d\u518d\u5173\u6ce8\u975e\u4e1a\u52a1\u903b\u8f91\u4ee3\u7801\uff08\u4e8b\u52a1\u63a7\u5236\uff0c\u5b89\u5168\u65e5\u5fd7\u7b49\uff09\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#22-spring8","title":"2.2 Spring8\u5927\u6a21\u5757","text":"<p>\u6ce8\u610f\uff1aSpring5\u7248\u672c\u4e4b\u540e\u662f8\u4e2a\u6a21\u5757\u3002\u5728Spring5\u4e2d\u65b0\u589e\u4e86WebFlux\u6a21\u5757\u3002</p> <p></p> <ol> <li>Spring Core\u6a21\u5757</li> </ol> <p>\u8fd9\u662fSpring\u6846\u67b6\u6700\u57fa\u7840\u7684\u90e8\u5206\uff0c\u5b83\u63d0\u4f9b\u4e86\u4f9d\u8d56\u6ce8\u5165\uff08DependencyInjection\uff09\u7279\u5f81\u6765\u5b9e\u73b0\u5bb9\u5668\u5bf9Bean\u7684\u7ba1\u7406\u3002\u6838\u5fc3\u5bb9\u5668\u7684\u4e3b\u8981\u7ec4\u4ef6\u662f BeanFactory\uff0cBeanFactory\u662f\u5de5\u5382\u6a21\u5f0f\u7684\u4e00\u4e2a\u5b9e\u73b0\uff0c\u662f\u4efb\u4f55Spring\u5e94\u7528\u7684\u6838\u5fc3\u3002\u5b83\u4f7f\u7528IoC\u5c06\u5e94\u7528\u914d\u7f6e\u548c\u4f9d\u8d56\u4ece\u5b9e\u9645\u7684\u5e94\u7528\u4ee3\u7801\u4e2d\u5206\u79bb\u51fa\u6765\u3002</p> <ol> <li>Spring Context\u6a21\u5757</li> </ol> <p>\u5982\u679c\u8bf4\u6838\u5fc3\u6a21\u5757\u4e2d\u7684BeanFactory\u4f7fSpring\u6210\u4e3a\u5bb9\u5668\u7684\u8bdd\uff0c\u90a3\u4e48\u4e0a\u4e0b\u6587\u6a21\u5757\u5c31\u662fSpring\u6210\u4e3a\u6846\u67b6\u7684\u539f\u56e0\u3002</p> <p>\u8fd9\u4e2a\u6a21\u5757\u6269\u5c55\u4e86BeanFactory\uff0c\u589e\u52a0\u4e86\u5bf9\u56fd\u9645\u5316\uff08I18N\uff09\u6d88\u606f\u3001\u4e8b\u4ef6\u4f20\u64ad\u3001\u9a8c\u8bc1\u7684\u652f\u6301\u3002\u53e6\u5916\u63d0\u4f9b\u4e86\u8bb8\u591a\u4f01\u4e1a\u670d\u52a1\uff0c\u4f8b\u5982\u7535\u5b50\u90ae\u4ef6\u3001JNDI\u8bbf\u95ee\u3001EJB\u96c6\u6210\u3001\u8fdc\u7a0b\u4ee5\u53ca\u65f6\u5e8f\u8c03\u5ea6\uff08scheduling\uff09\u670d\u52a1\u3002\u4e5f\u5305\u62ec\u4e86\u5bf9\u6a21\u7248\u6846\u67b6\u4f8b\u5982Velocity\u548cFreeMarker\u96c6\u6210\u7684\u652f\u6301</p> <ol> <li>Spring AOP\u6a21\u5757</li> </ol> <p>Spring\u5728\u5b83\u7684AOP\u6a21\u5757\u4e2d\u63d0\u4f9b\u4e86\u5bf9\u9762\u5411\u5207\u9762\u7f16\u7a0b\u7684\u4e30\u5bcc\u652f\u6301\uff0cSpring AOP \u6a21\u5757\u4e3a\u57fa\u4e8e Spring \u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e8b\u52a1\u7ba1\u7406\u670d\u52a1\u3002\u901a\u8fc7\u4f7f\u7528 Spring AOP\uff0c\u4e0d\u7528\u4f9d\u8d56\u7ec4\u4ef6\uff0c\u5c31\u53ef\u4ee5\u5c06\u58f0\u660e\u6027\u4e8b\u52a1\u7ba1\u7406\u96c6\u6210\u5230\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u62e6\u622a\u5668\u3001\u5207\u70b9\u3001\u65e5\u5fd7\u7b49\u64cd\u4f5c\u3002</p> <ol> <li>Spring DAO\u6a21\u5757</li> </ol> <p>\u63d0\u4f9b\u4e86\u4e00\u4e2aJDBC\u7684\u62bd\u8c61\u5c42\u548c\u5f02\u5e38\u5c42\u6b21\u7ed3\u6784\uff0c\u6d88\u9664\u4e86\u70e6\u7410\u7684JDBC\u7f16\u7801\u548c\u6570\u636e\u5e93\u5382\u5546\u7279\u6709\u7684\u9519\u8bef\u4ee3\u7801\u89e3\u6790\uff0c\u7528\u4e8e\u7b80\u5316JDBC\u3002</p> <ol> <li>Spring ORM\u6a21\u5757</li> </ol> <p>Spring\u63d0\u4f9b\u4e86ORM\u6a21\u5757\u3002Spring\u5e76\u4e0d\u8bd5\u56fe\u5b9e\u73b0\u5b83\u81ea\u5df1\u7684ORM\u89e3\u51b3\u65b9\u6848\uff0c\u800c\u662f\u4e3a\u51e0\u79cd\u6d41\u884c\u7684ORM\u6846\u67b6\u63d0\u4f9b\u4e86\u96c6\u6210\u65b9\u6848\uff0c\u5305\u62ecHibernate\u3001JDO\u548ciBATIS SQL\u6620\u5c04\uff0c\u8fd9\u4e9b\u90fd\u9075\u4ece Spring \u7684\u901a\u7528\u4e8b\u52a1\u548c DAO \u5f02\u5e38\u5c42\u6b21\u7ed3\u6784\u3002</p> <ol> <li>Spring Web MVC\u6a21\u5757</li> </ol> <p>Spring\u4e3a\u6784\u5efaWeb\u5e94\u7528\u63d0\u4f9b\u4e86\u4e00\u4e2a\u529f\u80fd\u5168\u9762\u7684MVC\u6846\u67b6\u3002\u867d\u7136Spring\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4e0e\u5176\u5b83MVC\u6846\u67b6\u96c6\u6210\uff0c\u4f8b\u5982Struts\uff0c\u4f46Spring\u7684MVC\u6846\u67b6\u4f7f\u7528IoC\u5bf9\u63a7\u5236\u903b\u8f91\u548c\u4e1a\u52a1\u5bf9\u8c61\u63d0\u4f9b\u4e86\u5b8c\u5168\u7684\u5206\u79bb\u3002</p> <ol> <li>Spring WebFlux\u6a21\u5757</li> </ol> <p>Spring Framework \u4e2d\u5305\u542b\u7684\u539f\u59cb Web \u6846\u67b6 Spring Web MVC \u662f\u4e13\u95e8\u4e3a Servlet API \u548c Servlet \u5bb9\u5668\u6784\u5efa\u7684\u3002\u53cd\u5e94\u5f0f\u5806\u6808 Web \u6846\u67b6 Spring WebFlux \u662f\u5728 5.0 \u7248\u7684\u540e\u671f\u6dfb\u52a0\u7684\u3002\u5b83\u662f\u5b8c\u5168\u975e\u963b\u585e\u7684\uff0c\u652f\u6301\u53cd\u5e94\u5f0f\u6d41(Reactive Stream)\u80cc\u538b\uff0c\u5e76\u5728Netty\uff0cUndertow\u548cServlet 3.1+\u5bb9\u5668\u7b49\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u3002</p> <p></p> <ol> <li>Spring Web\u6a21\u5757</li> </ol> <p>Web \u4e0a\u4e0b\u6587\u6a21\u5757\u5efa\u7acb\u5728\u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0b\u6587\u6a21\u5757\u4e4b\u4e0a\uff0c\u4e3a\u57fa\u4e8e Web \u7684\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u4e0a\u4e0b\u6587\uff0c\u63d0\u4f9b\u4e86Spring\u548c\u5176\u5b83Web\u6846\u67b6\u7684\u96c6\u6210\uff0c\u6bd4\u5982Struts\u3001WebWork\u3002\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9762\u5411\u670d\u52a1\u652f\u6301\uff0c\u4f8b\u5982\uff1a\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20\u7684multipart\u8bf7\u6c42\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#23-spring","title":"2.3 Spring\u7279\u70b9","text":"<ol> <li> <p>\u8f7b\u91cf</p> </li> <li> <p>\u4ece\u5927\u5c0f\u4e0e\u5f00\u9500\u4e24\u65b9\u9762\u800c\u8a00Spring\u90fd\u662f\u8f7b\u91cf\u7684\u3002\u5b8c\u6574\u7684Spring\u6846\u67b6\u53ef\u4ee5\u5728\u4e00\u4e2a\u5927\u5c0f\u53ea\u67091MB\u591a\u7684JAR\u6587\u4ef6\u91cc\u53d1\u5e03\u3002\u5e76\u4e14Spring\u6240\u9700\u7684\u5904\u7406\u5f00\u9500\u4e5f\u662f\u5fae\u4e0d\u8db3\u9053\u7684\u3002</p> </li> <li> <p>Spring\u662f\u975e\u4fb5\u5165\u5f0f\u7684\uff1aSpring\u5e94\u7528\u4e2d\u7684\u5bf9\u8c61\u4e0d\u4f9d\u8d56\u4e8eSpring\u7684\u7279\u5b9a\u7c7b\u3002</p> </li> <li> <p>\u63a7\u5236\u53cd\u8f6c</p> </li> <li> <p>Spring\u901a\u8fc7\u4e00\u79cd\u79f0\u4f5c\u63a7\u5236\u53cd\u8f6c\uff08IoC\uff09\u7684\u6280\u672f\u4fc3\u8fdb\u4e86\u677e\u8026\u5408\u3002\u5f53\u5e94\u7528\u4e86IoC\uff0c\u4e00\u4e2a\u5bf9\u8c61\u4f9d\u8d56\u7684\u5176\u5b83\u5bf9\u8c61\u4f1a\u901a\u8fc7\u88ab\u52a8\u7684\u65b9\u5f0f\u4f20\u9012\u8fdb\u6765\uff0c\u800c\u4e0d\u662f\u8fd9\u4e2a\u5bf9\u8c61\u81ea\u5df1\u521b\u5efa\u6216\u8005\u67e5\u627e\u4f9d\u8d56\u5bf9\u8c61\u3002\u4f60\u53ef\u4ee5\u8ba4\u4e3aIoC\u4e0eJNDI\u76f8\u53cd\u2014\u2014\u4e0d\u662f\u5bf9\u8c61\u4ece\u5bb9\u5668\u4e2d\u67e5\u627e\u4f9d\u8d56\uff0c\u800c\u662f\u5bb9\u5668\u5728\u5bf9\u8c61\u521d\u59cb\u5316\u65f6\u4e0d\u7b49\u5bf9\u8c61\u8bf7\u6c42\u5c31\u4e3b\u52a8\u5c06\u4f9d\u8d56\u4f20\u9012\u7ed9\u5b83\u3002</p> </li> <li> <p>\u9762\u5411\u5207\u9762</p> </li> <li> <p>Spring\u63d0\u4f9b\u4e86\u9762\u5411\u5207\u9762\u7f16\u7a0b\u7684\u4e30\u5bcc\u652f\u6301\uff0c\u5141\u8bb8\u901a\u8fc7\u5206\u79bb\u5e94\u7528\u7684\u4e1a\u52a1\u903b\u8f91\u4e0e\u7cfb\u7edf\u7ea7\u670d\u52a1\uff08\u4f8b\u5982\u5ba1\u8ba1\uff08auditing\uff09\u548c\u4e8b\u52a1\uff08transaction\uff09\u7ba1\u7406\uff09\u8fdb\u884c\u5185\u805a\u6027\u7684\u5f00\u53d1\u3002\u5e94\u7528\u5bf9\u8c61\u53ea\u5b9e\u73b0\u5b83\u4eec\u5e94\u8be5\u505a\u7684\u2014\u2014\u5b8c\u6210\u4e1a\u52a1\u903b\u8f91\u2014\u2014\u4ec5\u6b64\u800c\u5df2\u3002\u5b83\u4eec\u5e76\u4e0d\u8d1f\u8d23\uff08\u751a\u81f3\u662f\u610f\u8bc6\uff09\u5176\u5b83\u7684\u7cfb\u7edf\u7ea7\u5173\u6ce8\u70b9\uff0c\u4f8b\u5982\u65e5\u5fd7\u6216\u4e8b\u52a1\u652f\u6301\u3002</p> </li> <li> <p>\u5bb9\u5668</p> </li> <li> <p>Spring\u5305\u542b\u5e76\u7ba1\u7406\u5e94\u7528\u5bf9\u8c61\u7684\u914d\u7f6e\u548c\u751f\u547d\u5468\u671f\uff0c\u5728\u8fd9\u4e2a\u610f\u4e49\u4e0a\u5b83\u662f\u4e00\u79cd\u5bb9\u5668\uff0c\u4f60\u53ef\u4ee5\u914d\u7f6e\u4f60\u7684\u6bcf\u4e2abean\u5982\u4f55\u88ab\u521b\u5efa\u2014\u2014\u57fa\u4e8e\u4e00\u4e2a\u53ef\u914d\u7f6e\u539f\u578b\uff08prototype\uff09\uff0c\u4f60\u7684bean\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u5b9e\u4f8b\u6216\u8005\u6bcf\u6b21\u9700\u8981\u65f6\u90fd\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f8b\u2014\u2014\u4ee5\u53ca\u5b83\u4eec\u662f\u5982\u4f55\u76f8\u4e92\u5173\u8054\u7684\u3002\u7136\u800c\uff0cSpring\u4e0d\u5e94\u8be5\u88ab\u6df7\u540c\u4e8e\u4f20\u7edf\u7684\u91cd\u91cf\u7ea7\u7684EJB\u5bb9\u5668\uff0c\u5b83\u4eec\u7ecf\u5e38\u662f\u5e9e\u5927\u4e0e\u7b28\u91cd\u7684\uff0c\u96be\u4ee5\u4f7f\u7528\u3002</p> </li> <li> <p>\u6846\u67b6</p> </li> <li> <p>Spring\u53ef\u4ee5\u5c06\u7b80\u5355\u7684\u7ec4\u4ef6\u914d\u7f6e\u3001\u7ec4\u5408\u6210\u4e3a\u590d\u6742\u7684\u5e94\u7528\u3002\u5728Spring\u4e2d\uff0c\u5e94\u7528\u5bf9\u8c61\u88ab\u58f0\u660e\u5f0f\u5730\u7ec4\u5408\uff0c\u5178\u578b\u5730\u662f\u5728\u4e00\u4e2aXML\u6587\u4ef6\u91cc\u3002Spring\u4e5f\u63d0\u4f9b\u4e86\u5f88\u591a\u57fa\u7840\u529f\u80fd\uff08\u4e8b\u52a1\u7ba1\u7406\u3001\u6301\u4e45\u5316\u6846\u67b6\u96c6\u6210\u7b49\u7b49\uff09\uff0c\u5c06\u5e94\u7528\u903b\u8f91\u7684\u5f00\u53d1\u7559\u7ed9\u4e86\u4f60\u3002</p> </li> </ol> <p>\u6240\u6709Spring\u7684\u8fd9\u4e9b\u7279\u5f81\u4f7f\u4f60\u80fd\u591f\u7f16\u5199\u66f4\u5e72\u51c0\u3001\u66f4\u53ef\u7ba1\u7406\u3001\u5e76\u4e14\u66f4\u6613\u4e8e\u6d4b\u8bd5\u7684\u4ee3\u7801\u3002\u5b83\u4eec\u4e5f\u4e3aSpring\u4e2d\u7684\u5404\u79cd\u6a21\u5757\u63d0\u4f9b\u4e86\u57fa\u7840\u652f\u6301\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#24","title":"2.4 \u672c\u6559\u7a0b\u8f6f\u4ef6\u7248\u672c","text":"<ul> <li>IDEA\u5de5\u5177\uff1a2022.1.4</li> <li>JDK\uff1aJava17\uff08Spring6\u8981\u6c42JDK\u6700\u4f4e\u7248\u672c\u662fJava17\uff09</li> <li>Maven\uff1a3.8.6</li> <li>Spring\uff1a6.0.0-M2</li> <li>JUnit\uff1a4.13.2</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_2","title":"\u4e09\u3001Spring\u7684\u5165\u95e8\u7a0b\u5e8f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#31-spring","title":"3.1 Spring\u7684\u4e0b\u8f7d","text":"<p>\u5b98\u7f51\u5730\u5740\uff1ahttps://spring.io/</p> <p></p> <p>\u5b98\u7f51\u5730\u5740\uff08\u4e2d\u6587\uff09\uff1ahttp://spring.p2hp.com/</p> <p></p> <p>\u6253\u5f00Spring\u5b98\u7f51\u540e\uff0c\u53ef\u4ee5\u770b\u5230Spring Framework\uff0c\u4ee5\u53ca\u901a\u8fc7Spring Framework\u884d\u751f\u7684\u5176\u5b83\u6846\u67b6\uff1a</p> <p></p> <p>\u6211\u4eec\u5373\u5c06\u8981\u5b66\u4e60\u7684\u5c31\u662fSpring Framework\u3002</p> <p>\u600e\u4e48\u4e0b\u8f7d\u5462\uff1f</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u8fdb\u5165github</li> </ul> <p></p> <ul> <li>\u7b2c\u4e8c\u6b65\uff1a\u627e\u5230\u4e0b\u56fe\u4f4d\u7f6e\uff0c\u70b9\u51fb\u8d85\u94fe\u63a5</li> </ul> <p></p> <ul> <li>\u7b2c\u4e09\u6b65\uff1a\u627e\u5230\u4e0b\u56fe\u4f4d\u7f6e\uff0c\u70b9\u51fb\u8d85\u94fe\u63a5</li> </ul> <p></p> <ul> <li>\u7b2c\u56db\u6b65\uff1a\u6309\u7167\u4e0b\u56fe\u6b65\u9aa4\u64cd\u4f5c</li> </ul> <p></p> <ul> <li>\u7b2c\u4e94\u6b65\uff1a\u7ee7\u7eed\u5728springframework\u76ee\u5f55\u4e0b\u627e\u4e0b\u56fe\u7684spring\uff0c\u70b9\u5f00\u4e4b\u540e\u4f60\u4f1a\u770b\u5230\u5f88\u591a\u4e0d\u540c\u7684\u7248\u672c</li> </ul> <p></p> <ul> <li>\u7b2c\u516d\u6b65\uff1a\u9009\u62e9\u5bf9\u5e94\u7684\u7248\u672c</li> </ul> <p></p> <ul> <li>\u7b2c\u4e03\u6b65\uff1a\u70b9\u51fb\u4e0a\u56fe\u7684url</li> </ul> <p></p> <p>\u70b9\u51fbspring-5.3.9-dist.zip\u4e0b\u8f7dspring\u6846\u67b6\u3002</p> <p>\u5c06\u4e0b\u8f7d\u7684zip\u5305\u89e3\u538b\uff1a</p> <p></p> <p>docs\uff1aspring\u6846\u67b6\u7684API\u5e2e\u52a9\u6587\u6863</p> <p>libs\uff1aspring\u6846\u67b6\u7684jar\u6587\u4ef6\uff08\u7528spring\u6846\u67b6\u5c31\u662f\u7528\u8fd9\u4e9bjar\u5305\uff09</p> <p>schema\uff1aspring\u6846\u67b6\u7684XML\u914d\u7f6e\u6587\u4ef6\u76f8\u5173\u7684\u7ea6\u675f\u6587\u4ef6</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#32-springjar","title":"3.2 Spring\u7684jar\u6587\u4ef6","text":"<p>\u6253\u5f00libs\u76ee\u5f55\uff0c\u4f1a\u770b\u5230\u5f88\u591ajar\u5305\uff1a</p> <p></p> <p>spring-core-5.3.9.jar\uff1a\u5b57\u8282\u7801\uff08\u8fd9\u4e2a\u662f\u652f\u6491\u7a0b\u5e8f\u8fd0\u884c\u7684jar\u5305\uff09</p> <p>spring-core-5.3.9-javadoc.jar\uff1a\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca</p> <p>spring-core-5.3.9-sources.jar\uff1a\u6e90\u7801</p> <p>\u6211\u4eec\u6765\u770b\u4e00\u4e0bspring\u6846\u67b6\u90fd\u6709\u54ea\u4e9bjar\u5305\uff1a</p> <p></p> JAR\u6587\u4ef6 \u63cf\u8ff0 spring-aop-5.3.9.jar \u8fd9\u4e2ajar \u6587\u4ef6\u5305\u542b\u5728\u5e94\u7528\u4e2d\u4f7f\u7528Spring \u7684AOP \u7279\u6027\u65f6\u6240\u9700\u7684\u7c7b spring-aspects-5.3.9.jar \u63d0\u4f9b\u5bf9AspectJ\u7684\u652f\u6301\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u65b9\u4fbf\u7684\u5c06\u9762\u5411\u5207\u9762\u7684\u529f\u80fd\u96c6\u6210\u8fdbIDE\u4e2d spring-beans-5.3.9.jar \u8fd9\u4e2ajar \u6587\u4ef6\u662f\u6240\u6709\u5e94\u7528\u90fd\u8981\u7528\u5230\u7684\uff0c\u5b83\u5305\u542b\u8bbf\u95ee\u914d\u7f6e\u6587\u4ef6\u3001\u521b\u5efa\u548c\u7ba1\u7406bean \u4ee5\u53ca\u8fdb\u884cInversion ofControl / Dependency Injection\uff08IoC/DI\uff09\u64cd\u4f5c\u76f8\u5173\u7684\u6240\u6709\u7c7b\u3002\u5982\u679c\u5e94\u7528\u53ea\u9700\u57fa\u672c\u7684IoC/DI \u652f\u6301\uff0c\u5f15\u5165spring-core.jar \u53caspring-beans.jar \u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002 spring-context-5.3.9.jar \u8fd9\u4e2ajar \u6587\u4ef6\u4e3aSpring \u6838\u5fc3\u63d0\u4f9b\u4e86\u5927\u91cf\u6269\u5c55\u3002\u53ef\u4ee5\u627e\u5230\u4f7f\u7528Spring ApplicationContext\u7279\u6027\u65f6\u6240\u9700\u7684\u5168\u90e8\u7c7b\uff0cJDNI \u6240\u9700\u7684\u5168\u90e8\u7c7b\uff0cinstrumentation\u7ec4\u4ef6\u4ee5\u53ca\u6821\u9a8cValidation \u65b9\u9762\u7684\u76f8\u5173\u7c7b\u3002 spring-context-indexer-5.3.9.jar \u867d\u7136\u7c7b\u8def\u5f84\u626b\u63cf\u975e\u5e38\u5feb\uff0c\u4f46\u662fSpring\u5185\u90e8\u5b58\u5728\u5927\u91cf\u7684\u7c7b\uff0c\u6dfb\u52a0\u6b64\u4f9d\u8d56\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u7f16\u8bd1\u65f6\u521b\u5efa\u5019\u9009\u5bf9\u8c61\u7684\u9759\u6001\u5217\u8868\u6765\u63d0\u9ad8\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u7684\u542f\u52a8\u6027\u80fd\u3002 spring-context-support-5.3.9.jar \u7528\u6765\u63d0\u4f9bSpring\u4e0a\u4e0b\u6587\u7684\u4e00\u4e9b\u6269\u5c55\u6a21\u5757,\u4f8b\u5982\u5b9e\u73b0\u90ae\u4ef6\u670d\u52a1\u3001\u89c6\u56fe\u89e3\u6790\u3001\u7f13\u5b58\u3001\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6\u7b49 spring-core-5.3.9.jar Spring \u6846\u67b6\u57fa\u672c\u7684\u6838\u5fc3\u5de5\u5177\u7c7b\u3002Spring \u5176\u5b83\u7ec4\u4ef6\u8981\u90fd\u8981\u4f7f\u7528\u5230\u8fd9\u4e2a\u5305\u91cc\u7684\u7c7b\uff0c\u662f\u5176\u5b83\u7ec4\u4ef6\u7684\u57fa\u672c\u6838\u5fc3\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u5e94\u7528\u7cfb\u7edf\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u7c7b\u3002 spring-expression-5.3.9.jar Spring\u8868\u8fbe\u5f0f\u8bed\u8a00\u3002 spring-instrument-5.3.9.jar Spring3.0\u5bf9\u670d\u52a1\u5668\u7684\u4ee3\u7406\u63a5\u53e3\u3002 spring-jcl-5.3.9.jar Spring\u7684\u65e5\u5fd7\u6a21\u5757\u3002JCL\uff0c\u5168\u79f0\u4e3a\"Jakarta Commons Logging\"\uff0c\u4e5f\u53ef\u79f0\u4e3a\"Apache Commons Logging\"\u3002 spring-jdbc-5.3.9.jar Spring\u5bf9JDBC\u7684\u652f\u6301\u3002 spring-jms-5.3.9.jar \u8fd9\u4e2ajar\u5305\u63d0\u4f9b\u4e86\u5bf9JMS 1.0.2/1.1\u7684\u652f\u6301\u7c7b\u3002JMS\u662fJava\u6d88\u606f\u670d\u52a1\u3002\u5c5e\u4e8eJavaEE\u89c4\u8303\u4e4b\u4e00\u3002 spring-messaging-5.3.9.jar \u4e3a\u96c6\u6210messaging api\u548c\u6d88\u606f\u534f\u8bae\u63d0\u4f9b\u652f\u6301 spring-orm-5.3.9.jar Spring\u96c6\u6210ORM\u6846\u67b6\u7684\u652f\u6301\uff0c\u6bd4\u5982\u96c6\u6210hibernate\uff0cmybatis\u7b49\u3002 spring-oxm-5.3.9.jar \u4e3a\u4e3b\u6d41O/X Mapping\u7ec4\u4ef6\u63d0\u4f9b\u4e86\u7edf\u4e00\u5c42\u62bd\u8c61\u548c\u5c01\u88c5\uff0cOXM\u662fObject Xml Mapping\u3002\u5bf9\u8c61\u548cXML\u4e4b\u95f4\u7684\u76f8\u4e92\u8f6c\u6362\u3002 spring-r2dbc-5.3.9.jar Reactive Relational Database Connectivity (\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u54cd\u5e94\u5f0f\u8fde\u63a5) \u7684\u7f29\u5199\u3002\u8fd9\u4e2ajar\u6587\u4ef6\u662fSpring\u5bf9r2dbc\u7684\u652f\u6301\u3002 spring-test-5.3.9.jar \u5bf9Junit\u7b49\u6d4b\u8bd5\u6846\u67b6\u7684\u7b80\u5355\u5c01\u88c5\u3002 spring-tx-5.3.9.jar \u4e3aJDBC\u3001Hibernate\u3001JDO\u3001JPA\u3001Beans\u7b49\u63d0\u4f9b\u7684\u4e00\u81f4\u7684\u58f0\u660e\u5f0f\u548c\u7f16\u7a0b\u5f0f\u4e8b\u52a1\u7ba1\u7406\u652f\u6301\u3002 spring-web-5.3.9.jar Spring\u96c6\u6210MVC\u6846\u67b6\u7684\u652f\u6301\uff0c\u6bd4\u5982\u96c6\u6210Struts\u7b49\u3002 spring-webflux-5.3.9.jar WebFlux\u662f Spring5 \u6dfb\u52a0\u7684\u65b0\u6a21\u5757\uff0c\u7528\u4e8e web \u7684\u5f00\u53d1\uff0c\u529f\u80fd\u548c SpringMVC \u7c7b\u4f3c\u7684\uff0cWebflux \u4f7f\u7528\u5f53\u524d\u4e00\u79cd\u6bd4\u8f83\u6d41\u7a0b\u54cd\u5e94\u5f0f\u7f16\u7a0b\u51fa\u73b0\u7684\u6846\u67b6\u3002 spring-webmvc-5.3.9.jar SpringMVC\u6846\u67b6\u7684\u7c7b\u5e93 spring-websocket-5.3.9.jar Spring\u96c6\u6210WebSocket\u6846\u67b6\u65f6\u4f7f\u7528 <p>\u6ce8\u610f\uff1a</p> <p>\u5982\u679c\u4f60\u53ea\u662f\u60f3\u7528Spring\u7684IoC\u529f\u80fd\uff0c\u4ec5\u9700\u8981\u5f15\u5165\uff1aspring-context\u5373\u53ef\u3002\u5c06\u8fd9\u4e2ajar\u5305\u6dfb\u52a0\u5230classpath\u5f53\u4e2d\u3002</p> <p>\u5982\u679c\u91c7\u7528maven\u53ea\u9700\u8981\u5f15\u5165context\u7684\u4f9d\u8d56\u5373\u53ef\u3002</p> XML<pre><code>&lt;!--Spring6\u7684\u6b63\u5f0f\u7248\u53d1\u5e03\u4e4b\u524d\uff0c\u8fd9\u4e2a\u4ed3\u5e93\u5730\u5740\u662f\u9700\u8981\u7684--&gt;\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n    &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n  &lt;!--spring context\u4f9d\u8d56\uff1a\u4f7f\u7528\u7684\u662f6.0.0-M2\u91cc\u7a0b\u7891\u7248--&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0-M2&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#33-spring","title":"3.3 \u7b2c\u4e00\u4e2aSpring\u7a0b\u5e8f","text":"<p>\u524d\u671f\u51c6\u5907\uff1a</p> <ul> <li>\u6253\u5f00IDEA\u521b\u5efaEmpty Project\uff1aspring6</li> </ul> <p></p> <ul> <li>\u8bbe\u7f6eJDK\u7248\u672c17\uff0c\u7f16\u8bd1\u5668\u7248\u672c17</li> </ul> <p></p> <ul> <li>\u8bbe\u7f6eIDEA\u7684Maven\uff1a\u5173\u8054\u81ea\u5df1\u7684maven</li> </ul> <p></p> <ul> <li>\u5728\u7a7a\u7684\u5de5\u7a0bspring6\u4e2d\u521b\u5efa\u7b2c\u4e00\u4e2a\u6a21\u5757\uff1aspring6-001-first</li> </ul> <p></p> <p>\u7b2c\u4e00\u6b65\uff1a\u6dfb\u52a0spring context\u7684\u4f9d\u8d56\uff0cpom.xml\u914d\u7f6e\u5982\u4e0b</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-001-first&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--spring context\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u6253\u5305\u65b9\u5f0fjar\u3002</p> <p>\u5f53\u52a0\u5165spring context\u7684\u4f9d\u8d56\u4e4b\u540e\uff0c\u4f1a\u5173\u8054\u5f15\u5165\u5176\u4ed6\u4f9d\u8d56\uff1a</p> <p>spring aop\uff1a\u9762\u5411\u5207\u9762\u7f16\u7a0b</p> <p>spring beans\uff1aIoC\u6838\u5fc3</p> <p>spring core\uff1aspring\u7684\u6838\u5fc3\u5de5\u5177\u5305</p> <p>spring jcl\uff1aspring\u7684\u65e5\u5fd7\u5305</p> <p>spring expression\uff1aspring\u8868\u8fbe\u5f0f</p> <p></p> <p>\u7b2c\u4e8c\u6b65\uff1a\u6dfb\u52a0junit\u4f9d\u8d56</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-001-first&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--spring context\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--junit--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5b9a\u4e49bean\uff1aUser</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * bean\uff0c\u5c01\u88c5\u7528\u6237\u4fe1\u606f\u3002\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @since 1.0\n */\npublic class User {\n}\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u7f16\u5199spring\u7684\u914d\u7f6e\u6587\u4ef6\uff1abeans.xml\u3002\u8be5\u6587\u4ef6\u653e\u5728\u7c7b\u7684\u6839\u8def\u5f84\u4e0b\u3002</p> <p></p> <p>\u4e0a\u56fe\u662f\u4f7f\u7528IDEA\u5de5\u5177\u81ea\u5e26\u7684spring\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u677f\u8fdb\u884c\u521b\u5efa\u3002</p> <p>\u914d\u7f6e\u6587\u4ef6\u4e2d\u8fdb\u884cbean\u7684\u914d\u7f6e\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>bean\u7684id\u548cclass\u5c5e\u6027\uff1a</p> <ul> <li>id\u5c5e\u6027\uff1a\u4ee3\u8868\u5bf9\u8c61\u7684\u552f\u4e00\u6807\u8bc6\u3002\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a\u4eba\u7684\u8eab\u4efd\u8bc1\u53f7\u3002</li> <li>class\u5c5e\u6027\uff1a\u7528\u6765\u6307\u5b9a\u8981\u521b\u5efa\u7684java\u5bf9\u8c61\u7684\u7c7b\u540d\uff0c\u8fd9\u4e2a\u7c7b\u540d\u5fc5\u987b\u662f\u5168\u9650\u5b9a\u7c7b\u540d\uff08\u5e26\u5305\u540d\uff09\u3002</li> </ul> <p>\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Spring6Test {\n\n    @Test\n    public void testFirst(){\n        // \u521d\u59cb\u5316Spring\u5bb9\u5668\u4e0a\u4e0b\u6587\uff08\u89e3\u6790beans.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684bean\u5bf9\u8c61\uff09\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"beans.xml\");\n        // \u6839\u636eid\u83b7\u53d6bean\u5bf9\u8c61\n        Object userBean = applicationContext.getBean(\"userBean\");\n        System.out.println(userBean);\n    }\n}\n</code></pre> <p>\u7b2c\u4e03\u6b65\uff1a\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#34-spring","title":"3.4 \u7b2c\u4e00\u4e2aSpring\u7a0b\u5e8f\u8be6\u7ec6\u5256\u6790","text":"XML<pre><code>&lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\"/&gt;\nApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"beans.xml\");\nObject userBean = applicationContext.getBean(\"userBean\");\n</code></pre> <ol> <li>bean\u6807\u7b7e\u7684id\u5c5e\u6027\u53ef\u4ee5\u91cd\u590d\u5417\uff1f</li> </ol> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Vip\n * @since 1.0\n **/\npublic class Vip {\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\"/&gt;\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.Vip\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u51fa\uff1a\u5728spring\u7684\u914d\u7f6e\u6587\u4ef6\u4e2did\u662f\u4e0d\u80fd\u91cd\u540d\u3002</p> <ol> <li>\u5e95\u5c42\u662f\u600e\u4e48\u521b\u5efa\u5bf9\u8c61\u7684\uff0c\u662f\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u5417\uff1f</li> </ol> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * bean\uff0c\u5c01\u88c5\u7528\u6237\u4fe1\u606f\u3002\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @since 1.0\n */\npublic class User {\n    public User() {\n        System.out.println(\"User\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n</code></pre> <p>\u5728User\u7c7b\u4e2d\u6dfb\u52a0\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\uff0c\u5982\u4e0a\u3002</p> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff1a\u521b\u5efa\u5bf9\u8c61\u65f6\u786e\u5b9e\u8c03\u7528\u4e86\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002</p> <p>\u5982\u679c\u63d0\u4f9b\u4e00\u4e2a\u6709\u53c2\u6570\u6784\u9020\u65b9\u6cd5\uff0c\u4e0d\u63d0\u4f9b\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u4f1a\u600e\u6837\u5462\uff1f</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * bean\uff0c\u5c01\u88c5\u7528\u6237\u4fe1\u606f\u3002\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @since 1.0\n */\npublic class User {\n    /*public User() {\n        System.out.println(\"User\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }*/\n\n    public User(String name){\n        System.out.println(\"User\u7684\u6709\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff1aspring\u662f\u901a\u8fc7\u8c03\u7528\u7c7b\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6765\u521b\u5efa\u5bf9\u8c61\u7684\uff0c\u6240\u4ee5\u8981\u60f3\u8ba9spring\u7ed9\u4f60\u521b\u5efa\u5bf9\u8c61\uff0c\u5fc5\u987b\u4fdd\u8bc1\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u662f\u5b58\u5728\u7684\u3002</p> <p>Spring\u662f\u5982\u4f55\u521b\u5efa\u5bf9\u8c61\u7684\u5462\uff1f\u539f\u7406\u662f\u4ec0\u4e48\uff1f</p> Java<pre><code>// dom4j\u89e3\u6790beans.xml\u6587\u4ef6\uff0c\u4ece\u4e2d\u83b7\u53d6class\u7684\u5168\u9650\u5b9a\u7c7b\u540d\n// \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u521b\u5efa\u5bf9\u8c61\nClass clazz = Class.forName(\"com.powernode.spring6.bean.User\");\nObject obj = clazz.newInstance();\n</code></pre> <ol> <li>\u628a\u521b\u5efa\u597d\u7684\u5bf9\u8c61\u5b58\u50a8\u5230\u4e00\u4e2a\u4ec0\u4e48\u6837\u7684\u6570\u636e\u7ed3\u6784\u5f53\u4e2d\u4e86\u5462\uff1f</li> </ol> <p></p> <ol> <li>spring\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u5fc5\u987b\u53eb\u505abeans.xml\u5417\uff1f</li> </ol> Java<pre><code>ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"beans.xml\");\n</code></pre> <p>\u901a\u8fc7\u4ee5\u4e0a\u7684java\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u4e2aspring\u914d\u7f6e\u6587\u4ef6\u540d\u5b57\u662f\u6211\u4eec\u8d1f\u8d23\u63d0\u4f9b\u7684\uff0c\u663e\u7136spring\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u662f\u968f\u610f\u7684\u3002</p> <ol> <li>\u50cf\u8fd9\u6837\u7684beans.xml\u6587\u4ef6\u53ef\u4ee5\u6709\u591a\u4e2a\u5417\uff1f</li> </ol> <p>\u518d\u521b\u5efa\u4e00\u4e2aspring\u914d\u7f6e\u6587\u4ef6\uff0c\u8d77\u540d\uff1aspring.xml</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"vipBean\" class=\"com.powernode.spring6.bean.Vip\"/&gt;\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Spring6Test {\n\n    @Test\n    public void testFirst(){\n        // \u521d\u59cb\u5316Spring\u5bb9\u5668\u4e0a\u4e0b\u6587\uff08\u89e3\u6790beans.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684bean\u5bf9\u8c61\uff09\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"beans.xml\",\"spring.xml\");\n\n        // \u6839\u636eid\u83b7\u53d6bean\u5bf9\u8c61\n        Object userBean = applicationContext.getBean(\"userBean\");\n        Object vipBean = applicationContext.getBean(\"vipBean\");\n\n        System.out.println(userBean);\n        System.out.println(vipBean);\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0cspring\u7684\u914d\u7f6e\u6587\u4ef6\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u5728ClassPathXmlApplicationContext\u6784\u9020\u65b9\u6cd5\u7684\u53c2\u6570\u4e0a\u4f20\u9012\u6587\u4ef6\u8def\u5f84\u5373\u53ef\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\u901a\u8fc7\u6e90\u7801\u53ef\u4ee5\u770b\u5230\uff1a</p> <p></p> <ol> <li>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\u7c7b\u5fc5\u987b\u662f\u81ea\u5b9a\u4e49\u7684\u5417\uff0c\u53ef\u4ee5\u4f7f\u7528JDK\u4e2d\u7684\u7c7b\u5417\uff0c\u4f8b\u5982\uff1ajava.util.Date\uff1f</li> </ol> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\"/&gt;\n    &lt;!--&lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.Vip\"/&gt;--&gt;\n\n    &lt;bean id=\"dateBean\" class=\"java.util.Date\"/&gt;\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Spring6Test {\n\n    @Test\n    public void testFirst(){\n        // \u521d\u59cb\u5316Spring\u5bb9\u5668\u4e0a\u4e0b\u6587\uff08\u89e3\u6790beans.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684bean\u5bf9\u8c61\uff09\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"beans.xml\",\"spring.xml\");\n\n        // \u6839\u636eid\u83b7\u53d6bean\u5bf9\u8c61\n        Object userBean = applicationContext.getBean(\"userBean\");\n        Object vipBean = applicationContext.getBean(\"vipBean\");\n        Object dateBean = applicationContext.getBean(\"dateBean\");\n\n        System.out.println(userBean);\n        System.out.println(vipBean);\n        System.out.println(dateBean);\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684bean\u53ef\u4ee5\u4efb\u610f\u7c7b\uff0c\u53ea\u8981\u8fd9\u4e2a\u7c7b\u4e0d\u662f\u62bd\u8c61\u7684\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002</p> <ol> <li>getBean()\u65b9\u6cd5\u8c03\u7528\u65f6\uff0c\u5982\u679c\u6307\u5b9a\u7684id\u4e0d\u5b58\u5728\u4f1a\u600e\u6837\uff1f</li> </ol> <p></p> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5f53id\u4e0d\u5b58\u5728\u7684\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0\u5f02\u5e38\u3002</p> <ol> <li>getBean()\u65b9\u6cd5\u8fd4\u56de\u7684\u7c7b\u578b\u662fObject\uff0c\u5982\u679c\u8bbf\u95ee\u5b50\u7c7b\u7684\u7279\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u65f6\uff0c\u8fd8\u9700\u8981\u5411\u4e0b\u8f6c\u578b\uff0c\u6709\u5176\u5b83\u529e\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5417\uff1f</li> </ol> Java<pre><code>User user = applicationContext.getBean(\"userBean\", User.class);\n</code></pre> <ol> <li>ClassPathXmlApplicationContext\u662f\u4ece\u7c7b\u8def\u5f84\u4e2d\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u5728\u7c7b\u8def\u5f84\u5f53\u4e2d\uff0c\u53c8\u5e94\u8be5\u5982\u4f55\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u5462\uff1f</li> </ol> <p></p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"vipBean2\" class=\"com.powernode.spring6.bean.Vip\"/&gt;\n&lt;/beans&gt;\nApplicationContext applicationContext2 = new FileSystemXmlApplicationContext(\"d:/spring6.xml\");\nVip vip = applicationContext2.getBean(\"vipBean2\", Vip.class);\nSystem.out.println(vip);\n</code></pre> <p>\u6ca1\u6709\u5728\u7c7b\u8def\u5f84\u4e2d\u7684\u8bdd\uff0c\u9700\u8981\u4f7f\u7528FileSystemXmlApplicationContext\u7c7b\u8fdb\u884c\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u8f83\u5c11\u7528\u3002\u4e00\u822c\u90fd\u662f\u5c06\u914d\u7f6e\u6587\u4ef6\u653e\u5230\u7c7b\u8def\u5f84\u5f53\u4e2d\uff0c\u8fd9\u6837\u53ef\u79fb\u690d\u6027\u66f4\u5f3a\u3002</p> <ol> <li>ApplicationContext\u7684\u8d85\u7ea7\u7236\u63a5\u53e3BeanFactory\u3002</li> </ol> Java<pre><code>BeanFactory beanFactory = new ClassPathXmlApplicationContext(\"spring.xml\");\nObject vipBean = beanFactory.getBean(\"vipBean\");\nSystem.out.println(vipBean);\n</code></pre> <p>BeanFactory\u662fSpring\u5bb9\u5668\u7684\u8d85\u7ea7\u63a5\u53e3\u3002ApplicationContext\u662fBeanFactory\u7684\u5b50\u63a5\u53e3\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#35-spring6log4j2","title":"3.5 Spring6\u542f\u7528Log4j2\u65e5\u5fd7\u6846\u67b6","text":"<p>\u4eceSpring5\u4e4b\u540e\uff0cSpring\u6846\u67b6\u652f\u6301\u96c6\u6210\u7684\u65e5\u5fd7\u6846\u67b6\u662fLog4j2.\u5982\u4f55\u542f\u7528\u65e5\u5fd7\u6846\u67b6\uff1a</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5f15\u5165Log4j2\u7684\u4f9d\u8d56</p> XML<pre><code>&lt;!--log4j2\u7684\u4f9d\u8d56--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728\u7c7b\u7684\u6839\u8def\u5f84\u4e0b\u63d0\u4f9blog4j2.xml\u914d\u7f6e\u6587\u4ef6\uff08\u6587\u4ef6\u540d\u56fa\u5b9a\u4e3a\uff1alog4j2.xml\uff0c\u6587\u4ef6\u5fc5\u987b\u653e\u5230\u7c7b\u6839\u8def\u5f84\u4e0b\u3002\uff09</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;configuration&gt;\n\n    &lt;loggers&gt;\n        &lt;!--\n            level\u6307\u5b9a\u65e5\u5fd7\u7ea7\u522b\uff0c\u4ece\u4f4e\u5230\u9ad8\u7684\u4f18\u5148\u7ea7\uff1a\n                ALL &lt; TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\n        --&gt;\n        &lt;root level=\"DEBUG\"&gt;\n            &lt;appender-ref ref=\"spring6log\"/&gt;\n        &lt;/root&gt;\n    &lt;/loggers&gt;\n\n    &lt;appenders&gt;\n        &lt;!--\u8f93\u51fa\u65e5\u5fd7\u4fe1\u606f\u5230\u63a7\u5236\u53f0--&gt;\n        &lt;console name=\"spring6log\" target=\"SYSTEM_OUT\"&gt;\n            &lt;!--\u63a7\u5236\u65e5\u5fd7\u8f93\u51fa\u7684\u683c\u5f0f--&gt;\n            &lt;PatternLayout pattern=\"%d{yyyy-MM-dd HH:mm:ss SSS} [%t] %-3level %logger{1024} - %msg%n\"/&gt;\n        &lt;/console&gt;\n    &lt;/appenders&gt;\n\n&lt;/configuration&gt;\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u4f7f\u7528\u65e5\u5fd7\u6846\u67b6</p> Java<pre><code>Logger logger = LoggerFactory.getLogger(FirstSpringTest.class);\nlogger.info(\"\u6211\u662f\u4e00\u6761\u65e5\u5fd7\u6d88\u606f\");\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#springioc","title":"\u56db\u3001Spring\u5bf9IoC\u7684\u5b9e\u73b0","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#41-ioc","title":"4.1 IoC \u63a7\u5236\u53cd\u8f6c","text":"<ul> <li>\u63a7\u5236\u53cd\u8f6c\u662f\u4e00\u79cd\u601d\u60f3\u3002</li> <li>\u63a7\u5236\u53cd\u8f6c\u662f\u4e3a\u4e86\u964d\u4f4e\u7a0b\u5e8f\u8026\u5408\u5ea6\uff0c\u63d0\u9ad8\u7a0b\u5e8f\u6269\u5c55\u529b\uff0c\u8fbe\u5230OCP\u539f\u5219\uff0c\u8fbe\u5230DIP\u539f\u5219\u3002</li> <li> <p>\u63a7\u5236\u53cd\u8f6c\uff0c\u53cd\u8f6c\u7684\u662f\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u5c06\u5bf9\u8c61\u7684\u521b\u5efa\u6743\u5229\u4ea4\u51fa\u53bb\uff0c\u4ea4\u7ed9\u7b2c\u4e09\u65b9\u5bb9\u5668\u8d1f\u8d23\u3002</p> </li> <li> <p>\u5c06\u5bf9\u8c61\u548c\u5bf9\u8c61\u4e4b\u95f4\u5173\u7cfb\u7684\u7ef4\u62a4\u6743\u4ea4\u51fa\u53bb\uff0c\u4ea4\u7ed9\u7b2c\u4e09\u65b9\u5bb9\u5668\u8d1f\u8d23\u3002</p> </li> <li> <p>\u63a7\u5236\u53cd\u8f6c\u8fd9\u79cd\u601d\u60f3\u5982\u4f55\u5b9e\u73b0\u5462\uff1f</p> </li> <li> <p>DI\uff08Dependency Injection\uff09\uff1a\u4f9d\u8d56\u6ce8\u5165</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#42","title":"4.2 \u4f9d\u8d56\u6ce8\u5165","text":"<p>\u4f9d\u8d56\u6ce8\u5165\u5b9e\u73b0\u4e86\u63a7\u5236\u53cd\u8f6c\u7684\u601d\u60f3\u3002</p> <p>Spring\u901a\u8fc7\u4f9d\u8d56\u6ce8\u5165\u7684\u65b9\u5f0f\u6765\u5b8c\u6210Bean\u7ba1\u7406\u7684\u3002</p> <p>Bean\u7ba1\u7406\u8bf4\u7684\u662f\uff1aBean\u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u4ee5\u53caBean\u5bf9\u8c61\u4e2d\u5c5e\u6027\u7684\u8d4b\u503c\uff08\u6216\u8005\u53eb\u505aBean\u5bf9\u8c61\u4e4b\u95f4\u5173\u7cfb\u7684\u7ef4\u62a4\uff09\u3002</p> <p>\u4f9d\u8d56\u6ce8\u5165\uff1a</p> <ul> <li>\u4f9d\u8d56\u6307\u7684\u662f\u5bf9\u8c61\u548c\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\u3002</li> <li>\u6ce8\u5165\u6307\u7684\u662f\u4e00\u79cd\u6570\u636e\u4f20\u9012\u884c\u4e3a\uff0c\u901a\u8fc7\u6ce8\u5165\u884c\u4e3a\u6765\u8ba9\u5bf9\u8c61\u548c\u5bf9\u8c61\u4ea7\u751f\u5173\u7cfb\u3002</li> </ul> <p>\u4f9d\u8d56\u6ce8\u5165\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u5f0f\u5305\u62ec\u4e24\u79cd\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\uff1aset\u6ce8\u5165</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u6784\u9020\u6ce8\u5165</li> </ul> <p>\u65b0\u5efa\u6a21\u5757\uff1aspring6-002-dependency-injection</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#421-set","title":"4.2.1 set\u6ce8\u5165","text":"<p>set\u6ce8\u5165\uff0c\u57fa\u4e8eset\u65b9\u6cd5\u5b9e\u73b0\u7684\uff0c\u5e95\u5c42\u4f1a\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u5c5e\u6027\u5bf9\u5e94\u7684set\u65b9\u6cd5\u7136\u540e\u7ed9\u5c5e\u6027\u8d4b\u503c\u3002\u8fd9\u79cd\u65b9\u5f0f\u8981\u6c42\u5c5e\u6027\u5fc5\u987b\u5bf9\u5916\u63d0\u4f9bset\u65b9\u6cd5\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-002-dependency-injection&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\npackage com.powernode.spring6.dao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserDao\n * @since 1.0\n **/\npublic class UserDao {\n\n    public void insert(){\n        System.out.println(\"\u6b63\u5728\u4fdd\u5b58\u7528\u6237\u6570\u636e\u3002\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n\n    private UserDao userDao;\n\n    // \u4f7f\u7528set\u65b9\u5f0f\u6ce8\u5165\uff0c\u5fc5\u987b\u63d0\u4f9bset\u65b9\u6cd5\u3002\n    // \u53cd\u5c04\u673a\u5236\u8981\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c\u7684\u3002\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n\n    &lt;bean id=\"userServiceBean\" class=\"com.powernode.spring6.service.UserService\"&gt;\n        &lt;property name=\"userDao\" ref=\"userDaoBean\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.service.UserService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className DITest\n * @since 1.0\n **/\npublic class DITest {\n\n    @Test\n    public void testSetDI(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        UserService userService = applicationContext.getBean(\"userServiceBean\", UserService.class);\n        userService.save();\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u91cd\u70b9\u5185\u5bb9\u662f\uff0c\u4ec0\u4e48\u539f\u7406\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n\n    &lt;bean id=\"userServiceBean\" class=\"com.powernode.spring6.service.UserService\"&gt;\n        &lt;property name=\"userDao\" ref=\"userDaoBean\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u5b9e\u73b0\u539f\u7406\uff1a</p> <p>\u901a\u8fc7property\u6807\u7b7e\u83b7\u53d6\u5230\u5c5e\u6027\u540d\uff1auserDao</p> <p>\u901a\u8fc7\u5c5e\u6027\u540d\u63a8\u65ad\u51faset\u65b9\u6cd5\u540d\uff1asetUserDao</p> <p>\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528setUserDao()\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c</p> <p>property\u6807\u7b7e\u7684name\u662f\u5c5e\u6027\u540d\u3002</p> <p>property\u6807\u7b7e\u7684ref\u662f\u8981\u6ce8\u5165\u7684bean\u5bf9\u8c61\u7684id\u3002(\u901a\u8fc7ref\u5c5e\u6027\u6765\u5b8c\u6210bean\u7684\u88c5\u914d\uff0c\u8fd9\u662fbean\u6700\u7b80\u5355\u7684\u4e00\u79cd\u88c5\u914d\u65b9\u5f0f\u3002\u88c5\u914d\u6307\u7684\u662f\uff1a\u521b\u5efa\u7cfb\u7edf\u7ec4\u4ef6\u4e4b\u95f4\u5173\u8054\u7684\u52a8\u4f5c)</p> <p>\u53ef\u4ee5\u628aset\u65b9\u6cd5\u6ce8\u91ca\u6389\uff0c\u518d\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5e95\u5c42\u5b9e\u9645\u4e0a\u8c03\u7528\u4e86setUserDao()\u65b9\u6cd5\u3002\u6240\u4ee5\u9700\u8981\u786e\u4fdd\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5b58\u5728\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u628a\u5c5e\u6027\u540d\u4fee\u6539\u4e00\u4e0b\uff0c\u4f46\u65b9\u6cd5\u540d\u8fd8\u662fsetUserDao()\uff0c\u6211\u4eec\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n\n    private UserDao aaa;\n\n    // \u4f7f\u7528set\u65b9\u5f0f\u6ce8\u5165\uff0c\u5fc5\u987b\u63d0\u4f9bset\u65b9\u6cd5\u3002\n    // \u53cd\u5c04\u673a\u5236\u8981\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c\u7684\u3002\n    public void setUserDao(UserDao userDao) {\n        this.aaa = userDao;\n    }\n\n    public void save(){\n        aaa.insert();\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u770b\u5230\u7a0b\u5e8f\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u6267\u884c\uff0c\u8bf4\u660eproperty\u6807\u7b7e\u7684name\u662f\uff1asetUserDao()\u65b9\u6cd5\u540d\u6f14\u53d8\u5f97\u5230\u7684\u3002\u6f14\u53d8\u7684\u89c4\u5f8b\u662f\uff1a</p> <ul> <li>setUsername() \u6f14\u53d8\u4e3a username</li> <li>setPassword() \u6f14\u53d8\u4e3a password</li> <li>setUserDao() \u6f14\u53d8\u4e3a userDao</li> <li>setUserService() \u6f14\u53d8\u4e3a userService</li> </ul> <p>\u53e6\u5916\uff0c\u5bf9\u4e8eproperty\u6807\u7b7e\u6765\u8bf4\uff0cref\u5c5e\u6027\u4e5f\u53ef\u4ee5\u91c7\u7528\u6807\u7b7e\u7684\u65b9\u5f0f\uff0c\u4f46\u4f7f\u7528ref\u5c5e\u6027\u662f\u591a\u6570\u7684\uff1a</p> XML<pre><code>&lt;bean id=\"userServiceBean\" class=\"com.powernode.spring6.service.UserService\"&gt;\n  &lt;property name=\"userDao\"&gt;\n    &lt;ref bean=\"userDaoBean\"/&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre> <p>\u603b\u7ed3\uff1aset\u6ce8\u5165\u7684\u6838\u5fc3\u5b9e\u73b0\u539f\u7406\uff1a\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528set\u65b9\u6cd5\u6765\u7ed9\u5c5e\u6027\u8d4b\u503c\uff0c\u8ba9\u4e24\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u4ea7\u751f\u5173\u7cfb\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#422","title":"4.2.2 \u6784\u9020\u6ce8\u5165","text":"<p>\u6838\u5fc3\u539f\u7406\uff1a\u901a\u8fc7\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u6765\u7ed9\u5c5e\u6027\u8d4b\u503c\u3002</p> Java<pre><code>package com.powernode.spring6.dao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderDao\n * @since 1.0\n **/\npublic class OrderDao {\n    public void deleteById(){\n        System.out.println(\"\u6b63\u5728\u5220\u9664\u8ba2\u5355\u3002\u3002\u3002\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.OrderDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderService\n * @since 1.0\n **/\npublic class OrderService {\n    private OrderDao orderDao;\n\n    // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c\n    public OrderService(OrderDao orderDao) {\n        this.orderDao = orderDao;\n    }\n\n    public void delete(){\n        orderDao.deleteById();\n    }\n}\n&lt;bean id=\"orderDaoBean\" class=\"com.powernode.spring6.dao.OrderDao\"/&gt;\n&lt;bean id=\"orderServiceBean\" class=\"com.powernode.spring6.service.OrderService\"&gt;\n  &lt;!--index=\"0\"\u8868\u793a\u6784\u9020\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5c06orderDaoBean\u5bf9\u8c61\u4f20\u9012\u7ed9\u6784\u9020\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002--&gt;\n  &lt;constructor-arg index=\"0\" ref=\"orderDaoBean\"/&gt;\n&lt;/bean&gt;\n@Test\npublic void testConstructorDI(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    OrderService orderServiceBean = applicationContext.getBean(\"orderServiceBean\", OrderService.class);\n    orderServiceBean.delete();\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u5982\u679c\u6784\u9020\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.OrderDao;\nimport com.powernode.spring6.dao.UserDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderService\n * @since 1.0\n **/\npublic class OrderService {\n    private OrderDao orderDao;\n    private UserDao userDao;\n\n    // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u6784\u9020\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c\n    public OrderService(OrderDao orderDao, UserDao userDao) {\n        this.orderDao = orderDao;\n        this.userDao = userDao;\n    }\n\n    public void delete(){\n        orderDao.deleteById();\n        userDao.insert();\n    }\n}\n</code></pre> <p>spring\u914d\u7f6e\u6587\u4ef6\uff1a</p> XML<pre><code>&lt;bean id=\"orderDaoBean\" class=\"com.powernode.spring6.dao.OrderDao\"/&gt;\n\n&lt;bean id=\"orderServiceBean\" class=\"com.powernode.spring6.service.OrderService\"&gt;\n  &lt;!--\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0b\u6807\u662f0--&gt;\n  &lt;constructor-arg index=\"0\" ref=\"orderDaoBean\"/&gt;\n  &lt;!--\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0b\u6807\u662f1--&gt;\n  &lt;constructor-arg index=\"1\" ref=\"userDaoBean\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u4e0d\u4f7f\u7528\u53c2\u6570\u4e0b\u6807\uff0c\u4f7f\u7528\u53c2\u6570\u7684\u540d\u5b57\u53ef\u4ee5\u5417\uff1f</p> XML<pre><code>&lt;bean id=\"orderDaoBean\" class=\"com.powernode.spring6.dao.OrderDao\"/&gt;\n\n&lt;bean id=\"orderServiceBean\" class=\"com.powernode.spring6.service.OrderService\"&gt;\n  &lt;!--\u8fd9\u91cc\u4f7f\u7528\u4e86\u6784\u9020\u65b9\u6cd5\u4e0a\u53c2\u6570\u7684\u540d\u5b57--&gt;\n  &lt;constructor-arg name=\"orderDao\" ref=\"orderDaoBean\"/&gt;\n  &lt;constructor-arg name=\"userDao\" ref=\"userDaoBean\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u4e0d\u6307\u5b9a\u53c2\u6570\u4e0b\u6807\uff0c\u4e0d\u6307\u5b9a\u53c2\u6570\u540d\u5b57\uff0c\u53ef\u4ee5\u5417\uff1f</p> XML<pre><code>&lt;bean id=\"orderDaoBean\" class=\"com.powernode.spring6.dao.OrderDao\"/&gt;\n&lt;bean id=\"orderServiceBean\" class=\"com.powernode.spring6.service.OrderService\"&gt;\n  &lt;!--\u6ca1\u6709\u6307\u5b9a\u4e0b\u6807\uff0c\u4e5f\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\u540d\u5b57--&gt;\n  &lt;constructor-arg ref=\"orderDaoBean\"/&gt;\n  &lt;constructor-arg ref=\"userDaoBean\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u914d\u7f6e\u6587\u4ef6\u4e2d\u6784\u9020\u65b9\u6cd5\u53c2\u6570\u7684\u7c7b\u578b\u987a\u5e8f\u548c\u6784\u9020\u65b9\u6cd5\u53c2\u6570\u7684\u7c7b\u578b\u987a\u5e8f\u4e0d\u4e00\u81f4\u5462\uff1f</p> XML<pre><code>&lt;bean id=\"orderDaoBean\" class=\"com.powernode.spring6.dao.OrderDao\"/&gt;\n\n&lt;bean id=\"orderServiceBean\" class=\"com.powernode.spring6.service.OrderService\"&gt;\n  &lt;!--\u987a\u5e8f\u5df2\u7ecf\u548c\u6784\u9020\u65b9\u6cd5\u7684\u53c2\u6570\u987a\u5e8f\u4e0d\u540c\u4e86--&gt;\n  &lt;constructor-arg ref=\"userDaoBean\"/&gt;\n  &lt;constructor-arg ref=\"orderDaoBean\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u7684\u65f6\u5019\uff1a</p> <ul> <li>\u53ef\u4ee5\u901a\u8fc7\u4e0b\u6807</li> <li>\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u540d</li> <li>\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a\u4e0b\u6807\u548c\u53c2\u6570\u540d\uff0c\u53ef\u4ee5\u7c7b\u578b\u81ea\u52a8\u63a8\u65ad\u3002</li> </ul> <p>Spring\u5728\u88c5\u914d\u65b9\u9762\u505a\u7684\u8fd8\u662f\u6bd4\u8f83\u5065\u58ee\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#43-set","title":"4.3 set\u6ce8\u5165\u4e13\u9898","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#431-bean","title":"4.3.1 \u6ce8\u5165\u5916\u90e8Bean","text":"<p>\u5728\u4e4b\u524d4.2.1\u4e2d\u4f7f\u7528\u7684\u6848\u4f8b\u5c31\u662f\u6ce8\u5165\u5916\u90e8Bean\u7684\u65b9\u5f0f\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userDaoBean\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n\n    &lt;bean id=\"userServiceBean\" class=\"com.powernode.spring6.service.UserService\"&gt;\n        &lt;property name=\"userDao\" ref=\"userDaoBean\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u5916\u90e8Bean\u7684\u7279\u70b9\uff1abean\u5b9a\u4e49\u5230\u5916\u9762\uff0c\u5728property\u6807\u7b7e\u4e2d\u4f7f\u7528ref\u5c5e\u6027\u8fdb\u884c\u6ce8\u5165\u3002\u901a\u5e38\u8fd9\u79cd\u65b9\u5f0f\u662f\u5e38\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#432-bean","title":"4.3.2 \u6ce8\u5165\u5185\u90e8Bean","text":"<p>\u5185\u90e8Bean\u7684\u65b9\u5f0f\uff1a\u5728bean\u6807\u7b7e\u4e2d\u5d4c\u5957bean\u6807\u7b7e\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userServiceBean\" class=\"com.powernode.spring6.service.UserService\"&gt;\n        &lt;property name=\"userDao\"&gt;\n            &lt;bean class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testInnerBean(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-inner-bean.xml\");\n    UserService userService = applicationContext.getBean(\"userServiceBean\", UserService.class);\n    userService.save();\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u8fd9\u79cd\u65b9\u5f0f\u4f5c\u4e3a\u4e86\u89e3\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#433","title":"4.3.3 \u6ce8\u5165\u7b80\u5355\u7c7b\u578b","text":"<p>\u6211\u4eec\u4e4b\u524d\u5728\u8fdb\u884c\u6ce8\u5165\u7684\u65f6\u5019\uff0c\u5bf9\u8c61\u7684\u5c5e\u6027\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002</p> Java<pre><code>public class UserService{\n\n    private UserDao userDao;\n\n    public void setUserDao(UserDao userDao){\n        this.userDao = userDao;\n    }\n\n}\n</code></pre> <p>\u90a3\u5982\u679c\u5bf9\u8c61\u7684\u5c5e\u6027\u662fint\u7c7b\u578b\u5462\uff1f</p> Java<pre><code>public class User{\n\n    private int age;\n\n    public void setAge(int age){\n        this.age = age;\n    }\n\n}\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7set\u6ce8\u5165\u7684\u65b9\u5f0f\u7ed9\u8be5\u5c5e\u6027\u8d4b\u503c\u5417\uff1f</p> <ul> <li>\u5f53\u7136\u53ef\u4ee5\u3002\u56e0\u4e3a\u53ea\u8981\u80fd\u591f\u8c03\u7528set\u65b9\u6cd5\u5c31\u53ef\u4ee5\u7ed9\u5c5e\u6027\u8d4b\u503c\u3002</li> </ul> <p>\u7f16\u5199\u7a0b\u5e8f\u7ed9\u4e00\u4e2aUser\u5bf9\u8c61\u7684age\u5c5e\u6027\u8d4b\u503c20\uff1a</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49User\u7c7b\uff0c\u63d0\u4f9bage\u5c5e\u6027\uff0c\u63d0\u4f9bage\u5c5e\u6027\u7684setter\u65b9\u6cd5\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    private int age;\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"age=\" + age +\n                '}';\n    }\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u7f16\u5199spring\u914d\u7f6e\u6587\u4ef6\uff1aspring-simple-type.xml</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.beans.User\"&gt;\n        &lt;!--\u5982\u679c\u50cf\u8fd9\u79cdint\u7c7b\u578b\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u79f0\u4e3a\u7b80\u5355\u7c7b\u578b\uff0c\u8fd9\u79cd\u7b80\u5355\u7c7b\u578b\u5728\u6ce8\u5165\u7684\u65f6\u5019\u8981\u4f7f\u7528value\u5c5e\u6027\uff0c\u4e0d\u80fd\u4f7f\u7528ref--&gt;\n        &lt;!--&lt;property name=\"age\" value=\"20\"/&gt;--&gt;\n        &lt;property name=\"age\"&gt;\n            &lt;value&gt;20&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>@Test\npublic void testSimpleType(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-simple-type.xml\");\n    User user = applicationContext.getBean(\"userBean\", User.class);\n    System.out.println(user);\n}\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u8fd0\u884c\u6d4b\u8bd5\u7a0b\u5e8f</p> <p></p> <p>\u9700\u8981\u7279\u522b\u6ce8\u610f\uff1a\u5982\u679c\u7ed9\u7b80\u5355\u7c7b\u578b\u8d4b\u503c\uff0c\u4f7f\u7528value\u5c5e\u6027\u6216value\u6807\u7b7e\u3002\u800c\u4e0d\u662fref\u3002</p> <p>\u7b80\u5355\u7c7b\u578b\u5305\u62ec\u54ea\u4e9b\u5462\uff1f\u53ef\u4ee5\u901a\u8fc7Spring\u7684\u6e90\u7801\u6765\u5206\u6790\u4e00\u4e0b\uff1aBeanUtils\u7c7b</p> Java<pre><code>public class BeanUtils{\n\n    //.......\n\n    /**\n     * Check if the given type represents a \"simple\" property: a simple value\n     * type or an array of simple value types.\n     * &lt;p&gt;See {@link #isSimpleValueType(Class)} for the definition of &lt;em&gt;simple\n     * value type&lt;/em&gt;.\n     * &lt;p&gt;Used to determine properties to check for a \"simple\" dependency-check.\n     * @param type the type to check\n     * @return whether the given type represents a \"simple\" property\n     * @see org.springframework.beans.factory.support.RootBeanDefinition#DEPENDENCY_CHECK_SIMPLE\n     * @see org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory#checkDependencies\n     * @see #isSimpleValueType(Class)\n     */\n    public static boolean isSimpleProperty(Class&lt;?&gt; type) {\n        Assert.notNull(type, \"'type' must not be null\");\n        return isSimpleValueType(type) || (type.isArray() &amp;&amp; isSimpleValueType(type.getComponentType()));\n    }\n\n    /**\n     * Check if the given type represents a \"simple\" value type: a primitive or\n     * primitive wrapper, an enum, a String or other CharSequence, a Number, a\n     * Date, a Temporal, a URI, a URL, a Locale, or a Class.\n     * &lt;p&gt;{@code Void} and {@code void} are not considered simple value types.\n     * @param type the type to check\n     * @return whether the given type represents a \"simple\" value type\n     * @see #isSimpleProperty(Class)\n     */\n    public static boolean isSimpleValueType(Class&lt;?&gt; type) {\n        return (Void.class != type &amp;&amp; void.class != type &amp;&amp;\n                (ClassUtils.isPrimitiveOrWrapper(type) ||\n                Enum.class.isAssignableFrom(type) ||\n                CharSequence.class.isAssignableFrom(type) ||\n                Number.class.isAssignableFrom(type) ||\n                Date.class.isAssignableFrom(type) ||\n                Temporal.class.isAssignableFrom(type) ||\n                URI.class == type ||\n                URL.class == type ||\n                Locale.class == type ||\n                Class.class == type));\n    }\n\n    //........\n}\n</code></pre> <p>\u901a\u8fc7\u6e90\u7801\u5206\u6790\u5f97\u77e5\uff0c\u7b80\u5355\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>\u57fa\u672c\u6570\u636e\u7c7b\u578b</li> <li>\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5bf9\u5e94\u7684\u5305\u88c5\u7c7b</li> <li>String\u6216\u5176\u4ed6\u7684CharSequence\u5b50\u7c7b</li> <li>Number\u5b50\u7c7b</li> <li>Date\u5b50\u7c7b</li> <li>Enum\u5b50\u7c7b</li> <li>URI</li> <li>URL</li> <li>Temporal\u5b50\u7c7b</li> <li>Locale</li> <li>Class</li> <li>\u53e6\u5916\u8fd8\u5305\u62ec\u4ee5\u4e0a\u7b80\u5355\u503c\u7c7b\u578b\u5bf9\u5e94\u7684\u6570\u7ec4\u7c7b\u578b\u3002</li> </ul> <p>\u7ecf\u5178\u6848\u4f8b\uff1a\u7ed9\u6570\u636e\u6e90\u7684\u5c5e\u6027\u6ce8\u5165\u503c\uff1a</p> <p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u8981\u81ea\u5df1\u624b\u5199\u4e00\u4e2a\u6570\u636e\u6e90\uff0c\u6211\u4eec\u90fd\u77e5\u9053\u6240\u6709\u7684\u6570\u636e\u6e90\u90fd\u8981\u5b9e\u73b0javax.sql.DataSource\u63a5\u53e3\uff0c\u5e76\u4e14\u6570\u636e\u6e90\u4e2d\u5e94\u8be5\u6709\u8fde\u63a5\u6570\u636e\u5e93\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\uff1adriver\u3001url\u3001username\u3001password\u7b49\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport javax.sql.DataSource;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.SQLFeatureNotSupportedException;\nimport java.util.logging.Logger;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyDataSource\n * @since 1.0\n **/\npublic class MyDataSource implements DataSource {\n    private String driver;\n    private String url;\n    private String username;\n    private String password;\n\n    public void setDriver(String driver) {\n        this.driver = driver;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyDataSource{\" +\n                \"driver='\" + driver + '\\'' +\n                \", url='\" + url + '\\'' +\n                \", username='\" + username + '\\'' +\n                \", password='\" + password + '\\'' +\n                '}';\n    }\n\n    @Override\n    public Connection getConnection() throws SQLException {\n        return null;\n    }\n\n    @Override\n    public Connection getConnection(String username, String password) throws SQLException {\n        return null;\n    }\n\n    @Override\n    public PrintWriter getLogWriter() throws SQLException {\n        return null;\n    }\n\n    @Override\n    public void setLogWriter(PrintWriter out) throws SQLException {\n\n    }\n\n    @Override\n    public void setLoginTimeout(int seconds) throws SQLException {\n\n    }\n\n    @Override\n    public int getLoginTimeout() throws SQLException {\n        return 0;\n    }\n\n    @Override\n    public Logger getParentLogger() throws SQLFeatureNotSupportedException {\n        return null;\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException {\n        return null;\n    }\n\n    @Override\n    public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException {\n        return false;\n    }\n}\n</code></pre> <p>\u6211\u4eec\u7ed9driver\u3001url\u3001username\u3001password\u56db\u4e2a\u5c5e\u6027\u5206\u522b\u63d0\u4f9b\u4e86setter\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528spring\u7684\u4f9d\u8d56\u6ce8\u5165\u5b8c\u6210\u6570\u636e\u6e90\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u5c5e\u6027\u7684\u8d4b\u503c\u5417\uff1f\u770b\u914d\u7f6e\u6587\u4ef6</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"dataSource\" class=\"com.powernode.spring6.beans.MyDataSource\"&gt;\n        &lt;property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"123456\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testDataSource(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-datasource.xml\");\n    MyDataSource dataSource = applicationContext.getBean(\"dataSource\", MyDataSource.class);\n    System.out.println(dataSource);\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u4f60\u5b66\u4f1a\u4e86\u5417\uff1f</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u628a\u6240\u6709\u7684\u7b80\u5355\u7c7b\u578b\u5168\u90e8\u6d4b\u8bd5\u4e00\u904d\uff1a</p> <p>\u7f16\u5199\u4e00\u4e2a\u7c7bA\uff1a</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.net.URI;\nimport java.net.URL;\nimport java.time.LocalDate;\nimport java.util.Date;\nimport java.util.Locale;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className A\n * @since 1.0\n **/\npublic class A {\n    private byte b;\n    private short s;\n    private int i;\n    private long l;\n    private float f;\n    private double d;\n    private boolean flag;\n    private char c;\n\n    private Byte b1;\n    private Short s1;\n    private Integer i1;\n    private Long l1;\n    private Float f1;\n    private Double d1;\n    private Boolean flag1;\n    private Character c1;\n\n    private String str;\n\n    private Date date;\n\n    private Season season;\n\n    private URI uri;\n\n    private URL url;\n\n    private LocalDate localDate;\n\n    private Locale locale;\n\n    private Class clazz;\n\n    // \u751f\u6210setter\u65b9\u6cd5\n    // \u751f\u6210toString\u65b9\u6cd5\n}\n\nenum Season {\n    SPRING, SUMMER, AUTUMN, WINTER\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"a\" class=\"com.powernode.spring6.beans.A\"&gt;\n        &lt;property name=\"b\" value=\"1\"/&gt;\n        &lt;property name=\"s\" value=\"1\"/&gt;\n        &lt;property name=\"i\" value=\"1\"/&gt;\n        &lt;property name=\"l\" value=\"1\"/&gt;\n        &lt;property name=\"f\" value=\"1\"/&gt;\n        &lt;property name=\"d\" value=\"1\"/&gt;\n        &lt;property name=\"flag\" value=\"false\"/&gt;\n\n        &lt;property name=\"c\" value=\"a\"/&gt;\n        &lt;property name=\"b1\" value=\"2\"/&gt;\n        &lt;property name=\"s1\" value=\"2\"/&gt;\n        &lt;property name=\"i1\" value=\"2\"/&gt;\n        &lt;property name=\"l1\" value=\"2\"/&gt;\n        &lt;property name=\"f1\" value=\"2\"/&gt;\n        &lt;property name=\"d1\" value=\"2\"/&gt;\n        &lt;property name=\"flag1\" value=\"true\"/&gt;\n        &lt;property name=\"c1\" value=\"a\"/&gt;\n\n        &lt;property name=\"str\" value=\"zhangsan\"/&gt;\n        &lt;!--\u6ce8\u610f\uff1avalue\u540e\u9762\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u683c\u5f0f\u4e0d\u80fd\u968f\u4fbf\u5199\uff0c\u5fc5\u987b\u662fDate\u5bf9\u8c61toString()\u65b9\u6cd5\u6267\u884c\u7684\u7ed3\u679c\u3002--&gt;\n        &lt;!--\u5982\u679c\u60f3\u4f7f\u7528\u5176\u4ed6\u683c\u5f0f\u7684\u65e5\u671f\u5b57\u7b26\u4e32\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u7279\u6b8a\u5904\u7406\u4e86\u3002\u5177\u4f53\u600e\u4e48\u5904\u7406\uff0c\u53ef\u4ee5\u770b\u540e\u9762\u7684\u8bfe\u7a0b\uff01\uff01\uff01\uff01--&gt;\n        &lt;property name=\"date\" value=\"Fri Sep 30 15:26:38 CST 2022\"/&gt;\n        &lt;property name=\"season\" value=\"WINTER\"/&gt;\n        &lt;property name=\"uri\" value=\"/save.do\"/&gt;\n        &lt;!--spring6\u4e4b\u540e\uff0c\u4f1a\u81ea\u52a8\u68c0\u67e5url\u662f\u5426\u6709\u6548\uff0c\u5982\u679c\u65e0\u6548\u4f1a\u62a5\u9519\u3002--&gt;\n        &lt;property name=\"url\" value=\"http://www.baidu.com\"/&gt;\n        &lt;property name=\"localDate\" value=\"EPOCH\"/&gt;\n        &lt;!--java.util.Locale \u4e3b\u8981\u5728\u8f6f\u4ef6\u7684\u672c\u5730\u5316\u65f6\u4f7f\u7528\u3002\u5b83\u672c\u8eab\u6ca1\u6709\u4ec0\u4e48\u529f\u80fd\uff0c\u66f4\u591a\u7684\u662f\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u6570\u8f85\u52a9\u5176\u4ed6\u65b9\u6cd5\u5b8c\u6210\u8f93\u51fa\u7684\u672c\u5730\u5316\u3002--&gt;\n        &lt;property name=\"locale\" value=\"CHINESE\"/&gt;\n        &lt;property name=\"clazz\" value=\"java.lang.String\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testAllSimpleType(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-all-simple-type.xml\");\n    A a = applicationContext.getBean(\"a\", A.class);\n    System.out.println(a);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a</p> <ul> <li>\u5982\u679c\u628aDate\u5f53\u505a\u7b80\u5355\u7c7b\u578b\u7684\u8bdd\uff0c\u65e5\u671f\u5b57\u7b26\u4e32\u683c\u5f0f\u4e0d\u80fd\u968f\u4fbf\u5199\u3002\u683c\u5f0f\u5fc5\u987b\u7b26\u5408Date\u7684toString()\u65b9\u6cd5\u683c\u5f0f\u3002\u663e\u7136\u8fd9\u5c31\u6bd4\u8f83\u9e21\u808b\u4e86\u3002\u5982\u679c\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u8fd9\u6837\u7684\u65e5\u671f\u5b57\u7b26\u4e32\uff1a2010-10-11\uff0c\u5728\u8fd9\u91cc\u662f\u65e0\u6cd5\u8d4b\u503c\u7ed9Date\u7c7b\u578b\u7684\u5c5e\u6027\u7684\u3002</li> <li>spring6\u4e4b\u540e\uff0c\u5f53\u6ce8\u5165\u7684\u662fURL\uff0c\u90a3\u4e48\u8fd9\u4e2aurl\u5b57\u7b26\u4e32\u662f\u4f1a\u8fdb\u884c\u6709\u6548\u6027\u68c0\u6d4b\u7684\u3002\u5982\u679c\u662f\u4e00\u4e2a\u5b58\u5728\u7684url\uff0c\u90a3\u5c31\u6ca1\u95ee\u9898\u3002\u5982\u679c\u4e0d\u5b58\u5728\u5219\u62a5\u9519\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#434","title":"4.3.4 \u7ea7\u8054\u5c5e\u6027\u8d4b\u503c\uff08\u4e86\u89e3\uff09","text":"Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Clazz\n * @since 1.0\n **/\npublic class Clazz {\n    private String name;\n\n    public Clazz() {\n    }\n\n    public Clazz(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return \"Clazz{\" +\n                \"name='\" + name + '\\'' +\n                '}';\n    }\n}\npackage com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Student\n * @since 1.0\n **/\npublic class Student {\n    private String name;\n    private Clazz clazz;\n\n    public Student() {\n    }\n\n    public Student(String name, Clazz clazz) {\n        this.name = name;\n        this.clazz = clazz;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setClazz(Clazz clazz) {\n        this.clazz = clazz;\n    }\n\n    public Clazz getClazz() {\n        return clazz;\n    }\n\n    @Override\n    public String toString() {\n        return \"Student{\" +\n                \"name='\" + name + '\\'' +\n                \", clazz=\" + clazz +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"clazzBean\" class=\"com.powernode.spring6.beans.Clazz\"/&gt;\n\n    &lt;bean id=\"student\" class=\"com.powernode.spring6.beans.Student\"&gt;\n        &lt;property name=\"name\" value=\"\u5f20\u4e09\"/&gt;\n\n        &lt;!--\u8981\u70b91\uff1a\u4ee5\u4e0b\u4e24\u884c\u914d\u7f6e\u7684\u987a\u5e8f\u4e0d\u80fd\u98a0\u5012--&gt;\n        &lt;property name=\"clazz\" ref=\"clazzBean\"/&gt;\n        &lt;!--\u8981\u70b92\uff1aclazz\u5c5e\u6027\u5fc5\u987b\u6709getter\u65b9\u6cd5--&gt;\n        &lt;property name=\"clazz.name\" value=\"\u9ad8\u4e09\u4e00\u73ed\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testCascade(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-cascade.xml\");\n    Student student = applicationContext.getBean(\"student\", Student.class);\n    System.out.println(student);\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8981\u70b9\uff1a</p> <ul> <li>\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0a\uff0c\u6ce8\u610f\u987a\u5e8f\u3002</li> <li>\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0cclazz\u5c5e\u6027\u5fc5\u987b\u63d0\u4f9bgetter\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#435","title":"4.3.5 \u6ce8\u5165\u6570\u7ec4","text":"<p>\u5f53\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u662f\u7b80\u5355\u7c7b\u578b\uff1a</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.Arrays;\n\npublic class Person {\n    private String[] favariteFoods;\n\n    public void setFavariteFoods(String[] favariteFoods) {\n        this.favariteFoods = favariteFoods;\n    }\n\n    @Override\n    public String toString() {\n        return \"Person{\" +\n                \"favariteFoods=\" + Arrays.toString(favariteFoods) +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"person\" class=\"com.powernode.spring6.beans.Person\"&gt;\n        &lt;property name=\"favariteFoods\"&gt;\n            &lt;array&gt;\n                &lt;value&gt;\u9e21\u6392&lt;/value&gt;\n                &lt;value&gt;\u6c49\u5821&lt;/value&gt;\n                &lt;value&gt;\u9e45\u809d&lt;/value&gt;\n            &lt;/array&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testArraySimple(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-array-simple.xml\");\n    Person person = applicationContext.getBean(\"person\", Person.class);\n    System.out.println(person);\n}\n</code></pre> <p>\u5f53\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u662f\u975e\u7b80\u5355\u7c7b\u578b\uff1a\u4e00\u4e2a\u8ba2\u5355\u4e2d\u5305\u542b\u591a\u4e2a\u5546\u54c1\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Goods\n * @since 1.0\n **/\npublic class Goods {\n    private String name;\n\n    public Goods() {\n    }\n\n    public Goods(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return \"Goods{\" +\n                \"name='\" + name + '\\'' +\n                '}';\n    }\n}\npackage com.powernode.spring6.beans;\n\nimport java.util.Arrays;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Order\n * @since 1.0\n **/\npublic class Order {\n    // \u4e00\u4e2a\u8ba2\u5355\u4e2d\u6709\u591a\u4e2a\u5546\u54c1\n    private Goods[] goods;\n\n    public Order() {\n    }\n\n    public Order(Goods[] goods) {\n        this.goods = goods;\n    }\n\n    public void setGoods(Goods[] goods) {\n        this.goods = goods;\n    }\n\n    @Override\n    public String toString() {\n        return \"Order{\" +\n                \"goods=\" + Arrays.toString(goods) +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"goods1\" class=\"com.powernode.spring6.beans.Goods\"&gt;\n        &lt;property name=\"name\" value=\"\u897f\u74dc\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"goods2\" class=\"com.powernode.spring6.beans.Goods\"&gt;\n        &lt;property name=\"name\" value=\"\u82f9\u679c\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"order\" class=\"com.powernode.spring6.beans.Order\"&gt;\n        &lt;property name=\"goods\"&gt;\n            &lt;array&gt;\n                &lt;!--\u8fd9\u91cc\u4f7f\u7528ref\u6807\u7b7e\u5373\u53ef--&gt;\n                &lt;ref bean=\"goods1\"/&gt;\n                &lt;ref bean=\"goods2\"/&gt;\n            &lt;/array&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testArray(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-array.xml\");\n    Order order = applicationContext.getBean(\"order\", Order.class);\n    System.out.println(order);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8981\u70b9\uff1a</p> <ul> <li>\u5982\u679c\u6570\u7ec4\u4e2d\u662f\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528value\u6807\u7b7e\u3002</li> <li>\u5982\u679c\u6570\u7ec4\u4e2d\u662f\u975e\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528ref\u6807\u7b7e\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#436-list","title":"4.3.6 \u6ce8\u5165List\u96c6\u5408","text":"<p>List\u96c6\u5408\uff1a\u6709\u5e8f\u53ef\u91cd\u590d</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.List;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className People\n * @since 1.0\n **/\npublic class People {\n    // \u4e00\u4e2a\u4eba\u6709\u591a\u4e2a\u540d\u5b57\n    private List&lt;String&gt; names;\n\n    public void setNames(List&lt;String&gt; names) {\n        this.names = names;\n    }\n\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"names=\" + names +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"peopleBean\" class=\"com.powernode.spring6.beans.People\"&gt;\n        &lt;property name=\"names\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;\u94c1\u9524&lt;/value&gt;\n                &lt;value&gt;\u5f20\u4e09&lt;/value&gt;\n                &lt;value&gt;\u5f20\u4e09&lt;/value&gt;\n                &lt;value&gt;\u5f20\u4e09&lt;/value&gt;\n                &lt;value&gt;\u72fc&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testCollection(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-collection.xml\");\n    People peopleBean = applicationContext.getBean(\"peopleBean\", People.class);\n    System.out.println(peopleBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6ce8\u610f\uff1a\u6ce8\u5165List\u96c6\u5408\u7684\u65f6\u5019\u4f7f\u7528list\u6807\u7b7e\uff0c\u5982\u679cList\u96c6\u5408\u4e2d\u662f\u7b80\u5355\u7c7b\u578b\u4f7f\u7528value\u6807\u7b7e\uff0c\u53cd\u4e4b\u4f7f\u7528ref\u6807\u7b7e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#437-set","title":"4.3.7 \u6ce8\u5165Set\u96c6\u5408","text":"<p>Set\u96c6\u5408\uff1a\u65e0\u5e8f\u4e0d\u53ef\u91cd\u590d</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.List;\nimport java.util.Set;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className People\n * @since 1.0\n **/\npublic class People {\n    // \u4e00\u4e2a\u4eba\u6709\u591a\u4e2a\u7535\u8bdd\n    private Set&lt;String&gt; phones;\n\n    public void setPhones(Set&lt;String&gt; phones) {\n        this.phones = phones;\n    }\n\n    //......\n\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"phones=\" + phones +\n                \", names=\" + names +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"peopleBean\" class=\"com.powernode.spring6.beans.People\"&gt;\n        &lt;property name=\"phones\"&gt;\n            &lt;set&gt;\n                &lt;!--\u975e\u7b80\u5355\u7c7b\u578b\u53ef\u4ee5\u4f7f\u7528ref\uff0c\u7b80\u5355\u7c7b\u578b\u4f7f\u7528value--&gt;\n                &lt;value&gt;110&lt;/value&gt;\n                &lt;value&gt;110&lt;/value&gt;\n                &lt;value&gt;120&lt;/value&gt;\n                &lt;value&gt;120&lt;/value&gt;\n                &lt;value&gt;119&lt;/value&gt;\n                &lt;value&gt;119&lt;/value&gt;\n            &lt;/set&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8981\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528\u6807\u7b7e <li>set\u96c6\u5408\u4e2d\u5143\u7d20\u662f\u7b80\u5355\u7c7b\u578b\u7684\u4f7f\u7528value\u6807\u7b7e\uff0c\u53cd\u4e4b\u4f7f\u7528ref\u6807\u7b7e\u3002</li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#438-map","title":"4.3.8 \u6ce8\u5165Map\u96c6\u5408","text":"Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className People\n * @since 1.0\n **/\npublic class People {\n    // \u4e00\u4e2a\u4eba\u6709\u591a\u4e2a\u4f4f\u5740\n    private Map&lt;Integer, String&gt; addrs;\n\n    public void setAddrs(Map&lt;Integer, String&gt; addrs) {\n        this.addrs = addrs;\n    }\n\n    //......\n\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"addrs=\" + addrs +\n                \", phones=\" + phones +\n                \", names=\" + names +\n                '}';\n    }\n\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"peopleBean\" class=\"com.powernode.spring6.beans.People\"&gt;\n        &lt;property name=\"addrs\"&gt;\n            &lt;map&gt;\n                &lt;!--\u5982\u679ckey\u4e0d\u662f\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528 key-ref \u5c5e\u6027--&gt;\n                &lt;!--\u5982\u679cvalue\u4e0d\u662f\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528 value-ref \u5c5e\u6027--&gt;\n                &lt;entry key=\"1\" value=\"\u5317\u4eac\u5927\u5174\u533a\"/&gt;\n                &lt;entry key=\"2\" value=\"\u4e0a\u6d77\u6d66\u4e1c\u533a\"/&gt;\n                &lt;entry key=\"3\" value=\"\u6df1\u5733\u5b9d\u5b89\u533a\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8981\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528\u6807\u7b7e <li>\u5982\u679ckey\u662f\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528 key \u5c5e\u6027\uff0c\u53cd\u4e4b\u4f7f\u7528 key-ref \u5c5e\u6027\u3002</li> <li>\u5982\u679cvalue\u662f\u7b80\u5355\u7c7b\u578b\uff0c\u4f7f\u7528 value \u5c5e\u6027\uff0c\u53cd\u4e4b\u4f7f\u7528 value-ref \u5c5e\u6027\u3002</li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#439-properties","title":"4.3.9 \u6ce8\u5165Properties","text":"<p>java.util.Properties\u7ee7\u627fjava.util.Hashtable\uff0c\u6240\u4ee5Properties\u4e5f\u662f\u4e00\u4e2aMap\u96c6\u5408\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.Set;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className People\n * @since 1.0\n **/\npublic class People {\n\n    private Properties properties;\n\n    public void setProperties(Properties properties) {\n        this.properties = properties;\n    }\n\n    //......\n\n    @Override\n    public String toString() {\n        return \"People{\" +\n                \"properties=\" + properties +\n                \", addrs=\" + addrs +\n                \", phones=\" + phones +\n                \", names=\" + names +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"peopleBean\" class=\"com.powernode.spring6.beans.People\"&gt;\n        &lt;property name=\"properties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"driver\"&gt;com.mysql.cj.jdbc.Driver&lt;/prop&gt;\n                &lt;prop key=\"url\"&gt;jdbc:mysql://localhost:3306/spring&lt;/prop&gt;\n                &lt;prop key=\"username\"&gt;root&lt;/prop&gt;\n                &lt;prop key=\"password\"&gt;123456&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u8981\u70b9\uff1a</p> <ul> <li>\u4f7f\u7528\u6807\u7b7e\u5d4c\u5957\u6807\u7b7e\u5b8c\u6210\u3002"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#4310-null","title":"4.3.10 \u6ce8\u5165null\u548c\u7a7a\u5b57\u7b26\u4e32","text":"<p>\u6ce8\u5165\u7a7a\u5b57\u7b26\u4e32\u4f7f\u7528\uff1a \u6216\u8005 value=\"\"</p> <p>\u6ce8\u5165null\u4f7f\u7528\uff1a \u6216\u8005 \u4e0d\u4e3a\u8be5\u5c5e\u6027\u8d4b\u503c</p> <ul> <li>\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\uff0c\u600e\u4e48\u6ce8\u5165\u7a7a\u5b57\u7b26\u4e32\u3002</li> </ul> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Vip\n * @since 1.0\n **/\npublic class Vip {\n    private String email;\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Override\n    public String toString() {\n        return \"Vip{\" +\n                \"email='\" + email + '\\'' +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"vipBean\" class=\"com.powernode.spring6.beans.Vip\"&gt;\n        &lt;!--\u7a7a\u4e32\u7684\u7b2c\u4e00\u79cd\u65b9\u5f0f--&gt;\n        &lt;!--&lt;property name=\"email\" value=\"\"/&gt;--&gt;\n        &lt;!--\u7a7a\u4e32\u7684\u7b2c\u4e8c\u79cd\u65b9\u5f0f--&gt;\n        &lt;property name=\"email\"&gt;\n            &lt;value/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testNull(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-null.xml\");\n    Vip vipBean = applicationContext.getBean(\"vipBean\", Vip.class);\n    System.out.println(vipBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <ul> <li>\u600e\u4e48\u6ce8\u5165null\u5462\uff1f</li> </ul> <p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1a\u4e0d\u7ed9\u5c5e\u6027\u8d4b\u503c</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"vipBean\" class=\"com.powernode.spring6.beans.Vip\" /&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1a\u4f7f\u7528</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"vipBean\" class=\"com.powernode.spring6.beans.Vip\"&gt;\n        &lt;property name=\"email\"&gt;\n            &lt;null/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#4311","title":"4.3.11 \u6ce8\u5165\u7684\u503c\u4e2d\u542b\u6709\u7279\u6b8a\u7b26\u53f7","text":"<p>XML\u4e2d\u67095\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u5206\u522b\u662f\uff1a&lt;\u3001&gt;\u3001'\u3001\"\u3001&amp;</p> <p>\u4ee5\u4e0a5\u4e2a\u7279\u6b8a\u7b26\u53f7\u5728XML\u4e2d\u4f1a\u88ab\u7279\u6b8a\u5bf9\u5f85\uff0c\u4f1a\u88ab\u5f53\u505aXML\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u8fdb\u884c\u89e3\u6790\uff0c\u5982\u679c\u8fd9\u4e9b\u7279\u6b8a\u7b26\u53f7\u76f4\u63a5\u51fa\u73b0\u5728\u6ce8\u5165\u7684\u5b57\u7b26\u4e32\u5f53\u4e2d\uff0c\u4f1a\u62a5\u9519\u3002</p> <p></p> <p>\u89e3\u51b3\u65b9\u6848\u5305\u62ec\u4e24\u79cd\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\uff1a\u7279\u6b8a\u7b26\u53f7\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u4ee3\u66ff\u3002</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u5c06\u542b\u6709\u7279\u6b8a\u7b26\u53f7\u7684\u5b57\u7b26\u4e32\u653e\u5230\uff1a&lt;![CDATA[]]&gt; \u5f53\u4e2d\u3002\u56e0\u4e3a\u653e\u5728CDATA\u533a\u4e2d\u7684\u6570\u636e\u4e0d\u4f1a\u88abXML\u6587\u4ef6\u89e3\u6790\u5668\u89e3\u6790\u3002</li> </ul> <p>5\u4e2a\u7279\u6b8a\u5b57\u7b26\u5bf9\u5e94\u7684\u8f6c\u4e49\u5b57\u7b26\u5206\u522b\u662f\uff1a</p> \u7279\u6b8a\u5b57\u7b26 \u8f6c\u4e49\u5b57\u7b26 &gt; &gt; &lt; &lt; ' ' \" \" &amp; &amp; <p>\u5148\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u6765\u4ee3\u66ff\uff1a</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Math\n * @since 1.0\n **/\npublic class Math {\n    private String result;\n\n    public void setResult(String result) {\n        this.result = result;\n    }\n\n    @Override\n    public String toString() {\n        return \"Math{\" +\n                \"result='\" + result + '\\'' +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"mathBean\" class=\"com.powernode.spring6.beans.Math\"&gt;\n        &lt;property name=\"result\" value=\"2 &amp;lt; 3\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testSpecial(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-special.xml\");\n    Math mathBean = applicationContext.getBean(\"mathBean\", Math.class);\n    System.out.println(mathBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u518d\u6765\u4f7f\u7528CDATA\u65b9\u5f0f\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"mathBean\" class=\"com.powernode.spring6.beans.Math\"&gt;\n        &lt;property name=\"result\"&gt;\n            &lt;!--\u53ea\u80fd\u4f7f\u7528value\u6807\u7b7e--&gt;\n            &lt;value&gt;&lt;![CDATA[2 &lt; 3]]&gt;&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u4f7f\u7528CDATA\u65f6\uff0c\u4e0d\u80fd\u4f7f\u7528value\u5c5e\u6027\uff0c\u53ea\u80fd\u4f7f\u7528value\u6807\u7b7e\u3002</p> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#44-p","title":"4.4 p\u547d\u540d\u7a7a\u95f4\u6ce8\u5165","text":"<p>\u76ee\u7684\uff1a\u7b80\u5316\u914d\u7f6e\u3002</p> <p>\u4f7f\u7528p\u547d\u540d\u7a7a\u95f4\u6ce8\u5165\u7684\u524d\u63d0\u6761\u4ef6\u5305\u62ec\u4e24\u4e2a\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u5728XML\u5934\u90e8\u4fe1\u606f\u4e2d\u6dfb\u52a0p\u547d\u540d\u7a7a\u95f4\u7684\u914d\u7f6e\u4fe1\u606f\uff1axmlns:p=\"http://www.springframework.org/schema/p\"</li> <li>\u7b2c\u4e8c\uff1ap\u547d\u540d\u7a7a\u95f4\u6ce8\u5165\u662f\u57fa\u4e8esetter\u65b9\u6cd5\u7684\uff0c\u6240\u4ee5\u9700\u8981\u5bf9\u5e94\u7684\u5c5e\u6027\u63d0\u4f9bsetter\u65b9\u6cd5\u3002</li> </ul> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Customer\n * @since 1.0\n **/\npublic class Customer {\n    private String name;\n    private int age;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"Customer{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:p=\"http://www.springframework.org/schema/p\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"customerBean\" class=\"com.powernode.spring6.beans.Customer\" p:name=\"zhangsan\" p:age=\"20\"/&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testP(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-p.xml\");\n    Customer customerBean = applicationContext.getBean(\"customerBean\", Customer.class);\n    System.out.println(customerBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u628asetter\u65b9\u6cd5\u53bb\u6389\uff1a</p> <p></p> <p>\u6240\u4ee5p\u547d\u540d\u7a7a\u95f4\u5b9e\u9645\u4e0a\u662f\u5bf9set\u6ce8\u5165\u7684\u7b80\u5316\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#45-c","title":"4.5 c\u547d\u540d\u7a7a\u95f4\u6ce8\u5165","text":"<p>c\u547d\u540d\u7a7a\u95f4\u662f\u7b80\u5316\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u7684\u3002</p> <p>\u4f7f\u7528c\u547d\u540d\u7a7a\u95f4\u7684\u4e24\u4e2a\u524d\u63d0\u6761\u4ef6\uff1a</p> <p>\u7b2c\u4e00\uff1a\u9700\u8981\u5728xml\u914d\u7f6e\u6587\u4ef6\u5934\u90e8\u6dfb\u52a0\u4fe1\u606f\uff1axmlns:c=\"http://www.springframework.org/schema/c\"</p> <p>\u7b2c\u4e8c\uff1a\u9700\u8981\u63d0\u4f9b\u6784\u9020\u65b9\u6cd5\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyTime\n * @since 1.0\n **/\npublic class MyTime {\n    private int year;\n    private int month;\n    private int day;\n\n    public MyTime(int year, int month, int day) {\n        this.year = year;\n        this.month = month;\n        this.day = day;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyTime{\" +\n                \"year=\" + year +\n                \", month=\" + month +\n                \", day=\" + day +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:c=\"http://www.springframework.org/schema/c\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!--&lt;bean id=\"myTimeBean\" class=\"com.powernode.spring6.beans.MyTime\" c:year=\"1970\" c:month=\"1\" c:day=\"1\"/&gt;--&gt;\n\n    &lt;bean id=\"myTimeBean\" class=\"com.powernode.spring6.beans.MyTime\" c:_0=\"2008\" c:_1=\"8\" c:_2=\"8\"/&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testC(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-c.xml\");\n    MyTime myTimeBean = applicationContext.getBean(\"myTimeBean\", MyTime.class);\n    System.out.println(myTimeBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u628a\u6784\u9020\u65b9\u6cd5\u6ce8\u91ca\u6389\uff1a</p> <p></p> <p>\u6240\u4ee5\uff0cc\u547d\u540d\u7a7a\u95f4\u662f\u4f9d\u9760\u6784\u9020\u65b9\u6cd5\u7684\u3002</p> <p>\u6ce8\u610f\uff1a\u4e0d\u7ba1\u662fp\u547d\u540d\u7a7a\u95f4\u8fd8\u662fc\u547d\u540d\u7a7a\u95f4\uff0c\u6ce8\u5165\u7684\u65f6\u5019\u90fd\u53ef\u4ee5\u6ce8\u5165\u7b80\u5355\u7c7b\u578b\u4ee5\u53ca\u975e\u7b80\u5355\u7c7b\u578b\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#46-util","title":"4.6 util\u547d\u540d\u7a7a\u95f4","text":"<p>\u4f7f\u7528util\u547d\u540d\u7a7a\u95f4\u53ef\u4ee5\u8ba9\u914d\u7f6e\u590d\u7528\u3002</p> <p>\u4f7f\u7528util\u547d\u540d\u7a7a\u95f4\u7684\u524d\u63d0\u662f\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u5934\u90e8\u6dfb\u52a0\u914d\u7f6e\u4fe1\u606f\u3002\u5982\u4e0b\uff1a</p> <p></p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport java.util.Properties;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyDataSource1\n * @since 1.0\n **/\npublic class MyDataSource1 {\n    private Properties properties;\n\n    public void setProperties(Properties properties) {\n        this.properties = properties;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyDataSource1{\" +\n                \"properties=\" + properties +\n                '}';\n    }\n}\npackage com.powernode.spring6.beans;\n\nimport java.util.Properties;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyDataSource2\n * @since 1.0\n **/\npublic class MyDataSource2 {\n    private Properties properties;\n\n    public void setProperties(Properties properties) {\n        this.properties = properties;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyDataSource2{\" +\n                \"properties=\" + properties +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:util=\"http://www.springframework.org/schema/util\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\"&gt;\n\n    &lt;util:properties id=\"prop\"&gt;\n        &lt;prop key=\"driver\"&gt;com.mysql.cj.jdbc.Driver&lt;/prop&gt;\n        &lt;prop key=\"url\"&gt;jdbc:mysql://localhost:3306/spring&lt;/prop&gt;\n        &lt;prop key=\"username\"&gt;root&lt;/prop&gt;\n        &lt;prop key=\"password\"&gt;123456&lt;/prop&gt;\n    &lt;/util:properties&gt;\n\n    &lt;bean id=\"dataSource1\" class=\"com.powernode.spring6.beans.MyDataSource1\"&gt;\n        &lt;property name=\"properties\" ref=\"prop\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource2\" class=\"com.powernode.spring6.beans.MyDataSource2\"&gt;\n        &lt;property name=\"properties\" ref=\"prop\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testUtil(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-util.xml\");\n\n    MyDataSource1 dataSource1 = applicationContext.getBean(\"dataSource1\", MyDataSource1.class);\n    System.out.println(dataSource1);\n\n    MyDataSource2 dataSource2 = applicationContext.getBean(\"dataSource2\", MyDataSource2.class);\n    System.out.println(dataSource2);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#47-xml","title":"4.7 \u57fa\u4e8eXML\u7684\u81ea\u52a8\u88c5\u914d","text":"<p>Spring\u8fd8\u53ef\u4ee5\u5b8c\u6210\u81ea\u52a8\u5316\u7684\u6ce8\u5165\uff0c\u81ea\u52a8\u5316\u6ce8\u5165\u53c8\u88ab\u79f0\u4e3a\u81ea\u52a8\u88c5\u914d\u3002\u5b83\u53ef\u4ee5\u6839\u636e\u540d\u5b57\u8fdb\u884c\u81ea\u52a8\u88c5\u914d\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u7c7b\u578b\u8fdb\u884c\u81ea\u52a8\u88c5\u914d\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#471","title":"4.7.1 \u6839\u636e\u540d\u79f0\u81ea\u52a8\u88c5\u914d","text":"Java<pre><code>package com.powernode.spring6.dao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserDao\n * @since 1.0\n **/\npublic class UserDao {\n\n    public void insert(){\n        System.out.println(\"\u6b63\u5728\u4fdd\u5b58\u7528\u6237\u6570\u636e\u3002\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n\n    private UserDao aaa;\n\n    // \u8fd9\u4e2aset\u65b9\u6cd5\u975e\u5e38\u5173\u952e\n    public void setAaa(UserDao aaa) {\n        this.aaa = aaa;\n    }\n\n    public void save(){\n        aaa.insert();\n    }\n}\n</code></pre> <p>Spring\u7684\u914d\u7f6e\u6587\u4ef6\u8fd9\u6837\u914d\u7f6e\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userService\" class=\"com.powernode.spring6.service.UserService\" autowire=\"byName\"/&gt;\n\n    &lt;bean id=\"aaa\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u8fd9\u4e2a\u914d\u7f6e\u8d77\u5230\u5173\u952e\u4f5c\u7528\uff1a</p> <ul> <li>UserService Bean\u4e2d\u9700\u8981\u6dfb\u52a0autowire=\"byName\"\uff0c\u8868\u793a\u901a\u8fc7\u540d\u79f0\u8fdb\u884c\u88c5\u914d\u3002</li> <li>UserService\u7c7b\u4e2d\u6709\u4e00\u4e2aUserDao\u5c5e\u6027\uff0c\u800cUserDao\u5c5e\u6027\u7684\u540d\u5b57\u662faaa\uff0c\u5bf9\u5e94\u7684set\u65b9\u6cd5\u662fsetAaa()\uff0c\u6b63\u597d\u548cUserDao Bean\u7684id\u662f\u4e00\u6837\u7684\u3002\u8fd9\u5c31\u662f\u6839\u636e\u540d\u79f0\u81ea\u52a8\u88c5\u914d\u3002</li> </ul> Java<pre><code>@Test\npublic void testAutowireByName(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-autowire.xml\");\n    UserService userService = applicationContext.getBean(\"userService\", UserService.class);\n    userService.save();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff0cbyName\u88c5\u914d\u662f\u548c\u5c5e\u6027\u540d\u6709\u5173\u8fd8\u662f\u548cset\u65b9\u6cd5\u540d\u6709\u5173\u7cfb\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n    // \u8fd9\u91cc\u6ca1\u4fee\u6539\n    private UserDao aaa;\n\n    /*public void setAaa(UserDao aaa) {\n        this.aaa = aaa;\n    }*/\n\n    // set\u65b9\u6cd5\u540d\u53d8\u5316\u4e86\n    public void setDao(UserDao aaa){\n        this.aaa = aaa;\n    }\n\n    public void save(){\n        aaa.insert();\n    }\n}\n</code></pre> <p>\u5728\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0caaa\u5c5e\u6027\u5e76\u6ca1\u6709\u8d4b\u503c\u6210\u529f\u3002\u4e5f\u5c31\u662f\u5e76\u6ca1\u6709\u88c5\u914d\u6210\u529f\u3002</p> <p>\u6211\u4eec\u5c06spring\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u4ee5\u4e0b\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n  &lt;bean id=\"userService\" class=\"com.powernode.spring6.service.UserService\" autowire=\"byName\"/&gt;\n  &lt;!--\u8fd9\u4e2aid\u4fee\u6539\u4e86--&gt;\n  &lt;bean id=\"dao\" class=\"com.powernode.spring6.dao.UserDao\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u8fd9\u8bf4\u660e\uff0c\u5982\u679c\u6839\u636e\u540d\u79f0\u88c5\u914d(byName)\uff0c\u5e95\u5c42\u4f1a\u8c03\u7528set\u65b9\u6cd5\u8fdb\u884c\u6ce8\u5165\u3002</p> <p>\u4f8b\u5982\uff1asetAge() \u5bf9\u5e94\u7684\u540d\u5b57\u662fage\uff0csetPassword()\u5bf9\u5e94\u7684\u540d\u5b57\u662fpassword\uff0csetEmail()\u5bf9\u5e94\u7684\u540d\u5b57\u662femail\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#472","title":"4.7.2 \u6839\u636e\u7c7b\u578b\u81ea\u52a8\u88c5\u914d","text":"Java<pre><code>package com.powernode.spring6.dao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountDao\n * @since 1.0\n **/\npublic class AccountDao {\n    public void insert(){\n        System.out.println(\"\u6b63\u5728\u4fdd\u5b58\u8d26\u6237\u4fe1\u606f\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.AccountDao;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountService\n * @since 1.0\n **/\npublic class AccountService {\n    private AccountDao accountDao;\n\n    public void setAccountDao(AccountDao accountDao) {\n        this.accountDao = accountDao;\n    }\n\n    public void save(){\n        accountDao.insert();\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!--byType\u8868\u793a\u6839\u636e\u7c7b\u578b\u81ea\u52a8\u88c5\u914d--&gt;\n    &lt;bean id=\"accountService\" class=\"com.powernode.spring6.service.AccountService\" autowire=\"byType\"/&gt;\n\n    &lt;bean class=\"com.powernode.spring6.dao.AccountDao\"/&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testAutowireByType(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-autowire.xml\");\n    AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n    accountService.save();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u628aUserService\u4e2d\u7684set\u65b9\u6cd5\u6ce8\u91ca\u6389\uff0c\u518d\u6267\u884c\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u65e0\u8bba\u662fbyName\u8fd8\u662fbyType\uff0c\u5728\u88c5\u914d\u7684\u65f6\u5019\u90fd\u662f\u57fa\u4e8eset\u65b9\u6cd5\u7684\u3002\u6240\u4ee5set\u65b9\u6cd5\u662f\u5fc5\u987b\u8981\u63d0\u4f9b\u7684\u3002\u63d0\u4f9b\u6784\u9020\u65b9\u6cd5\u662f\u4e0d\u884c\u7684\uff0c\u5927\u5bb6\u53ef\u4ee5\u6d4b\u8bd5\u4e00\u4e0b\u3002\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u5982\u679cbyType\uff0c\u6839\u636e\u7c7b\u578b\u88c5\u914d\u65f6\uff0c\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u4e24\u4e2a\u7c7b\u578b\u4e00\u6837\u7684bean\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898\u5462\uff1f</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"accountService\" class=\"com.powernode.spring6.service.AccountService\" autowire=\"byType\"/&gt;\n\n    &lt;bean id=\"x\" class=\"com.powernode.spring6.dao.AccountDao\"/&gt;\n    &lt;bean id=\"y\" class=\"com.powernode.spring6.dao.AccountDao\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u6d4b\u8bd5\u7ed3\u679c\u8bf4\u660e\u4e86\uff0c\u5f53byType\u8fdb\u884c\u81ea\u52a8\u88c5\u914d\u7684\u65f6\u5019\uff0c\u914d\u7f6e\u6587\u4ef6\u4e2d\u67d0\u79cd\u7c7b\u578b\u7684Bean\u5fc5\u987b\u662f\u552f\u4e00\u7684\uff0c\u4e0d\u80fd\u51fa\u73b0\u591a\u4e2a\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#48-spring","title":"4.8 Spring\u5f15\u5165\u5916\u90e8\u5c5e\u6027\u914d\u7f6e\u6587\u4ef6","text":"<p>\u6211\u4eec\u90fd\u77e5\u9053\u7f16\u5199\u6570\u636e\u6e90\u7684\u65f6\u5019\u662f\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\u7684\u4fe1\u606f\u7684\uff0c\u4f8b\u5982\uff1adriver url username password\u7b49\u4fe1\u606f\u3002\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u5355\u72ec\u5199\u5230\u4e00\u4e2a\u5c5e\u6027\u914d\u7f6e\u6587\u4ef6\u4e2d\u5417\uff0c\u8fd9\u6837\u7528\u6237\u4fee\u6539\u8d77\u6765\u4f1a\u66f4\u52a0\u7684\u65b9\u4fbf\u3002\u5f53\u7136\u53ef\u4ee5\u3002</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5199\u4e00\u4e2a\u6570\u636e\u6e90\u7c7b\uff0c\u63d0\u4f9b\u76f8\u5173\u5c5e\u6027\u3002</p> Java<pre><code>package com.powernode.spring6.beans;\n\nimport javax.sql.DataSource;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.SQLFeatureNotSupportedException;\nimport java.util.logging.Logger;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyDataSource\n * @since 1.0\n **/\npublic class MyDataSource implements DataSource {\n    @Override\n    public String toString() {\n        return \"MyDataSource{\" +\n                \"driver='\" + driver + '\\'' +\n                \", url='\" + url + '\\'' +\n                \", username='\" + username + '\\'' +\n                \", password='\" + password + '\\'' +\n                '}';\n    }\n\n    private String driver;\n    private String url;\n    private String username;\n    private String password;\n\n    public void setDriver(String driver) {\n        this.driver = driver;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    //......\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728\u7c7b\u8def\u5f84\u4e0b\u65b0\u5efajdbc.properties\u6587\u4ef6\uff0c\u5e76\u914d\u7f6e\u4fe1\u606f\u3002</p> Properties<pre><code>driver=com.mysql.cj.jdbc.Driver\nurl=jdbc:mysql://localhost:3306/spring\nusername=root\npassword=root123\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165context\u547d\u540d\u7a7a\u95f4\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u5728spring\u4e2d\u914d\u7f6e\u4f7f\u7528jdbc.properties\u6587\u4ef6\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:property-placeholder location=\"jdbc.properties\"/&gt;\n\n    &lt;bean id=\"dataSource\" class=\"com.powernode.spring6.beans.MyDataSource\"&gt;\n        &lt;property name=\"driver\" value=\"${driver}\"/&gt;\n        &lt;property name=\"url\" value=\"${url}\"/&gt;\n        &lt;property name=\"username\" value=\"${username}\"/&gt;\n        &lt;property name=\"password\" value=\"${password}\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testProperties(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-properties.xml\");\n    MyDataSource dataSource = applicationContext.getBean(\"dataSource\", MyDataSource.class);\n    System.out.println(dataSource);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean","title":"\u4e94\u3001Bean\u7684\u4f5c\u7528\u57df","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#51-singleton","title":"5.1 singleton","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cSpring\u7684IoC\u5bb9\u5668\u521b\u5efa\u7684Bean\u5bf9\u8c61\u662f\u5355\u4f8b\u7684\u3002\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SpringBean\n * @since 1.0\n **/\npublic class SpringBean {\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"sb\" class=\"com.powernode.spring6.beans.SpringBean\" /&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n\n    SpringBean sb1 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb1);\n\n    SpringBean sb2 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb2);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff1aSpring\u7684IoC\u5bb9\u5668\u4e2d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBean\u5bf9\u8c61\u662f\u5355\u4f8b\u7684\u3002</p> <p>\u8fd9\u4e2a\u5bf9\u8c61\u5728\u4ec0\u4e48\u65f6\u5019\u521b\u5efa\u7684\u5462\uff1f\u53ef\u4ee5\u4e3aSpringBean\u63d0\u4f9b\u4e00\u4e2a\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\uff0c\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.beans;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SpringBean\n * @since 1.0\n **/\npublic class SpringBean {\n    public SpringBean() {\n        System.out.println(\"SpringBean\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\u3002\");\n    }\n}\n</code></pre> <p>\u5c06\u6d4b\u8bd5\u7a0b\u5e8f\u4e2dgetBean()\u6240\u5728\u884c\u4ee3\u7801\u6ce8\u91ca\u6389\uff1a</p> Java<pre><code>@Test\npublic void testScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBean\u5bf9\u8c61\u7684\u521b\u5efa\u662f\u5728\u521d\u59cb\u5316Spring\u4e0a\u4e0b\u6587\u7684\u65f6\u5019\u5c31\u5b8c\u6210\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#52-prototype","title":"5.2 prototype","text":"<p>\u5982\u679c\u60f3\u8ba9Spring\u7684Bean\u5bf9\u8c61\u4ee5\u591a\u4f8b\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u53ef\u4ee5\u5728bean\u6807\u7b7e\u4e2d\u6307\u5b9ascope\u5c5e\u6027\u7684\u503c\u4e3a\uff1aprototype\uff0c\u8fd9\u6837Spring\u4f1a\u5728\u6bcf\u4e00\u6b21\u6267\u884cgetBean()\u65b9\u6cd5\u7684\u65f6\u5019\u521b\u5efaBean\u5bf9\u8c61\uff0c\u8c03\u7528\u51e0\u6b21\u5219\u521b\u5efa\u51e0\u6b21\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"sb\" class=\"com.powernode.spring6.beans.SpringBean\" scope=\"prototype\" /&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n\n    SpringBean sb1 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb1);\n\n    SpringBean sb2 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb2);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u628a\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u7684getBean()\u65b9\u6cd5\u6240\u5728\u884c\u4ee3\u7801\u6ce8\u91ca\u6389\uff1a</p> Java<pre><code>@Test\npublic void testScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u8fd9\u4e00\u6b21\u5728\u521d\u59cb\u5316Spring\u4e0a\u4e0b\u6587\u7684\u65f6\u5019\uff0c\u5e76\u6ca1\u6709\u521b\u5efaBean\u5bf9\u8c61\u3002</p> <p>\u90a3\u4f60\u53ef\u80fd\u4f1a\u95ee\uff1ascope\u5982\u679c\u6ca1\u6709\u914d\u7f6e\uff0c\u5b83\u7684\u9ed8\u8ba4\u503c\u662f\u4ec0\u4e48\u5462\uff1f\u9ed8\u8ba4\u503c\u662fsingleton\uff0c\u5355\u4f8b\u7684\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"sb\" class=\"com.powernode.spring6.beans.SpringBean\" scope=\"singleton\" /&gt;\n\n&lt;/beans&gt;\n@Test\npublic void testScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n\n    SpringBean sb1 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb1);\n\n    SpringBean sb2 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb2);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u6ca1\u6709\u6307\u5b9ascope\u5c5e\u6027\u65f6\uff0c\u9ed8\u8ba4\u662fsingleton\u5355\u4f8b\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#53-scope","title":"5.3 \u5176\u5b83scope","text":"<p>scope\u5c5e\u6027\u7684\u503c\u4e0d\u6b62\u4e24\u4e2a\uff0c\u5b83\u4e00\u5171\u5305\u62ec8\u4e2a\u9009\u9879\uff1a</p> <ul> <li>singleton\uff1a\u9ed8\u8ba4\u7684\uff0c\u5355\u4f8b\u3002</li> <li>prototype\uff1a\u539f\u578b\u3002\u6bcf\u8c03\u7528\u4e00\u6b21getBean()\u65b9\u6cd5\u5219\u83b7\u53d6\u4e00\u4e2a\u65b0\u7684Bean\u5bf9\u8c61\u3002\u6216\u6bcf\u6b21\u6ce8\u5165\u7684\u65f6\u5019\u90fd\u662f\u65b0\u5bf9\u8c61\u3002</li> <li>request\uff1a\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u5e94\u4e00\u4e2aBean\u3002\u4ec5\u9650\u4e8e\u5728WEB\u5e94\u7528\u4e2d\u4f7f\u7528\u3002</li> <li>session\uff1a\u4e00\u4e2a\u4f1a\u8bdd\u5bf9\u5e94\u4e00\u4e2aBean\u3002\u4ec5\u9650\u4e8e\u5728WEB\u5e94\u7528\u4e2d\u4f7f\u7528\u3002</li> <li>global session\uff1aportlet\u5e94\u7528\u4e2d\u4e13\u7528\u7684\u3002\u5982\u679c\u5728Servlet\u7684WEB\u5e94\u7528\u4e2d\u4f7f\u7528global session\u7684\u8bdd\uff0c\u548csession\u4e00\u4e2a\u6548\u679c\u3002\uff08portlet\u548cservlet\u90fd\u662f\u89c4\u8303\u3002servlet\u8fd0\u884c\u5728servlet\u5bb9\u5668\u4e2d\uff0c\u4f8b\u5982Tomcat\u3002portlet\u8fd0\u884c\u5728portlet\u5bb9\u5668\u4e2d\u3002\uff09</li> <li>application\uff1a\u4e00\u4e2a\u5e94\u7528\u5bf9\u5e94\u4e00\u4e2aBean\u3002\u4ec5\u9650\u4e8e\u5728WEB\u5e94\u7528\u4e2d\u4f7f\u7528\u3002</li> <li>websocket\uff1a\u4e00\u4e2awebsocket\u751f\u547d\u5468\u671f\u5bf9\u5e94\u4e00\u4e2aBean\u3002\u4ec5\u9650\u4e8e\u5728WEB\u5e94\u7528\u4e2d\u4f7f\u7528\u3002</li> <li>\u81ea\u5b9a\u4e49scope\uff1a\u5f88\u5c11\u4f7f\u7528\u3002</li> </ul> <p>\u63a5\u4e0b\u6765\u54b1\u4eec\u81ea\u5b9a\u4e49\u4e00\u4e2aScope\uff0c\u7ebf\u7a0b\u7ea7\u522b\u7684Scope\uff0c\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\uff0c\u83b7\u53d6\u7684Bean\u90fd\u662f\u540c\u4e00\u4e2a\u3002\u8de8\u7ebf\u7a0b\u5219\u662f\u4e0d\u540c\u7684\u5bf9\u8c61\uff1a\uff08\u4ee5\u4e0b\u5185\u5bb9\u4f5c\u4e3a\u4e86\u89e3\uff09</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u81ea\u5b9a\u4e49Scope\u3002\uff08\u5b9e\u73b0Scope\u63a5\u53e3\uff09</p> </li> <li> <p>spring\u5185\u7f6e\u4e86\u7ebf\u7a0b\u8303\u56f4\u7684\u7c7b\uff1aorg.springframework.context.support.SimpleThreadScope\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u5c06\u81ea\u5b9a\u4e49\u7684Scope\u6ce8\u518c\u5230Spring\u5bb9\u5668\u4e2d\u3002</p> </li> </ul> XML<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.CustomScopeConfigurer\"&gt;\n  &lt;property name=\"scopes\"&gt;\n    &lt;map&gt;\n      &lt;entry key=\"myThread\"&gt;\n        &lt;bean class=\"org.springframework.context.support.SimpleThreadScope\"/&gt;\n      &lt;/entry&gt;\n    &lt;/map&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre> <ul> <li>\u7b2c\u4e09\u6b65\uff1a\u4f7f\u7528Scope\u3002</li> </ul> XML<pre><code>&lt;bean id=\"sb\" class=\"com.powernode.spring6.beans.SpringBean\" scope=\"myThread\" /&gt;\n</code></pre> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testCustomScope(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-scope.xml\");\n    SpringBean sb1 = applicationContext.getBean(\"sb\", SpringBean.class);\n    SpringBean sb2 = applicationContext.getBean(\"sb\", SpringBean.class);\n    System.out.println(sb1);\n    System.out.println(sb2);\n    // \u542f\u52a8\u7ebf\u7a0b\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            SpringBean a = applicationContext.getBean(\"sb\", SpringBean.class);\n            SpringBean b = applicationContext.getBean(\"sb\", SpringBean.class);\n            System.out.println(a);\n            System.out.println(b);\n        }\n    }).start();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#gof","title":"\u516d\u3001GoF\u4e4b\u5de5\u5382\u6a21\u5f0f","text":"<ul> <li> <p>\u8bbe\u8ba1\u6a21\u5f0f\uff1a\u4e00\u79cd\u53ef\u4ee5\u88ab\u91cd\u590d\u5229\u7528\u7684\u89e3\u51b3\u65b9\u6848\u3002</p> </li> <li> <p>GoF\uff08Gang of Four\uff09\uff0c\u4e2d\u6587\u540d\u2014\u2014\u56db\u4eba\u7ec4\u3002</p> </li> <li>\u300aDesign Patterns: Elements of Reusable Object-Oriented Software\u300b\uff08\u5373\u300a\u8bbe\u8ba1\u6a21\u5f0f\u300b\u4e00\u4e66\uff09\uff0c1995\u5e74\u7531 Erich Gamma\u3001Richard Helm\u3001Ralph Johnson \u548c John Vlissides \u5408\u8457\u3002\u8fd9\u51e0\u4f4d\u4f5c\u8005\u5e38\u88ab\u79f0\u4e3a\"\u56db\u4eba\u7ec4\uff08Gang of Four\uff09\"\u3002</li> <li>\u8be5\u4e66\u4e2d\u63cf\u8ff0\u4e8623\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002\u6211\u4eec\u5e73\u5e38\u6240\u8bf4\u7684\u8bbe\u8ba1\u6a21\u5f0f\u5c31\u662f\u6307\u8fd923\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u3002</li> <li>\u4e0d\u8fc7\u9664\u4e86GoF23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u5916\uff0c\u8fd8\u6709\u5176\u5b83\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u6bd4\u5982\uff1aJavaEE\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff08DAO\u6a21\u5f0f\u3001MVC\u6a21\u5f0f\u7b49\uff09\u3002</li> <li> <p>GoF23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u53ef\u5206\u4e3a\u4e09\u5927\u7c7b\uff1a</p> </li> <li> <p>\u521b\u5efa\u578b\uff085\u4e2a\uff09\uff1a\u89e3\u51b3\u5bf9\u8c61\u521b\u5efa\u95ee\u9898\u3002</p> </li> <li> <p>\u5355\u4f8b\u6a21\u5f0f</p> </li> <li>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f</li> <li>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f</li> <li>\u5efa\u9020\u8005\u6a21\u5f0f</li> <li> <p>\u539f\u578b\u6a21\u5f0f</p> </li> <li> <p>\u7ed3\u6784\u578b\uff087\u4e2a\uff09\uff1a\u4e00\u4e9b\u7c7b\u6216\u5bf9\u8c61\u7ec4\u5408\u5728\u4e00\u8d77\u7684\u7ecf\u5178\u7ed3\u6784\u3002</p> </li> <li> <p>\u4ee3\u7406\u6a21\u5f0f</p> </li> <li>\u88c5\u9970\u6a21\u5f0f</li> <li>\u9002\u914d\u5668\u6a21\u5f0f</li> <li>\u7ec4\u5408\u6a21\u5f0f</li> <li>\u4eab\u5143\u6a21\u5f0f</li> <li>\u5916\u89c2\u6a21\u5f0f</li> <li> <p>\u6865\u63a5\u6a21\u5f0f</p> </li> <li> <p>\u884c\u4e3a\u578b\uff0811\u4e2a\uff09\uff1a\u89e3\u51b3\u7c7b\u6216\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\u95ee\u9898\u3002</p> </li> <li> <p>\u7b56\u7565\u6a21\u5f0f</p> </li> <li>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f</li> <li>\u8d23\u4efb\u94fe\u6a21\u5f0f</li> <li>\u89c2\u5bdf\u8005\u6a21\u5f0f</li> <li>\u8fed\u4ee3\u5b50\u6a21\u5f0f</li> <li>\u547d\u4ee4\u6a21\u5f0f</li> <li>\u5907\u5fd8\u5f55\u6a21\u5f0f</li> <li>\u72b6\u6001\u6a21\u5f0f</li> <li>\u8bbf\u95ee\u8005\u6a21\u5f0f</li> <li>\u4e2d\u4ecb\u8005\u6a21\u5f0f</li> <li> <p>\u89e3\u91ca\u5668\u6a21\u5f0f</p> </li> <li> <p>\u5de5\u5382\u6a21\u5f0f\u662f\u89e3\u51b3\u5bf9\u8c61\u521b\u5efa\u95ee\u9898\u7684\uff0c\u6240\u4ee5\u5de5\u5382\u6a21\u5f0f\u5c5e\u4e8e\u521b\u5efa\u578b\u8bbe\u8ba1\u6a21\u5f0f\u3002\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u5b66\u4e60\u5de5\u5382\u6a21\u5f0f\u5462\uff1f\u8fd9\u662f\u56e0\u4e3aSpring\u6846\u67b6\u5e95\u5c42\u4f7f\u7528\u4e86\u5927\u91cf\u7684\u5de5\u5382\u6a21\u5f0f\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#61","title":"6.1 \u5de5\u5382\u6a21\u5f0f\u7684\u4e09\u79cd\u5f62\u6001","text":"<p>\u5de5\u5382\u6a21\u5f0f\u901a\u5e38\u6709\u4e09\u79cd\u5f62\u6001\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\uff1a\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\uff08Simple Factory\uff09\uff1a\u4e0d\u5c5e\u4e8e23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\u3002\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u53c8\u53eb\u505a\uff1a\u9759\u6001 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3002\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4e00\u79cd\u7279\u6b8a\u5b9e\u73b0\u3002</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\uff08Factory Method\uff09\uff1a\u662f23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\u3002</li> <li>\u7b2c\u4e09\u79cd\uff1a\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff08Abstract Factory\uff09\uff1a\u662f23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#62","title":"6.2 \u7b80\u5355\u5de5\u5382\u6a21\u5f0f","text":"<p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u89d2\u8272\u5305\u62ec\u4e09\u4e2a\uff1a</p> <ul> <li>\u62bd\u8c61\u4ea7\u54c1 \u89d2\u8272</li> <li>\u5177\u4f53\u4ea7\u54c1 \u89d2\u8272</li> <li>\u5de5\u5382\u7c7b \u89d2\u8272</li> </ul> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>\u62bd\u8c61\u4ea7\u54c1\u89d2\u8272\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * \u6b66\u5668\uff08\u62bd\u8c61\u4ea7\u54c1\u89d2\u8272\uff09\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Weapon\n * @since 1.0\n **/\npublic abstract class Weapon {\n    /**\n     * \u6240\u6709\u7684\u6b66\u5668\u90fd\u6709\u653b\u51fb\u884c\u4e3a\n     */\n    public abstract void attack();\n}\n</code></pre> <p>\u5177\u4f53\u4ea7\u54c1\u89d2\u8272\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * \u5766\u514b\uff08\u5177\u4f53\u4ea7\u54c1\u89d2\u8272\uff09\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Tank\n * @since 1.0\n **/\npublic class Tank extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u5766\u514b\u5f00\u70ae\uff01\");\n    }\n}\npackage com.powernode.factory;\n\n/**\n * \u6218\u6597\u673a\uff08\u5177\u4f53\u4ea7\u54c1\u89d2\u8272\uff09\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Fighter\n * @since 1.0\n **/\npublic class Fighter extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u6218\u6597\u673a\u6295\u4e0b\u539f\u5b50\u5f39\uff01\");\n    }\n}\npackage com.powernode.factory;\n\n/**\n * \u5315\u9996\uff08\u5177\u4f53\u4ea7\u54c1\u89d2\u8272\uff09\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Dagger\n * @since 1.0\n **/\npublic class Dagger extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u780d\u4ed6\u4e2b\u7684\uff01\");\n    }\n}\n</code></pre> <p>\u5de5\u5382\u7c7b\u89d2\u8272\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * \u5de5\u5382\u7c7b\u89d2\u8272\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className WeaponFactory\n * @since 1.0\n **/\npublic class WeaponFactory {\n    /**\n     * \u6839\u636e\u4e0d\u540c\u7684\u6b66\u5668\u7c7b\u578b\u751f\u4ea7\u6b66\u5668\n     * @param weaponType \u6b66\u5668\u7c7b\u578b\n     * @return \u6b66\u5668\u5bf9\u8c61\n     */\n    public static Weapon get(String weaponType){\n        if (weaponType == null || weaponType.trim().length() == 0) {\n            return null;\n        }\n        Weapon weapon = null;\n        if (\"TANK\".equals(weaponType)) {\n            weapon = new Tank();\n        } else if (\"FIGHTER\".equals(weaponType)) {\n            weapon = new Fighter();\n        } else if (\"DAGGER\".equals(weaponType)) {\n            weapon = new Dagger();\n        } else {\n            throw new RuntimeException(\"\u4e0d\u652f\u6301\u8be5\u6b66\u5668\uff01\");\n        }\n        return weapon;\n    }\n}\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff08\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff09\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        Weapon weapon1 = WeaponFactory.get(\"TANK\");\n        weapon1.attack();\n\n        Weapon weapon2 = WeaponFactory.get(\"FIGHTER\");\n        weapon2.attack();\n\n        Weapon weapon3 = WeaponFactory.get(\"DAGGER\");\n        weapon3.attack();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e0d\u9700\u8981\u5173\u5fc3\u5bf9\u8c61\u7684\u521b\u5efa\u7ec6\u8282\uff0c\u9700\u8981\u54ea\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53ea\u9700\u8981\u5411\u5de5\u5382\u7d22\u8981\u5373\u53ef\uff0c\u521d\u6b65\u5b9e\u73b0\u4e86\u8d23\u4efb\u7684\u5206\u79bb\u3002\u5ba2\u6237\u7aef\u53ea\u8d1f\u8d23\u201c\u6d88\u8d39\u201d\uff0c\u5de5\u5382\u8d1f\u8d23\u201c\u751f\u4ea7\u201d\u3002\u751f\u4ea7\u548c\u6d88\u8d39\u5206\u79bb\u3002</li> </ul> <p>\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a</p> <ul> <li>\u7f3a\u70b91\uff1a\u5de5\u5382\u7c7b\u96c6\u4e2d\u4e86\u6240\u6709\u4ea7\u54c1\u7684\u521b\u9020\u903b\u8f91\uff0c\u5f62\u6210\u4e00\u4e2a\u65e0\u6240\u4e0d\u77e5\u7684\u5168\u80fd\u7c7b\uff0c\u6709\u4eba\u628a\u5b83\u53eb\u505a\u4e0a\u5e1d\u7c7b\u3002\u663e\u7136\u5de5\u5382\u7c7b\u975e\u5e38\u5173\u952e\uff0c\u4e0d\u80fd\u51fa\u95ee\u9898\uff0c\u4e00\u65e6\u51fa\u95ee\u9898\uff0c\u6574\u4e2a\u7cfb\u7edf\u762b\u75ea\u3002</li> <li>\u7f3a\u70b92\uff1a\u4e0d\u7b26\u5408OCP\u5f00\u95ed\u539f\u5219\uff0c\u5728\u8fdb\u884c\u7cfb\u7edf\u6269\u5c55\u65f6\uff0c\u9700\u8981\u4fee\u6539\u5de5\u5382\u7c7b\u3002</li> </ul> <p>Spring\u4e2d\u7684BeanFactory\u5c31\u4f7f\u7528\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#63","title":"6.3 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f","text":"<p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u65e2\u4fdd\u7559\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u4f18\u70b9\uff0c\u540c\u65f6\u53c8\u89e3\u51b3\u4e86\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u7684\u7f3a\u70b9\u3002</p> <p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u89d2\u8272\u5305\u62ec\uff1a</p> <ul> <li>\u62bd\u8c61\u5de5\u5382\u89d2\u8272</li> <li>\u5177\u4f53\u5de5\u5382\u89d2\u8272</li> <li>\u62bd\u8c61\u4ea7\u54c1\u89d2\u8272</li> <li>\u5177\u4f53\u4ea7\u54c1\u89d2\u8272</li> </ul> <p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * \u6b66\u5668\u7c7b\uff08\u62bd\u8c61\u4ea7\u54c1\u89d2\u8272\uff09\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Weapon\n * @since 1.0\n **/\npublic abstract class Weapon {\n    /**\n     * \u6240\u6709\u6b66\u5668\u90fd\u6709\u653b\u51fb\u884c\u4e3a\n     */\n    public abstract void attack();\n}\npackage com.powernode.factory;\n\n/**\n * \u5177\u4f53\u4ea7\u54c1\u89d2\u8272\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Gun\n * @since 1.0\n **/\npublic class Gun extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u5f00\u67aa\u5c04\u51fb\uff01\");\n    }\n}\npackage com.powernode.factory;\n\n/**\n * \u5177\u4f53\u4ea7\u54c1\u89d2\u8272\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Fighter\n * @since 1.0\n **/\npublic class Fighter extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u6218\u6597\u673a\u53d1\u5c04\u6838\u5f39\uff01\");\n    }\n}\npackage com.powernode.factory;\n\n/**\n * \u6b66\u5668\u5de5\u5382\u63a5\u53e3(\u62bd\u8c61\u5de5\u5382\u89d2\u8272)\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className WeaponFactory\n * @since 1.0\n **/\npublic interface WeaponFactory {\n    Weapon get();\n}\npackage com.powernode.factory;\n\n/**\n * \u5177\u4f53\u5de5\u5382\u89d2\u8272\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className GunFactory\n * @since 1.0\n **/\npublic class GunFactory implements WeaponFactory{\n    @Override\n    public Weapon get() {\n        return new Gun();\n    }\n}\npackage com.powernode.factory;\n\n/**\n * \u5177\u4f53\u5de5\u5382\u89d2\u8272\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className FighterFactory\n * @since 1.0\n **/\npublic class FighterFactory implements WeaponFactory{\n    @Override\n    public Weapon get() {\n        return new Fighter();\n    }\n}\n</code></pre> <p>\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        WeaponFactory factory = new GunFactory();\n        Weapon weapon = factory.get();\n        weapon.attack();\n\n        WeaponFactory factory1 = new FighterFactory();\n        Weapon weapon1 = factory1.get();\n        weapon1.attack();\n    }\n}\n</code></pre> <p>\u6267\u884c\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u5982\u679c\u60f3\u6269\u5c55\u4e00\u4e2a\u65b0\u7684\u4ea7\u54c1\uff0c\u53ea\u8981\u65b0\u589e\u4e00\u4e2a\u4ea7\u54c1\u7c7b\uff0c\u518d\u65b0\u589e\u4e00\u4e2a\u8be5\u4ea7\u54c1\u5bf9\u5e94\u7684\u5de5\u5382\u5373\u53ef\uff0c\u4f8b\u5982\u65b0\u589e\uff1a\u5315\u9996</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Dagger\n * @since 1.0\n **/\npublic class Dagger extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u780d\u4e2b\u7684\uff01\");\n    }\n}\npackage com.powernode.factory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className DaggerFactory\n * @since 1.0\n **/\npublic class DaggerFactory implements WeaponFactory{\n    @Override\n    public Weapon get() {\n        return new Dagger();\n    }\n}\n</code></pre> <p>\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.factory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        WeaponFactory factory = new GunFactory();\n        Weapon weapon = factory.get();\n        weapon.attack();\n\n        WeaponFactory factory1 = new FighterFactory();\n        Weapon weapon1 = factory1.get();\n        weapon1.attack();\n\n        WeaponFactory factory2 = new DaggerFactory();\n        Weapon weapon2 = factory2.get();\n        weapon2.attack();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u7684\u65f6\u5019\uff0c\u4e0d\u9700\u8981\u4fee\u6539\u4e4b\u524d\u7684\u6e90\u4ee3\u7801\uff0c\u663e\u7136\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7b26\u5408OCP\u539f\u5219\u3002</p> <p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u4e00\u4e2a\u8c03\u7528\u8005\u60f3\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ea\u8981\u77e5\u9053\u5176\u540d\u79f0\u5c31\u53ef\u4ee5\u4e86\u3002 </li> <li>\u6269\u5c55\u6027\u9ad8\uff0c\u5982\u679c\u60f3\u589e\u52a0\u4e00\u4e2a\u4ea7\u54c1\uff0c\u53ea\u8981\u6269\u5c55\u4e00\u4e2a\u5de5\u5382\u7c7b\u5c31\u53ef\u4ee5\u3002</li> <li>\u5c4f\u853d\u4ea7\u54c1\u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u8c03\u7528\u8005\u53ea\u5173\u5fc3\u4ea7\u54c1\u7684\u63a5\u53e3\u3002</li> </ul> <p>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u7684\u7f3a\u70b9\uff1a</p> <ul> <li>\u6bcf\u6b21\u589e\u52a0\u4e00\u4e2a\u4ea7\u54c1\u65f6\uff0c\u90fd\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u5177\u4f53\u7c7b\u548c\u5bf9\u8c61\u5b9e\u73b0\u5de5\u5382\uff0c\u4f7f\u5f97\u7cfb\u7edf\u4e2d\u7c7b\u7684\u4e2a\u6570\u6210\u500d\u589e\u52a0\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u540c\u65f6\u4e5f\u589e\u52a0\u4e86\u7cfb\u7edf\u5177\u4f53\u7c7b\u7684\u4f9d\u8d56\u3002\u8fd9\u5e76\u4e0d\u662f\u4ec0\u4e48\u597d\u4e8b\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#64","title":"6.4 \u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff08\u4e86\u89e3\uff09","text":"<p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u76f8\u5bf9\u4e8e\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u6765\u8bf4\uff0c\u5c31\u662f\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u662f\u9488\u5bf9\u4e00\u4e2a\u4ea7\u54c1\u7cfb\u5217\u7684\uff0c\u800c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u662f\u9488\u5bf9\u591a\u4e2a\u4ea7\u54c1\u7cfb\u5217\u7684\uff0c\u5373\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u662f\u4e00\u4e2a\u4ea7\u54c1\u7cfb\u5217\u4e00\u4e2a\u5de5\u5382\u7c7b\uff0c\u800c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u662f\u591a\u4e2a\u4ea7\u54c1\u7cfb\u5217\u4e00\u4e2a\u5de5\u5382\u7c7b\u3002</p> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7279\u70b9\uff1a\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u662f\u6240\u6709\u5f62\u6001\u7684\u5de5\u5382\u6a21\u5f0f\u4e2d\u6700\u4e3a\u62bd\u8c61\u548c\u6700\u5177\u4e00\u822c\u6027\u7684\u4e00\u79cd\u5f62\u6001\u3002\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u662f\u6307\u5f53\u6709\u591a\u4e2a\u62bd\u8c61\u89d2\u8272\u65f6\uff0c\u4f7f\u7528\u7684\u4e00\u79cd\u5de5\u5382\u6a21\u5f0f\u3002\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u53ef\u4ee5\u5411\u5ba2\u6237\u7aef\u63d0\u4f9b\u4e00\u4e2a\u63a5\u53e3\uff0c\u4f7f\u5ba2\u6237\u7aef\u5728\u4e0d\u5fc5\u6307\u5b9a\u4ea7\u54c1\u7684\u5177\u4f53\u7684\u60c5\u51b5\u4e0b\uff0c\u521b\u5efa\u591a\u4e2a\u4ea7\u54c1\u65cf\u4e2d\u7684\u4ea7\u54c1\u5bf9\u8c61\u3002\u5b83\u6709\u591a\u4e2a\u62bd\u8c61\u4ea7\u54c1\u7c7b\uff0c\u6bcf\u4e2a\u62bd\u8c61\u4ea7\u54c1\u7c7b\u53ef\u4ee5\u6d3e\u751f\u51fa\u591a\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\uff0c\u4e00\u4e2a\u62bd\u8c61\u5de5\u5382\u7c7b\uff0c\u53ef\u4ee5\u6d3e\u751f\u51fa\u591a\u4e2a\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u7c7b\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b\u7684\u5b9e\u4f8b\u3002\u6bcf\u4e00\u4e2a\u6a21\u5f0f\u90fd\u662f\u9488\u5bf9\u4e00\u5b9a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u9488\u5bf9\u7684\u662f\u4e00\u4e2a\u4ea7\u54c1\u7b49\u7ea7\u7ed3\u6784\uff1b\u800c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u9488\u5bf9\u7684\u662f\u591a\u4e2a\u4ea7\u54c1\u7b49\u7ea7\u7ed3\u679c\u3002</p> <p>\u62bd\u8c61\u5de5\u5382\u4e2d\u5305\u542b4\u4e2a\u89d2\u8272\uff1a</p> <ul> <li>\u62bd\u8c61\u5de5\u5382\u89d2\u8272</li> <li>\u5177\u4f53\u5de5\u5382\u89d2\u8272</li> <li>\u62bd\u8c61\u4ea7\u54c1\u89d2\u8272</li> <li>\u5177\u4f53\u4ea7\u54c1\u89d2\u8272</li> </ul> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u7c7b\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>\u7b2c\u4e00\u90e8\u5206\uff1a\u6b66\u5668\u4ea7\u54c1\u65cf</p> Java<pre><code>package com.powernode.product;\n\n/**\n * \u6b66\u5668\u4ea7\u54c1\u65cf\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Weapon\n * @since 1.0\n **/\npublic abstract class Weapon {\n    public abstract void attack();\n}\npackage com.powernode.product;\n\n/**\n * \u6b66\u5668\u4ea7\u54c1\u65cf\u4e2d\u7684\u4ea7\u54c1\u7b49\u7ea71\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Gun\n * @since 1.0\n **/\npublic class Gun extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u5f00\u67aa\u5c04\u51fb\uff01\");\n    }\n}\npackage com.powernode.product;\n\n/**\n * \u6b66\u5668\u4ea7\u54c1\u65cf\u4e2d\u7684\u4ea7\u54c1\u7b49\u7ea72\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Dagger\n * @since 1.0\n **/\npublic class Dagger extends Weapon{\n    @Override\n    public void attack() {\n        System.out.println(\"\u780d\u4e2b\u7684\uff01\");\n    }\n}\n</code></pre> <p>\u7b2c\u4e8c\u90e8\u5206\uff1a\u6c34\u679c\u4ea7\u54c1\u65cf</p> Java<pre><code>package com.powernode.product;\n\n/**\n * \u6c34\u679c\u4ea7\u54c1\u65cf\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Fruit\n * @since 1.0\n **/\npublic abstract class Fruit {\n    /**\n     * \u6240\u6709\u679c\u5b9e\u90fd\u6709\u4e00\u4e2a\u6210\u719f\u5468\u671f\u3002\n     */\n    public abstract void ripeCycle();\n}\npackage com.powernode.product;\n\n/**\n * \u6c34\u679c\u4ea7\u54c1\u65cf\u4e2d\u7684\u4ea7\u54c1\u7b49\u7ea71\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Orange\n * @since 1.0\n **/\npublic class Orange extends Fruit{\n    @Override\n    public void ripeCycle() {\n        System.out.println(\"\u6a58\u5b50\u7684\u6210\u719f\u5468\u671f\u662f10\u4e2a\u6708\");\n    }\n}\npackage com.powernode.product;\n\n/**\n * \u6c34\u679c\u4ea7\u54c1\u65cf\u4e2d\u7684\u4ea7\u54c1\u7b49\u7ea72\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Apple\n * @since 1.0\n **/\npublic class Apple extends Fruit{\n    @Override\n    public void ripeCycle() {\n        System.out.println(\"\u82f9\u679c\u7684\u6210\u719f\u5468\u671f\u662f8\u4e2a\u6708\");\n    }\n}\n</code></pre> <p>\u7b2c\u4e09\u90e8\u5206\uff1a\u62bd\u8c61\u5de5\u5382\u7c7b</p> Java<pre><code>package com.powernode.factory;\n\nimport com.powernode.product.Fruit;\nimport com.powernode.product.Weapon;\n\n/**\n * \u62bd\u8c61\u5de5\u5382\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AbstractFactory\n * @since 1.0\n **/\npublic abstract class AbstractFactory {\n    public abstract Weapon getWeapon(String type);\n    public abstract Fruit getFruit(String type);\n}\n</code></pre> <p>\u7b2c\u56db\u90e8\u5206\uff1a\u5177\u4f53\u5de5\u5382\u7c7b</p> Java<pre><code>package com.powernode.factory;\n\nimport com.powernode.product.Dagger;\nimport com.powernode.product.Fruit;\nimport com.powernode.product.Gun;\nimport com.powernode.product.Weapon;\n\n/**\n * \u6b66\u5668\u65cf\u5de5\u5382\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className WeaponFactory\n * @since 1.0\n **/\npublic class WeaponFactory extends AbstractFactory{\n\n    public Weapon getWeapon(String type){\n        if (type == null || type.trim().length() == 0) {\n            return null;\n        }\n        if (\"Gun\".equals(type)) {\n            return new Gun();\n        } else if (\"Dagger\".equals(type)) {\n            return new Dagger();\n        } else {\n            throw new RuntimeException(\"\u65e0\u6cd5\u751f\u4ea7\u8be5\u6b66\u5668\");\n        }\n    }\n\n    @Override\n    public Fruit getFruit(String type) {\n        return null;\n    }\n}\npackage com.powernode.factory;\n\nimport com.powernode.product.*;\n\n/**\n * \u6c34\u679c\u65cf\u5de5\u5382\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className FruitFactory\n * @since 1.0\n **/\npublic class FruitFactory extends AbstractFactory{\n    @Override\n    public Weapon getWeapon(String type) {\n        return null;\n    }\n\n    public Fruit getFruit(String type){\n        if (type == null || type.trim().length() == 0) {\n            return null;\n        }\n        if (\"Orange\".equals(type)) {\n            return new Orange();\n        } else if (\"Apple\".equals(type)) {\n            return new Apple();\n        } else {\n            throw new RuntimeException(\"\u6211\u5bb6\u679c\u56ed\u4e0d\u4ea7\u8fd9\u79cd\u6c34\u679c\");\n        }\n    }\n}\n</code></pre> <p>\u7b2c\u4e94\u90e8\u5206\uff1a\u5ba2\u6237\u7aef\u7a0b\u5e8f</p> Java<pre><code>package com.powernode.client;\n\nimport com.powernode.factory.AbstractFactory;\nimport com.powernode.factory.FruitFactory;\nimport com.powernode.factory.WeaponFactory;\nimport com.powernode.product.Fruit;\nimport com.powernode.product.Weapon;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u5ba2\u6237\u7aef\u8c03\u7528\u65b9\u6cd5\u65f6\u53ea\u9762\u5411AbstractFactory\u8c03\u7528\u65b9\u6cd5\u3002\n        AbstractFactory factory = new WeaponFactory(); // \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684new WeaponFactory()\u53ef\u4ee5\u91c7\u7528 \u7b80\u5355\u5de5\u5382\u6a21\u5f0f \u8fdb\u884c\u9690\u85cf\u3002\n        Weapon gun = factory.getWeapon(\"Gun\");\n        Weapon dagger = factory.getWeapon(\"Dagger\");\n\n        gun.attack();\n        dagger.attack();\n\n        AbstractFactory factory1 = new FruitFactory(); // \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684new FruitFactory()\u53ef\u4ee5\u91c7\u7528 \u7b80\u5355\u5de5\u5382\u6a21\u5f0f \u8fdb\u884c\u9690\u85cf\u3002\n        Fruit orange = factory1.getFruit(\"Orange\");\n        Fruit apple = factory1.getFruit(\"Apple\");\n\n        orange.ripeCycle();\n        apple.ripeCycle();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u4f18\u7f3a\u70b9\uff1a</p> <ul> <li>\u4f18\u70b9\uff1a\u5f53\u4e00\u4e2a\u4ea7\u54c1\u65cf\u4e2d\u7684\u591a\u4e2a\u5bf9\u8c61\u88ab\u8bbe\u8ba1\u6210\u4e00\u8d77\u5de5\u4f5c\u65f6\uff0c\u5b83\u80fd\u4fdd\u8bc1\u5ba2\u6237\u7aef\u59cb\u7ec8\u53ea\u4f7f\u7528\u540c\u4e00\u4e2a\u4ea7\u54c1\u65cf\u4e2d\u7684\u5bf9\u8c61\u3002</li> <li>\u7f3a\u70b9\uff1a\u4ea7\u54c1\u65cf\u6269\u5c55\u975e\u5e38\u56f0\u96be\uff0c\u8981\u589e\u52a0\u4e00\u4e2a\u7cfb\u5217\u7684\u67d0\u4e00\u4ea7\u54c1\uff0c\u65e2\u8981\u5728AbstractFactory\u91cc\u52a0\u4ee3\u7801\uff0c\u53c8\u8981\u5728\u5177\u4f53\u7684\u91cc\u9762\u52a0\u4ee3\u7801\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_1","title":"\u4e03\u3001Bean\u7684\u5b9e\u4f8b\u5316\u65b9\u5f0f","text":"<p>Spring\u4e3aBean\u63d0\u4f9b\u4e86\u591a\u79cd\u5b9e\u4f8b\u5316\u65b9\u5f0f\uff0c\u901a\u5e38\u5305\u62ec4\u79cd\u65b9\u5f0f\u3002\uff08\u4e5f\u5c31\u662f\u8bf4\u5728Spring\u4e2d\u4e3aBean\u5bf9\u8c61\u7684\u521b\u5efa\u51c6\u5907\u4e86\u591a\u79cd\u65b9\u6848\uff0c\u76ee\u7684\u662f\uff1a\u66f4\u52a0\u7075\u6d3b\uff09</p> <ul> <li>\u7b2c\u4e00\u79cd\uff1a\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u5b9e\u4f8b\u5316</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u901a\u8fc7\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5b9e\u4f8b\u5316</li> <li>\u7b2c\u4e09\u79cd\uff1a\u901a\u8fc7factory-bean\u5b9e\u4f8b\u5316</li> <li>\u7b2c\u56db\u79cd\uff1a\u901a\u8fc7FactoryBean\u63a5\u53e3\u5b9e\u4f8b\u5316</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#71","title":"7.1 \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u5b9e\u4f8b\u5316","text":"<p>\u6211\u4eec\u4e4b\u524d\u4e00\u76f4\u4f7f\u7528\u7684\u5c31\u662f\u8fd9\u79cd\u65b9\u5f0f\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f1a\u8c03\u7528Bean\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u3002</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    public User() {\n        System.out.println(\"User\u7c7b\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\u3002\");\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\"/&gt;\n\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SpringInstantiationTest\n * @since 1.0\n **/\npublic class SpringInstantiationTest {\n\n    @Test\n    public void testConstructor(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        User user = applicationContext.getBean(\"userBean\", User.class);\n        System.out.println(user);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#72","title":"7.2 \u901a\u8fc7\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5b9e\u4f8b\u5316","text":"<p>\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49\u4e00\u4e2aBean</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Vip\n * @since 1.0\n **/\npublic class Vip {\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u7f16\u5199\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\u5f53\u4e2d\u7684\u5de5\u5382\u7c7b</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className VipFactory\n * @since 1.0\n **/\npublic class VipFactory {\n    public static Vip get(){\n        return new Vip();\n    }\n}\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5728Spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u521b\u5efa\u8be5Bean\u7684\u65b9\u6cd5\uff08\u4f7f\u7528factory-method\u5c5e\u6027\u6307\u5b9a\uff09</p> XML<pre><code>&lt;bean id=\"vipBean\" class=\"com.powernode.spring6.bean.VipFactory\" factory-method=\"get\"/&gt;\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>@Test\npublic void testSimpleFactory(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    Vip vip = applicationContext.getBean(\"vipBean\", Vip.class);\n    System.out.println(vip);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#73-factory-bean","title":"7.3 \u901a\u8fc7factory-bean\u5b9e\u4f8b\u5316","text":"<p>\u8fd9\u79cd\u65b9\u5f0f\u672c\u8d28\u4e0a\u662f\uff1a\u901a\u8fc7\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u8fdb\u884c\u5b9e\u4f8b\u5316\u3002</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49\u4e00\u4e2aBean</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Order\n * @since 1.0\n **/\npublic class Order {\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5b9a\u4e49\u5177\u4f53\u5de5\u5382\u7c7b\uff0c\u5de5\u5382\u7c7b\u4e2d\u5b9a\u4e49\u5b9e\u4f8b\u65b9\u6cd5</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderFactory\n * @since 1.0\n **/\npublic class OrderFactory {\n    public Order get(){\n        return new Order();\n    }\n}\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5728Spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9afactory-bean\u4ee5\u53cafactory-method</p> XML<pre><code>&lt;bean id=\"orderFactory\" class=\"com.powernode.spring6.bean.OrderFactory\"/&gt;\n&lt;bean id=\"orderBean\" factory-bean=\"orderFactory\" factory-method=\"get\"/&gt;\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>@Test\npublic void testSelfFactoryBean(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    Order orderBean = applicationContext.getBean(\"orderBean\", Order.class);\n    System.out.println(orderBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#74-factorybean","title":"7.4 \u901a\u8fc7FactoryBean\u63a5\u53e3\u5b9e\u4f8b\u5316","text":"<p>\u4ee5\u4e0a\u7684\u7b2c\u4e09\u79cd\u65b9\u5f0f\u4e2d\uff0cfactory-bean\u662f\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\uff0cfactory-method\u4e5f\u662f\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u3002</p> <p>\u5728Spring\u4e2d\uff0c\u5f53\u4f60\u7f16\u5199\u7684\u7c7b\u76f4\u63a5\u5b9e\u73b0FactoryBean\u63a5\u53e3\u4e4b\u540e\uff0cfactory-bean\u4e0d\u9700\u8981\u6307\u5b9a\u4e86\uff0cfactory-method\u4e5f\u4e0d\u9700\u8981\u6307\u5b9a\u4e86\u3002</p> <p>factory-bean\u4f1a\u81ea\u52a8\u6307\u5411\u5b9e\u73b0FactoryBean\u63a5\u53e3\u7684\u7c7b\uff0cfactory-method\u4f1a\u81ea\u52a8\u6307\u5411getObject()\u65b9\u6cd5\u3002</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49\u4e00\u4e2aBean</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Person\n * @since 1.0\n **/\npublic class Person {\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u7f16\u5199\u4e00\u4e2a\u7c7b\u5b9e\u73b0FactoryBean\u63a5\u53e3</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.beans.factory.FactoryBean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className PersonFactoryBean\n * @since 1.0\n **/\npublic class PersonFactoryBean implements FactoryBean&lt;Person&gt; {\n\n    @Override\n    public Person getObject() throws Exception {\n        return new Person();\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return null;\n    }\n\n    @Override\n    public boolean isSingleton() {\n        // true\u8868\u793a\u5355\u4f8b\n        // false\u8868\u793a\u539f\u578b\n        return true;\n    }\n}\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5728Spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6eFactoryBean</p> XML<pre><code>&lt;bean id=\"personBean\" class=\"com.powernode.spring6.bean.PersonFactoryBean\"/&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testFactoryBean(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    Person personBean = applicationContext.getBean(\"personBean\", Person.class);\n    System.out.println(personBean);\n\n    Person personBean2 = applicationContext.getBean(\"personBean\", Person.class);\n    System.out.println(personBean2);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>FactoryBean\u5728Spring\u4e2d\u662f\u4e00\u4e2a\u63a5\u53e3\u3002\u88ab\u79f0\u4e3a\u201c\u5de5\u5382Bean\u201d\u3002\u201c\u5de5\u5382Bean\u201d\u662f\u4e00\u79cd\u7279\u6b8a\u7684Bean\u3002\u6240\u6709\u7684\u201c\u5de5\u5382Bean\u201d\u90fd\u662f\u7528\u6765\u534f\u52a9Spring\u6846\u67b6\u6765\u521b\u5efa\u5176\u4ed6Bean\u5bf9\u8c61\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#75-beanfactoryfactorybean","title":"7.5 BeanFactory\u548cFactoryBean\u7684\u533a\u522b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#751-beanfactory","title":"7.5.1 BeanFactory","text":"<p>Spring IoC\u5bb9\u5668\u7684\u9876\u7ea7\u5bf9\u8c61\uff0cBeanFactory\u88ab\u7ffb\u8bd1\u4e3a\u201cBean\u5de5\u5382\u201d\uff0c\u5728Spring\u7684IoC\u5bb9\u5668\u4e2d\uff0c\u201cBean\u5de5\u5382\u201d\u8d1f\u8d23\u521b\u5efaBean\u5bf9\u8c61\u3002</p> <p>BeanFactory\u662f\u5de5\u5382\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#752-factorybean","title":"7.5.2 FactoryBean","text":"<p>FactoryBean\uff1a\u5b83\u662f\u4e00\u4e2aBean\uff0c\u662f\u4e00\u4e2a\u80fd\u591f\u8f85\u52a9Spring\u5b9e\u4f8b\u5316\u5176\u5b83Bean\u5bf9\u8c61\u7684\u4e00\u4e2aBean\u3002</p> <p>\u5728Spring\u4e2d\uff0cBean\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</p> <ul> <li>\u7b2c\u4e00\u7c7b\uff1a\u666e\u901aBean</li> <li>\u7b2c\u4e8c\u7c7b\uff1a\u5de5\u5382Bean\uff08\u8bb0\u4f4f\uff1a\u5de5\u5382Bean\u4e5f\u662f\u4e00\u79cdBean\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u79cdBean\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u53ef\u4ee5\u8f85\u52a9Spring\u5b9e\u4f8b\u5316\u5176\u5b83Bean\u5bf9\u8c61\u3002\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#76-date","title":"7.6 \u6ce8\u5165\u81ea\u5b9a\u4e49Date","text":"<p>\u6211\u4eec\u524d\u9762\u8bf4\u8fc7\uff0cjava.util.Date\u5728Spring\u4e2d\u88ab\u5f53\u505a\u7b80\u5355\u7c7b\u578b\uff0c\u7b80\u5355\u7c7b\u578b\u5728\u6ce8\u5165\u7684\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528value\u5c5e\u6027\u6216value\u6807\u7b7e\u6765\u5b8c\u6210\u3002\u4f46\u6211\u4eec\u4e4b\u524d\u5df2\u7ecf\u6d4b\u8bd5\u8fc7\u4e86\uff0c\u5bf9\u4e8eDate\u7c7b\u578b\u6765\u8bf4\uff0c\u91c7\u7528value\u5c5e\u6027\u6216value\u6807\u7b7e\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u5bf9\u65e5\u671f\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u8981\u6c42\u975e\u5e38\u4e25\u683c\uff0c\u5fc5\u987b\u662f\u8fd9\u79cd\u683c\u5f0f\u7684\uff1aMon Oct 10 14:30:26 CST 2022\u3002\u5176\u4ed6\u683c\u5f0f\u662f\u4e0d\u4f1a\u88ab\u8bc6\u522b\u7684\u3002\u5982\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport java.util.Date;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Student\n * @since 1.0\n **/\npublic class Student {\n    private Date birth;\n\n    public void setBirth(Date birth) {\n        this.birth = birth;\n    }\n\n    @Override\n    public String toString() {\n        return \"Student{\" +\n                \"birth=\" + birth +\n                '}';\n    }\n}\n&lt;bean id=\"studentBean\" class=\"com.powernode.spring6.bean.Student\"&gt;\n  &lt;property name=\"birth\" value=\"Mon Oct 10 14:30:26 CST 2002\"/&gt;\n&lt;/bean&gt;\n@Test\npublic void testDate(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    Student studentBean = applicationContext.getBean(\"studentBean\", Student.class);\n    System.out.println(studentBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5982\u679c\u628a\u65e5\u671f\u683c\u5f0f\u4fee\u6539\u4e00\u4e0b\uff1a</p> XML<pre><code>&lt;bean id=\"studentBean\" class=\"com.powernode.spring6.bean.Student\"&gt;\n  &lt;property name=\"birth\" value=\"2002-10-10\"/&gt;\n&lt;/bean&gt;\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528FactoryBean\u6765\u5b8c\u6210\u8fd9\u4e2a\u9a9a\u64cd\u4f5c\u3002</p> <p>\u7f16\u5199DateFactoryBean\u5b9e\u73b0FactoryBean\u63a5\u53e3\uff1a</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.beans.factory.FactoryBean;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className DateFactoryBean\n * @since 1.0\n **/\npublic class DateFactoryBean implements FactoryBean&lt;Date&gt; {\n\n    // \u5b9a\u4e49\u5c5e\u6027\u63a5\u6536\u65e5\u671f\u5b57\u7b26\u4e32\n    private String date;\n\n    // \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u7ed9\u65e5\u671f\u5b57\u7b26\u4e32\u5c5e\u6027\u8d4b\u503c\n    public DateFactoryBean(String date) {\n        this.date = date;\n    }\n\n    @Override\n    public Date getObject() throws Exception {\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n        return sdf.parse(this.date);\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return null;\n    }\n}\n</code></pre> <p>\u7f16\u5199spring\u914d\u7f6e\u6587\u4ef6\uff1a</p> XML<pre><code>&lt;bean id=\"dateBean\" class=\"com.powernode.spring6.bean.DateFactoryBean\"&gt;\n  &lt;constructor-arg name=\"date\" value=\"1999-10-11\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"studentBean\" class=\"com.powernode.spring6.bean.Student\"&gt;\n  &lt;property name=\"birth\" ref=\"dateBean\"/&gt;\n&lt;/bean&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_2","title":"\u516b\u3001Bean\u7684\u751f\u547d\u5468\u671f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#81-bean","title":"8.1 \u4ec0\u4e48\u662fBean\u7684\u751f\u547d\u5468\u671f","text":"<p>Spring\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u7ba1\u7406Bean\u5bf9\u8c61\u7684\u5de5\u5382\u3002\u5b83\u8d1f\u8d23\u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u5bf9\u8c61\u7684\u9500\u6bc1\u7b49\u3002</p> <p>\u6240\u8c13\u7684\u751f\u547d\u5468\u671f\u5c31\u662f\uff1a\u5bf9\u8c61\u4ece\u521b\u5efa\u5f00\u59cb\u5230\u6700\u7ec8\u9500\u6bc1\u7684\u6574\u4e2a\u8fc7\u7a0b\u3002</p> <p>\u4ec0\u4e48\u65f6\u5019\u521b\u5efaBean\u5bf9\u8c61\uff1f</p> <p>\u521b\u5efaBean\u5bf9\u8c61\u7684\u524d\u540e\u4f1a\u8c03\u7528\u4ec0\u4e48\u65b9\u6cd5\uff1f</p> <p>Bean\u5bf9\u8c61\u4ec0\u4e48\u65f6\u5019\u9500\u6bc1\uff1f</p> <p>Bean\u5bf9\u8c61\u7684\u9500\u6bc1\u524d\u540e\u8c03\u7528\u4ec0\u4e48\u65b9\u6cd5\uff1f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#82-bean","title":"8.2 \u4e3a\u4ec0\u4e48\u8981\u77e5\u9053Bean\u7684\u751f\u547d\u5468\u671f","text":"<p>\u5176\u5b9e\u751f\u547d\u5468\u671f\u7684\u672c\u8d28\u662f\uff1a\u5728\u54ea\u4e2a\u65f6\u95f4\u8282\u70b9\u4e0a\u8c03\u7528\u4e86\u54ea\u4e2a\u7c7b\u7684\u54ea\u4e2a\u65b9\u6cd5\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5145\u5206\u7684\u4e86\u89e3\u5728\u8fd9\u4e2a\u751f\u547d\u7ebf\u4e0a\uff0c\u90fd\u6709\u54ea\u4e9b\u7279\u6b8a\u7684\u65f6\u95f4\u8282\u70b9\u3002</p> <p>\u53ea\u6709\u6211\u4eec\u77e5\u9053\u4e86\u7279\u6b8a\u7684\u65f6\u95f4\u8282\u70b9\u90fd\u5728\u54ea\uff0c\u5230\u65f6\u6211\u4eec\u624d\u53ef\u4ee5\u786e\u5b9a\u4ee3\u7801\u5199\u5230\u54ea\u3002</p> <p>\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5728\u67d0\u4e2a\u7279\u6b8a\u7684\u65f6\u95f4\u70b9\u4e0a\u6267\u884c\u4e00\u6bb5\u7279\u5b9a\u7684\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u5c31\u53ef\u4ee5\u653e\u5230\u8fd9\u4e2a\u8282\u70b9\u4e0a\u3002\u5f53\u751f\u547d\u7ebf\u8d70\u5230\u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u81ea\u7136\u4f1a\u88ab\u8c03\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#83-bean5","title":"8.3 Bean\u7684\u751f\u547d\u5468\u671f\u4e4b5\u6b65","text":"<p>Bean\u751f\u547d\u5468\u671f\u7684\u7ba1\u7406\uff0c\u53ef\u4ee5\u53c2\u8003Spring\u7684\u6e90\u7801\uff1aAbstractAutowireCapableBeanFactory\u7c7b\u7684doCreateBean()\u65b9\u6cd5\u3002</p> <p>Bean\u751f\u547d\u5468\u671f\u53ef\u4ee5\u7c97\u7565\u7684\u5212\u5206\u4e3a\u4e94\u5927\u6b65\uff1a</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u5b9e\u4f8b\u5316Bean</li> <li>\u7b2c\u4e8c\u6b65\uff1aBean\u5c5e\u6027\u8d4b\u503c</li> <li>\u7b2c\u4e09\u6b65\uff1a\u521d\u59cb\u5316Bean</li> <li>\u7b2c\u56db\u6b65\uff1a\u4f7f\u7528Bean</li> <li>\u7b2c\u4e94\u6b65\uff1a\u9500\u6bc1Bean</li> </ul> <p></p> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p>\u5b9a\u4e49\u4e00\u4e2aBean</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    private String name;\n\n    public User() {\n        System.out.println(\"1.\u5b9e\u4f8b\u5316Bean\");\n    }\n\n    public void setName(String name) {\n        this.name = name;\n        System.out.println(\"2.Bean\u5c5e\u6027\u8d4b\u503c\");\n    }\n\n    public void initBean(){\n        System.out.println(\"3.\u521d\u59cb\u5316Bean\");\n    }\n\n    public void destroyBean(){\n        System.out.println(\"5.\u9500\u6bc1Bean\");\n    }\n\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!--\n    init-method\u5c5e\u6027\u6307\u5b9a\u521d\u59cb\u5316\u65b9\u6cd5\u3002\n    destroy-method\u5c5e\u6027\u6307\u5b9a\u9500\u6bc1\u65b9\u6cd5\u3002\n    --&gt;\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\" init-method=\"initBean\" destroy-method=\"destroyBean\"&gt;\n        &lt;property name=\"name\" value=\"zhangsan\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className BeanLifecycleTest\n * @since 1.0\n **/\npublic class BeanLifecycleTest {\n    @Test\n    public void testLifecycle(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        User userBean = applicationContext.getBean(\"userBean\", User.class);\n        System.out.println(\"4.\u4f7f\u7528Bean\");\n        // \u53ea\u6709\u6b63\u5e38\u5173\u95edspring\u5bb9\u5668\u624d\u4f1a\u6267\u884c\u9500\u6bc1\u65b9\u6cd5\n        ClassPathXmlApplicationContext context = (ClassPathXmlApplicationContext) applicationContext;\n        context.close();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u53ea\u6709\u6b63\u5e38\u5173\u95edspring\u5bb9\u5668\uff0cbean\u7684\u9500\u6bc1\u65b9\u6cd5\u624d\u4f1a\u88ab\u8c03\u7528\u3002</li> <li>\u7b2c\u4e8c\uff1aClassPathXmlApplicationContext\u7c7b\u624d\u6709close()\u65b9\u6cd5\u3002</li> <li>\u7b2c\u4e09\uff1a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684init-method\u6307\u5b9a\u521d\u59cb\u5316\u65b9\u6cd5\u3002destroy-method\u6307\u5b9a\u9500\u6bc1\u65b9\u6cd5\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#84-bean7","title":"8.4 Bean\u751f\u547d\u5468\u671f\u4e4b7\u6b65","text":"<p>\u5728\u4ee5\u4e0a\u76845\u6b65\u4e2d\uff0c\u7b2c3\u6b65\u662f\u521d\u59cb\u5316Bean\uff0c\u5982\u679c\u4f60\u8fd8\u60f3\u5728\u521d\u59cb\u5316\u524d\u548c\u521d\u59cb\u5316\u540e\u6dfb\u52a0\u4ee3\u7801\uff0c\u53ef\u4ee5\u52a0\u5165\u201cBean\u540e\u5904\u7406\u5668\u201d\u3002</p> <p>\u7f16\u5199\u4e00\u4e2a\u7c7b\u5b9e\u73b0BeanPostProcessor\u7c7b\uff0c\u5e76\u4e14\u91cd\u5199before\u548cafter\u65b9\u6cd5\uff1a</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className LogBeanPostProcessor\n * @since 1.0\n **/\npublic class LogBeanPostProcessor implements BeanPostProcessor {\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"Bean\u540e\u5904\u7406\u5668\u7684before\u65b9\u6cd5\u6267\u884c\uff0c\u5373\u5c06\u5f00\u59cb\u521d\u59cb\u5316\");\n        return bean;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"Bean\u540e\u5904\u7406\u5668\u7684after\u65b9\u6cd5\u6267\u884c\uff0c\u5df2\u5b8c\u6210\u521d\u59cb\u5316\");\n        return bean;\n    }\n}\n</code></pre> <p>\u5728spring.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u201cBean\u540e\u5904\u7406\u5668\u201d\uff1a</p> XML<pre><code>&lt;!--\u914d\u7f6eBean\u540e\u5904\u7406\u5668\u3002\u8fd9\u4e2a\u540e\u5904\u7406\u5668\u5c06\u4f5c\u7528\u4e8e\u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u4e2d\u6240\u6709\u7684bean\u3002--&gt;\n&lt;bean class=\"com.powernode.spring6.bean.LogBeanPostProcessor\"/&gt;\n</code></pre> <p>\u4e00\u5b9a\u8981\u6ce8\u610f\uff1a\u5728spring.xml\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684Bean\u540e\u5904\u7406\u5668\u5c06\u4f5c\u7528\u4e8e\u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u4e2d\u6240\u6709\u7684Bean\u3002</p> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u5982\u679c\u52a0\u4e0aBean\u540e\u5904\u7406\u5668\u7684\u8bdd\uff0cBean\u7684\u751f\u547d\u5468\u671f\u5c31\u662f7\u6b65\u4e86\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#85-bean10","title":"8.5 Bean\u751f\u547d\u5468\u671f\u4e4b10\u6b65","text":"<p>\u5982\u679c\u6839\u636e\u6e90\u7801\u8ddf\u8e2a\uff0c\u53ef\u4ee5\u5212\u5206\u66f4\u7ec6\u7c92\u5ea6\u7684\u6b65\u9aa4\uff0c10\u6b65\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u68c0\u67e5Bean\u662f\u5426\u5b9e\u73b0\u4e86Aware\u7684\u76f8\u5173\u63a5\u53e3\u662f\u4ec0\u4e48\u610f\u601d\uff1f</p> <p>Aware\u76f8\u5173\u7684\u63a5\u53e3\u5305\u62ec\uff1aBeanNameAware\u3001BeanClassLoaderAware\u3001BeanFactoryAware</p> <ul> <li>\u5f53Bean\u5b9e\u73b0\u4e86BeanNameAware\uff0cSpring\u4f1a\u5c06Bean\u7684\u540d\u5b57\u4f20\u9012\u7ed9Bean\u3002</li> <li>\u5f53Bean\u5b9e\u73b0\u4e86BeanClassLoaderAware\uff0cSpring\u4f1a\u5c06\u52a0\u8f7d\u8be5Bean\u7684\u7c7b\u52a0\u8f7d\u5668\u4f20\u9012\u7ed9Bean\u3002</li> <li>\u5f53Bean\u5b9e\u73b0\u4e86BeanFactoryAware\uff0cSpring\u4f1a\u5c06Bean\u5de5\u5382\u5bf9\u8c61\u4f20\u9012\u7ed9Bean\u3002</li> </ul> <p>\u6d4b\u8bd5\u4ee5\u4e0a10\u6b65\uff0c\u53ef\u4ee5\u8ba9User\u7c7b\u5b9e\u73b05\u4e2a\u63a5\u53e3\uff0c\u5e76\u5b9e\u73b0\u6240\u6709\u65b9\u6cd5\uff1a</p> <ul> <li>BeanNameAware</li> <li>BeanClassLoaderAware</li> <li>BeanFactoryAware</li> <li>InitializingBean</li> <li>DisposableBean</li> </ul> <p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.*;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User implements BeanNameAware, BeanClassLoaderAware, BeanFactoryAware, InitializingBean, DisposableBean {\n    private String name;\n\n    public User() {\n        System.out.println(\"1.\u5b9e\u4f8b\u5316Bean\");\n    }\n\n    public void setName(String name) {\n        this.name = name;\n        System.out.println(\"2.Bean\u5c5e\u6027\u8d4b\u503c\");\n    }\n\n    public void initBean(){\n        System.out.println(\"6.\u521d\u59cb\u5316Bean\");\n    }\n\n    public void destroyBean(){\n        System.out.println(\"10.\u9500\u6bc1Bean\");\n    }\n\n    @Override\n    public void setBeanClassLoader(ClassLoader classLoader) {\n        System.out.println(\"3.\u7c7b\u52a0\u8f7d\u5668\uff1a\" + classLoader);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        System.out.println(\"3.Bean\u5de5\u5382\uff1a\" + beanFactory);\n    }\n\n    @Override\n    public void setBeanName(String name) {\n        System.out.println(\"3.bean\u540d\u5b57\uff1a\" + name);\n    }\n\n    @Override\n    public void destroy() throws Exception {\n        System.out.println(\"9.DisposableBean destroy\");\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        System.out.println(\"5.afterPropertiesSet\u6267\u884c\");\n    }\n}\npackage com.powernode.spring6.bean;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className LogBeanPostProcessor\n * @since 1.0\n **/\npublic class LogBeanPostProcessor implements BeanPostProcessor {\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"4.Bean\u540e\u5904\u7406\u5668\u7684before\u65b9\u6cd5\u6267\u884c\uff0c\u5373\u5c06\u5f00\u59cb\u521d\u59cb\u5316\");\n        return bean;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        System.out.println(\"7.Bean\u540e\u5904\u7406\u5668\u7684after\u65b9\u6cd5\u6267\u884c\uff0c\u5df2\u5b8c\u6210\u521d\u59cb\u5316\");\n        return bean;\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u770b\u51fa\u6765\uff1a</p> <ul> <li>InitializingBean\u7684\u65b9\u6cd5\u65e9\u4e8einit-method\u7684\u6267\u884c\u3002</li> <li>DisposableBean\u7684\u65b9\u6cd5\u65e9\u4e8edestroy-method\u7684\u6267\u884c\u3002</li> </ul> <p>\u5bf9\u4e8eSpringBean\u7684\u751f\u547d\u5468\u671f\uff0c\u638c\u63e1\u4e4b\u524d\u76847\u6b65\u5373\u53ef\u3002\u591f\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#86-bean","title":"8.6 Bean\u7684\u4f5c\u7528\u57df\u4e0d\u540c\uff0c\u7ba1\u7406\u65b9\u5f0f\u4e0d\u540c","text":"<p>Spring \u6839\u636eBean\u7684\u4f5c\u7528\u57df\u6765\u9009\u62e9\u7ba1\u7406\u65b9\u5f0f\u3002</p> <ul> <li>\u5bf9\u4e8esingleton\u4f5c\u7528\u57df\u7684Bean\uff0cSpring \u80fd\u591f\u7cbe\u786e\u5730\u77e5\u9053\u8be5Bean\u4f55\u65f6\u88ab\u521b\u5efa\uff0c\u4f55\u65f6\u521d\u59cb\u5316\u5b8c\u6210\uff0c\u4ee5\u53ca\u4f55\u65f6\u88ab\u9500\u6bc1\uff1b</li> <li>\u800c\u5bf9\u4e8e prototype \u4f5c\u7528\u57df\u7684 Bean\uff0cSpring \u53ea\u8d1f\u8d23\u521b\u5efa\uff0c\u5f53\u5bb9\u5668\u521b\u5efa\u4e86 Bean \u7684\u5b9e\u4f8b\u540e\uff0cBean \u7684\u5b9e\u4f8b\u5c31\u4ea4\u7ed9\u5ba2\u6237\u7aef\u4ee3\u7801\u7ba1\u7406\uff0cSpring \u5bb9\u5668\u5c06\u4e0d\u518d\u8ddf\u8e2a\u5176\u751f\u547d\u5468\u671f\u3002</li> </ul> <p>\u6211\u4eec\u628a\u4e4b\u524dUser\u7c7b\u7684spring.xml\u6587\u4ef6\u4e2d\u7684\u914d\u7f6escope\u8bbe\u7f6e\u4e3aprototype\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!--\n    init-method\u5c5e\u6027\u6307\u5b9a\u521d\u59cb\u5316\u65b9\u6cd5\u3002\n    destroy-method\u5c5e\u6027\u6307\u5b9a\u9500\u6bc1\u65b9\u6cd5\u3002\n    --&gt;\n    &lt;bean id=\"userBean\" class=\"com.powernode.spring6.bean.User\" init-method=\"initBean\" destroy-method=\"destroyBean\" scope=\"prototype\"&gt;\n        &lt;property name=\"name\" value=\"zhangsan\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\u914d\u7f6eBean\u540e\u5904\u7406\u5668\u3002\u8fd9\u4e2a\u540e\u5904\u7406\u5668\u5c06\u4f5c\u7528\u4e8e\u5f53\u524d\u914d\u7f6e\u6587\u4ef6\u4e2d\u6240\u6709\u7684bean\u3002--&gt;\n    &lt;bean class=\"com.powernode.spring6.bean.LogBeanPostProcessor\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u4e00\u76ee\u4e86\u7136\u3002\u53ea\u6267\u884c\u4e86\u524d8\u6b65\uff0c\u7b2c9\u548c10\u90fd\u6ca1\u6709\u6267\u884c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#87-newspring","title":"8.7 \u81ea\u5df1new\u7684\u5bf9\u8c61\u5982\u4f55\u8ba9Spring\u7ba1\u7406","text":"<p>\u6709\u4e9b\u65f6\u5019\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u9700\u6c42\uff0c\u67d0\u4e2ajava\u5bf9\u8c61\u662f\u6211\u4eec\u81ea\u5df1new\u7684\uff0c\u7136\u540e\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a\u5bf9\u8c61\u88abSpring\u5bb9\u5668\u7ba1\u7406\uff0c\u600e\u4e48\u5b9e\u73b0\uff1f</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n}\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.Test;\nimport org.springframework.beans.factory.support.DefaultListableBeanFactory;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className RegisterBeanTest\n * @since 1.0\n **/\npublic class RegisterBeanTest {\n\n    @Test\n    public void testBeanRegister(){\n        // \u81ea\u5df1new\u7684\u5bf9\u8c61\n        User user = new User();\n        System.out.println(user);\n\n        // \u521b\u5efa \u9ed8\u8ba4\u53ef\u5217\u8868BeanFactory \u5bf9\u8c61\n        DefaultListableBeanFactory factory = new DefaultListableBeanFactory();\n        // \u6ce8\u518cBean\n        factory.registerSingleton(\"userBean\", user);\n        // \u4ecespring\u5bb9\u5668\u4e2d\u83b7\u53d6bean\n        User userBean = factory.getBean(\"userBean\", User.class);\n        System.out.println(userBean);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_3","title":"\u4e5d\u3001Bean\u7684\u5faa\u73af\u4f9d\u8d56\u95ee\u9898","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#91-bean","title":"9.1 \u4ec0\u4e48\u662fBean\u7684\u5faa\u73af\u4f9d\u8d56","text":"<p>A\u5bf9\u8c61\u4e2d\u6709B\u5c5e\u6027\u3002B\u5bf9\u8c61\u4e2d\u6709A\u5c5e\u6027\u3002\u8fd9\u5c31\u662f\u5faa\u73af\u4f9d\u8d56\u3002\u6211\u4f9d\u8d56\u4f60\uff0c\u4f60\u4e5f\u4f9d\u8d56\u6211\u3002</p> <p>\u6bd4\u5982\uff1a\u4e08\u592b\u7c7bHusband\uff0c\u59bb\u5b50\u7c7bWife\u3002Husband\u4e2d\u6709Wife\u7684\u5f15\u7528\u3002Wife\u4e2d\u6709Husband\u7684\u5f15\u7528\u3002</p> <p></p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Husband\n * @since 1.0\n **/\npublic class Husband {\n    private String name;\n    private Wife wife;\n}\npackage com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Wife\n * @since 1.0\n **/\npublic class Wife {\n    private String name;\n    private Husband husband;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#92-singletonset","title":"9.2 singleton\u4e0b\u7684set\u6ce8\u5165\u4ea7\u751f\u7684\u5faa\u73af\u4f9d\u8d56","text":"<p>\u6211\u4eec\u6765\u7f16\u5199\u7a0b\u5e8f\uff0c\u6d4b\u8bd5\u4e00\u4e0b\u5728singleton+setter\u7684\u6a21\u5f0f\u4e0b\u4ea7\u751f\u7684\u5faa\u73af\u4f9d\u8d56\uff0cSpring\u662f\u5426\u80fd\u591f\u89e3\u51b3\uff1f</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Husband\n * @since 1.0\n **/\npublic class Husband {\n    private String name;\n    private Wife wife;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setWife(Wife wife) {\n        this.wife = wife;\n    }\n\n    // toString()\u65b9\u6cd5\u91cd\u5199\u65f6\u9700\u8981\u6ce8\u610f\uff1a\u4e0d\u80fd\u76f4\u63a5\u8f93\u51fawife\uff0c\u8f93\u51fawife.getName()\u3002\u8981\u4e0d\u7136\u4f1a\u51fa\u73b0\u9012\u5f52\u5bfc\u81f4\u7684\u6808\u5185\u5b58\u6ea2\u51fa\u9519\u8bef\u3002\n    @Override\n    public String toString() {\n        return \"Husband{\" +\n                \"name='\" + name + '\\'' +\n                \", wife=\" + wife.getName() +\n                '}';\n    }\n}\npackage com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Wife\n * @since 1.0\n **/\npublic class Wife {\n    private String name;\n    private Husband husband;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setHusband(Husband husband) {\n        this.husband = husband;\n    }\n\n    // toString()\u65b9\u6cd5\u91cd\u5199\u65f6\u9700\u8981\u6ce8\u610f\uff1a\u4e0d\u80fd\u76f4\u63a5\u8f93\u51fahusband\uff0c\u8f93\u51fahusband.getName()\u3002\u8981\u4e0d\u7136\u4f1a\u51fa\u73b0\u9012\u5f52\u5bfc\u81f4\u7684\u6808\u5185\u5b58\u6ea2\u51fa\u9519\u8bef\u3002\n    @Override\n    public String toString() {\n        return \"Wife{\" +\n                \"name='\" + name + '\\'' +\n                \", husband=\" + husband.getName() +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"husbandBean\" class=\"com.powernode.spring6.bean.Husband\" scope=\"singleton\"&gt;\n        &lt;property name=\"name\" value=\"\u5f20\u4e09\"/&gt;\n        &lt;property name=\"wife\" ref=\"wifeBean\"/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"wifeBean\" class=\"com.powernode.spring6.bean.Wife\" scope=\"singleton\"&gt;\n        &lt;property name=\"name\" value=\"\u5c0f\u82b1\"/&gt;\n        &lt;property name=\"husband\" ref=\"husbandBean\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.Husband;\nimport com.powernode.spring6.bean.Wife;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className CircularDependencyTest\n * @since 1.0\n **/\npublic class CircularDependencyTest {\n\n    @Test\n    public void testSingletonAndSet(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        Husband husbandBean = applicationContext.getBean(\"husbandBean\", Husband.class);\n        Wife wifeBean = applicationContext.getBean(\"wifeBean\", Wife.class);\n        System.out.println(husbandBean);\n        System.out.println(wifeBean);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff1a\u5728singleton + set\u6ce8\u5165\u7684\u60c5\u51b5\u4e0b\uff0c\u5faa\u73af\u4f9d\u8d56\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002Spring\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#93-prototypeset","title":"9.3 prototype\u4e0b\u7684set\u6ce8\u5165\u4ea7\u751f\u7684\u5faa\u73af\u4f9d\u8d56","text":"<p>\u6211\u4eec\u518d\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1aprototype+set\u6ce8\u5165\u7684\u65b9\u5f0f\u4e0b\uff0c\u5faa\u73af\u4f9d\u8d56\u4f1a\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\uff1f</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"husbandBean\" class=\"com.powernode.spring6.bean.Husband\" scope=\"prototype\"&gt;\n        &lt;property name=\"name\" value=\"\u5f20\u4e09\"/&gt;\n        &lt;property name=\"wife\" ref=\"wifeBean\"/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"wifeBean\" class=\"com.powernode.spring6.bean.Wife\" scope=\"prototype\"&gt;\n        &lt;property name=\"name\" value=\"\u5c0f\u82b1\"/&gt;\n        &lt;property name=\"husband\" ref=\"husbandBean\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a\u53d1\u751f\u4e86\u5f02\u5e38\uff0c\u5f02\u5e38\u4fe1\u606f\u5982\u4e0b\uff1a</p> <p>Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'husbandBean': Requested bean is currently in creation: Is there an unresolvable circular reference?</p> <p>\u200b   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:265)</p> <p>\u200b   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)</p> <p>\u200b   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:325)</p> <p>\u200b   ... 44 more</p> <p>\u7ffb\u8bd1\u4e3a\uff1a\u521b\u5efa\u540d\u4e3a\u201chusbandBean\u201d\u7684bean\u65f6\u51fa\u9519\uff1a\u8bf7\u6c42\u7684bean\u5f53\u524d\u6b63\u5728\u521b\u5efa\u4e2d\uff1a\u662f\u5426\u5b58\u5728\u65e0\u6cd5\u89e3\u6790\u7684\u5faa\u73af\u5f15\u7528\uff1f</p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5f53\u5faa\u73af\u4f9d\u8d56\u7684\u6240\u6709Bean\u7684scope=\"prototype\"\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u7684\u5faa\u73af\u4f9d\u8d56\uff0cSpring\u662f\u65e0\u6cd5\u89e3\u51b3\u7684\uff0c\u4f1a\u51fa\u73b0BeanCurrentlyInCreationException\u5f02\u5e38\u3002</p> <p>\u5927\u5bb6\u53ef\u4ee5\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u4ee5\u4e0a\u4e24\u4e2aBean\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u4e2a\u662fsingleton\uff0c\u53e6\u4e00\u4e2a\u662fprototype\uff0c\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002</p> <p>\u4e3a\u4ec0\u4e48\u4e24\u4e2aBean\u90fd\u662fprototype\u65f6\u4f1a\u51fa\u9519\u5462\uff1f</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#94-singleton","title":"9.4 singleton\u4e0b\u7684\u6784\u9020\u6ce8\u5165\u4ea7\u751f\u7684\u5faa\u73af\u4f9d\u8d56","text":"<p>\u6211\u4eec\u518d\u6765\u6d4b\u8bd5\u4e00\u4e0bsingleton + \u6784\u9020\u6ce8\u5165\u7684\u65b9\u5f0f\u4e0b\uff0cspring\u662f\u5426\u80fd\u591f\u89e3\u51b3\u8fd9\u79cd\u5faa\u73af\u4f9d\u8d56\u3002</p> Java<pre><code>package com.powernode.spring6.bean2;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Husband\n * @since 1.0\n **/\npublic class Husband {\n    private String name;\n    private Wife wife;\n\n    public Husband(String name, Wife wife) {\n        this.name = name;\n        this.wife = wife;\n    }\n\n    // -----------------------\u5206\u5272\u7ebf--------------------------------\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return \"Husband{\" +\n                \"name='\" + name + '\\'' +\n                \", wife=\" + wife +\n                '}';\n    }\n}\npackage com.powernode.spring6.bean2;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Wife\n * @since 1.0\n **/\npublic class Wife {\n    private String name;\n    private Husband husband;\n\n    public Wife(String name, Husband husband) {\n        this.name = name;\n        this.husband = husband;\n    }\n\n    // -------------------------\u5206\u5272\u7ebf--------------------------------\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return \"Wife{\" +\n                \"name='\" + name + '\\'' +\n                \", husband=\" + husband +\n                '}';\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"hBean\" class=\"com.powernode.spring6.bean2.Husband\" scope=\"singleton\"&gt;\n        &lt;constructor-arg name=\"name\" value=\"\u5f20\u4e09\"/&gt;\n        &lt;constructor-arg name=\"wife\" ref=\"wBean\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"wBean\" class=\"com.powernode.spring6.bean2.Wife\" scope=\"singleton\"&gt;\n        &lt;constructor-arg name=\"name\" value=\"\u5c0f\u82b1\"/&gt;\n        &lt;constructor-arg name=\"husband\" ref=\"hBean\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n@Test\npublic void testSingletonAndConstructor(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring2.xml\");\n    Husband hBean = applicationContext.getBean(\"hBean\", Husband.class);\n    Wife wBean = applicationContext.getBean(\"wBean\", Wife.class);\n    System.out.println(hBean);\n    System.out.println(wBean);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a\u53d1\u751f\u4e86\u5f02\u5e38\uff0c\u4fe1\u606f\u5982\u4e0b\uff1a</p> <p>Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'hBean': Requested bean is currently in creation: Is there an unresolvable circular reference?</p> <p>\u200b   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)</p> <p>\u200b   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)</p> <p>\u200b   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)</p> <p>\u200b   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)</p> <p>\u200b   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:325)</p> <p>\u200b   ... 56 more</p> <p>\u548c\u4e0a\u4e00\u4e2a\u6d4b\u8bd5\u7ed3\u679c\u76f8\u540c\uff0c\u90fd\u662f\u63d0\u793a\u4ea7\u751f\u4e86\u5faa\u73af\u4f9d\u8d56\uff0c\u5e76\u4e14Spring\u662f\u65e0\u6cd5\u89e3\u51b3\u8fd9\u79cd\u5faa\u73af\u4f9d\u8d56\u7684\u3002</p> <p>\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u4e3b\u8981\u539f\u56e0\u662f\u56e0\u4e3a\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u5bfc\u81f4\u7684\uff1a\u56e0\u4e3a\u6784\u9020\u65b9\u6cd5\u6ce8\u5165\u4f1a\u5bfc\u81f4\u5b9e\u4f8b\u5316\u5bf9\u8c61\u7684\u8fc7\u7a0b\u548c\u5bf9\u8c61\u5c5e\u6027\u8d4b\u503c\u7684\u8fc7\u7a0b\u6ca1\u6709\u5206\u79bb\u5f00\uff0c\u5fc5\u987b\u5728\u4e00\u8d77\u5b8c\u6210\u5bfc\u81f4\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#95-spring","title":"9.5 Spring\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u673a\u7406","text":"<p>Spring\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u89e3\u51b3set + singleton\u6a21\u5f0f\u4e0b\u5faa\u73af\u4f9d\u8d56\uff1f</p> <p>\u6839\u672c\u7684\u539f\u56e0\u5728\u4e8e\uff1a\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u505a\u5230\u5c06\u201c\u5b9e\u4f8b\u5316Bean\u201d\u548c\u201c\u7ed9Bean\u5c5e\u6027\u8d4b\u503c\u201d\u8fd9\u4e24\u4e2a\u52a8\u4f5c\u5206\u5f00\u53bb\u5b8c\u6210\u3002</p> <p>\u5b9e\u4f8b\u5316Bean\u7684\u65f6\u5019\uff1a\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6765\u5b8c\u6210\u3002\u6b64\u65f6\u53ef\u4ee5\u5148\u4e0d\u7ed9\u5c5e\u6027\u8d4b\u503c\uff0c\u53ef\u4ee5\u63d0\u524d\u5c06\u8be5Bean\u5bf9\u8c61\u201c\u66dd\u5149\u201d\u7ed9\u5916\u754c\u3002</p> <p>\u7ed9Bean\u5c5e\u6027\u8d4b\u503c\u7684\u65f6\u5019\uff1a\u8c03\u7528setter\u65b9\u6cd5\u6765\u5b8c\u6210\u3002</p> <p>\u4e24\u4e2a\u6b65\u9aa4\u662f\u5b8c\u5168\u53ef\u4ee5\u5206\u79bb\u5f00\u53bb\u5b8c\u6210\u7684\uff0c\u5e76\u4e14\u8fd9\u4e24\u6b65\u4e0d\u8981\u6c42\u5728\u540c\u4e00\u4e2a\u65f6\u95f4\u70b9\u4e0a\u5b8c\u6210\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0cBean\u90fd\u662f\u5355\u4f8b\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u628a\u6240\u6709\u7684\u5355\u4f8bBean\u5b9e\u4f8b\u5316\u51fa\u6765\uff0c\u653e\u5230\u4e00\u4e2a\u96c6\u5408\u5f53\u4e2d\uff08\u6211\u4eec\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u7f13\u5b58\uff09\uff0c\u6240\u6709\u7684\u5355\u4f8bBean\u5168\u90e8\u5b9e\u4f8b\u5316\u5b8c\u6210\u4e4b\u540e\uff0c\u4ee5\u540e\u6211\u4eec\u518d\u6162\u6162\u7684\u8c03\u7528setter\u65b9\u6cd5\u7ed9\u5c5e\u6027\u8d4b\u503c\u3002\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898\u3002</p> <p>\u90a3\u4e48\u5728Spring\u6846\u67b6\u5e95\u5c42\u6e90\u7801\u7ea7\u522b\u4e0a\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u5462\uff1f\u8bf7\u770b\uff1a</p> <p></p> <p>\u5728\u4ee5\u4e0a\u7c7b\u4e2d\u5305\u542b\u4e09\u4e2a\u91cd\u8981\u7684\u5c5e\u6027\uff1a</p> <p>Cache of singleton objects: bean name to bean instance.** \u5355\u4f8b\u5bf9\u8c61\u7684\u7f13\u5b58\uff1akey\u5b58\u50a8bean\u540d\u79f0\uff0cvalue\u5b58\u50a8Bean\u5bf9\u8c61\u3010\u4e00\u7ea7\u7f13\u5b58\u3011**</p> <p>Cache of early singleton objects: bean name to bean instance.** \u65e9\u671f\u5355\u4f8b\u5bf9\u8c61\u7684\u7f13\u5b58\uff1akey\u5b58\u50a8bean\u540d\u79f0\uff0cvalue\u5b58\u50a8\u65e9\u671f\u7684Bean\u5bf9\u8c61\u3010\u4e8c\u7ea7\u7f13\u5b58\u3011**</p> <p>Cache of singleton factories: bean name to ObjectFactory.** \u5355\u4f8b\u5de5\u5382\u7f13\u5b58\uff1akey\u5b58\u50a8bean\u540d\u79f0\uff0cvalue\u5b58\u50a8\u8be5Bean\u5bf9\u5e94\u7684ObjectFactory\u5bf9\u8c61\u3010\u4e09\u7ea7\u7f13\u5b58\u3011**</p> <p>\u8fd9\u4e09\u4e2a\u7f13\u5b58\u5176\u5b9e\u672c\u8d28\u4e0a\u662f\u4e09\u4e2aMap\u96c6\u5408\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\uff0c\u5728\u8be5\u7c7b\u4e2d\u6709\u8fd9\u6837\u4e00\u4e2a\u65b9\u6cd5addSingletonFactory()\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\uff1a\u5c06\u521b\u5efaBean\u5bf9\u8c61\u7684ObjectFactory\u5bf9\u8c61\u63d0\u524d\u66dd\u5149\u3002</p> <p></p> <p>\u518d\u5206\u6790\u4e0b\u9762\u7684\u6e90\u7801\uff1a</p> <p></p> <p>\u4ece\u6e90\u7801\u4e2d\u53ef\u4ee5\u770b\u5230\uff0cspring\u4f1a\u5148\u4ece\u4e00\u7ea7\u7f13\u5b58\u4e2d\u83b7\u53d6Bean\uff0c\u5982\u679c\u83b7\u53d6\u4e0d\u5230\uff0c\u5219\u4ece\u4e8c\u7ea7\u7f13\u5b58\u4e2d\u83b7\u53d6Bean\uff0c\u5982\u679c\u4e8c\u7ea7\u7f13\u5b58\u8fd8\u662f\u83b7\u53d6\u4e0d\u5230\uff0c\u5219\u4ece\u4e09\u7ea7\u7f13\u5b58\u4e2d\u83b7\u53d6\u4e4b\u524d\u66dd\u5149\u7684ObjectFactory\u5bf9\u8c61\uff0c\u901a\u8fc7ObjectFactory\u5bf9\u8c61\u83b7\u53d6Bean\u5b9e\u4f8b\uff0c\u8fd9\u6837\u5c31\u89e3\u51b3\u4e86\u5faa\u73af\u4f9d\u8d56\u7684\u95ee\u9898\u3002</p> <p>\u603b\u7ed3\uff1a</p> <p>Spring\u53ea\u80fd\u89e3\u51b3setter\u65b9\u6cd5\u6ce8\u5165\u7684\u5355\u4f8bbean\u4e4b\u95f4\u7684\u5faa\u73af\u4f9d\u8d56\u3002ClassA\u4f9d\u8d56ClassB\uff0cClassB\u53c8\u4f9d\u8d56ClassA\uff0c\u5f62\u6210\u4f9d\u8d56\u95ed\u73af\u3002Spring\u5728\u521b\u5efaClassA\u5bf9\u8c61\u540e\uff0c\u4e0d\u9700\u8981\u7b49\u7ed9\u5c5e\u6027\u8d4b\u503c\uff0c\u76f4\u63a5\u5c06\u5176\u66dd\u5149\u5230bean\u7f13\u5b58\u5f53\u4e2d\u3002\u5728\u89e3\u6790ClassA\u7684\u5c5e\u6027\u65f6\uff0c\u53c8\u53d1\u73b0\u4f9d\u8d56\u4e8eClassB\uff0c\u518d\u6b21\u53bb\u83b7\u53d6ClassB\uff0c\u5f53\u89e3\u6790ClassB\u7684\u5c5e\u6027\u65f6\uff0c\u53c8\u53d1\u73b0\u9700\u8981ClassA\u7684\u5c5e\u6027\uff0c\u4f46\u6b64\u65f6\u7684ClassA\u5df2\u7ecf\u88ab\u63d0\u524d\u66dd\u5149\u52a0\u5165\u4e86\u6b63\u5728\u521b\u5efa\u7684bean\u7684\u7f13\u5b58\u4e2d\uff0c\u5219\u65e0\u9700\u521b\u5efa\u65b0\u7684\u7684ClassA\u7684\u5b9e\u4f8b\uff0c\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u5373\u53ef\u3002\u4ece\u800c\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u95ee\u9898\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_1","title":"\u5341\u3001\u56de\u987e\u53cd\u5c04\u673a\u5236","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#101","title":"10.1 \u5206\u6790\u65b9\u6cd5\u56db\u8981\u7d20","text":"<p>\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\uff0c\u4e0d\u4f7f\u7528\u53cd\u5c04\u673a\u5236\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\u9700\u8981\u51e0\u4e2a\u8981\u7d20\u7684\u53c2\u4e0e\u3002</p> <p>\u6709\u4e00\u4e2a\u8fd9\u6837\u7684\u7c7b\uff1a</p> Java<pre><code>package com.powernode.reflect;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SystemService\n * @since 1.0\n **/\npublic class SystemService {\n\n    public void logout(){\n        System.out.println(\"\u9000\u51fa\u7cfb\u7edf\");\n    }\n\n    public boolean login(String username, String password){\n        if (\"admin\".equals(username) &amp;&amp; \"admin123\".equals(password)) {\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre> <p>\u7f16\u5199\u7a0b\u5e8f\u8c03\u7528\u65b9\u6cd5\uff1a</p> Java<pre><code>package com.powernode.reflect;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ReflectTest01\n * @since 1.0\n **/\npublic class ReflectTest01 {\n    public static void main(String[] args) {\n\n        // \u521b\u5efa\u5bf9\u8c61\n        SystemService systemService = new SystemService();\n\n        // \u8c03\u7528\u65b9\u6cd5\u5e76\u63a5\u6536\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\n        boolean success = systemService.login(\"admin\", \"admin123\");\n\n        System.out.println(success ? \"\u767b\u5f55\u6210\u529f\" : \"\u767b\u5f55\u5931\u8d25\");\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u4ee5\u4e0a\u7b2c16\u884c\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4e00\u822c\u6d89\u53ca\u52304\u4e2a\u8981\u7d20\uff1a</p> <ul> <li>\u8c03\u7528\u54ea\u4e2a\u5bf9\u8c61\u7684\uff08systemService\uff09</li> <li>\u54ea\u4e2a\u65b9\u6cd5\uff08login\uff09</li> <li>\u4f20\u4ec0\u4e48\u53c2\u6570\uff08\"admin\", \"admin123\"\uff09</li> <li>\u8fd4\u56de\u4ec0\u4e48\u503c\uff08success\uff09</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#102-method","title":"10.2 \u83b7\u53d6Method","text":"<p>\u8981\u4f7f\u7528\u53cd\u5c04\u673a\u5236\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\uff0c\u9996\u5148\u4f60\u8981\u83b7\u53d6\u5230\u8fd9\u4e2a\u65b9\u6cd5\u3002</p> <p>\u5728\u53cd\u5c04\u673a\u5236\u4e2dMethod\u5b9e\u4f8b\u4ee3\u8868\u7684\u662f\u4e00\u4e2a\u65b9\u6cd5\u3002\u90a3\u4e48\u600e\u4e48\u83b7\u53d6Method\u5b9e\u4f8b\u5462\uff1f</p> <p>\u6709\u8fd9\u6837\u4e00\u4e2a\u7c7b\uff1a</p> Java<pre><code>package com.powernode.reflect;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SystemService\n * @since 1.0\n **/\npublic class SystemService {\n\n    public void logout(){\n        System.out.println(\"\u9000\u51fa\u7cfb\u7edf\");\n    }\n\n    public boolean login(String username, String password){\n        if (\"admin\".equals(username) &amp;&amp; \"admin123\".equals(password)) {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean login(String password){\n        if(\"110\".equals(password)){\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre> <p>\u6211\u4eec\u5982\u4f55\u83b7\u53d6\u5230 logout()\u3001login(String,String)\u3001login(String) \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u5462\uff1f</p> <p>\u8981\u83b7\u53d6\u65b9\u6cd5Method\uff0c\u9996\u5148\u4f60\u9700\u8981\u83b7\u53d6\u8fd9\u4e2a\u7c7bClass\u3002</p> Java<pre><code>Class clazz = Class.forName(\"com.powernode.reflect.SystemService\");\n</code></pre> <p>\u5f53\u62ff\u5230Class\u4e4b\u540e\uff0c\u8c03\u7528getDeclaredMethod()\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5230\u65b9\u6cd5\u3002</p> <p>\u5047\u5982\u4f60\u8981\u83b7\u53d6\u8fd9\u4e2a\u65b9\u6cd5\uff1alogin(String username, String password)</p> Java<pre><code>Method loginMethod = clazz.getDeclaredMethod(\"login\", String.class, String.class);\n</code></pre> <p>\u5047\u5982\u4f60\u8981\u83b7\u53d6\u5230\u8fd9\u4e2a\u65b9\u6cd5\uff1alogin(String password)</p> Java<pre><code>Method loginMethod = clazz.getDeclaredMethod(\"login\", String.class);\n</code></pre> <p>\u83b7\u53d6\u4e00\u4e2a\u65b9\u6cd5\uff0c\u9700\u8981\u544a\u8bc9Java\u7a0b\u5e8f\uff0c\u4f60\u8981\u83b7\u53d6\u7684\u65b9\u6cd5\u7684\u540d\u5b57\u662f\u4ec0\u4e48\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e0a\u6bcf\u4e2a\u5f62\u53c2\u7684\u7c7b\u578b\u662f\u4ec0\u4e48\u3002\u8fd9\u6837Java\u7a0b\u5e8f\u624d\u80fd\u7ed9\u4f60\u62ff\u5230\u5bf9\u5e94\u7684\u65b9\u6cd5\u3002</p> <p>\u8fd9\u6837\u7684\u8bbe\u8ba1\u4e5f\u975e\u5e38\u5408\u7406\uff0c\u56e0\u4e3a\u5728\u540c\u4e00\u4e2a\u7c7b\u5f53\u4e2d\uff0c\u65b9\u6cd5\u662f\u652f\u6301\u91cd\u8f7d\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u65b9\u6cd5\u540d\u53ef\u4ee5\u4e00\u6837\uff0c\u4f46\u53c2\u6570\u5217\u8868\u4e00\u5b9a\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u83b7\u53d6\u4e00\u4e2a\u65b9\u6cd5\u9700\u8981\u63d0\u4f9b\u65b9\u6cd5\u540d\u4ee5\u53ca\u6bcf\u4e2a\u5f62\u53c2\u7684\u7c7b\u578b\u3002</p> <p>\u5047\u8bbe\u6709\u8fd9\u6837\u4e00\u4e2a\u65b9\u6cd5\uff1a</p> Java<pre><code>public void setAge(int age){\n    this.age = age;\n}\n</code></pre> <p>\u4f60\u8981\u83b7\u53d6\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8bdd\uff0c\u4ee3\u7801\u5e94\u8be5\u8fd9\u6837\u5199\uff1a</p> Java<pre><code>Method setAgeMethod = clazz.getDeclaredMethod(\"setAge\", int.class);\n</code></pre> <p>\u5176\u4e2dsetAge\u662f\u65b9\u6cd5\u540d\uff0cint.class\u662f\u5f62\u53c2\u7684\u7c7b\u578b\u3002</p> <p>\u5982\u679c\u8981\u83b7\u53d6\u4e0a\u9762\u7684logout\u65b9\u6cd5\uff0c\u4ee3\u7801\u5e94\u8be5\u8fd9\u6837\u5199\uff1a</p> Java<pre><code>Method logoutMethod = clazz.getDeclaredMethod(\"logout\");\n</code></pre> <p>\u56e0\u4e3a\u8fd9\u4e2a\u65b9\u6cd5\u5f62\u5f0f\u53c2\u6570\u7684\u4e2a\u6570\u662f0\u4e2a\u3002\u6240\u4ee5\u53ea\u9700\u8981\u63d0\u4f9b\u65b9\u6cd5\u540d\u5c31\u884c\u4e86\u3002\u4f60\u5b66\u4f1a\u4e86\u5417\uff1f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#103-method","title":"10.3 \u8c03\u7528Method","text":"<p>\u8981\u8ba9\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u7684\u8bdd\uff0c\u5c31\u5173\u8054\u5230\u56db\u8981\u7d20\u4e86\uff1a</p> <ul> <li>\u8c03\u7528\u54ea\u4e2a\u5bf9\u8c61\u7684</li> <li>\u54ea\u4e2a\u65b9\u6cd5</li> <li>\u4f20\u4ec0\u4e48\u53c2\u6570</li> <li>\u8fd4\u56de\u4ec0\u4e48\u503c</li> </ul> Java<pre><code>package com.powernode.reflect;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SystemService\n * @since 1.0\n **/\npublic class SystemService {\n\n    public void logout(){\n        System.out.println(\"\u9000\u51fa\u7cfb\u7edf\");\n    }\n\n    public boolean login(String username, String password){\n        if (\"admin\".equals(username) &amp;&amp; \"admin123\".equals(password)) {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean login(String password){\n        if(\"110\".equals(password)){\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre> <p>\u5047\u5982\u6211\u4eec\u8981\u8c03\u7528\u7684\u65b9\u6cd5\u662f\uff1alogin(String, String)</p> <p>\u7b2c\u4e00\u6b65\uff1a\u521b\u5efa\u5bf9\u8c61\uff08\u56db\u8981\u7d20\u4e4b\u9996\uff1a\u8c03\u7528\u54ea\u4e2a\u5bf9\u8c61\u7684\uff09</p> Java<pre><code>Class clazz = Class.forName(\"com.powernode.reflect.SystemService\");\nObject obj = clazz.newInstance();\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u83b7\u53d6\u65b9\u6cd5login(String,String)\uff08\u56db\u8981\u7d20\u4e4b\u4e00\uff1a\u54ea\u4e2a\u65b9\u6cd5\uff09</p> Java<pre><code>Method loginMethod = clazz.getDeclaredMethod(\"login\", String.class, String.class);\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u8c03\u7528\u65b9\u6cd5</p> Java<pre><code>Object retValue = loginMethod.invoke(obj, \"admin\", \"admin123\");\n</code></pre> <p>\u89e3\u8bf4\u56db\u8981\u7d20\uff1a</p> <ul> <li>\u54ea\u4e2a\u5bf9\u8c61\uff1aobj</li> <li>\u54ea\u4e2a\u65b9\u6cd5\uff1aloginMethod</li> <li>\u4f20\u4ec0\u4e48\u53c2\u6570\uff1a\"admin\", \"admin123\"</li> <li>\u8fd4\u56de\u4ec0\u4e48\u503c\uff1aretValue</li> </ul> Java<pre><code>package com.powernode.reflect;\n\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ReflectTest02\n * @since 1.0\n **/\npublic class ReflectTest02 {\n    public static void main(String[] args) throws Exception{\n        Class clazz = Class.forName(\"com.powernode.reflect.SystemService\");\n        Object obj = clazz.newInstance();\n        Method loginMethod = clazz.getDeclaredMethod(\"login\", String.class, String.class);\n        Object retValue = loginMethod.invoke(obj, \"admin\", \"admin123\");\n        System.out.println(retValue);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u90a3\u5982\u679c\u8c03\u7528\u65e2\u6ca1\u6709\u53c2\u6570\uff0c\u53c8\u6ca1\u6709\u8fd4\u56de\u503c\u7684logout\u65b9\u6cd5\uff0c\u5e94\u8be5\u600e\u4e48\u505a\uff1f</p> Java<pre><code>package com.powernode.reflect;\n\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ReflectTest03\n * @since 1.0\n **/\npublic class ReflectTest03 {\n    public static void main(String[] args) throws Exception{\n        Class clazz = Class.forName(\"com.powernode.reflect.SystemService\");\n        Object obj = clazz.newInstance();\n        Method logoutMethod = clazz.getDeclaredMethod(\"logout\");\n        logoutMethod.invoke(obj);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#104","title":"10.4 \u5047\u8bbe\u4f60\u77e5\u9053\u5c5e\u6027\u540d","text":"<p>\u5047\u8bbe\u6709\u8fd9\u6837\u4e00\u4e2a\u7c7b\uff1a</p> Java<pre><code>package com.powernode.reflect;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    private String name;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n</code></pre> <p>\u4f60\u77e5\u9053\u4ee5\u4e0b\u8fd9\u51e0\u6761\u4fe1\u606f\uff1a</p> <ul> <li> <p>\u7c7b\u540d\u662f\uff1acom.powernode.reflect.User</p> </li> <li> <p>\u8be5\u7c7b\u4e2d\u6709String\u7c7b\u578b\u7684name\u5c5e\u6027\u548cint\u7c7b\u578b\u7684age\u5c5e\u6027\u3002</p> </li> <li>\u53e6\u5916\u4f60\u4e5f\u77e5\u9053\u8be5\u7c7b\u7684\u8bbe\u8ba1\u7b26\u5408javabean\u89c4\u8303\u3002\uff08\u4e5f\u5c31\u662f\u8bf4\u5c5e\u6027\u79c1\u6709\u5316\uff0c\u5bf9\u5916\u63d0\u4f9bsetter\u548cgetter\u65b9\u6cd5\uff09</li> </ul> <p>\u4f60\u5982\u4f55\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u7ed9User\u5bf9\u8c61\u7684name\u5c5e\u6027\u8d4b\u503czhangsan\uff0c\u7ed9age\u5c5e\u6027\u8d4b\u503c20\u5c81\u3002</p> Java<pre><code>package com.powernode.reflect;\n\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserTest\n * @since 1.0\n **/\npublic class UserTest {\n    public static void main(String[] args) throws Exception{\n        // \u5df2\u77e5\u7c7b\u540d\n        String className = \"com.powernode.reflect.User\";\n        // \u5df2\u77e5\u5c5e\u6027\u540d\n        String propertyName = \"age\";\n\n        // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u7ed9User\u5bf9\u8c61\u7684age\u5c5e\u6027\u8d4b\u503c20\u5c81\n        Class&lt;?&gt; clazz = Class.forName(className);\n        Object obj = clazz.newInstance(); // \u521b\u5efa\u5bf9\u8c61\n\n        // \u6839\u636e\u5c5e\u6027\u540d\u83b7\u53d6setter\u65b9\u6cd5\u540d\n        String setMethodName = \"set\" + propertyName.toUpperCase().charAt(0) + propertyName.substring(1);\n\n        // \u83b7\u53d6Method\n        Method setMethod = clazz.getDeclaredMethod(setMethodName, int.class);\n\n        // \u8c03\u7528Method\n        setMethod.invoke(obj, 20);\n\n        System.out.println(obj);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u7ed9User\u7684name\u5c5e\u6027\u8d4b\u503czhangsan\uff0c\u8fd9\u4e2a\u5927\u5bb6\u53ef\u4ee5\u5c1d\u8bd5\u81ea\u5df1\u5b8c\u6210\u54e6\uff01\uff01\uff01</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_3","title":"\u5341\u4e00\u3001\u624b\u5199Spring\u6846\u67b6","text":"<p>Spring IoC\u5bb9\u5668\u7684\u5b9e\u73b0\u539f\u7406\uff1a\u5de5\u5382\u6a21\u5f0f + \u89e3\u6790XML + \u53cd\u5c04\u673a\u5236\u3002</p> <p>\u6211\u4eec\u7ed9\u81ea\u5df1\u7684\u6846\u67b6\u8d77\u540d\u4e3a\uff1amyspring\uff08\u6211\u7684\u6625\u5929\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#myspring","title":"\u7b2c\u4e00\u6b65\uff1a\u521b\u5efa\u6a21\u5757myspring","text":"<p>\u91c7\u7528Maven\u65b9\u5f0f\u65b0\u5efaModule\uff1amyspring</p> <p></p> <p>\u6253\u5305\u65b9\u5f0f\u91c7\u7528jar\uff0c\u5e76\u4e14\u5f15\u5165dom4j\u548cjaxen\u7684\u4f9d\u8d56\uff0c\u56e0\u4e3a\u8981\u4f7f\u7528\u5b83\u89e3\u6790XML\u6587\u4ef6\uff0c\u8fd8\u6709junit\u4f9d\u8d56\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.myspringframework&lt;/groupId&gt;\n    &lt;artifactId&gt;myspring&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jaxen&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxen&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_4","title":"\u7b2c\u4e8c\u6b65\uff1a\u51c6\u5907\u597d\u6211\u4eec\u8981\u7ba1\u7406\u7684Bean","text":"<p>\u51c6\u5907\u597d\u6211\u4eec\u8981\u7ba1\u7406\u7684Bean\uff08\u8fd9\u4e9bBean\u5728\u5c06\u6765\u5f00\u53d1\u5b8c\u6846\u67b6\u4e4b\u540e\u662f\u8981\u5220\u9664\u7684\uff09</p> <p>\u6ce8\u610f\u5305\u540d\uff0c\u4e0d\u8981\u7528org.myspringframework\u5305\uff0c\u56e0\u4e3a\u8fd9\u4e9bBean\u4e0d\u662f\u6846\u67b6\u5185\u7f6e\u7684\u3002\u662f\u5c06\u6765\u4f7f\u7528\u6211\u4eec\u6846\u67b6\u7684\u7a0b\u5e8f\u5458\u63d0\u4f9b\u7684\u3002</p> Java<pre><code>package com.powernode.myspring.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Address\n * @since 1.0\n **/\npublic class Address {\n    private String city;\n    private String street;\n    private String zipcode;\n\n    public Address() {\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getStreet() {\n        return street;\n    }\n\n    public void setStreet(String street) {\n        this.street = street;\n    }\n\n    public String getZipcode() {\n        return zipcode;\n    }\n\n    public void setZipcode(String zipcode) {\n        this.zipcode = zipcode;\n    }\n\n    @Override\n    public String toString() {\n        return \"Address{\" +\n                \"city='\" + city + '\\'' +\n                \", street='\" + street + '\\'' +\n                \", zipcode='\" + zipcode + '\\'' +\n                '}';\n    }\n}\npackage com.powernode.myspring.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    private String name;\n    private int age;\n    private Address addr;\n\n    public User() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public Address getAddr() {\n        return addr;\n    }\n\n    public void setAddr(Address addr) {\n        this.addr = addr;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                \", addr=\" + addr +\n                '}';\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#myspringxml","title":"\u7b2c\u4e09\u6b65\uff1a\u51c6\u5907myspring.xml\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5c06\u6765\u5728\u6846\u67b6\u5f00\u53d1\u5b8c\u6bd5\u4e4b\u540e\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u662f\u8981\u5220\u9664\u7684\u3002\u56e0\u4e3a\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u63d0\u4f9b\u8005\u5e94\u8be5\u662f\u4f7f\u7528\u8fd9\u4e2a\u6846\u67b6\u7684\u7a0b\u5e8f\u5458\u3002</p> <p>\u6587\u4ef6\u540d\u968f\u610f\uff0c\u6211\u4eec\u8fd9\u91cc\u53eb\u505a\uff1amyspring.xml</p> <p>\u6587\u4ef6\u653e\u5728\u7c7b\u8def\u5f84\u5f53\u4e2d\u5373\u53ef\uff0c\u6211\u4eec\u8fd9\u91cc\u628a\u6587\u4ef6\u653e\u5230\u7c7b\u7684\u6839\u8def\u5f84\u4e0b\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans&gt;\n\n    &lt;bean id=\"userBean\" class=\"com.powernode.myspring.bean.User\"&gt;\n        &lt;property name=\"name\" value=\"\u5f20\u4e09\"/&gt;\n        &lt;property name=\"age\" value=\"20\"/&gt;\n        &lt;property name=\"addr\" ref=\"addrBean\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"addrBean\" class=\"com.powernode.myspring.bean.Address\"&gt;\n        &lt;property name=\"city\" value=\"\u5317\u4eac\"/&gt;\n        &lt;property name=\"street\" value=\"\u5927\u5174\u533a\"/&gt;\n        &lt;property name=\"zipcode\" value=\"1000001\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u4f7f\u7528value\u7ed9\u7b80\u5355\u5c5e\u6027\u8d4b\u503c\u3002\u4f7f\u7528ref\u7ed9\u975e\u7b80\u5355\u5c5e\u6027\u8d4b\u503c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#applicationcontext","title":"\u7b2c\u56db\u6b65\uff1a\u7f16\u5199ApplicationContext\u63a5\u53e3","text":"<p>ApplicationContext\u63a5\u53e3\u4e2d\u63d0\u4f9b\u4e00\u4e2agetBean()\u65b9\u6cd5\uff0c\u901a\u8fc7\u8be5\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6Bean\u5bf9\u8c61\u3002</p> <p>\u6ce8\u610f\u5305\u540d\uff1a\u8fd9\u4e2a\u63a5\u53e3\u5c31\u662fmyspring\u6846\u67b6\u4e2d\u7684\u4e00\u5458\u4e86\u3002</p> Java<pre><code>package org.myspringframework.core;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ApplicationContext\n * @since 1.0\n **/\npublic interface ApplicationContext {\n    /**\n     * \u6839\u636ebean\u7684id\u83b7\u53d6bean\u5b9e\u4f8b\u3002\n     * @param beanId bean\u7684id\n     * @return bean\u5b9e\u4f8b\n     */\n    Object getBean(String beanId);\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#classpathxmlapplicationcontext","title":"\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199ClassPathXmlApplicationContext","text":"<p>ClassPathXmlApplicationContext\u662fApplicationContext\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u3002\u8be5\u7c7b\u4ece\u7c7b\u8def\u5f84\u5f53\u4e2d\u52a0\u8f7dmyspring.xml\u914d\u7f6e\u6587\u4ef6\u3002</p> Java<pre><code>package org.myspringframework.core;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ClassPathXmlApplicationContext\n * @since 1.0\n **/\npublic class ClassPathXmlApplicationContext implements ApplicationContext{\n    @Override\n    public Object getBean(String beanId) {\n        return null;\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#mapbean","title":"\u7b2c\u516d\u6b65\uff1a\u786e\u5b9a\u91c7\u7528Map\u96c6\u5408\u5b58\u50a8Bean","text":"<p>\u786e\u5b9a\u91c7\u7528Map\u96c6\u5408\u5b58\u50a8Bean\u5b9e\u4f8b\u3002Map\u96c6\u5408\u7684key\u5b58\u50a8beanId\uff0cvalue\u5b58\u50a8Bean\u5b9e\u4f8b\u3002Map <p>\u5728ClassPathXmlApplicationContext\u7c7b\u4e2d\u6dfb\u52a0Map\u5c5e\u6027\u3002 <p>\u5e76\u4e14\u5728ClassPathXmlApplicationContext\u7c7b\u4e2d\u6dfb\u52a0\u6784\u9020\u65b9\u6cd5\uff0c\u8be5\u6784\u9020\u65b9\u6cd5\u7684\u53c2\u6570\u63a5\u6536myspring.xml\u6587\u4ef6\u3002</p> <p>\u540c\u65f6\u5b9e\u73b0getBean\u65b9\u6cd5\u3002</p> Java<pre><code>package org.myspringframework.core;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ClassPathXmlApplicationContext\n * @since 1.0\n **/\npublic class ClassPathXmlApplicationContext implements ApplicationContext{\n    /**\n     * \u5b58\u50a8bean\u7684Map\u96c6\u5408\n     */\n    private Map&lt;String,Object&gt; beanMap = new HashMap&lt;&gt;();\n\n    /**\n     * \u5728\u8be5\u6784\u9020\u65b9\u6cd5\u4e2d\uff0c\u89e3\u6790myspring.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684Bean\u5b9e\u4f8b\uff0c\u5e76\u5c06Bean\u5b9e\u4f8b\u5b58\u653e\u5230Map\u96c6\u5408\u4e2d\u3002\n     * @param resource \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff08\u8981\u6c42\u5728\u7c7b\u8def\u5f84\u5f53\u4e2d\uff09\n     */\n    public ClassPathXmlApplicationContext(String resource) {\n\n    }\n\n    @Override\n    public Object getBean(String beanId) {\n        return beanMap.get(beanId);\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_5","title":"\u7b2c\u4e03\u6b65\uff1a\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\u5b9e\u4f8b\u5316\u6240\u6709Bean","text":"<p>\u5728ClassPathXmlApplicationContext\u7684\u6784\u9020\u65b9\u6cd5\u4e2d\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\uff0c\u83b7\u53d6\u6240\u6709bean\u7684\u7c7b\u540d\uff0c\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u521b\u5efaBean\u3002\u5e76\u4e14\u5c06Bean\u5bf9\u8c61\u5b58\u653e\u5230Map\u96c6\u5408\u4e2d\u3002</p> Java<pre><code>/**\n* \u5728\u8be5\u6784\u9020\u65b9\u6cd5\u4e2d\uff0c\u89e3\u6790myspring.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684Bean\u5b9e\u4f8b\uff0c\u5e76\u5c06Bean\u5b9e\u4f8b\u5b58\u653e\u5230Map\u96c6\u5408\u4e2d\u3002\n* @param resource \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff08\u8981\u6c42\u5728\u7c7b\u8def\u5f84\u5f53\u4e2d\uff09\n*/\npublic ClassPathXmlApplicationContext(String resource) {\n    try {\n        SAXReader reader = new SAXReader();\n        Document document = reader.read(ClassLoader.getSystemClassLoader().getResourceAsStream(resource));\n        // \u83b7\u53d6\u6240\u6709\u7684bean\u6807\u7b7e\n        List&lt;Node&gt; beanNodes = document.selectNodes(\"//bean\");\n        // \u904d\u5386\u96c6\u5408\n        beanNodes.forEach(beanNode -&gt; {\n            Element beanElt = (Element) beanNode;\n            // \u83b7\u53d6id\n            String id = beanElt.attributeValue(\"id\");\n            // \u83b7\u53d6className\n            String className = beanElt.attributeValue(\"class\");\n            try {\n                // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u521b\u5efa\u5bf9\u8c61\n                Class&lt;?&gt; clazz = Class.forName(className);\n                Constructor&lt;?&gt; defaultConstructor = clazz.getDeclaredConstructor();\n                Object bean = defaultConstructor.newInstance();\n                // \u5b58\u50a8\u5230Map\u96c6\u5408\n                beanMap.put(id, bean);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_6","title":"\u7b2c\u516b\u6b65\uff1a\u6d4b\u8bd5\u80fd\u5426\u83b7\u53d6\u5230Bean","text":"<p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\u3002</p> Java<pre><code>package com.powernode.myspring.test;\n\nimport org.junit.Test;\nimport org.myspringframework.core.ApplicationContext;\nimport org.myspringframework.core.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MySpringTest\n * @since 1.0\n **/\npublic class MySpringTest {\n    @Test\n    public void testMySpring(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"myspring.xml\");\n        Object userBean = applicationContext.getBean(\"userBean\");\n        Object addrBean = applicationContext.getBean(\"addrBean\");\n        System.out.println(userBean);\n        System.out.println(addrBean);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5Bean\u5df2\u7ecf\u5b9e\u4f8b\u5316\u6210\u529f\u4e86\uff0c\u5c5e\u6027\u7684\u503c\u662fnull\uff0c\u8fd9\u662f\u6211\u4eec\u80fd\u591f\u60f3\u5230\u7684\uff0c\u6bd5\u7adf\u6211\u4eec\u8c03\u7528\u7684\u662f\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\uff0c\u6240\u4ee5\u5c5e\u6027\u90fd\u662f\u9ed8\u8ba4\u503c\u3002</p> <p>\u4e0b\u4e00\u6b65\u5c31\u662f\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u7ed9Bean\u7684\u5c5e\u6027\u8d4b\u503c\u5462\uff1f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#bean_7","title":"\u7b2c\u4e5d\u6b65\uff1a\u7ed9Bean\u7684\u5c5e\u6027\u8d4b\u503c","text":"<p>\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u8c03\u7528set\u65b9\u6cd5\uff0c\u7ed9Bean\u7684\u5c5e\u6027\u8d4b\u503c\u3002</p> <p>\u7ee7\u7eed\u5728ClassPathXmlApplicationContext\u6784\u9020\u65b9\u6cd5\u4e2d\u7f16\u5199\u4ee3\u7801\u3002</p> Java<pre><code>package org.myspringframework.core;\n\nimport org.dom4j.Document;\nimport org.dom4j.Element;\nimport org.dom4j.Node;\nimport org.dom4j.io.SAXReader;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ClassPathXmlApplicationContext\n * @since 1.0\n **/\npublic class ClassPathXmlApplicationContext implements ApplicationContext{\n    /**\n     * \u5b58\u50a8bean\u7684Map\u96c6\u5408\n     */\n    private Map&lt;String,Object&gt; beanMap = new HashMap&lt;&gt;();\n\n    /**\n     * \u5728\u8be5\u6784\u9020\u65b9\u6cd5\u4e2d\uff0c\u89e3\u6790myspring.xml\u6587\u4ef6\uff0c\u521b\u5efa\u6240\u6709\u7684Bean\u5b9e\u4f8b\uff0c\u5e76\u5c06Bean\u5b9e\u4f8b\u5b58\u653e\u5230Map\u96c6\u5408\u4e2d\u3002\n     * @param resource \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff08\u8981\u6c42\u5728\u7c7b\u8def\u5f84\u5f53\u4e2d\uff09\n     */\n    public ClassPathXmlApplicationContext(String resource) {\n        try {\n            SAXReader reader = new SAXReader();\n            Document document = reader.read(ClassLoader.getSystemClassLoader().getResourceAsStream(resource));\n            // \u83b7\u53d6\u6240\u6709\u7684bean\u6807\u7b7e\n            List&lt;Node&gt; beanNodes = document.selectNodes(\"//bean\");\n            // \u904d\u5386\u96c6\u5408\uff08\u8fd9\u91cc\u7684\u904d\u5386\u53ea\u5b9e\u4f8b\u5316Bean\uff0c\u4e0d\u7ed9\u5c5e\u6027\u8d4b\u503c\u3002\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u505a\uff1f\uff09\n            beanNodes.forEach(beanNode -&gt; {\n                Element beanElt = (Element) beanNode;\n                // \u83b7\u53d6id\n                String id = beanElt.attributeValue(\"id\");\n                // \u83b7\u53d6className\n                String className = beanElt.attributeValue(\"class\");\n                try {\n                    // \u901a\u8fc7\u53cd\u5c04\u673a\u5236\u521b\u5efa\u5bf9\u8c61\n                    Class&lt;?&gt; clazz = Class.forName(className);\n                    Constructor&lt;?&gt; defaultConstructor = clazz.getDeclaredConstructor();\n                    Object bean = defaultConstructor.newInstance();\n                    // \u5b58\u50a8\u5230Map\u96c6\u5408\n                    beanMap.put(id, bean);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            });\n            // \u518d\u91cd\u65b0\u904d\u5386\u96c6\u5408\uff0c\u8fd9\u6b21\u904d\u5386\u662f\u4e3a\u4e86\u7ed9Bean\u7684\u6240\u6709\u5c5e\u6027\u8d4b\u503c\u3002\n            // \u601d\u8003\uff1a\u4e3a\u4ec0\u4e48\u4e0d\u5728\u4e0a\u9762\u7684\u5faa\u73af\u4e2d\u7ed9Bean\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u800c\u5728\u8fd9\u91cc\u518d\u91cd\u65b0\u904d\u5386\u4e00\u6b21\u5462\uff1f\n            // \u901a\u8fc7\u8fd9\u91cc\u4f60\u662f\u5426\u80fd\u591f\u60f3\u5230Spring\u662f\u5982\u4f55\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\uff1a\u5b9e\u4f8b\u5316\u548c\u5c5e\u6027\u8d4b\u503c\u5206\u5f00\u3002\n            beanNodes.forEach(beanNode -&gt; {\n                Element beanElt = (Element) beanNode;\n                // \u83b7\u53d6bean\u7684id\n                String beanId = beanElt.attributeValue(\"id\");\n                // \u83b7\u53d6\u6240\u6709property\u6807\u7b7e\n                List&lt;Element&gt; propertyElts = beanElt.elements(\"property\");\n                // \u904d\u5386\u6240\u6709\u5c5e\u6027\n                propertyElts.forEach(propertyElt -&gt; {\n                    try {\n                        // \u83b7\u53d6\u5c5e\u6027\u540d\n                        String propertyName = propertyElt.attributeValue(\"name\");\n                        // \u83b7\u53d6\u5c5e\u6027\u7c7b\u578b\n                        Class&lt;?&gt; propertyType = beanMap.get(beanId).getClass().getDeclaredField(propertyName).getType();\n                        // \u83b7\u53d6set\u65b9\u6cd5\u540d\n                        String setMethodName = \"set\" + propertyName.toUpperCase().charAt(0) + propertyName.substring(1);\n                        // \u83b7\u53d6set\u65b9\u6cd5\n                        Method setMethod = beanMap.get(beanId).getClass().getDeclaredMethod(setMethodName, propertyType);\n                        // \u83b7\u53d6\u5c5e\u6027\u7684\u503c\uff0c\u503c\u53ef\u80fd\u662fvalue\uff0c\u4e5f\u53ef\u80fd\u662fref\u3002\n                        // \u83b7\u53d6value\n                        String propertyValue = propertyElt.attributeValue(\"value\");\n                        // \u83b7\u53d6ref\n                        String propertyRef = propertyElt.attributeValue(\"ref\");\n                        Object propertyVal = null;\n                        if (propertyValue != null) {\n                            // \u8be5\u5c5e\u6027\u662f\u7b80\u5355\u5c5e\u6027\n                            String propertyTypeSimpleName = propertyType.getSimpleName();\n                            switch (propertyTypeSimpleName) {\n                                case \"byte\": case \"Byte\":\n                                    propertyVal = Byte.valueOf(propertyValue);\n                                    break;\n                                case \"short\": case \"Short\":\n                                    propertyVal = Short.valueOf(propertyValue);\n                                    break;\n                                case \"int\": case \"Integer\":\n                                    propertyVal = Integer.valueOf(propertyValue);\n                                    break;\n                                case \"long\": case \"Long\":\n                                    propertyVal = Long.valueOf(propertyValue);\n                                    break;\n                                case \"float\": case \"Float\":\n                                    propertyVal = Float.valueOf(propertyValue);\n                                    break;\n                                case \"double\": case \"Double\":\n                                    propertyVal = Double.valueOf(propertyValue);\n                                    break;\n                                case \"boolean\": case \"Boolean\":\n                                    propertyVal = Boolean.valueOf(propertyValue);\n                                    break;\n                                case \"char\": case \"Character\":\n                                    propertyVal = propertyValue.charAt(0);\n                                    break;\n                                case \"String\":\n                                    propertyVal = propertyValue;\n                                    break;\n                            }\n                            setMethod.invoke(beanMap.get(beanId), propertyVal);\n                        }\n                        if (propertyRef != null) {\n                            // \u8be5\u5c5e\u6027\u4e0d\u662f\u7b80\u5355\u5c5e\u6027\n                            setMethod.invoke(beanMap.get(beanId), beanMap.get(propertyRef));\n                        }\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                });\n            });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public Object getBean(String beanId) {\n        return beanMap.get(beanId);\n    }\n}\n</code></pre> <p>\u91cd\u70b9\u5904\u7406\uff1a\u5f53property\u6807\u7b7e\u4e2d\u662fvalue\u600e\u4e48\u529e\uff1f\u662fref\u600e\u4e48\u529e\uff1f</p> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_2","title":"\u7b2c\u5341\u6b65\uff1a\u6253\u5305\u53d1\u5e03","text":"<p>\u5c06\u591a\u4f59\u7684\u7c7b\u4ee5\u53ca\u914d\u7f6e\u6587\u4ef6\u5220\u9664\uff0c\u4f7f\u7528maven\u6253\u5305\u53d1\u5e03\u3002</p> <p></p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#myspring_1","title":"\u7b2c\u5341\u4e00\u6b65\uff1a\u7ad9\u5728\u7a0b\u5e8f\u5458\u89d2\u5ea6\u4f7f\u7528myspring\u6846\u67b6","text":"<p>\u65b0\u5efa\u6a21\u5757\uff1amyspring-test</p> <p></p> <p>\u5f15\u5165myspring\u6846\u67b6\u7684\u4f9d\u8d56\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;myspring-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.myspringframework&lt;/groupId&gt;\n            &lt;artifactId&gt;myspring&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre> <p>\u7f16\u5199Bean</p> Java<pre><code>package com.powernode.myspring.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserDao\n * @since 1.0\n **/\npublic class UserDao {\n    public void insert(){\n        System.out.println(\"UserDao\u6b63\u5728\u63d2\u5165\u6570\u636e\");\n    }\n}\npackage com.powernode.myspring.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n    private UserDao userDao;\n\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        System.out.println(\"UserService\u5f00\u59cb\u6267\u884csave\u64cd\u4f5c\");\n        userDao.insert();\n        System.out.println(\"UserService\u6267\u884csave\u64cd\u4f5c\u7ed3\u675f\");\n    }\n}\n</code></pre> <p>\u7f16\u5199myspring.xml\u6587\u4ef6</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans&gt;\n\n    &lt;bean id=\"userServiceBean\" class=\"com.powernode.myspring.bean.UserService\"&gt;\n        &lt;property name=\"userDao\" ref=\"userDaoBean\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"userDaoBean\" class=\"com.powernode.myspring.bean.UserDao\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>package com.powernode.myspring.test;\n\nimport com.powernode.myspring.bean.UserService;\nimport org.junit.Test;\nimport org.myspringframework.core.ApplicationContext;\nimport org.myspringframework.core.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MySpringTest\n * @since 1.0\n **/\npublic class MySpringTest {\n\n    @Test\n    public void testMySpring(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"myspring.xml\");\n        UserService userServiceBean = (UserService) applicationContext.getBean(\"userServiceBean\");\n        userServiceBean.save();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring-ioc","title":"\u5341\u4e8c\u3001Spring IoC\u6ce8\u89e3\u5f0f\u5f00\u53d1","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#121","title":"12.1 \u56de\u987e\u6ce8\u89e3","text":"<p>\u6ce8\u89e3\u7684\u5b58\u5728\u4e3b\u8981\u662f\u4e3a\u4e86\u7b80\u5316XML\u7684\u914d\u7f6e\u3002Spring6\u5021\u5bfc\u5168\u6ce8\u89e3\u5f00\u53d1\u3002</p> <p>\u6211\u4eec\u6765\u56de\u987e\u4e00\u4e0b\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u6ce8\u89e3\u600e\u4e48\u5b9a\u4e49\uff0c\u6ce8\u89e3\u4e2d\u7684\u5c5e\u6027\u600e\u4e48\u5b9a\u4e49\uff1f</li> <li>\u7b2c\u4e8c\uff1a\u6ce8\u89e3\u600e\u4e48\u4f7f\u7528\uff1f</li> <li>\u7b2c\u4e09\uff1a\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u600e\u4e48\u8bfb\u53d6\u6ce8\u89e3\uff1f</li> </ul> <p>\u6ce8\u89e3\u600e\u4e48\u5b9a\u4e49\uff0c\u6ce8\u89e3\u4e2d\u7684\u5c5e\u6027\u600e\u4e48\u5b9a\u4e49\uff1f</p> Java<pre><code>package com.powernode.annotation;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(value = {ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface Component {\n    String value();\n}\n</code></pre> <p>\u4ee5\u4e0a\u662f\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6ce8\u89e3\uff1aComponent</p> <p>\u8be5\u6ce8\u89e3\u4e0a\u9762\u4fee\u9970\u7684\u6ce8\u89e3\u5305\u62ec\uff1aTarget\u6ce8\u89e3\u548cRetention\u6ce8\u89e3\uff0c\u8fd9\u4e24\u4e2a\u6ce8\u89e3\u88ab\u79f0\u4e3a\u5143\u6ce8\u89e3\u3002</p> <p>Target\u6ce8\u89e3\u7528\u6765\u8bbe\u7f6eComponent\u6ce8\u89e3\u53ef\u4ee5\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u4ee5\u4e0a\u4ee3\u8868\u8868\u793aComponent\u6ce8\u89e3\u53ea\u80fd\u7528\u5728\u7c7b\u548c\u63a5\u53e3\u4e0a\u3002</p> <p>Retention\u6ce8\u89e3\u7528\u6765\u8bbe\u7f6eComponent\u6ce8\u89e3\u7684\u4fdd\u6301\u6027\u7b56\u7565\uff0c\u4ee5\u4e0a\u4ee3\u8868Component\u6ce8\u89e3\u53ef\u4ee5\u88ab\u53cd\u5c04\u673a\u5236\u8bfb\u53d6\u3002</p> <p>String value(); \u662fComponent\u6ce8\u89e3\u4e2d\u7684\u4e00\u4e2a\u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u7c7b\u578bString\uff0c\u5c5e\u6027\u540d\u662fvalue\u3002</p> <p>\u6ce8\u89e3\u600e\u4e48\u4f7f\u7528\uff1f</p> Java<pre><code>package com.powernode.bean;\n\nimport com.powernode.annotation.Component;\n\n@Component(value = \"userBean\")\npublic class User {\n}\n</code></pre> <p>\u7528\u6cd5\u7b80\u5355\uff0c\u8bed\u6cd5\u683c\u5f0f\uff1a@\u6ce8\u89e3\u7c7b\u578b\u540d(\u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c, \u5c5e\u6027\u540d=\u5c5e\u6027\u503c......)</p> <p>userBean\u4e3a\u4ec0\u4e48\u4f7f\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\uff0c\u56e0\u4e3avalue\u5c5e\u6027\u662fString\u7c7b\u578b\uff0c\u5b57\u7b26\u4e32\u3002</p> <p>\u53e6\u5916\u5982\u679c\u5c5e\u6027\u540d\u662fvalue\uff0c\u5219\u5728\u4f7f\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u7701\u7565\u5c5e\u6027\u540d\uff0c\u4f8b\u5982\uff1a</p> Java<pre><code>package com.powernode.bean;\n\nimport com.powernode.annotation.Component;\n\n//@Component(value = \"userBean\")\n@Component(\"userBean\")\npublic class User {\n}\n</code></pre> <p>\u901a\u8fc7\u53cd\u5c04\u673a\u5236\u600e\u4e48\u8bfb\u53d6\u6ce8\u89e3\uff1f</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u5199\u4e00\u6bb5\u7a0b\u5e8f\uff0c\u5f53Bean\u7c7b\u4e0a\u6709Component\u6ce8\u89e3\u65f6\uff0c\u5219\u5b9e\u4f8b\u5316Bean\u5bf9\u8c61\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u4e0d\u5b9e\u4f8b\u5316\u5bf9\u8c61\u3002</p> <p>\u6211\u4eec\u51c6\u5907\u4e24\u4e2aBean\uff0c\u4e00\u4e2a\u4e0a\u9762\u6709\u6ce8\u89e3\uff0c\u4e00\u4e2a\u4e0a\u9762\u6ca1\u6709\u6ce8\u89e3\u3002</p> Java<pre><code>package com.powernode.bean;\n\nimport com.powernode.annotation.Component;\n\n@Component(\"userBean\")\npublic class User {\n}\npackage com.powernode.bean;\n\npublic class Vip {\n}\n</code></pre> <p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u53ea\u77e5\u9053\u5305\u540d\uff1acom.powernode.bean\u3002\u81f3\u4e8e\u8fd9\u4e2a\u5305\u4e0b\u6709\u591a\u5c11\u4e2aBean\u6211\u4eec\u4e0d\u77e5\u9053\u3002\u54ea\u4e9bBean\u4e0a\u6709\u6ce8\u89e3\uff0c\u54ea\u4e9bBean\u4e0a\u6ca1\u6709\u6ce8\u89e3\uff0c\u8fd9\u4e9b\u6211\u4eec\u90fd\u4e0d\u77e5\u9053\uff0c\u5982\u4f55\u901a\u8fc7\u7a0b\u5e8f\u5168\u81ea\u52a8\u5316\u5224\u65ad\u3002</p> Java<pre><code>package com.powernode.test;\n\nimport com.powernode.annotation.Component;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Test\n * @since 1.0\n **/\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        // \u5b58\u653eBean\u7684Map\u96c6\u5408\u3002key\u5b58\u50a8beanId\u3002value\u5b58\u50a8Bean\u3002\n        Map&lt;String,Object&gt; beanMap = new HashMap&lt;&gt;();\n\n        String packageName = \"com.powernode.bean\";\n        String path = packageName.replaceAll(\"\\\\.\", \"/\");\n        URL url = ClassLoader.getSystemClassLoader().getResource(path);\n        File file = new File(url.getPath());\n        File[] files = file.listFiles();\n        Arrays.stream(files).forEach(f -&gt; {\n            String className = packageName + \".\" + f.getName().split(\"\\\\.\")[0];\n            try {\n                Class&lt;?&gt; clazz = Class.forName(className);\n                if (clazz.isAnnotationPresent(Component.class)) {\n                    Component component = clazz.getAnnotation(Component.class);\n                    String beanId = component.value();\n                    Object bean = clazz.newInstance();\n                    beanMap.put(beanId, bean);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        System.out.println(beanMap);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#122-bean","title":"12.2 \u58f0\u660eBean\u7684\u6ce8\u89e3","text":"<p>\u8d1f\u8d23\u58f0\u660eBean\u7684\u6ce8\u89e3\uff0c\u5e38\u89c1\u7684\u5305\u62ec\u56db\u4e2a\uff1a</p> <ul> <li>@Component</li> <li>@Controller</li> <li>@Service</li> <li>@Repository</li> </ul> <p>\u6e90\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.annotation;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(value = {ElementType.TYPE})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface Component {\n    String value();\n}\npackage org.springframework.stereotype;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport org.springframework.core.annotation.AliasFor;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface Controller {\n    @AliasFor(\n        annotation = Component.class\n    )\n    String value() default \"\";\n}\npackage org.springframework.stereotype;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport org.springframework.core.annotation.AliasFor;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface Service {\n    @AliasFor(\n        annotation = Component.class\n    )\n    String value() default \"\";\n}\npackage org.springframework.stereotype;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport org.springframework.core.annotation.AliasFor;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface Repository {\n    @AliasFor(\n        annotation = Component.class\n    )\n    String value() default \"\";\n}\n</code></pre> <p>\u901a\u8fc7\u6e90\u7801\u53ef\u4ee5\u770b\u5230\uff0c@Controller\u3001@Service\u3001@Repository\u8fd9\u4e09\u4e2a\u6ce8\u89e3\u90fd\u662f@Component\u6ce8\u89e3\u7684\u522b\u540d\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff1a\u8fd9\u56db\u4e2a\u6ce8\u89e3\u7684\u529f\u80fd\u90fd\u4e00\u6837\u3002\u7528\u54ea\u4e2a\u90fd\u53ef\u4ee5\u3002</p> <p>\u53ea\u662f\u4e3a\u4e86\u589e\u5f3a\u7a0b\u5e8f\u7684\u53ef\u8bfb\u6027\uff0c\u5efa\u8bae\uff1a</p> <ul> <li>\u63a7\u5236\u5668\u7c7b\u4e0a\u4f7f\u7528\uff1aController</li> <li>service\u7c7b\u4e0a\u4f7f\u7528\uff1aService</li> <li>dao\u7c7b\u4e0a\u4f7f\u7528\uff1aRepository</li> </ul> <p>\u4ed6\u4eec\u90fd\u662f\u53ea\u6709\u4e00\u4e2avalue\u5c5e\u6027\u3002value\u5c5e\u6027\u7528\u6765\u6307\u5b9abean\u7684id\uff0c\u4e5f\u5c31\u662fbean\u7684\u540d\u5b57\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#123-spring","title":"12.3 Spring\u6ce8\u89e3\u7684\u4f7f\u7528","text":"<p>\u5982\u4f55\u4f7f\u7528\u4ee5\u4e0a\u7684\u6ce8\u89e3\u5462\uff1f</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u52a0\u5165aop\u7684\u4f9d\u8d56</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0context\u547d\u540d\u7a7a\u95f4</li> <li>\u7b2c\u4e09\u6b65\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u626b\u63cf\u7684\u5305</li> <li>\u7b2c\u56db\u6b65\uff1a\u5728Bean\u7c7b\u4e0a\u4f7f\u7528\u6ce8\u89e3</li> </ul> <p>\u7b2c\u4e00\u6b65\uff1a\u52a0\u5165aop\u7684\u4f9d\u8d56</p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5f53\u52a0\u5165spring-context\u4f9d\u8d56\u4e4b\u540e\uff0c\u4f1a\u5173\u8054\u52a0\u5165aop\u7684\u4f9d\u8d56\u3002\u6240\u4ee5\u8fd9\u4e00\u6b65\u4e0d\u7528\u505a\u3002</p> <p></p> <p>\u7b2c\u4e8c\u6b65\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0context\u547d\u540d\u7a7a\u95f4</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u8981\u626b\u63cf\u7684\u5305</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.bean\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u5728Bean\u7c7b\u4e0a\u4f7f\u7528\u6ce8\u89e3</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.stereotype.Component;\n\n@Component(value = \"userBean\")\npublic class User {\n}\n</code></pre> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationTest {\n    @Test\n    public void testBean(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        User userBean = applicationContext.getBean(\"userBean\", User.class);\n        System.out.println(userBean);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5982\u679c\u6ce8\u89e3\u7684\u5c5e\u6027\u540d\u662fvalue\uff0c\u90a3\u4e48value\u662f\u53ef\u4ee5\u7701\u7565\u7684\u3002</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.stereotype.Component;\n\n@Component(\"vipBean\")\npublic class Vip {\n}\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.Vip;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationTest {\n    @Test\n    public void testBean(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        Vip vipBean = applicationContext.getBean(\"vipBean\", Vip.class);\n        System.out.println(vipBean);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5982\u679c\u628avalue\u5c5e\u6027\u5f7b\u5e95\u53bb\u6389\uff0cspring\u4f1a\u88abBean\u81ea\u52a8\u53d6\u540d\u5417\uff1f\u4f1a\u7684\u3002\u5e76\u4e14\u9ed8\u8ba4\u540d\u5b57\u7684\u89c4\u5f8b\u662f\uff1aBean\u7c7b\u540d\u9996\u5b57\u6bcd\u5c0f\u5199\u5373\u53ef\u3002</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BankDao {\n}\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2aBankDao\u7684bean\u7684\u540d\u5b57\u4e3a\uff1abankDao</p> <p>\u6d4b\u8bd5\u4e00\u4e0b</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.BankDao;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationTest {\n    @Test\n    public void testBean(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        BankDao bankDao = applicationContext.getBean(\"bankDao\", BankDao.class);\n        System.out.println(bankDao);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u5c06Component\u6ce8\u89e3\u6362\u6210\u5176\u5b83\u4e09\u4e2a\u6ce8\u89e3\uff0c\u770b\u770b\u662f\u5426\u53ef\u4ee5\u7528\uff1a</p> Java<pre><code>package com.powernode.spring6.bean;\n\nimport org.springframework.stereotype.Controller;\n\n@Controller\npublic class BankDao {\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5269\u4e0b\u7684\u4e24\u4e2a\u6ce8\u89e3\u5927\u5bb6\u53ef\u4ee5\u6d4b\u8bd5\u4e00\u4e0b\u3002</p> <p>\u5982\u679c\u662f\u591a\u4e2a\u5305\u600e\u4e48\u529e\uff1f\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\uff1a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u591a\u4e2a\u5305\uff0c\u7528\u9017\u53f7\u9694\u5f00\u3002</li> <li>\u7b2c\u4e8c\u79cd\uff1a\u6307\u5b9a\u591a\u4e2a\u5305\u7684\u5171\u540c\u7236\u5305\u3002</li> </ul> <p>\u5148\u6765\u6d4b\u8bd5\u4e00\u4e0b\u9017\u53f7\uff08\u82f1\u6587\uff09\u7684\u65b9\u5f0f\uff1a</p> <p>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5305\uff1abean2\uff0c\u5b9a\u4e49\u4e00\u4e2aBean\u7c7b\u3002</p> Java<pre><code>package com.powernode.spring6.bean2;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Order {\n}\n</code></pre> <p>\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.bean,com.powernode.spring6.bean2\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.BankDao;\nimport com.powernode.spring6.bean2.Order;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationTest {\n    @Test\n    public void testBean(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        BankDao bankDao = applicationContext.getBean(\"bankDao\", BankDao.class);\n        System.out.println(bankDao);\n        Order order = applicationContext.getBean(\"order\", Order.class);\n        System.out.println(order);\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u518d\u6765\u770b\u770b\uff0c\u6307\u5b9a\u5171\u540c\u7684\u7236\u5305\u884c\u4e0d\u884c\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#124-bean","title":"12.4 \u9009\u62e9\u6027\u5b9e\u4f8b\u5316Bean","text":"<p>\u5047\u8bbe\u5728\u67d0\u4e2a\u5305\u4e0b\u6709\u5f88\u591aBean\uff0c\u6709\u7684Bean\u4e0a\u6807\u6ce8\u4e86Component\uff0c\u6709\u7684\u6807\u6ce8\u4e86Controller\uff0c\u6709\u7684\u6807\u6ce8\u4e86Service\uff0c\u6709\u7684\u6807\u6ce8\u4e86Repository\uff0c\u73b0\u5728\u7531\u4e8e\u67d0\u79cd\u7279\u6b8a\u4e1a\u52a1\u7684\u9700\u8981\uff0c\u53ea\u5141\u8bb8\u5176\u4e2d\u6240\u6709\u7684Controller\u53c2\u4e0eBean\u7ba1\u7406\uff0c\u5176\u4ed6\u7684\u90fd\u4e0d\u5b9e\u4f8b\u5316\u3002\u8fd9\u5e94\u8be5\u600e\u4e48\u529e\u5462\uff1f</p> Java<pre><code>package com.powernode.spring6.bean3;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\n@Component\npublic class A {\n    public A() {\n        System.out.println(\"A\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n\n@Controller\nclass B {\n    public B() {\n        System.out.println(\"B\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n\n@Service\nclass C {\n    public C() {\n        System.out.println(\"C\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n\n@Repository\nclass D {\n    public D() {\n        System.out.println(\"D\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n\n@Controller\nclass E {\n    public E() {\n        System.out.println(\"E\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n\n@Controller\nclass F {\n    public F() {\n        System.out.println(\"F\u7684\u65e0\u53c2\u6570\u6784\u9020\u65b9\u6cd5\u6267\u884c\");\n    }\n}\n</code></pre> <p>\u6211\u53ea\u60f3\u5b9e\u4f8b\u5316bean3\u5305\u4e0b\u7684Controller\u3002\u914d\u7f6e\u6587\u4ef6\u8fd9\u6837\u5199\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.powernode.spring6.bean3\" use-default-filters=\"false\"&gt;\n        &lt;context:include-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/&gt;\n    &lt;/context:component-scan&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>use-default-filters=\"true\" \u8868\u793a\uff1a\u4f7f\u7528spring\u9ed8\u8ba4\u7684\u89c4\u5219\uff0c\u53ea\u8981\u6709Component\u3001Controller\u3001Service\u3001Repository\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u6ce8\u89e3\u6807\u6ce8\uff0c\u5219\u8fdb\u884c\u5b9e\u4f8b\u5316\u3002</p> <p>use-default-filters=\"false\" \u8868\u793a\uff1a\u4e0d\u518dspring\u9ed8\u8ba4\u5b9e\u4f8b\u5316\u89c4\u5219\uff0c\u5373\u4f7f\u6709Component\u3001Controller\u3001Service\u3001Repository\u8fd9\u4e9b\u6ce8\u89e3\u6807\u6ce8\uff0c\u4e5f\u4e0d\u518d\u5b9e\u4f8b\u5316\u3002</p> <p> \u8868\u793a\u53ea\u6709Controller\u8fdb\u884c\u5b9e\u4f8b\u5316\u3002</p> Java<pre><code>@Test\npublic void testChoose(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-choose.xml\");\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u5c06use-default-filters\u8bbe\u7f6e\u4e3atrue\uff08\u4e0d\u5199\u5c31\u662ftrue\uff09\uff0c\u5e76\u4e14\u91c7\u7528exclude-filter\u65b9\u5f0f\u6392\u51fa\u54ea\u4e9b\u6ce8\u89e3\u6807\u6ce8\u7684Bean\u4e0d\u53c2\u4e0e\u5b9e\u4f8b\u5316\uff1a</p> XML<pre><code>&lt;context:component-scan base-package=\"com.powernode.spring6.bean3\"&gt;\n  &lt;context:exclude-filter type=\"annotation\" expression=\"org.springframework.stereotype.Repository\"/&gt;\n  &lt;context:exclude-filter type=\"annotation\" expression=\"org.springframework.stereotype.Service\"/&gt;\n  &lt;context:exclude-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/&gt;\n&lt;/context:component-scan&gt;\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#125","title":"12.5 \u8d1f\u8d23\u6ce8\u5165\u7684\u6ce8\u89e3","text":"<p>@Component @Controller @Service @Repository \u8fd9\u56db\u4e2a\u6ce8\u89e3\u662f\u7528\u6765\u58f0\u660eBean\u7684\uff0c\u58f0\u660e\u540e\u8fd9\u4e9bBean\u5c06\u88ab\u5b9e\u4f8b\u5316\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u4e00\u4e0b\uff0c\u5982\u4f55\u7ed9Bean\u7684\u5c5e\u6027\u8d4b\u503c\u3002\u7ed9Bean\u5c5e\u6027\u8d4b\u503c\u9700\u8981\u7528\u5230\u8fd9\u4e9b\u6ce8\u89e3\uff1a</p> <ul> <li>@Value</li> <li>@Autowired</li> <li>@Qualifier</li> <li>@Resource</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1251-value","title":"12.5.1 @Value","text":"<p>\u5f53\u5c5e\u6027\u7684\u7c7b\u578b\u662f\u7b80\u5355\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528@Value\u6ce8\u89e3\u8fdb\u884c\u6ce8\u5165\u3002</p> Java<pre><code>package com.powernode.spring6.bean4;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class User {\n    @Value(value = \"zhangsan\")\n    private String name;\n    @Value(\"20\")\n    private int age;\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n</code></pre> <p>\u5f00\u542f\u5305\u626b\u63cf\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.bean4\"/&gt;\n&lt;/beans&gt;\n@Test\npublic void testValue(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-injection.xml\");\n    Object user = applicationContext.getBean(\"user\");\n    System.out.println(user);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u4ee5\u4e0a\u4ee3\u7801\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u7ed9\u5c5e\u6027\u63d0\u4f9bsetter\u65b9\u6cd5\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u5b8c\u6210\u5c5e\u6027\u8d4b\u503c\u3002</p> <p>\u5982\u679c\u63d0\u4f9bsetter\u65b9\u6cd5\uff0c\u5e76\u4e14\u5728setter\u65b9\u6cd5\u4e0a\u6dfb\u52a0@Value\u6ce8\u89e3\uff0c\u53ef\u4ee5\u5b8c\u6210\u6ce8\u5165\u5417\uff1f\u5c1d\u8bd5\u4e00\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.bean4;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class User {\n\n    private String name;\n\n    private int age;\n\n    @Value(\"\u674e\u56db\")\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Value(\"30\")\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u5f97\u77e5\uff0c@Value\u6ce8\u89e3\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5728\u5c5e\u6027\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5728setter\u65b9\u6cd5\u4e0a\u3002\u90fd\u662f\u53ef\u4ee5\u7684\u3002\u90fd\u53ef\u4ee5\u5b8c\u6210\u5c5e\u6027\u7684\u8d4b\u503c\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\u4ee3\u7801\uff0c\u4ee5\u540e\u6211\u4eec\u4e00\u822c\u4e0d\u63d0\u4f9bsetter\u65b9\u6cd5\uff0c\u76f4\u63a5\u5728\u5c5e\u6027\u4e0a\u4f7f\u7528@Value\u6ce8\u89e3\u5b8c\u6210\u5c5e\u6027\u8d4b\u503c\u3002</p> <p>\u51fa\u4e8e\u597d\u5947\uff0c\u6211\u4eec\u518d\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u662f\u5426\u80fd\u591f\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u5b8c\u6210\u6ce8\u5165\uff1a</p> Java<pre><code>package com.powernode.spring6.bean4;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class User {\n\n    private String name;\n\n    private int age;\n\n    public User(@Value(\"\u9694\u58c1\u8001\u738b\") String name, @Value(\"33\") int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff1a@Value\u6ce8\u89e3\u53ef\u4ee5\u51fa\u73b0\u5728\u5c5e\u6027\u4e0a\u3001setter\u65b9\u6cd5\u4e0a\u3001\u4ee5\u53ca\u6784\u9020\u65b9\u6cd5\u7684\u5f62\u53c2\u4e0a\u3002\u53ef\u89c1Spring\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u591a\u6837\u5316\u7684\u6ce8\u5165\u3002\u592a\u7075\u6d3b\u4e86\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1252-autowiredqualifier","title":"12.5.2 @Autowired\u4e0e@Qualifier","text":"<p>@Autowired\u6ce8\u89e3\u53ef\u4ee5\u7528\u6765\u6ce8\u5165\u975e\u7b80\u5355\u7c7b\u578b\u3002\u88ab\u7ffb\u8bd1\u4e3a\uff1a\u81ea\u52a8\u8fde\u7ebf\u7684\uff0c\u6216\u8005\u81ea\u52a8\u88c5\u914d\u3002</p> <p>\u5355\u72ec\u4f7f\u7528@Autowired\u6ce8\u89e3\uff0c\u9ed8\u8ba4\u6839\u636e\u7c7b\u578b\u88c5\u914d\u3002\u3010\u9ed8\u8ba4\u662fbyType\u3011</p> <p>\u770b\u4e00\u4e0b\u5b83\u7684\u6e90\u7801\uff1a</p> Java<pre><code>package org.springframework.beans.factory.annotation;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.CONSTRUCTOR, ElementType.METHOD, ElementType.PARAMETER, ElementType.FIELD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Autowired {\n    boolean required() default true;\n}\n</code></pre> <p>\u6e90\u7801\u4e2d\u6709\u4e24\u5904\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li> <p>\u7b2c\u4e00\u5904\uff1a\u8be5\u6ce8\u89e3\u53ef\u4ee5\u6807\u6ce8\u5728\u54ea\u91cc\uff1f</p> </li> <li> <p>\u6784\u9020\u65b9\u6cd5\u4e0a</p> </li> <li>\u65b9\u6cd5\u4e0a</li> <li>\u5f62\u53c2\u4e0a</li> <li>\u5c5e\u6027\u4e0a</li> <li> <p>\u6ce8\u89e3\u4e0a</p> </li> <li> <p>\u7b2c\u4e8c\u5904\uff1a\u8be5\u6ce8\u89e3\u6709\u4e00\u4e2arequired\u5c5e\u6027\uff0c\u9ed8\u8ba4\u503c\u662ftrue\uff0c\u8868\u793a\u5728\u6ce8\u5165\u7684\u65f6\u5019\u8981\u6c42\u88ab\u6ce8\u5165\u7684Bean\u5fc5\u987b\u662f\u5b58\u5728\u7684\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u62a5\u9519\u3002\u5982\u679crequired\u5c5e\u6027\u8bbe\u7f6e\u4e3afalse\uff0c\u8868\u793a\u6ce8\u5165\u7684Bean\u5b58\u5728\u6216\u8005\u4e0d\u5b58\u5728\u90fd\u6ca1\u5173\u7cfb\uff0c\u5b58\u5728\u7684\u8bdd\u5c31\u6ce8\u5165\uff0c\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u4e5f\u4e0d\u62a5\u9519\u3002</p> </li> </ul> <p>\u6211\u4eec\u5148\u5728\u5c5e\u6027\u4e0a\u4f7f\u7528@Autowired\u6ce8\u89e3\uff1a</p> Java<pre><code>package com.powernode.spring6.dao;\n\npublic interface UserDao {\n    void insert();\n}\npackage com.powernode.spring6.dao;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository //\u7eb3\u5165bean\u7ba1\u7406\npublic class UserDaoForMySQL implements UserDao{\n    @Override\n    public void insert() {\n        System.out.println(\"\u6b63\u5728\u5411mysql\u6570\u636e\u5e93\u63d2\u5165User\u6570\u636e\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service // \u7eb3\u5165bean\u7ba1\u7406\npublic class UserService {\n\n    @Autowired // \u5728\u5c5e\u6027\u4e0a\u6ce8\u5165\n    private UserDao userDao;\n\n    // \u6ca1\u6709\u63d0\u4f9b\u6784\u9020\u65b9\u6cd5\u548csetter\u65b9\u6cd5\u3002\n\n    public void save(){\n        userDao.insert();\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.dao,com.powernode.spring6.service\"/&gt;\n&lt;/beans&gt;\n@Test\npublic void testAutowired(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-injection.xml\");\n    UserService userService = applicationContext.getBean(\"userService\", UserService.class);\n    userService.save();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u4ee5\u4e0a\u6784\u9020\u65b9\u6cd5\u548csetter\u65b9\u6cd5\u90fd\u6ca1\u6709\u63d0\u4f9b\uff0c\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u4ecd\u7136\u53ef\u4ee5\u6ce8\u5165\u6210\u529f\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u518d\u6765\u6d4b\u8bd5\u4e00\u4e0b@Autowired\u6ce8\u89e3\u51fa\u73b0\u5728setter\u65b9\u6cd5\u4e0a\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    @Autowired\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u518d\u6765\u770b\u770b\u80fd\u4e0d\u80fd\u51fa\u73b0\u5728\u6784\u9020\u65b9\u6cd5\u4e0a\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    @Autowired\n    public UserService(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u518d\u6765\u770b\u770b\uff0c\u8fd9\u4e2a\u6ce8\u89e3\u80fd\u4e0d\u80fd\u53ea\u6807\u6ce8\u5728\u6784\u9020\u65b9\u6cd5\u7684\u5f62\u53c2\u4e0a\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    public UserService(@Autowired UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u8fd8\u6709\u66f4\u52b2\u7206\u7684\uff0c\u5f53\u6709\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\u53ea\u6709\u4e00\u4e2a\u65f6\uff0c@Autowired\u6ce8\u89e3\u53ef\u4ee5\u7701\u7565\u3002</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    public UserService(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5f53\u7136\uff0c\u5982\u679c\u6709\u591a\u4e2a\u6784\u9020\u65b9\u6cd5\uff0c@Autowired\u80af\u5b9a\u662f\u4e0d\u80fd\u7701\u7565\u7684\u3002</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    public UserService(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public UserService(){\n\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5230\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u6e05\u695a@Autowired\u6ce8\u89e3\u53ef\u4ee5\u51fa\u73b0\u5728\u54ea\u4e9b\u4f4d\u7f6e\u4e86\u3002</p> <p>@Autowired\u6ce8\u89e3\u9ed8\u8ba4\u662fbyType\u8fdb\u884c\u6ce8\u5165\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6839\u636e\u7c7b\u578b\u6ce8\u5165\u7684\uff0c\u5982\u679c\u4ee5\u4e0a\u7a0b\u5e8f\u4e2d\uff0cUserDao\u63a5\u53e3\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u5b9e\u73b0\u7c7b\uff0c\u4f1a\u51fa\u73b0\u95ee\u9898\u5417\uff1f</p> Java<pre><code>package com.powernode.spring6.dao;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository //\u7eb3\u5165bean\u7ba1\u7406\npublic class UserDaoForOracle implements UserDao{\n    @Override\n    public void insert() {\n        System.out.println(\"\u6b63\u5728\u5411Oracle\u6570\u636e\u5e93\u63d2\u5165User\u6570\u636e\");\n    }\n}\n</code></pre> <p>\u5f53\u4f60\u5199\u5b8c\u8fd9\u4e2a\u65b0\u7684\u5b9e\u73b0\u7c7b\u4e4b\u540e\uff0c\u6b64\u65f6IDEA\u5de5\u5177\u5df2\u7ecf\u63d0\u793a\u9519\u8bef\u4fe1\u606f\u4e86\uff1a</p> <p></p> <p>\u9519\u8bef\u4fe1\u606f\u4e2d\u8bf4\uff1a\u4e0d\u80fd\u88c5\u914d\uff0cUserDao\u8fd9\u4e2aBean\u7684\u6570\u91cf\u5927\u4e8e1.</p> <p>\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u5f53\u7136\u8981byName\uff0c\u6839\u636e\u540d\u79f0\u8fdb\u884c\u88c5\u914d\u4e86\u3002</p> <p>@Autowired\u6ce8\u89e3\u548c@Qualifier\u6ce8\u89e3\u8054\u5408\u8d77\u6765\u624d\u53ef\u4ee5\u6839\u636e\u540d\u79f0\u8fdb\u884c\u88c5\u914d\uff0c\u5728@Qualifier\u6ce8\u89e3\u4e2d\u6307\u5b9aBean\u540d\u79f0\u3002</p> Java<pre><code>package com.powernode.spring6.dao;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository // \u8fd9\u91cc\u6ca1\u6709\u7ed9bean\u8d77\u540d\uff0c\u9ed8\u8ba4\u540d\u5b57\u662f\uff1auserDaoForOracle\npublic class UserDaoForOracle implements UserDao{\n    @Override\n    public void insert() {\n        System.out.println(\"\u6b63\u5728\u5411Oracle\u6570\u636e\u5e93\u63d2\u5165User\u6570\u636e\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    @Autowired\n    @Qualifier(\"userDaoForOracle\") // \u8fd9\u4e2a\u662fbean\u7684\u540d\u5b57\u3002\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u603b\u7ed3\uff1a</p> <ul> <li>@Autowired\u6ce8\u89e3\u53ef\u4ee5\u51fa\u73b0\u5728\uff1a\u5c5e\u6027\u4e0a\u3001\u6784\u9020\u65b9\u6cd5\u4e0a\u3001\u6784\u9020\u65b9\u6cd5\u7684\u53c2\u6570\u4e0a\u3001setter\u65b9\u6cd5\u4e0a\u3002</li> <li>\u5f53\u5e26\u53c2\u6570\u7684\u6784\u9020\u65b9\u6cd5\u53ea\u6709\u4e00\u4e2a\uff0c@Autowired\u6ce8\u89e3\u53ef\u4ee5\u7701\u7565\u3002</li> <li>@Autowired\u6ce8\u89e3\u9ed8\u8ba4\u6839\u636e\u7c7b\u578b\u6ce8\u5165\u3002\u5982\u679c\u8981\u6839\u636e\u540d\u79f0\u6ce8\u5165\u7684\u8bdd\uff0c\u9700\u8981\u914d\u5408@Qualifier\u6ce8\u89e3\u4e00\u8d77\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1253-resource","title":"12.5.3 @Resource","text":"<p>@Resource\u6ce8\u89e3\u4e5f\u53ef\u4ee5\u5b8c\u6210\u975e\u7b80\u5355\u7c7b\u578b\u6ce8\u5165\u3002\u90a3\u5b83\u548c@Autowired\u6ce8\u89e3\u6709\u4ec0\u4e48\u533a\u522b\uff1f</p> <ul> <li>@Resource\u6ce8\u89e3\u662fJDK\u6269\u5c55\u5305\u4e2d\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5c5e\u4e8eJDK\u7684\u4e00\u90e8\u5206\u3002\u6240\u4ee5\u8be5\u6ce8\u89e3\u662f\u6807\u51c6\u6ce8\u89e3\uff0c\u66f4\u52a0\u5177\u6709\u901a\u7528\u6027\u3002(JSR-250\u6807\u51c6\u4e2d\u5236\u5b9a\u7684\u6ce8\u89e3\u7c7b\u578b\u3002JSR\u662fJava\u89c4\u8303\u63d0\u6848\u3002)</li> <li>@Autowired\u6ce8\u89e3\u662fSpring\u6846\u67b6\u81ea\u5df1\u7684\u3002</li> <li>@Resource\u6ce8\u89e3\u9ed8\u8ba4\u6839\u636e\u540d\u79f0\u88c5\u914dbyName\uff0c\u672a\u6307\u5b9aname\u65f6\uff0c\u4f7f\u7528\u5c5e\u6027\u540d\u4f5c\u4e3aname\u3002\u901a\u8fc7name\u627e\u4e0d\u5230\u7684\u8bdd\u4f1a\u81ea\u52a8\u542f\u52a8\u901a\u8fc7\u7c7b\u578bbyType\u88c5\u914d\u3002</li> <li>@Autowired\u6ce8\u89e3\u9ed8\u8ba4\u6839\u636e\u7c7b\u578b\u88c5\u914dbyType\uff0c\u5982\u679c\u60f3\u6839\u636e\u540d\u79f0\u88c5\u914d\uff0c\u9700\u8981\u914d\u5408@Qualifier\u6ce8\u89e3\u4e00\u8d77\u7528\u3002</li> <li>@Resource\u6ce8\u89e3\u7528\u5728\u5c5e\u6027\u4e0a\u3001setter\u65b9\u6cd5\u4e0a\u3002</li> <li>@Autowired\u6ce8\u89e3\u7528\u5728\u5c5e\u6027\u4e0a\u3001setter\u65b9\u6cd5\u4e0a\u3001\u6784\u9020\u65b9\u6cd5\u4e0a\u3001\u6784\u9020\u65b9\u6cd5\u53c2\u6570\u4e0a\u3002</li> </ul> <p>@Resource\u6ce8\u89e3\u5c5e\u4e8eJDK\u6269\u5c55\u5305\uff0c\u6240\u4ee5\u4e0d\u5728JDK\u5f53\u4e2d\uff0c\u9700\u8981\u989d\u5916\u5f15\u5165\u4ee5\u4e0b\u4f9d\u8d56\uff1a\u3010\u5982\u679c\u662fJDK8\u7684\u8bdd\u4e0d\u9700\u8981\u989d\u5916\u5f15\u5165\u4f9d\u8d56\u3002\u9ad8\u4e8eJDK11\u6216\u4f4e\u4e8eJDK8\u9700\u8981\u5f15\u5165\u4ee5\u4e0b\u4f9d\u8d56\u3002\u3011</p> XML<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u4e00\u5b9a\u8981\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u7528Spring6\uff0c\u8981\u77e5\u9053Spring6\u4e0d\u518d\u652f\u6301JavaEE\uff0c\u5b83\u652f\u6301\u7684\u662fJakartaEE9\u3002\uff08Oracle\u628aJavaEE\u8d21\u732e\u7ed9Apache\u4e86\uff0cApache\u628aJavaEE\u7684\u540d\u5b57\u6539\u6210JakartaEE\u4e86\uff0c\u5927\u5bb6\u4e4b\u524d\u6240\u63a5\u89e6\u7684\u6240\u6709\u7684  javax.*  \u5305\u540d\u7edf\u4e00\u4fee\u6539\u4e3a  jakarta.*\u5305\u540d\u4e86\u3002\uff09</p> XML<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>@Resource\u6ce8\u89e3\u7684\u6e90\u7801\u5982\u4e0b\uff1a</p> <p></p> <p>\u6d4b\u8bd5\u4e00\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.dao;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository(\"xyz\")\npublic class UserDaoForOracle implements UserDao{\n    @Override\n    public void insert() {\n        System.out.println(\"\u6b63\u5728\u5411Oracle\u6570\u636e\u5e93\u63d2\u5165User\u6570\u636e\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Resource(name = \"xyz\")\n    private UserDao userDao;\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u6211\u4eec\u628aUserDaoForOracle\u7684\u540d\u5b57xyz\u4fee\u6539\u4e3auserDao\uff0c\u8ba9\u8fd9\u4e2aBean\u7684\u540d\u5b57\u548cUserService\u7c7b\u4e2d\u7684UserDao\u5c5e\u6027\u540d\u4e00\u81f4\uff1a</p> Java<pre><code>package com.powernode.spring6.dao;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository(\"userDao\")\npublic class UserDaoForOracle implements UserDao{\n    @Override\n    public void insert() {\n        System.out.println(\"\u6b63\u5728\u5411Oracle\u6570\u636e\u5e93\u63d2\u5165User\u6570\u636e\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Resource\n    private UserDao userDao;\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5f53@Resource\u6ce8\u89e3\u4f7f\u7528\u65f6\u6ca1\u6709\u6307\u5b9aname\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u6839\u636ename\u8fdb\u884c\u67e5\u627e\uff0c\u8fd9\u4e2aname\u662f\u5c5e\u6027\u540d\u3002</p> <p>\u63a5\u4e0b\u6765\u628aUserService\u7c7b\u4e2d\u7684\u5c5e\u6027\u540d\u4fee\u6539\u4e00\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Resource\n    private UserDao userDao2;\n\n    public void save(){\n        userDao2.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6839\u636e\u5f02\u5e38\u4fe1\u606f\u5f97\u77e5\uff1a\u663e\u7136\u5f53\u901a\u8fc7name\u627e\u4e0d\u5230\u7684\u65f6\u5019\uff0c\u81ea\u7136\u4f1a\u542f\u52a8byType\u8fdb\u884c\u6ce8\u5165\u3002\u4ee5\u4e0a\u7684\u9519\u8bef\u662f\u56e0\u4e3aUserDao\u63a5\u53e3\u4e0b\u6709\u4e24\u4e2a\u5b9e\u73b0\u7c7b\u5bfc\u81f4\u7684\u3002\u6240\u4ee5\u6839\u636e\u7c7b\u578b\u6ce8\u5165\u5c31\u4f1a\u62a5\u9519\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b@Resource\u6ce8\u89e3\u4f7f\u7528\u5728setter\u65b9\u6cd5\u4e0a\u53ef\u4ee5\u5417\uff1f</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    @Resource\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6ce8\u610f\u8fd9\u4e2asetter\u65b9\u6cd5\u7684\u65b9\u6cd5\u540d\uff0csetUserDao\u53bb\u6389set\u4e4b\u540e\uff0c\u5c06\u9996\u5b57\u6bcd\u53d8\u5c0f\u5199userDao\uff0cuserDao\u5c31\u662fname</p> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9aname\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport com.powernode.spring6.dao.UserDao;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private UserDao userDao;\n\n    @Resource(name = \"userDaoForMySQL\")\n    public void setUserDao(UserDao userDao) {\n        this.userDao = userDao;\n    }\n\n    public void save(){\n        userDao.insert();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u4e00\u53e5\u8bdd\u603b\u7ed3@Resource\u6ce8\u89e3\uff1a\u9ed8\u8ba4byName\u6ce8\u5165\uff0c\u6ca1\u6709\u6307\u5b9aname\u65f6\u628a\u5c5e\u6027\u540d\u5f53\u505aname\uff0c\u6839\u636ename\u627e\u4e0d\u5230\u65f6\uff0c\u624d\u4f1abyType\u6ce8\u5165\u3002byType\u6ce8\u5165\u65f6\uff0c\u67d0\u79cd\u7c7b\u578b\u7684Bean\u53ea\u80fd\u6709\u4e00\u4e2a\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#126","title":"12.6 \u5168\u6ce8\u89e3\u5f0f\u5f00\u53d1","text":"<p>\u6240\u8c13\u7684\u5168\u6ce8\u89e3\u5f00\u53d1\u5c31\u662f\u4e0d\u518d\u4f7f\u7528spring\u914d\u7f6e\u6587\u4ef6\u4e86\u3002\u5199\u4e00\u4e2a\u914d\u7f6e\u7c7b\u6765\u4ee3\u66ff\u914d\u7f6e\u6587\u4ef6\u3002</p> Java<pre><code>package com.powernode.spring6.config;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.ComponentScans;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan({\"com.powernode.spring6.dao\", \"com.powernode.spring6.service\"})\npublic class Spring6Configuration {\n}\n</code></pre> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a\u4e0d\u518dnew ClassPathXmlApplicationContext()\u5bf9\u8c61\u4e86\u3002</p> Java<pre><code>@Test\npublic void testNoXml(){\n    ApplicationContext applicationContext = new AnnotationConfigApplicationContext(Spring6Configuration.class);\n    UserService userService = applicationContext.getBean(\"userService\", UserService.class);\n    userService.save();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#jdbctemplate","title":"\u5341\u4e09\u3001JdbcTemplate","text":"<p>JdbcTemplate\u662fSpring\u63d0\u4f9b\u7684\u4e00\u4e2aJDBC\u6a21\u677f\u7c7b\uff0c\u662f\u5bf9JDBC\u7684\u5c01\u88c5\uff0c\u7b80\u5316JDBC\u4ee3\u7801\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4e0d\u7528\uff0c\u53ef\u4ee5\u8ba9Spring\u96c6\u6210\u5176\u5b83\u7684ORM\u6846\u67b6\uff0c\u4f8b\u5982\uff1aMyBatis\u3001Hibernate\u7b49\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7b80\u5355\u6765\u5b66\u4e60\u4e00\u4e0b\uff0c\u4f7f\u7528JdbcTemplate\u5b8c\u6210\u589e\u5220\u6539\u67e5\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#131","title":"13.1 \u73af\u5883\u51c6\u5907","text":"<p>\u6570\u636e\u5e93\u8868\uff1at_user</p> <p></p> <p>IDEA\u4e2d\u65b0\u5efa\u6a21\u5757\uff1aspring6-007-jdbc</p> <p></p> <p>\u5f15\u5165\u76f8\u5173\u4f9d\u8d56\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-007-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--\u65b0\u589e\u7684\u4f9d\u8d56:mysql\u9a71\u52a8--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\u65b0\u589e\u7684\u4f9d\u8d56\uff1aspring jdbc\uff0c\u8fd9\u4e2a\u4f9d\u8d56\u4e2d\u6709JdbcTemplate--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre> <p>\u51c6\u5907\u5b9e\u4f53\u7c7b\uff1a\u8868t_user\u5bf9\u5e94\u7684\u5b9e\u4f53\u7c7bUser\u3002</p> Java<pre><code>package com.powernode.spring6.bean;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\npublic class User {\n    private Integer id;\n    private String realName;\n    private Integer age;\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"id=\" + id +\n                \", realName='\" + realName + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n\n    public User() {\n    }\n\n    public User(Integer id, String realName, Integer age) {\n        this.id = id;\n        this.realName = realName;\n        this.age = age;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getRealName() {\n        return realName;\n    }\n\n    public void setRealName(String realName) {\n        this.realName = realName;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n}\n</code></pre> <p>\u7f16\u5199Spring\u914d\u7f6e\u6587\u4ef6\uff1a</p> <p>JdbcTemplate\u662fSpring\u63d0\u4f9b\u597d\u7684\u7c7b\uff0c\u8fd9\u7c7b\u7684\u5b8c\u6574\u7c7b\u540d\u662f\uff1aorg.springframework.jdbc.core.JdbcTemplate</p> <p>\u6211\u4eec\u600e\u4e48\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u5462\uff1fnew\u5bf9\u8c61\u5c31\u53ef\u4ee5\u4e86\u3002\u600e\u4e48new\u5bf9\u8c61\uff0cSpring\u6700\u5728\u884c\u4e86\u3002\u76f4\u63a5\u5c06\u8fd9\u4e2a\u7c7b\u914d\u7f6e\u5230Spring\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u7eb3\u5165Bean\u7ba1\u7406\u5373\u53ef\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2aJdbcTemplate\u6e90\u7801\uff1a</p> <p></p> <p></p> <p>\u53ef\u4ee5\u770b\u5230JdbcTemplate\u4e2d\u6709\u4e00\u4e2aDataSource\u5c5e\u6027\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u6570\u636e\u6e90\uff0c\u6211\u4eec\u90fd\u77e5\u9053\u8fde\u63a5\u6570\u636e\u5e93\u9700\u8981Connection\u5bf9\u8c61\uff0c\u800c\u751f\u6210Connection\u5bf9\u8c61\u662f\u6570\u636e\u6e90\u8d1f\u8d23\u7684\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u7ed9JdbcTemplate\u8bbe\u7f6e\u6570\u636e\u6e90\u5c5e\u6027\u3002</p> <p>\u6240\u6709\u7684\u6570\u636e\u6e90\u90fd\u662f\u8981\u5b9e\u73b0javax.sql.DataSource\u63a5\u53e3\u7684\u3002\u8fd9\u4e2a\u6570\u636e\u6e90\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u7528\u5199\u597d\u7684\uff0c\u6bd4\u5982\uff1a\u963f\u91cc\u5df4\u5df4\u7684\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60\uff0cc3p0\uff0cdbcp\u7b49\u3002\u6211\u4eec\u8fd9\u91cc\u81ea\u5df1\u5148\u624b\u5199\u4e00\u4e2a\u6570\u636e\u6e90\u3002</p> Java<pre><code>package com.powernode.spring6.jdbc;\n\nimport javax.sql.DataSource;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.SQLFeatureNotSupportedException;\nimport java.util.logging.Logger;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className MyDataSource\n * @since 1.0\n **/\npublic class MyDataSource implements DataSource {\n    // \u6dfb\u52a04\u4e2a\u5c5e\u6027\n    private String driver;\n    private String url;\n    private String username;\n    private String password;\n\n    // \u63d0\u4f9b4\u4e2asetter\u65b9\u6cd5\n    public void setDriver(String driver) {\n        this.driver = driver;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    // \u91cd\u70b9\u5199\u600e\u4e48\u83b7\u53d6Connection\u5bf9\u8c61\u5c31\u884c\u3002\u5176\u4ed6\u65b9\u6cd5\u4e0d\u7528\u7ba1\u3002\n    @Override\n    public Connection getConnection() throws SQLException {\n        try {\n            Class.forName(driver);\n            Connection conn = DriverManager.getConnection(url, username, password);\n            return conn;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    public Connection getConnection(String username, String password) throws SQLException {\n        return null;\n    }\n\n    @Override\n    public PrintWriter getLogWriter() throws SQLException {\n        return null;\n    }\n\n    @Override\n    public void setLogWriter(PrintWriter out) throws SQLException {\n\n    }\n\n    @Override\n    public void setLoginTimeout(int seconds) throws SQLException {\n\n    }\n\n    @Override\n    public int getLoginTimeout() throws SQLException {\n        return 0;\n    }\n\n    @Override\n    public Logger getParentLogger() throws SQLFeatureNotSupportedException {\n        return null;\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException {\n        return null;\n    }\n\n    @Override\n    public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException {\n        return false;\n    }\n}\n</code></pre> <p>\u5199\u5b8c\u6570\u636e\u6e90\uff0c\u6211\u4eec\u9700\u8981\u628a\u8fd9\u4e2a\u6570\u636e\u6e90\u4f20\u9012\u7ed9JdbcTemplate\u3002\u56e0\u4e3aJdbcTemplate\u4e2d\u6709\u4e00\u4e2aDataSource\u5c5e\u6027\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"myDataSource\" class=\"com.powernode.spring6.jdbc.MyDataSource\"&gt;\n        &lt;property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring6\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"123456\"/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"myDataSource\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u5230\u8fd9\u91cc\u73af\u5883\u5c31\u51c6\u5907\u597d\u4e86\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#132","title":"13.2 \u65b0\u589e","text":"<p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className JdbcTest\n * @since 1.0\n **/\npublic class JdbcTest {\n    @Test\n    public void testInsert(){\n        // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n        // \u6267\u884c\u63d2\u5165\u64cd\u4f5c\n        // \u6ce8\u610f\uff1ainsert delete update\u7684sql\u8bed\u53e5\uff0c\u90fd\u662f\u6267\u884cupdate\u65b9\u6cd5\u3002\n        String sql = \"insert into t_user(id,real_name,age) values(?,?,?)\";\n        int count = jdbcTemplate.update(sql, null, \"\u5f20\u4e09\", 30);\n        System.out.println(\"\u63d2\u5165\u7684\u8bb0\u5f55\u6761\u6570\uff1a\" + count);\n    }\n}\n</code></pre> <p>update\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u8981\u6267\u884c\u7684SQL\u8bed\u53e5\u3002\uff08SQL\u8bed\u53e5\u4e2d\u53ef\u80fd\u4f1a\u6709\u5360\u4f4d\u7b26 ? \uff09</li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u53ef\u53d8\u957f\u53c2\u6570\uff0c\u53c2\u6570\u7684\u4e2a\u6570\u53ef\u4ee5\u662f0\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u662f\u591a\u4e2a\u3002\u4e00\u822c\u662fSQL\u8bed\u53e5\u4e2d\u6709\u51e0\u4e2a\u95ee\u53f7\uff0c\u5219\u5bf9\u5e94\u51e0\u4e2a\u53c2\u6570\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#133","title":"13.3 \u4fee\u6539","text":"Java<pre><code>@Test\npublic void testUpdate(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6267\u884c\u66f4\u65b0\u64cd\u4f5c\n    String sql = \"update t_user set real_name = ?, age = ? where id = ?\";\n    int count = jdbcTemplate.update(sql, \"\u5f20\u4e09\u4e30\", 55, 1);\n    System.out.println(\"\u66f4\u65b0\u7684\u8bb0\u5f55\u6761\u6570\uff1a\" + count);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#134","title":"13.4 \u5220\u9664","text":"Java<pre><code>@Test\npublic void testDelete(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6267\u884cdelete\n    String sql = \"delete from t_user where id = ?\";\n    int count = jdbcTemplate.update(sql, 1);\n    System.out.println(\"\u5220\u9664\u4e86\u51e0\u6761\u8bb0\u5f55\uff1a\" + count);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#135","title":"13.5 \u67e5\u8be2\u4e00\u4e2a\u5bf9\u8c61","text":"Java<pre><code>@Test\npublic void testSelectOne(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6267\u884cselect\n    String sql = \"select id, real_name, age from t_user where id = ?\";\n    User user = jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper&lt;&gt;(User.class), 2);\n    System.out.println(user);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>queryForObject\u65b9\u6cd5\u4e09\u4e2a\u53c2\u6570\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1asql\u8bed\u53e5</li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1aBean\u5c5e\u6027\u503c\u548c\u6570\u636e\u5e93\u8bb0\u5f55\u884c\u7684\u6620\u5c04\u5bf9\u8c61\u3002\u5728\u6784\u9020\u65b9\u6cd5\u4e2d\u6307\u5b9a\u6620\u5c04\u7684\u5bf9\u8c61\u7c7b\u578b\u3002</li> <li>\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u53ef\u53d8\u957f\u53c2\u6570\uff0c\u7ed9sql\u8bed\u53e5\u7684\u5360\u4f4d\u7b26\u95ee\u53f7\u4f20\u503c\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#136","title":"13.6 \u67e5\u8be2\u591a\u4e2a\u5bf9\u8c61","text":"Java<pre><code>@Test\npublic void testSelectAll(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6267\u884cselect\n    String sql = \"select id, real_name, age from t_user\";\n    List&lt;User&gt; users = jdbcTemplate.query(sql, new BeanPropertyRowMapper&lt;&gt;(User.class));\n    System.out.println(users);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#137","title":"13.7 \u67e5\u8be2\u4e00\u4e2a\u503c","text":"Java<pre><code>@Test\npublic void testSelectOneValue(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6267\u884cselect\n    String sql = \"select count(1) from t_user\";\n    Integer count = jdbcTemplate.queryForObject(sql, int.class); // \u8fd9\u91cc\u7528Integer.class\u4e5f\u53ef\u4ee5\n    System.out.println(\"\u603b\u8bb0\u5f55\u6761\u6570\uff1a\" + count);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#138","title":"13.8 \u6279\u91cf\u6dfb\u52a0","text":"Java<pre><code>@Test\npublic void testAddBatch(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6279\u91cf\u6dfb\u52a0\n    String sql = \"insert into t_user(id,real_name,age) values(?,?,?)\";\n\n    Object[] objs1 = {null, \"\u5c0f\u82b1\", 20};\n    Object[] objs2 = {null, \"\u5c0f\u660e\", 21};\n    Object[] objs3 = {null, \"\u5c0f\u521a\", 22};\n    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();\n    list.add(objs1);\n    list.add(objs2);\n    list.add(objs3);\n\n    int[] count = jdbcTemplate.batchUpdate(sql, list);\n    System.out.println(Arrays.toString(count));\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#139","title":"13.9 \u6279\u91cf\u4fee\u6539","text":"Java<pre><code>@Test\npublic void testUpdateBatch(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6279\u91cf\u4fee\u6539\n    String sql = \"update t_user set real_name = ?, age = ? where id = ?\";\n    Object[] objs1 = {\"\u5c0f\u82b111\", 10, 2};\n    Object[] objs2 = {\"\u5c0f\u660e22\", 12, 3};\n    Object[] objs3 = {\"\u5c0f\u521a33\", 9, 4};\n    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();\n    list.add(objs1);\n    list.add(objs2);\n    list.add(objs3);\n\n    int[] count = jdbcTemplate.batchUpdate(sql, list);\n    System.out.println(Arrays.toString(count));\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1310","title":"13.10 \u6279\u91cf\u5220\u9664","text":"Java<pre><code>@Test\npublic void testDeleteBatch(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    // \u6279\u91cf\u5220\u9664\n    String sql = \"delete from t_user where id = ?\";\n    Object[] objs1 = {2};\n    Object[] objs2 = {3};\n    Object[] objs3 = {4};\n    List&lt;Object[]&gt; list = new ArrayList&lt;&gt;();\n    list.add(objs1);\n    list.add(objs2);\n    list.add(objs3);\n    int[] count = jdbcTemplate.batchUpdate(sql, list);\n    System.out.println(Arrays.toString(count));\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1311","title":"13.11 \u4f7f\u7528\u56de\u8c03\u51fd\u6570","text":"<p>\u4f7f\u7528\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u53c2\u4e0e\u7684\u66f4\u52a0\u7ec6\u8282\uff1a</p> Java<pre><code>@Test\npublic void testCallback(){\n    // \u83b7\u53d6JdbcTemplate\u5bf9\u8c61\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    JdbcTemplate jdbcTemplate = applicationContext.getBean(\"jdbcTemplate\", JdbcTemplate.class);\n    String sql = \"select id, real_name, age from t_user where id = ?\";\n\n    User user = jdbcTemplate.execute(sql, new PreparedStatementCallback&lt;User&gt;() {\n        @Override\n        public User doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\n            User user = null;\n            ps.setInt(1, 5);\n            ResultSet rs = ps.executeQuery();\n            if (rs.next()) {\n                user = new User();\n                user.setId(rs.getInt(\"id\"));\n                user.setRealName(rs.getString(\"real_name\"));\n                user.setAge(rs.getInt(\"age\"));\n            }\n            return user;\n        }\n    });\n    System.out.println(user);\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1312","title":"13.12 \u4f7f\u7528\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60","text":"<p>\u4e4b\u524d\u6570\u636e\u6e90\u662f\u7528\u6211\u4eec\u81ea\u5df1\u5199\u7684\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u522b\u4eba\u5199\u597d\u7684\u3002\u4f8b\u5982\u6bd4\u8f83\u725b\u7684\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60\u3002</p> <p>\u7b2c\u4e00\u6b65\uff1a\u5f15\u5165\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60\u7684\u4f9d\u8d56\u3002\uff08\u6bd5\u7adf\u662f\u522b\u4eba\u5199\u7684\uff09</p> XML<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n  &lt;artifactId&gt;druid&lt;/artifactId&gt;\n  &lt;version&gt;1.1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5c06\u5fb7\u9c81\u4f0a\u4e2d\u7684\u6570\u636e\u6e90\u914d\u7f6e\u5230spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u548c\u914d\u7f6e\u6211\u4eec\u81ea\u5df1\u5199\u7684\u4e00\u6837\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"druidDataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring6\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"root\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"druidDataSource\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#gof_1","title":"\u5341\u56db\u3001GoF\u4e4b\u4ee3\u7406\u6a21\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#141","title":"14.1 \u5bf9\u4ee3\u7406\u6a21\u5f0f\u7684\u7406\u89e3","text":"<p>\u751f\u6d3b\u573a\u666f1\uff1a\u725b\u6751\u7684\u725b\u4e8c\u770b\u4e0a\u4e86\u9694\u58c1\u6751\u5c0f\u82b1\uff0c\u725b\u4e8c\u4e0d\u597d\u610f\u601d\u76f4\u63a5\u627e\u5c0f\u82b1\uff0c\u4e8e\u662f\u725b\u4e8c\u627e\u6765\u4e86\u5a92\u5a46\u738b\u5988\u5988\u3002\u8fd9\u91cc\u9762\u5c31\u6709\u4e00\u4e2a\u975e\u5e38\u5178\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u3002\u725b\u4e8c\u4e0d\u80fd\u548c\u5c0f\u82b1\u76f4\u63a5\u5bf9\u63a5\uff0c\u53ea\u80fd\u627e\u4e00\u4e2a\u4e2d\u95f4\u4eba\u3002\u5176\u4e2d\u738b\u5988\u5988\u662f\u4ee3\u7406\u7c7b\uff0c\u725b\u4e8c\u662f\u76ee\u6807\u7c7b\u3002\u738b\u5988\u5988\u4ee3\u66ff\u725b\u4e8c\u548c\u5c0f\u82b1\u5148\u89c1\u4e2a\u9762\u3002\uff08\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u5a5a\u4ecb\u6240\uff09\u3010\u5728\u7a0b\u5e8f\u4e2d\uff0c\u5bf9\u8c61A\u548c\u5bf9\u8c61B\u65e0\u6cd5\u76f4\u63a5\u4ea4\u4e92\u65f6\u3002\u3011</p> <p>\u751f\u6d3b\u573a\u666f2\uff1a\u4f60\u521a\u5230\u5317\u4eac\uff0c\u8981\u79df\u623f\u5b50\uff0c\u53ef\u4ee5\u81ea\u5df1\u627e\uff0c\u4e5f\u53ef\u4ee5\u627e\u94fe\u5bb6\u5e2e\u4f60\u627e\u3002\u5176\u4e2d\u94fe\u5bb6\u662f\u4ee3\u7406\u7c7b\uff0c\u4f60\u662f\u76ee\u6807\u7c7b\u3002\u4f60\u4eec\u4e24\u4e2a\u90fd\u6709\u5171\u540c\u7684\u884c\u4e3a\uff1a\u627e\u623f\u5b50\u3002\u4e0d\u8fc7\u94fe\u5bb6\u9664\u4e86\u6ee1\u8db3\u4f60\u627e\u623f\u5b50\uff0c\u53e6\u5916\u4f1a\u6536\u53d6\u4e00\u4e9b\u8d39\u7528\u7684\u3002(\u73b0\u5b9e\u751f\u6d3b\u4e2d\u7684\u623f\u4ea7\u4e2d\u4ecb)\u3010\u5728\u7a0b\u5e8f\u4e2d\uff0c\u529f\u80fd\u9700\u8981\u589e\u5f3a\u65f6\u3002\u3011</p> <p>\u897f\u6e38\u8bb0\u573a\u666f\uff1a\u516b\u6212\u548c\u9ad8\u5c0f\u59d0\u7684\u6545\u4e8b\u3002\u516b\u6212\u8981\u5f3a\u62a2\u6c11\u5973\u9ad8\u7fe0\u5170\u3002\u609f\u7a7a\u5f97\u77e5\u6b64\u4e8b\u4e4b\u540e\u600e\u4e48\u505a\u7684\uff1f\u609f\u7a7a\u5e7b\u5316\u6210\u9ad8\u5c0f\u59d0\u7684\u6a21\u6837\u3002\u4ee3\u66ff\u9ad8\u5c0f\u59d0\u4e0e\u516b\u6212\u4f1a\u9762\u3002\u5176\u4e2d\u516b\u6212\u662f\u5ba2\u6237\u7aef\u7a0b\u5e8f\u3002\u609f\u7a7a\u662f\u4ee3\u7406\u7c7b\u3002\u9ad8\u5c0f\u59d0\u662f\u76ee\u6807\u7c7b\u3002\u90a3\u5929\u591c\u91cc\uff0c\u5728\u516b\u6212\u773c\u91cc\uff0c\u773c\u524d\u7684\u5c31\u662f\u9ad8\u5c0f\u59d0\uff0c\u5bf9\u4e8e\u516b\u6212\u6765\u8bf4\uff0c\u4ed6\u662f\u4e0d\u77e5\u9053\u773c\u524d\u7684\u9ad8\u5c0f\u59d0\u662f\u609f\u7a7a\u5e7b\u5316\u7684\uff0c\u5728\u4ed6\u5185\u5fc3\u91cc\u8fd9\u5c31\u662f\u9ad8\u5c0f\u59d0\u3002\u6240\u4ee5\u609f\u7a7a\u4ee3\u66ff\u9ad8\u5c0f\u59d0\u548c\u516b\u6212\u4eb2\u4e86\u5634\u513f\u3002\u8fd9\u662f\u975e\u5e38\u5178\u578b\u7684\u4ee3\u7406\u6a21\u5f0f\u5b9e\u73b0\u7684\u4fdd\u62a4\u673a\u5236\u3002\u4ee3\u7406\u6a21\u5f0f\u4e2d\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7279\u70b9\uff1a\u5bf9\u4e8e\u5ba2\u6237\u7aef\u7a0b\u5e8f\u6765\u8bf4\uff0c\u4f7f\u7528\u4ee3\u7406\u5bf9\u8c61\u65f6\u5c31\u50cf\u5728\u4f7f\u7528\u76ee\u6807\u5bf9\u8c61\u4e00\u6837\u3002\u3010\u5728\u7a0b\u5e8f\u4e2d\uff0c\u76ee\u6807\u9700\u8981\u88ab\u4fdd\u62a4\u65f6\u3011</p> <p>\u4e1a\u52a1\u573a\u666f\uff1a\u7cfb\u7edf\u4e2d\u6709A\u3001B\u3001C\u4e09\u4e2a\u6a21\u5757\uff0c\u4f7f\u7528\u8fd9\u4e9b\u6a21\u5757\u7684\u524d\u63d0\u662f\u9700\u8981\u7528\u6237\u767b\u5f55\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728A\u6a21\u5757\u4e2d\u8981\u7f16\u5199\u5224\u65ad\u767b\u5f55\u7684\u4ee3\u7801\uff0cB\u6a21\u5757\u4e2d\u4e5f\u8981\u7f16\u5199\uff0cC\u6a21\u5757\u4e2d\u8fd8\u8981\u7f16\u5199\uff0c\u8fd9\u4e9b\u5224\u65ad\u767b\u5f55\u7684\u4ee3\u7801\u53cd\u590d\u51fa\u73b0\uff0c\u663e\u7136\u4ee3\u7801\u6ca1\u6709\u5f97\u5230\u590d\u7528\uff0c\u53ef\u4ee5\u4e3aA\u3001B\u3001C\u4e09\u4e2a\u6a21\u5757\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\uff0c\u5728\u4ee3\u7406\u5f53\u4e2d\u5199\u4e00\u6b21\u767b\u5f55\u5224\u65ad\u5373\u53ef\u3002\u4ee3\u7406\u7684\u903b\u8f91\u662f\uff1a\u8bf7\u6c42\u6765\u4e86\u4e4b\u540e\uff0c\u5224\u65ad\u7528\u6237\u662f\u5426\u767b\u5f55\u4e86\uff0c\u5982\u679c\u5df2\u7ecf\u767b\u5f55\u4e86\uff0c\u5219\u6267\u884c\u5bf9\u5e94\u7684\u76ee\u6807\uff0c\u5982\u679c\u6ca1\u6709\u767b\u5f55\u5219\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\u3002\u3010\u5728\u7a0b\u5e8f\u4e2d\uff0c\u76ee\u6807\u4e0d\u4f46\u53d7\u5230\u4fdd\u62a4\uff0c\u5e76\u4e14\u4ee3\u7801\u4e5f\u5f97\u5230\u4e86\u590d\u7528\u3002\u3011</p> <p>\u4ee3\u7406\u6a21\u5f0f\u662fGoF23\u79cd\u8bbe\u8ba1\u6a21\u5f0f\u4e4b\u4e00\u3002\u5c5e\u4e8e\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\u3002</p> <p>\u4ee3\u7406\u6a21\u5f0f\u7684\u4f5c\u7528\u662f\uff1a\u4e3a\u5176\u4ed6\u5bf9\u8c61\u63d0\u4f9b\u4e00\u79cd\u4ee3\u7406\u4ee5\u63a7\u5236\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u8bbf\u95ee\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5ba2\u6237\u4e0d\u60f3\u6216\u8005\u4e0d\u80fd\u76f4\u63a5\u5f15\u7528\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6b64\u65f6\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u79f0\u4e4b\u4e3a\u201c\u4ee3\u7406\u201d\u7684\u7b2c\u4e09\u8005\u6765\u5b9e\u73b0\u95f4\u63a5\u5f15\u7528\u3002\u4ee3\u7406\u5bf9\u8c61\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u548c\u76ee\u6807\u5bf9\u8c61\u4e4b\u95f4\u8d77\u5230\u4e2d\u4ecb\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u5bf9\u8c61\u53bb\u6389\u5ba2\u6237\u4e0d\u5e94\u8be5\u770b\u5230\u7684\u5185\u5bb9\u548c\u670d\u52a1\u6216\u8005\u6dfb\u52a0\u5ba2\u6237\u9700\u8981\u7684\u989d\u5916\u670d\u52a1\u3002 \u901a\u8fc7\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u5b9e\u73b0\u5bf9\u771f\u5b9e\u5bf9\u8c61\u7684\u64cd\u4f5c\u6216\u8005\u5c06\u65b0\u7684\u5bf9\u8c61\u4f5c\u4e3a\u771f\u5b9e\u5bf9\u8c61\u7684\u4e00\u4e2a\u66ff\u8eab\uff0c\u8fd9\u79cd\u5b9e\u73b0\u673a\u5236\u5373\u4e3a\u4ee3\u7406\u6a21\u5f0f\uff0c\u901a\u8fc7\u5f15\u5165\u4ee3\u7406\u5bf9\u8c61\u6765\u95f4\u63a5\u8bbf\u95ee\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u5c31\u662f\u4ee3\u7406\u6a21\u5f0f\u7684\u6a21\u5f0f\u52a8\u673a\u3002</p> <p>\u4ee3\u7406\u6a21\u5f0f\u4e2d\u7684\u89d2\u8272\uff1a</p> <ul> <li>\u4ee3\u7406\u7c7b\uff08\u4ee3\u7406\u4e3b\u9898\uff09</li> <li>\u76ee\u6807\u7c7b\uff08\u771f\u5b9e\u4e3b\u9898\uff09</li> <li>\u4ee3\u7406\u7c7b\u548c\u76ee\u6807\u7c7b\u7684\u516c\u5171\u63a5\u53e3\uff08\u62bd\u8c61\u4e3b\u9898\uff09\uff1a\u5ba2\u6237\u7aef\u5728\u4f7f\u7528\u4ee3\u7406\u7c7b\u65f6\u5c31\u50cf\u5728\u4f7f\u7528\u76ee\u6807\u7c7b\uff0c\u4e0d\u88ab\u5ba2\u6237\u7aef\u6240\u5bdf\u89c9\uff0c\u6240\u4ee5\u4ee3\u7406\u7c7b\u548c\u76ee\u6807\u7c7b\u8981\u6709\u5171\u540c\u7684\u884c\u4e3a\uff0c\u4e5f\u5c31\u662f\u5b9e\u73b0\u5171\u540c\u7684\u63a5\u53e3\u3002</li> </ul> <p>\u4ee3\u7406\u6a21\u5f0f\u7684\u7c7b\u56fe\uff1a</p> <p></p> <p>\u4ee3\u7406\u6a21\u5f0f\u5728\u4ee3\u7801\u5b9e\u73b0\u4e0a\uff0c\u5305\u62ec\u4e24\u79cd\u5f62\u5f0f\uff1a</p> <ul> <li>\u9759\u6001\u4ee3\u7406</li> <li>\u52a8\u6001\u4ee3\u7406</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#142","title":"14.2 \u9759\u6001\u4ee3\u7406","text":"<p>\u73b0\u5728\u6709\u8fd9\u6837\u4e00\u4e2a\u63a5\u53e3\u548c\u5b9e\u73b0\u7c7b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\n/**\n * \u8ba2\u5355\u63a5\u53e3\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderService\n * @since 1.0\n **/\npublic interface OrderService {\n    /**\n     * \u751f\u6210\u8ba2\u5355\n     */\n    void generate();\n\n    /**\n     * \u67e5\u770b\u8ba2\u5355\u8be6\u60c5\n     */\n    void detail();\n\n    /**\n     * \u4fee\u6539\u8ba2\u5355\n     */\n    void modify();\n}\npackage com.powernode.mall.service.impl;\n\nimport com.powernode.mall.service.OrderService;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderServiceImpl\n * @since 1.0\n **/\npublic class OrderServiceImpl implements OrderService {\n    @Override\n    public void generate() {\n        try {\n            Thread.sleep(1234);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\");\n    }\n\n    @Override\n    public void detail() {\n        try {\n            Thread.sleep(2541);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u4fe1\u606f\u5982\u4e0b\uff1a******\");\n    }\n\n    @Override\n    public void modify() {\n        try {\n            Thread.sleep(1010);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u4fee\u6539\");\n    }\n}\n</code></pre> <p>\u5176\u4e2dThread.sleep()\u65b9\u6cd5\u7684\u8c03\u7528\u662f\u4e3a\u4e86\u6a21\u62df\u64cd\u4f5c\u8017\u65f6\u3002</p> <p>\u9879\u76ee\u5df2\u4e0a\u7ebf\uff0c\u5e76\u4e14\u8fd0\u884c\u6b63\u5e38\uff0c\u53ea\u662f\u5ba2\u6237\u53cd\u9988\u7cfb\u7edf\u6709\u4e00\u4e9b\u5730\u65b9\u8fd0\u884c\u8f83\u6162\uff0c\u8981\u6c42\u9879\u76ee\u7ec4\u5bf9\u7cfb\u7edf\u8fdb\u884c\u4f18\u5316\u3002\u4e8e\u662f\u9879\u76ee\u8d1f\u8d23\u4eba\u5c31\u4e0b\u8fbe\u4e86\u8fd9\u4e2a\u9700\u6c42\u3002\u9996\u5148\u9700\u8981\u641e\u6e05\u695a\u662f\u54ea\u4e9b\u4e1a\u52a1\u65b9\u6cd5\u8017\u65f6\u8f83\u957f\uff0c\u4e8e\u662f\u8ba9\u6211\u4eec\u7edf\u8ba1\u6bcf\u4e2a\u4e1a\u52a1\u65b9\u6cd5\u6240\u8017\u8d39\u7684\u65f6\u957f\u3002\u5982\u679c\u662f\u4f60\uff0c\u4f60\u8be5\u600e\u4e48\u505a\u5462\uff1f</p> <p>\u7b2c\u4e00\u79cd\u65b9\u6848\uff1a\u76f4\u63a5\u4fee\u6539Java\u6e90\u4ee3\u7801\uff0c\u5728\u6bcf\u4e2a\u4e1a\u52a1\u65b9\u6cd5\u4e2d\u6dfb\u52a0\u7edf\u8ba1\u903b\u8f91\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service.impl;\n\nimport com.powernode.mall.service.OrderService;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderServiceImpl\n * @since 1.0\n **/\npublic class OrderServiceImpl implements OrderService {\n    @Override\n    public void generate() {\n        long begin = System.currentTimeMillis();\n        try {\n            Thread.sleep(1234);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\");\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u8d39\u65f6\u957f\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void detail() {\n        long begin = System.currentTimeMillis();\n        try {\n            Thread.sleep(2541);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u4fe1\u606f\u5982\u4e0b\uff1a******\");\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u8d39\u65f6\u957f\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void modify() {\n        long begin = System.currentTimeMillis();\n        try {\n            Thread.sleep(1010);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u4fee\u6539\");\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u8d39\u65f6\u957f\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n}\n</code></pre> <p>\u9700\u6c42\u53ef\u4ee5\u6ee1\u8db3\uff0c\u4f46\u663e\u7136\u662f\u8fdd\u80cc\u4e86OCP\u5f00\u95ed\u539f\u5219\u3002\u8fd9\u79cd\u65b9\u6848\u4e0d\u53ef\u53d6\u3002</p> <p>\u7b2c\u4e8c\u79cd\u65b9\u6848\uff1a\u7f16\u5199\u4e00\u4e2a\u5b50\u7c7b\u7ee7\u627fOrderServiceImpl\uff0c\u5728\u5b50\u7c7b\u4e2d\u91cd\u5199\u6bcf\u4e2a\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service.impl;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderServiceImplSub\n * @since 1.0\n **/\npublic class OrderServiceImplSub extends OrderServiceImpl{\n    @Override\n    public void generate() {\n        long begin = System.currentTimeMillis();\n        super.generate();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void detail() {\n        long begin = System.currentTimeMillis();\n        super.detail();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void modify() {\n        long begin = System.currentTimeMillis();\n        super.modify();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n}\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\uff0c\u4f46\u662f\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u5047\u8bbe\u7cfb\u7edf\u4e2d\u6709100\u4e2a\u8fd9\u6837\u7684\u4e1a\u52a1\u7c7b\uff0c\u9700\u8981\u63d0\u4f9b100\u4e2a\u5b50\u7c7b\uff0c\u5e76\u4e14\u4e4b\u524d\u5199\u597d\u7684\u521b\u5efaService\u5bf9\u8c61\u7684\u4ee3\u7801\uff0c\u90fd\u8981\u4fee\u6539\u4e3a\u521b\u5efa\u5b50\u7c7b\u5bf9\u8c61\u3002</li> <li>\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff1a\u7531\u4e8e\u91c7\u7528\u4e86\u7ee7\u627f\u7684\u65b9\u5f0f\uff0c\u5bfc\u81f4\u4ee3\u7801\u4e4b\u95f4\u7684\u8026\u5408\u5ea6\u8f83\u9ad8\u3002</li> </ul> <p>\u8fd9\u79cd\u65b9\u6848\u4e5f\u4e0d\u53ef\u53d6\u3002</p> <p>\u7b2c\u4e09\u79cd\u65b9\u6848\uff1a\u4f7f\u7528\u4ee3\u7406\u6a21\u5f0f\uff08\u8fd9\u91cc\u91c7\u7528\u9759\u6001\u4ee3\u7406\uff09</p> <p>\u53ef\u4ee5\u4e3aOrderService\u63a5\u53e3\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7406\u7c7b\u3002</p> Java<pre><code>package com.powernode.mall.service;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderServiceProxy\n * @since 1.0\n **/\npublic class OrderServiceProxy implements OrderService{ // \u4ee3\u7406\u5bf9\u8c61\n\n    // \u76ee\u6807\u5bf9\u8c61\n    private OrderService orderService;\n\n    // \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u5c06\u76ee\u6807\u5bf9\u8c61\u4f20\u9012\u7ed9\u4ee3\u7406\u5bf9\u8c61\n    public OrderServiceProxy(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @Override\n    public void generate() {\n        long begin = System.currentTimeMillis();\n        // \u6267\u884c\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u65b9\u6cd5\n        orderService.generate();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void detail() {\n        long begin = System.currentTimeMillis();\n        // \u6267\u884c\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u65b9\u6cd5\n        orderService.detail();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n\n    @Override\n    public void modify() {\n        long begin = System.currentTimeMillis();\n        // \u6267\u884c\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u65b9\u6cd5\n        orderService.modify();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n}\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\uff1a\u7b26\u5408OCP\u5f00\u95ed\u539f\u5219\uff0c\u540c\u65f6\u91c7\u7528\u7684\u662f\u5173\u8054\u5173\u7cfb\uff0c\u6240\u4ee5\u7a0b\u5e8f\u7684\u8026\u5408\u5ea6\u8f83\u4f4e\u3002\u6240\u4ee5\u8fd9\u79cd\u65b9\u6848\u662f\u88ab\u63a8\u8350\u7684\u3002</p> <p>\u7f16\u5199\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.OrderService;\nimport com.powernode.mall.service.OrderServiceProxy;\nimport com.powernode.mall.service.impl.OrderServiceImpl;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u76ee\u6807\u5bf9\u8c61\n        OrderService target = new OrderServiceImpl();\n        // \u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        OrderService proxy = new OrderServiceProxy(target);\n        // \u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u4ee3\u7406\u65b9\u6cd5\n        proxy.generate();\n        proxy.modify();\n        proxy.detail();\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u4ee5\u4e0a\u5c31\u662f\u4ee3\u7406\u6a21\u5f0f\u4e2d\u7684\u9759\u6001\u4ee3\u7406\uff0c\u5176\u4e2dOrderService\u63a5\u53e3\u662f\u4ee3\u7406\u7c7b\u548c\u76ee\u6807\u7c7b\u7684\u5171\u540c\u63a5\u53e3\u3002OrderServiceImpl\u662f\u76ee\u6807\u7c7b\u3002OrderServiceProxy\u662f\u4ee3\u7406\u7c7b\u3002</p> <p>\u5927\u5bb6\u601d\u8003\u4e00\u4e0b\uff1a\u5982\u679c\u7cfb\u7edf\u4e2d\u4e1a\u52a1\u63a5\u53e3\u5f88\u591a\uff0c\u4e00\u4e2a\u63a5\u53e3\u5bf9\u5e94\u4e00\u4e2a\u4ee3\u7406\u7c7b\uff0c\u663e\u7136\u4e5f\u662f\u4e0d\u5408\u7406\u7684\uff0c\u4f1a\u5bfc\u81f4\u7c7b\u7206\u70b8\u3002\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1f\u52a8\u6001\u4ee3\u7406\u53ef\u4ee5\u89e3\u51b3\u3002\u56e0\u4e3a\u5728\u52a8\u6001\u4ee3\u7406\u4e2d\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u52a8\u6001\u7684\u4e3a\u6211\u4eec\u751f\u6210\u4ee3\u7406\u7c7b\u7684\u5b57\u8282\u7801\u3002\u4ee3\u7406\u7c7b\u4e0d\u9700\u8981\u6211\u4eec\u5199\u4e86\u3002\u7c7b\u7206\u70b8\u89e3\u51b3\u4e86\uff0c\u800c\u4e14\u4ee3\u7801\u53ea\u9700\u8981\u5199\u4e00\u6b21\uff0c\u4ee3\u7801\u4e5f\u4f1a\u5f97\u5230\u590d\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#143","title":"14.3 \u52a8\u6001\u4ee3\u7406","text":"<p>\u5728\u7a0b\u5e8f\u8fd0\u884c\u9636\u6bb5\uff0c\u5728\u5185\u5b58\u4e2d\u52a8\u6001\u751f\u6210\u4ee3\u7406\u7c7b\uff0c\u88ab\u79f0\u4e3a\u52a8\u6001\u4ee3\u7406\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u51cf\u5c11\u4ee3\u7406\u7c7b\u7684\u6570\u91cf\u3002\u89e3\u51b3\u4ee3\u7801\u590d\u7528\u7684\u95ee\u9898\u3002</p> <p>\u5728\u5185\u5b58\u5f53\u4e2d\u52a8\u6001\u751f\u6210\u7c7b\u7684\u6280\u672f\u5e38\u89c1\u7684\u5305\u62ec\uff1a</p> <ul> <li>JDK\u52a8\u6001\u4ee3\u7406\u6280\u672f\uff1a\u53ea\u80fd\u4ee3\u7406\u63a5\u53e3\u3002</li> <li>CGLIB\u52a8\u6001\u4ee3\u7406\u6280\u672f\uff1aCGLIB(Code Generation Library)\u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\u3002\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\uff0c\u9ad8\u6027\u80fd\uff0c\u9ad8\u8d28\u91cf\u7684Code\u751f\u6210\u7c7b\u5e93\uff0c\u5b83\u53ef\u4ee5\u5728\u8fd0\u884c\u671f\u6269\u5c55Java\u7c7b\u4e0e\u5b9e\u73b0Java\u63a5\u53e3\u3002\u5b83\u65e2\u53ef\u4ee5\u4ee3\u7406\u63a5\u53e3\uff0c\u53c8\u53ef\u4ee5\u4ee3\u7406\u7c7b\uff0c\u5e95\u5c42\u662f\u901a\u8fc7\u7ee7\u627f\u7684\u65b9\u5f0f\u5b9e\u73b0\u7684\u3002\u6027\u80fd\u6bd4JDK\u52a8\u6001\u4ee3\u7406\u8981\u597d\u3002\uff08\u5e95\u5c42\u6709\u4e00\u4e2a\u5c0f\u800c\u5feb\u7684\u5b57\u8282\u7801\u5904\u7406\u6846\u67b6ASM\u3002\uff09</li> <li>Javassist\u52a8\u6001\u4ee3\u7406\u6280\u672f\uff1aJavassist\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5206\u6790\u3001\u7f16\u8f91\u548c\u521b\u5efaJava\u5b57\u8282\u7801\u7684\u7c7b\u5e93\u3002\u662f\u7531\u4e1c\u4eac\u5de5\u4e1a\u5927\u5b66\u7684\u6570\u5b66\u548c\u8ba1\u7b97\u673a\u79d1\u5b66\u7cfb\u7684 Shigeru Chiba \uff08\u5343\u53f6 \u6ecb\uff09\u6240\u521b\u5efa\u7684\u3002\u5b83\u5df2\u52a0\u5165\u4e86\u5f00\u653e\u6e90\u4ee3\u7801JBoss \u5e94\u7528\u670d\u52a1\u5668\u9879\u76ee\uff0c\u901a\u8fc7\u4f7f\u7528Javassist\u5bf9\u5b57\u8282\u7801\u64cd\u4f5c\u4e3aJBoss\u5b9e\u73b0\u52a8\u6001\"AOP\"\u6846\u67b6\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1431-jdk","title":"14.3.1 JDK\u52a8\u6001\u4ee3\u7406","text":"<p>\u6211\u4eec\u8fd8\u662f\u4f7f\u7528\u9759\u6001\u4ee3\u7406\u4e2d\u7684\u4f8b\u5b50\uff1a\u4e00\u4e2a\u63a5\u53e3\u548c\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u3002</p> Java<pre><code>package com.powernode.mall.service;\n\n/**\n * \u8ba2\u5355\u63a5\u53e3\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderService\n * @since 1.0\n **/\npublic interface OrderService {\n    /**\n     * \u751f\u6210\u8ba2\u5355\n     */\n    void generate();\n\n    /**\n     * \u67e5\u770b\u8ba2\u5355\u8be6\u60c5\n     */\n    void detail();\n\n    /**\n     * \u4fee\u6539\u8ba2\u5355\n     */\n    void modify();\n}\npackage com.powernode.mall.service.impl;\n\nimport com.powernode.mall.service.OrderService;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className OrderServiceImpl\n * @since 1.0\n **/\npublic class OrderServiceImpl implements OrderService {\n    @Override\n    public void generate() {\n        try {\n            Thread.sleep(1234);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\");\n    }\n\n    @Override\n    public void detail() {\n        try {\n            Thread.sleep(2541);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u4fe1\u606f\u5982\u4e0b\uff1a******\");\n    }\n\n    @Override\n    public void modify() {\n        try {\n            Thread.sleep(1010);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\u8ba2\u5355\u5df2\u4fee\u6539\");\n    }\n}\n</code></pre> <p>\u6211\u4eec\u5728\u9759\u6001\u4ee3\u7406\u7684\u65f6\u5019\uff0c\u9664\u4e86\u4ee5\u4e0a\u4e00\u4e2a\u63a5\u53e3\u548c\u4e00\u4e2a\u5b9e\u73b0\u7c7b\u4e4b\u5916\uff0c\u662f\u4e0d\u662f\u8981\u5199\u4e00\u4e2a\u4ee3\u7406\u7c7bUserServiceProxy\u5440\uff01\u5728\u52a8\u6001\u4ee3\u7406\u4e2dUserServiceProxy\u4ee3\u7406\u7c7b\u662f\u53ef\u4ee5\u52a8\u6001\u751f\u6210\u7684\u3002\u8fd9\u4e2a\u7c7b\u4e0d\u9700\u8981\u5199\u3002\u6211\u4eec\u76f4\u63a5\u5199\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5373\u53ef\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.OrderService;\nimport com.powernode.mall.service.impl.OrderServiceImpl;\n\nimport java.lang.reflect.Proxy;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u7b2c\u4e00\u6b65\uff1a\u521b\u5efa\u76ee\u6807\u5bf9\u8c61\n        OrderService target = new OrderServiceImpl();\n        // \u7b2c\u4e8c\u6b65\uff1a\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        OrderService orderServiceProxy = Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), \u8c03\u7528\u5904\u7406\u5668\u5bf9\u8c61);\n        // \u7b2c\u4e09\u6b65\uff1a\u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u4ee3\u7406\u65b9\u6cd5\n        orderServiceProxy.detail();\n        orderServiceProxy.modify();\n        orderServiceProxy.generate();\n    }\n}\n</code></pre> <p>\u4ee5\u4e0a\u7b2c\u4e8c\u6b65\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\u662f\u9700\u8981\u5927\u5bb6\u7406\u89e3\u7684\uff1a</p> <p>OrderService orderServiceProxy = Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), \u8c03\u7528\u5904\u7406\u5668\u5bf9\u8c61);</p> <p>\u8fd9\u884c\u4ee3\u7801\u505a\u4e86\u4e24\u4ef6\u4e8b\uff1a</p> <ul> <li>\u7b2c\u4e00\u4ef6\u4e8b\uff1a\u5728\u5185\u5b58\u4e2d\u751f\u6210\u4e86\u4ee3\u7406\u7c7b\u7684\u5b57\u8282\u7801</li> <li>\u7b2c\u4e8c\u4ef6\u4e8b\uff1a\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61</li> </ul> <p>Proxy\u7c7b\u5168\u540d\uff1ajava.lang.reflect.Proxy\u3002\u8fd9\u662fJDK\u63d0\u4f9b\u7684\u4e00\u4e2a\u7c7b\uff08\u6240\u4ee5\u79f0\u4e3aJDK\u52a8\u6001\u4ee3\u7406\uff09\u3002\u4e3b\u8981\u662f\u901a\u8fc7\u8fd9\u4e2a\u7c7b\u5728\u5185\u5b58\u4e2d\u751f\u6210\u4ee3\u7406\u7c7b\u7684\u5b57\u8282\u7801\u3002</p> <p>\u5176\u4e2dnewProxyInstance()\u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u7c7b\u52a0\u8f7d\u5668\u3002\u5728\u5185\u5b58\u4e2d\u751f\u6210\u4e86\u5b57\u8282\u7801\uff0c\u8981\u60f3\u6267\u884c\u8fd9\u4e2a\u5b57\u8282\u7801\uff0c\u4e5f\u662f\u9700\u8981\u5148\u628a\u8fd9\u4e2a\u5b57\u8282\u7801\u52a0\u8f7d\u5230\u5185\u5b58\u5f53\u4e2d\u7684\u3002\u6240\u4ee5\u8981\u6307\u5b9a\u4f7f\u7528\u54ea\u4e2a\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u3002</li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u63a5\u53e3\u7c7b\u578b\u3002\u4ee3\u7406\u7c7b\u548c\u76ee\u6807\u7c7b\u5b9e\u73b0\u76f8\u540c\u7684\u63a5\u53e3\uff0c\u6240\u4ee5\u8981\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u544a\u8bc9JDK\u52a8\u6001\u4ee3\u7406\u751f\u6210\u7684\u7c7b\u8981\u5b9e\u73b0\u54ea\u4e9b\u63a5\u53e3\u3002</li> <li>\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u8c03\u7528\u5904\u7406\u5668\u3002\u8fd9\u662f\u4e00\u4e2aJDK\u52a8\u6001\u4ee3\u7406\u89c4\u5b9a\u7684\u63a5\u53e3\uff0c\u63a5\u53e3\u5168\u540d\uff1ajava.lang.reflect.InvocationHandler\u3002\u663e\u7136\u8fd9\u662f\u4e00\u4e2a\u56de\u8c03\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u8bf4\u8c03\u7528\u8fd9\u4e2a\u63a5\u53e3\u4e2d\u65b9\u6cd5\u7684\u7a0b\u5e8f\u5df2\u7ecf\u5199\u597d\u4e86\uff0c\u5c31\u5dee\u8fd9\u4e2a\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u4e86\u3002</li> </ul> <p>\u6240\u4ee5\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u5199\u4e00\u4e0bjava.lang.reflect.InvocationHandler\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\uff0c\u5e76\u4e14\u5b9e\u73b0\u63a5\u53e3\u4e2d\u7684\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className TimerInvocationHandler\n * @since 1.0\n **/\npublic class TimerInvocationHandler implements InvocationHandler {\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        return null;\n    }\n}\n</code></pre> <p>InvocationHandler\u63a5\u53e3\u4e2d\u6709\u4e00\u4e2a\u65b9\u6cd5invoke\uff0c\u8fd9\u4e2ainvoke\u65b9\u6cd5\u4e0a\u6709\u4e09\u4e2a\u53c2\u6570\uff1a</p> <ul> <li>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1aObject proxy\u3002\u4ee3\u7406\u5bf9\u8c61\u3002\u8bbe\u8ba1\u8fd9\u4e2a\u53c2\u6570\u53ea\u662f\u4e3a\u4e86\u540e\u671f\u7684\u65b9\u4fbf\uff0c\u5982\u679c\u60f3\u5728invoke\u65b9\u6cd5\u4e2d\u4f7f\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u8bdd\uff0c\u5c3d\u7ba1\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u6765\u4f7f\u7528\u3002</li> <li>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1aMethod method\u3002\u76ee\u6807\u65b9\u6cd5\u3002</li> <li>\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1aObject[] args\u3002\u76ee\u6807\u65b9\u6cd5\u8c03\u7528\u65f6\u8981\u4f20\u7684\u53c2\u6570\u3002</li> </ul> <p>\u6211\u4eec\u5c06\u6765\u80af\u5b9a\u662f\u8981\u8c03\u7528\u201c\u76ee\u6807\u65b9\u6cd5\u201d\u7684\uff0c\u4f46\u8981\u8c03\u7528\u76ee\u6807\u65b9\u6cd5\u7684\u8bdd\uff0c\u9700\u8981\u201c\u76ee\u6807\u5bf9\u8c61\u201d\u7684\u5b58\u5728\uff0c\u201c\u76ee\u6807\u5bf9\u8c61\u201d\u4ece\u54ea\u513f\u6765\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u7ed9TimerInvocationHandler\u63d0\u4f9b\u4e00\u4e2a\u6784\u9020\u65b9\u6cd5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6784\u9020\u65b9\u6cd5\u4f20\u8fc7\u6765\u201c\u76ee\u6807\u5bf9\u8c61\u201d\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className TimerInvocationHandler\n * @since 1.0\n **/\npublic class TimerInvocationHandler implements InvocationHandler {\n    // \u76ee\u6807\u5bf9\u8c61\n    private Object target;\n\n    // \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u6765\u4f20\u76ee\u6807\u5bf9\u8c61\n    public TimerInvocationHandler(Object target) {\n        this.target = target;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        return null;\n    }\n}\n</code></pre> <p>\u6709\u4e86\u76ee\u6807\u5bf9\u8c61\u6211\u4eec\u5c31\u53ef\u4ee5\u5728invoke()\u65b9\u6cd5\u4e2d\u8c03\u7528\u76ee\u6807\u65b9\u6cd5\u4e86\u3002\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className TimerInvocationHandler\n * @since 1.0\n **/\npublic class TimerInvocationHandler implements InvocationHandler {\n    // \u76ee\u6807\u5bf9\u8c61\n    private Object target;\n\n    // \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u6765\u4f20\u76ee\u6807\u5bf9\u8c61\n    public TimerInvocationHandler(Object target) {\n        this.target = target;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        // \u76ee\u6807\u6267\u884c\u4e4b\u524d\u589e\u5f3a\u3002\n        long begin = System.currentTimeMillis();\n        // \u8c03\u7528\u76ee\u6807\u5bf9\u8c61\u7684\u76ee\u6807\u65b9\u6cd5\n        Object retValue = method.invoke(target, args);\n        // \u76ee\u6807\u6267\u884c\u4e4b\u540e\u589e\u5f3a\u3002\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n        // \u4e00\u5b9a\u8981\u8bb0\u5f97\u8fd4\u56de\u54e6\u3002\n        return retValue;\n    }\n}\n</code></pre> <p>\u5230\u6b64\u4e3a\u6b62\uff0c\u8c03\u7528\u5904\u7406\u5668\u5c31\u5b8c\u6210\u4e86\u3002\u63a5\u4e0b\u6765\uff0c\u5e94\u8be5\u7ee7\u7eed\u5b8c\u5584Client\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.OrderService;\nimport com.powernode.mall.service.TimerInvocationHandler;\nimport com.powernode.mall.service.impl.OrderServiceImpl;\n\nimport java.lang.reflect.Proxy;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u76ee\u6807\u5bf9\u8c61\n        OrderService target = new OrderServiceImpl();\n        // \u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        OrderService orderServiceProxy = (OrderService) Proxy.newProxyInstance(target.getClass().getClassLoader(),\n                                                                                target.getClass().getInterfaces(),\n                                                                                new TimerInvocationHandler(target));\n        // \u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u4ee3\u7406\u65b9\u6cd5\n        orderServiceProxy.detail();\n        orderServiceProxy.modify();\n        orderServiceProxy.generate();\n    }\n}\n</code></pre> <p>\u5927\u5bb6\u53ef\u80fd\u4f1a\u6bd4\u8f83\u597d\u5947\uff1a\u90a3\u4e2aInvocationHandler\u63a5\u53e3\u4e2d\u7684invoke()\u65b9\u6cd5\u6ca1\u770b\u89c1\u5728\u54ea\u91cc\u8c03\u7528\u5440\uff1f</p> <p>\u6ce8\u610f\uff1a\u5f53\u4f60\u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u4ee3\u7406\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u6ce8\u518c\u5728InvocationHandler\u63a5\u53e3\u4e2d\u7684invoke()\u65b9\u6cd5\u4f1a\u88ab\u8c03\u7528\u3002\u4e5f\u5c31\u662f\u4e0a\u9762\u4ee3\u7801\u7b2c24 25 26\u884c\uff0c\u8fd9\u4e09\u884c\u4ee3\u7801\u4e2d\u4efb\u610f\u4e00\u884c\u4ee3\u7801\u6267\u884c\uff0c\u6ce8\u518c\u5728InvocationHandler\u63a5\u53e3\u4e2d\u7684invoke()\u65b9\u6cd5\u90fd\u4f1a\u88ab\u8c03\u7528\u3002</p> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u5b66\u5230\u8fd9\u91cc\u53ef\u80fd\u4f1a\u611f\u89c9\u6709\u70b9\u61f5\uff0c\u6298\u817e\u534a\u5929\uff0c\u5230\u6700\u540e\u8fd9\u4e0d\u662f\u8fd8\u5f97\u5199\u4e00\u4e2a\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u5417\uff1f\u6ca1\u7701\u52b2\u513f\u5440\uff1f</p> <p>\u4f60\u8981\u8fd9\u6837\u60f3\u5c31\u9519\u4e86!!!!</p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u4e0d\u7ba1\u4f60\u6709\u591a\u5c11\u4e2aService\u63a5\u53e3\uff0c\u591a\u5c11\u4e2a\u4e1a\u52a1\u7c7b\uff0c\u8fd9\u4e2aTimerInvocationHandler\u63a5\u53e3\u662f\u4e0d\u662f\u53ea\u9700\u8981\u5199\u4e00\u6b21\u5c31\u884c\u4e86\uff0c\u4ee3\u7801\u662f\u4e0d\u662f\u5f97\u5230\u590d\u7528\u4e86\uff01\uff01\uff01\uff01</p> <p>\u800c\u4e14\u6700\u91cd\u8981\u7684\u662f\uff0c\u4ee5\u540e\u7a0b\u5e8f\u5458\u53ea\u9700\u8981\u5173\u6ce8\u6838\u5fc3\u4e1a\u52a1\u7684\u7f16\u5199\u4e86\uff0c\u50cf\u8fd9\u79cd\u7edf\u8ba1\u65f6\u95f4\u7684\u4ee3\u7801\u6839\u672c\u4e0d\u9700\u8981\u5173\u6ce8\u3002\u56e0\u4e3a\u8fd9\u79cd\u7edf\u8ba1\u65f6\u95f4\u7684\u4ee3\u7801\u53ea\u9700\u8981\u5728\u8c03\u7528\u5904\u7406\u5668\u4e2d\u7f16\u5199\u4e00\u6b21\u5373\u53ef\u3002</p> <p>\u5230\u8fd9\u91cc\uff0cJDK\u52a8\u6001\u4ee3\u7406\u7684\u539f\u7406\u5c31\u7ed3\u675f\u4e86\u3002</p> <p>\u4e0d\u8fc7\u6211\u4eec\u770b\u4ee5\u4e0b\u8fd9\u4e2a\u4ee3\u7801\u786e\u5b9e\u6709\u70b9\u7e41\u7410\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u7528\u8d77\u6765\u4e0d\u65b9\u4fbf\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u5de5\u5177\u7c7b\uff1aProxyUtil\uff0c\u5c01\u88c5\u4e00\u4e2a\u65b9\u6cd5\uff1a</p> Java<pre><code>package com.powernode.mall.util;\n\nimport com.powernode.mall.service.TimerInvocationHandler;\n\nimport java.lang.reflect.Proxy;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className ProxyUtil\n * @since 1.0\n **/\npublic class ProxyUtil {\n    public static Object newProxyInstance(Object target) {\n        return Proxy.newProxyInstance(target.getClass().getClassLoader(), \n                target.getClass().getInterfaces(), \n                new TimerInvocationHandler(target));\n    }\n}\n</code></pre> <p>\u8fd9\u6837\u5ba2\u6237\u7aef\u4ee3\u7801\u5c31\u4e0d\u9700\u8981\u5199\u90a3\u4e48\u7e41\u7410\u4e86\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.OrderService;\nimport com.powernode.mall.service.TimerInvocationHandler;\nimport com.powernode.mall.service.impl.OrderServiceImpl;\nimport com.powernode.mall.util.ProxyUtil;\n\nimport java.lang.reflect.Proxy;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u76ee\u6807\u5bf9\u8c61\n        OrderService target = new OrderServiceImpl();\n        // \u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        OrderService orderServiceProxy = (OrderService) ProxyUtil.newProxyInstance(target);\n        // \u8c03\u7528\u4ee3\u7406\u5bf9\u8c61\u7684\u4ee3\u7406\u65b9\u6cd5\n        orderServiceProxy.detail();\n        orderServiceProxy.modify();\n        orderServiceProxy.generate();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1432-cglib","title":"14.3.2 CGLIB\u52a8\u6001\u4ee3\u7406","text":"<p>CGLIB\u65e2\u53ef\u4ee5\u4ee3\u7406\u63a5\u53e3\uff0c\u53c8\u53ef\u4ee5\u4ee3\u7406\u7c7b\u3002\u5e95\u5c42\u91c7\u7528\u7ee7\u627f\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002\u6240\u4ee5\u88ab\u4ee3\u7406\u7684\u76ee\u6807\u7c7b\u4e0d\u80fd\u4f7f\u7528final\u4fee\u9970\u3002</p> <p>\u4f7f\u7528CGLIB\uff0c\u9700\u8981\u5f15\u5165\u5b83\u7684\u4f9d\u8d56\uff1a</p> XML<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;cglib&lt;/groupId&gt;\n  &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u6211\u4eec\u51c6\u5907\u4e00\u4e2a\u6ca1\u6709\u5b9e\u73b0\u63a5\u53e3\u7684\u7c7b\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className UserService\n * @since 1.0\n **/\npublic class UserService {\n\n    public void login(){\n        System.out.println(\"\u7528\u6237\u6b63\u5728\u767b\u5f55\u7cfb\u7edf....\");\n    }\n\n    public void logout(){\n        System.out.println(\"\u7528\u6237\u6b63\u5728\u9000\u51fa\u7cfb\u7edf....\");\n    }\n}\n</code></pre> <p>\u4f7f\u7528CGLIB\u5728\u5185\u5b58\u4e2d\u4e3aUserService\u7c7b\u751f\u6210\u4ee3\u7406\u7c7b\uff0c\u5e76\u521b\u5efa\u5bf9\u8c61\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.UserService;\nimport net.sf.cglib.proxy.Enhancer;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5b57\u8282\u7801\u589e\u5f3a\u5668\n        Enhancer enhancer = new Enhancer();\n        // \u544a\u8bc9cglib\u8981\u7ee7\u627f\u54ea\u4e2a\u7c7b\n        enhancer.setSuperclass(UserService.class);\n        // \u8bbe\u7f6e\u56de\u8c03\u63a5\u53e3\n        enhancer.setCallback(\u65b9\u6cd5\u62e6\u622a\u5668\u5bf9\u8c61);\n        // \u751f\u6210\u6e90\u7801\uff0c\u7f16\u8bd1class\uff0c\u52a0\u8f7d\u5230JVM\uff0c\u5e76\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        UserService userServiceProxy = (UserService)enhancer.create();\n\n        userServiceProxy.login();\n        userServiceProxy.logout();\n\n    }\n}\n</code></pre> <p>\u548cJDK\u52a8\u6001\u4ee3\u7406\u539f\u7406\u5dee\u4e0d\u591a\uff0c\u5728CGLIB\u4e2d\u9700\u8981\u63d0\u4f9b\u7684\u4e0d\u662fInvocationHandler\uff0c\u800c\u662f\uff1anet.sf.cglib.proxy.MethodInterceptor</p> <p>\u7f16\u5199MethodInterceptor\u63a5\u53e3\u5b9e\u73b0\u7c7b\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\n\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className TimerMethodInterceptor\n * @since 1.0\n **/\npublic class TimerMethodInterceptor implements MethodInterceptor {\n    @Override\n    public Object intercept(Object target, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\n        return null;\n    }\n}\n</code></pre> <p>MethodInterceptor\u63a5\u53e3\u4e2d\u6709\u4e00\u4e2a\u65b9\u6cd5intercept()\uff0c\u8be5\u65b9\u6cd5\u67094\u4e2a\u53c2\u6570\uff1a</p> <p>\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u76ee\u6807\u5bf9\u8c61</p> <p>\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u76ee\u6807\u65b9\u6cd5</p> <p>\u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u76ee\u6807\u65b9\u6cd5\u8c03\u7528\u65f6\u7684\u5b9e\u53c2</p> <p>\u7b2c\u56db\u4e2a\u53c2\u6570\uff1a\u4ee3\u7406\u65b9\u6cd5</p> <p>\u5728MethodInterceptor\u7684intercept()\u65b9\u6cd5\u4e2d\u8c03\u7528\u76ee\u6807\u4ee5\u53ca\u6dfb\u52a0\u589e\u5f3a\uff1a</p> Java<pre><code>package com.powernode.mall.service;\n\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\n\nimport java.lang.reflect.Method;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className TimerMethodInterceptor\n * @since 1.0\n **/\npublic class TimerMethodInterceptor implements MethodInterceptor {\n    @Override\n    public Object intercept(Object target, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\n        // \u524d\u589e\u5f3a\n        long begin = System.currentTimeMillis();\n        // \u8c03\u7528\u76ee\u6807\n        Object retValue = methodProxy.invokeSuper(target, objects);\n        // \u540e\u589e\u5f3a\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\" + (end - begin) + \"\u6beb\u79d2\");\n        // \u4e00\u5b9a\u8981\u8fd4\u56de\n        return retValue;\n    }\n}\n</code></pre> <p>\u56de\u8c03\u5df2\u7ecf\u5199\u5b8c\u4e86\uff0c\u53ef\u4ee5\u4fee\u6539\u5ba2\u6237\u7aef\u7a0b\u5e8f\u4e86\uff1a</p> Java<pre><code>package com.powernode.mall;\n\nimport com.powernode.mall.service.TimerMethodInterceptor;\nimport com.powernode.mall.service.UserService;\nimport net.sf.cglib.proxy.Enhancer;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Client\n * @since 1.0\n **/\npublic class Client {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5b57\u8282\u7801\u589e\u5f3a\u5668\n        Enhancer enhancer = new Enhancer();\n        // \u544a\u8bc9cglib\u8981\u7ee7\u627f\u54ea\u4e2a\u7c7b\n        enhancer.setSuperclass(UserService.class);\n        // \u8bbe\u7f6e\u56de\u8c03\u63a5\u53e3\n        enhancer.setCallback(new TimerMethodInterceptor());\n        // \u751f\u6210\u6e90\u7801\uff0c\u7f16\u8bd1class\uff0c\u52a0\u8f7d\u5230JVM\uff0c\u5e76\u521b\u5efa\u4ee3\u7406\u5bf9\u8c61\n        UserService userServiceProxy = (UserService)enhancer.create();\n\n        userServiceProxy.login();\n        userServiceProxy.logout();\n\n    }\n}\n</code></pre> <p>\u5bf9\u4e8e\u9ad8\u7248\u672c\u7684JDK\uff0c\u5982\u679c\u4f7f\u7528CGLIB\uff0c\u9700\u8981\u5728\u542f\u52a8\u9879\u4e2d\u6dfb\u52a0\u4e24\u4e2a\u542f\u52a8\u53c2\u6570\uff1a</p> <p></p> <ul> <li>--add-opens java.base/java.lang=ALL-UNNAMED</li> <li>--add-opens java.base/sun.net.util=ALL-UNNAMED</li> </ul> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#aop","title":"\u5341\u4e94\u3001\u9762\u5411\u5207\u9762\u7f16\u7a0bAOP","text":"<p>IoC\u4f7f\u8f6f\u4ef6\u7ec4\u4ef6\u677e\u8026\u5408\u3002AOP\u8ba9\u4f60\u80fd\u591f\u6355\u6349\u7cfb\u7edf\u4e2d\u7ecf\u5e38\u4f7f\u7528\u7684\u529f\u80fd\uff0c\u628a\u5b83\u8f6c\u5316\u6210\u7ec4\u4ef6\u3002</p> <p>AOP\uff08Aspect Oriented Programming\uff09\uff1a\u9762\u5411\u5207\u9762\u7f16\u7a0b\uff0c\u9762\u5411\u65b9\u9762\u7f16\u7a0b\u3002\uff08AOP\u662f\u4e00\u79cd\u7f16\u7a0b\u6280\u672f\uff09</p> <p>AOP\u662f\u5bf9OOP\u7684\u8865\u5145\u5ef6\u4f38\u3002</p> <p>AOP\u5e95\u5c42\u4f7f\u7528\u7684\u5c31\u662f\u52a8\u6001\u4ee3\u7406\u6765\u5b9e\u73b0\u7684\u3002</p> <p>Spring\u7684AOP\u4f7f\u7528\u7684\u52a8\u6001\u4ee3\u7406\u662f\uff1aJDK\u52a8\u6001\u4ee3\u7406 + CGLIB\u52a8\u6001\u4ee3\u7406\u6280\u672f\u3002Spring\u5728\u8fd9\u4e24\u79cd\u52a8\u6001\u4ee3\u7406\u4e2d\u7075\u6d3b\u5207\u6362\uff0c\u5982\u679c\u662f\u4ee3\u7406\u63a5\u53e3\uff0c\u4f1a\u9ed8\u8ba4\u4f7f\u7528JDK\u52a8\u6001\u4ee3\u7406\uff0c\u5982\u679c\u8981\u4ee3\u7406\u67d0\u4e2a\u7c7b\uff0c\u8fd9\u4e2a\u7c7b\u6ca1\u6709\u5b9e\u73b0\u63a5\u53e3\uff0c\u5c31\u4f1a\u5207\u6362\u4f7f\u7528CGLIB\u3002\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5f3a\u5236\u901a\u8fc7\u4e00\u4e9b\u914d\u7f6e\u8ba9Spring\u53ea\u4f7f\u7528CGLIB\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#151-aop","title":"15.1 AOP\u4ecb\u7ecd","text":"<p>\u4e00\u822c\u4e00\u4e2a\u7cfb\u7edf\u5f53\u4e2d\u90fd\u4f1a\u6709\u4e00\u4e9b\u7cfb\u7edf\u670d\u52a1\uff0c\u4f8b\u5982\uff1a\u65e5\u5fd7\u3001\u4e8b\u52a1\u7ba1\u7406\u3001\u5b89\u5168\u7b49\u3002\u8fd9\u4e9b\u7cfb\u7edf\u670d\u52a1\u88ab\u79f0\u4e3a\uff1a\u4ea4\u53c9\u4e1a\u52a1</p> <p>\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u51e0\u4e4e\u662f\u901a\u7528\u7684\uff0c\u4e0d\u7ba1\u4f60\u662f\u505a\u94f6\u884c\u8d26\u6237\u8f6c\u8d26\uff0c\u8fd8\u662f\u5220\u9664\u7528\u6237\u6570\u636e\u3002\u65e5\u5fd7\u3001\u4e8b\u52a1\u7ba1\u7406\u3001\u5b89\u5168\uff0c\u8fd9\u4e9b\u90fd\u662f\u9700\u8981\u505a\u7684\u3002</p> <p>\u5982\u679c\u5728\u6bcf\u4e00\u4e2a\u4e1a\u52a1\u5904\u7406\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u90fd\u63ba\u6742\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u4ee3\u7801\u8fdb\u53bb\u7684\u8bdd\uff0c\u5b58\u5728\u4e24\u65b9\u9762\u95ee\u9898\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u4ea4\u53c9\u4e1a\u52a1\u4ee3\u7801\u5728\u591a\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u4e2d\u53cd\u590d\u51fa\u73b0\uff0c\u663e\u7136\u8fd9\u4e2a\u4ea4\u53c9\u4e1a\u52a1\u4ee3\u7801\u6ca1\u6709\u5f97\u5230\u590d\u7528\u3002\u5e76\u4e14\u4fee\u6539\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u4ee3\u7801\u7684\u8bdd\uff0c\u9700\u8981\u4fee\u6539\u591a\u5904\u3002</li> <li>\u7b2c\u4e8c\uff1a\u7a0b\u5e8f\u5458\u65e0\u6cd5\u4e13\u6ce8\u6838\u5fc3\u4e1a\u52a1\u4ee3\u7801\u7684\u7f16\u5199\uff0c\u5728\u7f16\u5199\u6838\u5fc3\u4e1a\u52a1\u4ee3\u7801\u7684\u540c\u65f6\u8fd8\u9700\u8981\u5904\u7406\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u3002</li> </ul> <p>\u4f7f\u7528AOP\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u3002</p> <p>\u8bf7\u770b\u4e0b\u56fe\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u7406\u89e3AOP\u7684\u601d\u60f3\uff1a</p> <p></p> <p>\u7528\u4e00\u53e5\u8bdd\u603b\u7ed3AOP\uff1a\u5c06\u4e0e\u6838\u5fc3\u4e1a\u52a1\u65e0\u5173\u7684\u4ee3\u7801\u72ec\u7acb\u7684\u62bd\u53d6\u51fa\u6765\uff0c\u5f62\u6210\u4e00\u4e2a\u72ec\u7acb\u7684\u7ec4\u4ef6\uff0c\u7136\u540e\u4ee5\u6a2a\u5411\u4ea4\u53c9\u7684\u65b9\u5f0f\u5e94\u7528\u5230\u4e1a\u52a1\u6d41\u7a0b\u5f53\u4e2d\u7684\u8fc7\u7a0b\u88ab\u79f0\u4e3aAOP\u3002</p> <p>AOP\u7684\u4f18\u70b9\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u4ee3\u7801\u590d\u7528\u6027\u589e\u5f3a\u3002</li> <li>\u7b2c\u4e8c\uff1a\u4ee3\u7801\u6613\u7ef4\u62a4\u3002</li> <li>\u7b2c\u4e09\uff1a\u4f7f\u5f00\u53d1\u8005\u66f4\u5173\u6ce8\u4e1a\u52a1\u903b\u8f91\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#152-aop","title":"15.2 AOP\u7684\u4e03\u5927\u672f\u8bed","text":"Java<pre><code>public class UserService{\n    public void do1(){\n        System.out.println(\"do 1\");\n    }\n    public void do2(){\n        System.out.println(\"do 2\");\n    }\n    public void do3(){\n        System.out.println(\"do 3\");\n    }\n    public void do4(){\n        System.out.println(\"do 4\");\n    }\n    public void do5(){\n        System.out.println(\"do 5\");\n    }\n    // \u6838\u5fc3\u4e1a\u52a1\u65b9\u6cd5\n    public void service(){\n        do1();\n        do2();\n        do3();\n        do5();\n    }\n}\n</code></pre> <ul> <li> <p>\u8fde\u63a5\u70b9 Joinpoint</p> </li> <li> <p>\u5728\u7a0b\u5e8f\u7684\u6574\u4e2a\u6267\u884c\u6d41\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u7ec7\u5165\u5207\u9762\u7684\u4f4d\u7f6e\u3002\u65b9\u6cd5\u7684\u6267\u884c\u524d\u540e\uff0c\u5f02\u5e38\u629b\u51fa\u4e4b\u540e\u7b49\u4f4d\u7f6e\u3002</p> </li> <li> <p>\u5207\u70b9 Pointcut</p> </li> <li> <p>\u5728\u7a0b\u5e8f\u6267\u884c\u6d41\u7a0b\u4e2d\uff0c\u771f\u6b63\u7ec7\u5165\u5207\u9762\u7684\u65b9\u6cd5\u3002\uff08\u4e00\u4e2a\u5207\u70b9\u5bf9\u5e94\u591a\u4e2a\u8fde\u63a5\u70b9\uff09</p> </li> <li> <p>\u901a\u77e5 Advice</p> </li> <li> <p>\u901a\u77e5\u53c8\u53eb\u589e\u5f3a\uff0c\u5c31\u662f\u5177\u4f53\u4f60\u8981\u7ec7\u5165\u7684\u4ee3\u7801\u3002</p> </li> <li> <p>\u901a\u77e5\u5305\u62ec\uff1a</p> </li> <li> <p>\u524d\u7f6e\u901a\u77e5</p> </li> <li>\u540e\u7f6e\u901a\u77e5</li> <li>\u73af\u7ed5\u901a\u77e5</li> <li>\u5f02\u5e38\u901a\u77e5</li> <li> <p>\u6700\u7ec8\u901a\u77e5</p> </li> <li> <p>\u5207\u9762 Aspect</p> </li> <li> <p>\u5207\u70b9 + \u901a\u77e5\u5c31\u662f\u5207\u9762\u3002</p> </li> <li> <p>\u7ec7\u5165 Weaving</p> </li> <li> <p>\u628a\u901a\u77e5\u5e94\u7528\u5230\u76ee\u6807\u5bf9\u8c61\u4e0a\u7684\u8fc7\u7a0b\u3002</p> </li> <li> <p>\u4ee3\u7406\u5bf9\u8c61 Proxy</p> </li> <li> <p>\u4e00\u4e2a\u76ee\u6807\u5bf9\u8c61\u88ab\u7ec7\u5165\u901a\u77e5\u540e\u4ea7\u751f\u7684\u65b0\u5bf9\u8c61\u3002</p> </li> <li> <p>\u76ee\u6807\u5bf9\u8c61 Target</p> </li> <li> <p>\u88ab\u7ec7\u5165\u901a\u77e5\u7684\u5bf9\u8c61\u3002</p> </li> </ul> <p>\u901a\u8fc7\u4e0b\u56fe\uff0c\u5927\u5bb6\u53ef\u4ee5\u5f88\u597d\u7684\u7406\u89e3AOP\u7684\u76f8\u5173\u672f\u8bed\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#153","title":"15.3 \u5207\u70b9\u8868\u8fbe\u5f0f","text":"<p>\u5207\u70b9\u8868\u8fbe\u5f0f\u7528\u6765\u5b9a\u4e49\u901a\u77e5\uff08Advice\uff09\u5f80\u54ea\u4e9b\u65b9\u6cd5\u4e0a\u5207\u5165\u3002</p> <p>\u5207\u5165\u70b9\u8868\u8fbe\u5f0f\u8bed\u6cd5\u683c\u5f0f\uff1a</p> Text Only<pre><code>execution([\u8bbf\u95ee\u63a7\u5236\u6743\u9650\u4fee\u9970\u7b26] \u8fd4\u56de\u503c\u7c7b\u578b [\u5168\u9650\u5b9a\u7c7b\u540d]\u65b9\u6cd5\u540d(\u5f62\u5f0f\u53c2\u6570\u5217\u8868) [\u5f02\u5e38])\n</code></pre> <p>\u8bbf\u95ee\u63a7\u5236\u6743\u9650\u4fee\u9970\u7b26\uff1a</p> <ul> <li>\u53ef\u9009\u9879\u3002</li> <li>\u6ca1\u5199\uff0c\u5c31\u662f4\u4e2a\u6743\u9650\u90fd\u5305\u62ec\u3002</li> <li>\u5199public\u5c31\u8868\u793a\u53ea\u5305\u62ec\u516c\u5f00\u7684\u65b9\u6cd5\u3002</li> </ul> <p>\u8fd4\u56de\u503c\u7c7b\u578b\uff1a</p> <ul> <li>\u5fc5\u586b\u9879\u3002</li> <li>* \u8868\u793a\u8fd4\u56de\u503c\u7c7b\u578b\u4efb\u610f\u3002</li> </ul> <p>\u5168\u9650\u5b9a\u7c7b\u540d\uff1a</p> <ul> <li>\u53ef\u9009\u9879\u3002</li> <li>\u4e24\u4e2a\u70b9\u201c..\u201d\u4ee3\u8868\u5f53\u524d\u5305\u4ee5\u53ca\u5b50\u5305\u4e0b\u7684\u6240\u6709\u7c7b\u3002</li> <li>\u7701\u7565\u65f6\u8868\u793a\u6240\u6709\u7684\u7c7b\u3002</li> </ul> <p>\u65b9\u6cd5\u540d\uff1a</p> <ul> <li>\u5fc5\u586b\u9879\u3002</li> <li>*\u8868\u793a\u6240\u6709\u65b9\u6cd5\u3002</li> <li>set*\u8868\u793a\u6240\u6709\u7684set\u65b9\u6cd5\u3002</li> </ul> <p>\u5f62\u5f0f\u53c2\u6570\u5217\u8868\uff1a</p> <ul> <li> <p>\u5fc5\u586b\u9879</p> </li> <li> <p>() \u8868\u793a\u6ca1\u6709\u53c2\u6570\u7684\u65b9\u6cd5</p> </li> <li>(..) \u53c2\u6570\u7c7b\u578b\u548c\u4e2a\u6570\u968f\u610f\u7684\u65b9\u6cd5</li> <li>(*) \u53ea\u6709\u4e00\u4e2a\u53c2\u6570\u7684\u65b9\u6cd5</li> <li>(*, String) \u7b2c\u4e00\u4e2a\u53c2\u6570\u7c7b\u578b\u968f\u610f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fString\u7684\u3002</li> </ul> <p>\u5f02\u5e38\uff1a</p> <ul> <li>\u53ef\u9009\u9879\u3002</li> <li>\u7701\u7565\u65f6\u8868\u793a\u4efb\u610f\u5f02\u5e38\u7c7b\u578b\u3002</li> </ul> <p>\u7406\u89e3\u4ee5\u4e0b\u7684\u5207\u70b9\u8868\u8fbe\u5f0f\uff1a</p> Java<pre><code>execution(public * com.powernode.mall.service.*.delete*(..))\nexecution(* com.powernode.mall..*(..))\nexecution(* *(..))\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#154-springaop","title":"15.4 \u4f7f\u7528Spring\u7684AOP","text":"<p>Spring\u5bf9AOP\u7684\u5b9e\u73b0\u5305\u62ec\u4ee5\u4e0b3\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li>\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1aSpring\u6846\u67b6\u7ed3\u5408AspectJ\u6846\u67b6\u5b9e\u73b0\u7684AOP\uff0c\u57fa\u4e8e\u6ce8\u89e3\u65b9\u5f0f\u3002</li> <li>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1aSpring\u6846\u67b6\u7ed3\u5408AspectJ\u6846\u67b6\u5b9e\u73b0\u7684AOP\uff0c\u57fa\u4e8eXML\u65b9\u5f0f\u3002</li> <li>\u7b2c\u4e09\u79cd\u65b9\u5f0f\uff1aSpring\u6846\u67b6\u81ea\u5df1\u5b9e\u73b0\u7684AOP\uff0c\u57fa\u4e8eXML\u914d\u7f6e\u65b9\u5f0f\u3002</li> </ul> <p>\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u90fd\u662fSpring+AspectJ\u6765\u5b9e\u73b0AOP\u3002\u6240\u4ee5\u6211\u4eec\u91cd\u70b9\u5b66\u4e60\u7b2c\u4e00\u79cd\u548c\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u3002</p> <p>\u4ec0\u4e48\u662fAspectJ\uff1f\uff08Eclipse\u7ec4\u7ec7\u7684\u4e00\u4e2a\u652f\u6301AOP\u7684\u6846\u67b6\u3002AspectJ\u6846\u67b6\u662f\u72ec\u7acb\u4e8eSpring\u6846\u67b6\u4e4b\u5916\u7684\u4e00\u4e2a\u6846\u67b6\uff0cSpring\u6846\u67b6\u7528\u4e86AspectJ\uff09 </p> <p>AspectJ\u9879\u76ee\u8d77\u6e90\u4e8e\u5e15\u6d1b\u963f\u5c14\u6258\uff08Palo Alto\uff09\u7814\u7a76\u4e2d\u5fc3\uff08\u7f29\u5199\u4e3aPARC\uff09\u3002\u8be5\u4e2d\u5fc3\u7531Xerox\u96c6\u56e2\u8d44\u52a9\uff0cGregor Kiczales\u9886\u5bfc\uff0c\u4ece1997\u5e74\u5f00\u59cb\u81f4\u529b\u4e8eAspectJ\u7684\u5f00\u53d1\uff0c1998\u5e74\u7b2c\u4e00\u6b21\u53d1\u5e03\u7ed9\u5916\u90e8\u7528\u6237\uff0c2001\u5e74\u53d1\u5e031.0 release\u3002\u4e3a\u4e86\u63a8\u52a8AspectJ\u6280\u672f\u548c\u793e\u56e2\u7684\u53d1\u5c55\uff0cPARC\u57282003\u5e743\u6708\u6b63\u5f0f\u5c06AspectJ\u9879\u76ee\u79fb\u4ea4\u7ed9\u4e86Eclipse\u7ec4\u7ec7\uff0c\u56e0\u4e3aAspectJ\u7684\u53d1\u5c55\u548c\u53d7\u5173\u6ce8\u7a0b\u5ea6\u5927\u5927\u8d85\u51fa\u4e86PARC\u7684\u9884\u671f\uff0c\u4ed6\u4eec\u5df2\u7ecf\u65e0\u529b\u7ee7\u7eed\u7ef4\u6301\u5b83\u7684\u53d1\u5c55\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1541","title":"15.4.1 \u51c6\u5907\u5de5\u4f5c","text":"<p>\u4f7f\u7528Spring+AspectJ\u7684AOP\u9700\u8981\u5f15\u5165\u7684\u4f9d\u8d56\u5982\u4e0b\uff1a</p> XML<pre><code>&lt;!--spring context\u4f9d\u8d56--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0-M2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--spring aop\u4f9d\u8d56--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0-M2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!--spring aspects\u4f9d\u8d56--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0-M2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>Spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0context\u547d\u540d\u7a7a\u95f4\u548caop\u547d\u540d\u7a7a\u95f4</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n\n&lt;/beans&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1542-aspectjaop","title":"15.4.2 \u57fa\u4e8eAspectJ\u7684AOP\u6ce8\u89e3\u5f0f\u5f00\u53d1","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_3","title":"\u5b9e\u73b0\u6b65\u9aa4","text":"<p>\u7b2c\u4e00\u6b65\uff1a\u5b9a\u4e49\u76ee\u6807\u7c7b\u4ee5\u53ca\u76ee\u6807\u65b9\u6cd5</p> Java<pre><code>package com.powernode.spring6.service;\n\n// \u76ee\u6807\u7c7b\npublic class OrderService {\n    // \u76ee\u6807\u65b9\u6cd5\n    public void generate(){\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\uff01\");\n    }\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u5b9a\u4e49\u5207\u9762\u7c7b</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.annotation.Aspect;\n\n// \u5207\u9762\u7c7b\n@Aspect\npublic class MyAspect {\n}\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u76ee\u6807\u7c7b\u548c\u5207\u9762\u7c7b\u90fd\u7eb3\u5165spring bean\u7ba1\u7406</p> <p>\u5728\u76ee\u6807\u7c7bOrderService\u4e0a\u6dfb\u52a0@Component\u6ce8\u89e3\u3002</p> <p>\u5728\u5207\u9762\u7c7bMyAspect\u7c7b\u4e0a\u6dfb\u52a0@Component\u6ce8\u89e3\u3002</p> <p>\u7b2c\u56db\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u7ec4\u5efa\u626b\u63cf</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n    &lt;!--\u5f00\u542f\u7ec4\u4ef6\u626b\u63cf--&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.service\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u7b2c\u4e94\u6b65\uff1a\u5728\u5207\u9762\u7c7b\u4e2d\u6dfb\u52a0\u901a\u77e5</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.springframework.stereotype.Component;\nimport org.aspectj.lang.annotation.Aspect;\n\n// \u5207\u9762\u7c7b\n@Aspect\n@Component\npublic class MyAspect {\n    // \u8fd9\u5c31\u662f\u9700\u8981\u589e\u5f3a\u7684\u4ee3\u7801\uff08\u901a\u77e5\uff09\n    public void advice(){\n        System.out.println(\"\u6211\u662f\u4e00\u4e2a\u901a\u77e5\");\n    }\n}\n</code></pre> <p>\u7b2c\u516d\u6b65\uff1a\u5728\u901a\u77e5\u4e0a\u6dfb\u52a0\u5207\u70b9\u8868\u8fbe\u5f0f</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.stereotype.Component;\nimport org.aspectj.lang.annotation.Aspect;\n\n// \u5207\u9762\u7c7b\n@Aspect\n@Component\npublic class MyAspect {\n\n    // \u5207\u70b9\u8868\u8fbe\u5f0f\n    @Before(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    // \u8fd9\u5c31\u662f\u9700\u8981\u589e\u5f3a\u7684\u4ee3\u7801\uff08\u901a\u77e5\uff09\n    public void advice(){\n        System.out.println(\"\u6211\u662f\u4e00\u4e2a\u901a\u77e5\");\n    }\n}\n</code></pre> <p>\u6ce8\u89e3@Before\u8868\u793a\u524d\u7f6e\u901a\u77e5\u3002</p> <p>\u7b2c\u4e03\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u81ea\u52a8\u4ee3\u7406</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n    &lt;!--\u5f00\u542f\u7ec4\u4ef6\u626b\u63cf--&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.service\"/&gt;\n    &lt;!--\u5f00\u542f\u81ea\u52a8\u4ee3\u7406--&gt;\n    &lt;aop:aspectj-autoproxy proxy-target-class=\"true\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p> \u5f00\u542f\u81ea\u52a8\u4ee3\u7406\u4e4b\u540e\uff0c\u51e1\u4e8b\u5e26\u6709@Aspect\u6ce8\u89e3\u7684bean\u90fd\u4f1a\u751f\u6210\u4ee3\u7406\u5bf9\u8c61\u3002</p> <p>proxy-target-class=\"true\" \u8868\u793a\u91c7\u7528cglib\u52a8\u6001\u4ee3\u7406\u3002</p> <p>proxy-target-class=\"false\" \u8868\u793a\u91c7\u7528jdk\u52a8\u6001\u4ee3\u7406\u3002\u9ed8\u8ba4\u503c\u662ffalse\u3002\u5373\u4f7f\u5199\u6210false\uff0c\u5f53\u6ca1\u6709\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u81ea\u52a8\u9009\u62e9cglib\u751f\u6210\u4ee3\u7406\u7c7b\u3002</p> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.service.OrderService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AOPTest {\n    @Test\n    public void testAOP(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-aspectj-aop-annotation.xml\");\n        OrderService orderService = applicationContext.getBean(\"orderService\", OrderService.class);\n        orderService.generate();\n    }\n}\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_4","title":"\u901a\u77e5\u7c7b\u578b","text":"<p>\u901a\u77e5\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>\u524d\u7f6e\u901a\u77e5\uff1a@Before \u76ee\u6807\u65b9\u6cd5\u6267\u884c\u4e4b\u524d\u7684\u901a\u77e5</li> <li>\u540e\u7f6e\u901a\u77e5\uff1a@AfterReturning \u76ee\u6807\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\u7684\u901a\u77e5</li> <li>\u73af\u7ed5\u901a\u77e5\uff1a@Around \u76ee\u6807\u65b9\u6cd5\u4e4b\u524d\u6dfb\u52a0\u901a\u77e5\uff0c\u540c\u65f6\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\u6dfb\u52a0\u901a\u77e5\u3002</li> <li>\u5f02\u5e38\u901a\u77e5\uff1a@AfterThrowing \u53d1\u751f\u5f02\u5e38\u4e4b\u540e\u6267\u884c\u7684\u901a\u77e5</li> <li>\u6700\u7ec8\u901a\u77e5\uff1a@After \u653e\u5728finally\u8bed\u53e5\u5757\u4e2d\u7684\u901a\u77e5</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u7f16\u5199\u7a0b\u5e8f\u6765\u6d4b\u8bd5\u8fd9\u51e0\u4e2a\u901a\u77e5\u7684\u6267\u884c\u987a\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.*;\nimport org.springframework.stereotype.Component;\n\n// \u5207\u9762\u7c7b\n@Component\n@Aspect\npublic class MyAspect {\n\n    @Around(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u5f00\u59cb\");\n        // \u6267\u884c\u76ee\u6807\u65b9\u6cd5\u3002\n        proceedingJoinPoint.proceed();\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u7ed3\u675f\");\n    }\n\n    @Before(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void beforeAdvice(){\n        System.out.println(\"\u524d\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterReturning(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterReturningAdvice(){\n        System.out.println(\"\u540e\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterThrowing(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterThrowingAdvice(){\n        System.out.println(\"\u5f02\u5e38\u901a\u77e5\");\n    }\n\n    @After(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterAdvice(){\n        System.out.println(\"\u6700\u7ec8\u901a\u77e5\");\n    }\n\n}\npackage com.powernode.spring6.service;\n\nimport org.springframework.stereotype.Component;\n\n// \u76ee\u6807\u7c7b\n@Component\npublic class OrderService {\n    // \u76ee\u6807\u65b9\u6cd5\n    public void generate(){\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\uff01\");\n    }\n}\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.service.OrderService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AOPTest {\n    @Test\n    public void testAOP(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-aspectj-aop-annotation.xml\");\n        OrderService orderService = applicationContext.getBean(\"orderService\", OrderService.class);\n        orderService.generate();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u6267\u884c\u7ed3\u679c\u5c31\u53ef\u4ee5\u5224\u65ad\u4ed6\u4eec\u7684\u6267\u884c\u987a\u5e8f\u4e86\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u7ed3\u679c\u4e2d\u6ca1\u6709\u5f02\u5e38\u901a\u77e5\uff0c\u8fd9\u662f\u56e0\u4e3a\u76ee\u6807\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u53d1\u751f\u5f02\u5e38\u3002\u6211\u4eec\u5c1d\u8bd5\u8ba9\u76ee\u6807\u65b9\u6cd5\u53d1\u751f\u5f02\u5e38\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.springframework.stereotype.Component;\n\n// \u76ee\u6807\u7c7b\n@Component\npublic class OrderService {\n    // \u76ee\u6807\u65b9\u6cd5\n    public void generate(){\n        System.out.println(\"\u8ba2\u5355\u5df2\u751f\u6210\uff01\");\n        if (1 == 1) {\n            throw new RuntimeException(\"\u6a21\u62df\u5f02\u5e38\u53d1\u751f\");\n        }\n    }\n}\n</code></pre> <p>\u518d\u6b21\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u5f97\u77e5\uff0c\u5f53\u53d1\u751f\u5f02\u5e38\u4e4b\u540e\uff0c\u6700\u7ec8\u901a\u77e5\u4e5f\u4f1a\u6267\u884c\uff0c\u56e0\u4e3a\u6700\u7ec8\u901a\u77e5@After\u4f1a\u51fa\u73b0\u5728finally\u8bed\u53e5\u5757\u4e2d\u3002</p> <p>\u51fa\u73b0\u5f02\u5e38\u4e4b\u540e\uff0c\u540e\u7f6e\u901a\u77e5\u548c\u73af\u7ed5\u901a\u77e5\u7684\u7ed3\u675f\u90e8\u5206\u4e0d\u4f1a\u6267\u884c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_5","title":"\u5207\u9762\u7684\u5148\u540e\u987a\u5e8f","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u4e1a\u52a1\u6d41\u7a0b\u5f53\u4e2d\u4e0d\u4e00\u5b9a\u53ea\u6709\u4e00\u4e2a\u5207\u9762\uff0c\u53ef\u80fd\u6709\u7684\u5207\u9762\u63a7\u5236\u4e8b\u52a1\uff0c\u6709\u7684\u8bb0\u5f55\u65e5\u5fd7\uff0c\u6709\u7684\u8fdb\u884c\u5b89\u5168\u63a7\u5236\uff0c\u5982\u679c\u591a\u4e2a\u5207\u9762\u7684\u8bdd\uff0c\u987a\u5e8f\u5982\u4f55\u63a7\u5236\uff1a\u53ef\u4ee5\u4f7f\u7528@Order\u6ce8\u89e3\u6765\u6807\u8bc6\u5207\u9762\u7c7b\uff0c\u4e3a@Order\u6ce8\u89e3\u7684value\u6307\u5b9a\u4e00\u4e2a\u6574\u6570\u578b\u7684\u6570\u5b57\uff0c\u6570\u5b57\u8d8a\u5c0f\uff0c\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002</p> <p>\u518d\u5b9a\u4e49\u4e00\u4e2a\u5207\u9762\u7c7b\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.*;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\n@Order(1) //\u8bbe\u7f6e\u4f18\u5148\u7ea7\npublic class YourAspect {\n\n    @Around(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        System.out.println(\"YourAspect\u73af\u7ed5\u901a\u77e5\u5f00\u59cb\");\n        // \u6267\u884c\u76ee\u6807\u65b9\u6cd5\u3002\n        proceedingJoinPoint.proceed();\n        System.out.println(\"YourAspect\u73af\u7ed5\u901a\u77e5\u7ed3\u675f\");\n    }\n\n    @Before(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void beforeAdvice(){\n        System.out.println(\"YourAspect\u524d\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterReturning(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterReturningAdvice(){\n        System.out.println(\"YourAspect\u540e\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterThrowing(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterThrowingAdvice(){\n        System.out.println(\"YourAspect\u5f02\u5e38\u901a\u77e5\");\n    }\n\n    @After(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterAdvice(){\n        System.out.println(\"YourAspect\u6700\u7ec8\u901a\u77e5\");\n    }\n}\npackage com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.*;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n// \u5207\u9762\u7c7b\n@Component\n@Aspect\n@Order(2) //\u8bbe\u7f6e\u4f18\u5148\u7ea7\npublic class MyAspect {\n\n    @Around(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u5f00\u59cb\");\n        // \u6267\u884c\u76ee\u6807\u65b9\u6cd5\u3002\n        proceedingJoinPoint.proceed();\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u7ed3\u675f\");\n    }\n\n    @Before(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void beforeAdvice(){\n        System.out.println(\"\u524d\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterReturning(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterReturningAdvice(){\n        System.out.println(\"\u540e\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterThrowing(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterThrowingAdvice(){\n        System.out.println(\"\u5f02\u5e38\u901a\u77e5\");\n    }\n\n    @After(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterAdvice(){\n        System.out.println(\"\u6700\u7ec8\u901a\u77e5\");\n    }\n\n}\n</code></pre> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u901a\u8fc7\u4fee\u6539@Order\u6ce8\u89e3\u7684\u6574\u6570\u503c\u6765\u5207\u6362\u987a\u5e8f\uff0c\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_6","title":"\u4f18\u5316\u4f7f\u7528\u5207\u70b9\u8868\u8fbe\u5f0f","text":"<p>\u89c2\u770b\u4ee5\u4e0b\u4ee3\u7801\u4e2d\u7684\u5207\u70b9\u8868\u8fbe\u5f0f\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.*;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n// \u5207\u9762\u7c7b\n@Component\n@Aspect\n@Order(2)\npublic class MyAspect {\n\n    @Around(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u5f00\u59cb\");\n        // \u6267\u884c\u76ee\u6807\u65b9\u6cd5\u3002\n        proceedingJoinPoint.proceed();\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u7ed3\u675f\");\n    }\n\n    @Before(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void beforeAdvice(){\n        System.out.println(\"\u524d\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterReturning(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterReturningAdvice(){\n        System.out.println(\"\u540e\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterThrowing(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterThrowingAdvice(){\n        System.out.println(\"\u5f02\u5e38\u901a\u77e5\");\n    }\n\n    @After(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void afterAdvice(){\n        System.out.println(\"\u6700\u7ec8\u901a\u77e5\");\n    }\n\n}\n</code></pre> <p>\u7f3a\u70b9\u662f\uff1a</p> <ul> <li>\u7b2c\u4e00\uff1a\u5207\u70b9\u8868\u8fbe\u5f0f\u91cd\u590d\u5199\u4e86\u591a\u6b21\uff0c\u6ca1\u6709\u5f97\u5230\u590d\u7528\u3002</li> <li>\u7b2c\u4e8c\uff1a\u5982\u679c\u8981\u4fee\u6539\u5207\u70b9\u8868\u8fbe\u5f0f\uff0c\u9700\u8981\u4fee\u6539\u591a\u5904\uff0c\u96be\u7ef4\u62a4\u3002</li> </ul> <p>\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\u5c06\u5207\u70b9\u8868\u8fbe\u5f0f\u5355\u72ec\u7684\u5b9a\u4e49\u51fa\u6765\uff0c\u5728\u9700\u8981\u7684\u4f4d\u7f6e\u5f15\u5165\u5373\u53ef\u3002\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.*;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n// \u5207\u9762\u7c7b\n@Component\n@Aspect\n@Order(2)\npublic class MyAspect {\n\n    @Pointcut(\"execution(* com.powernode.spring6.service.OrderService.*(..))\")\n    public void pointcut(){}\n\n    @Around(\"pointcut()\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u5f00\u59cb\");\n        // \u6267\u884c\u76ee\u6807\u65b9\u6cd5\u3002\n        proceedingJoinPoint.proceed();\n        System.out.println(\"\u73af\u7ed5\u901a\u77e5\u7ed3\u675f\");\n    }\n\n    @Before(\"pointcut()\")\n    public void beforeAdvice(){\n        System.out.println(\"\u524d\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterReturning(\"pointcut()\")\n    public void afterReturningAdvice(){\n        System.out.println(\"\u540e\u7f6e\u901a\u77e5\");\n    }\n\n    @AfterThrowing(\"pointcut()\")\n    public void afterThrowingAdvice(){\n        System.out.println(\"\u5f02\u5e38\u901a\u77e5\");\n    }\n\n    @After(\"pointcut()\")\n    public void afterAdvice(){\n        System.out.println(\"\u6700\u7ec8\u901a\u77e5\");\n    }\n\n}\n</code></pre> <p>\u4f7f\u7528@Pointcut\u6ce8\u89e3\u6765\u5b9a\u4e49\u72ec\u7acb\u7684\u5207\u70b9\u8868\u8fbe\u5f0f\u3002</p> <p>\u6ce8\u610f\u8fd9\u4e2a@Pointcut\u6ce8\u89e3\u6807\u6ce8\u7684\u65b9\u6cd5\u968f\u610f\uff0c\u53ea\u662f\u8d77\u5230\u4e00\u4e2a\u80fd\u591f\u8ba9@Pointcut\u6ce8\u89e3\u7f16\u5199\u7684\u4f4d\u7f6e\u3002</p> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#aop_1","title":"\u5168\u6ce8\u89e3\u5f0f\u5f00\u53d1AOP","text":"<p>\u5c31\u662f\u7f16\u5199\u4e00\u4e2a\u7c7b\uff0c\u5728\u8fd9\u4e2a\u7c7b\u4e0a\u9762\u4f7f\u7528\u5927\u91cf\u6ce8\u89e3\u6765\u4ee3\u66ffspring\u7684\u914d\u7f6e\u6587\u4ef6\uff0cspring\u914d\u7f6e\u6587\u4ef6\u6d88\u5931\u4e86\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.EnableAspectJAutoProxy;\n\n@Configuration\n@ComponentScan(\"com.powernode.spring6.service\")\n@EnableAspectJAutoProxy(proxyTargetClass = true)\npublic class Spring6Configuration {\n}\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\u4e5f\u53d8\u5316\u4e86\uff1a</p> Java<pre><code>@Test\npublic void testAOPWithAllAnnotation(){\n    ApplicationContext applicationContext = new AnnotationConfigApplicationContext(Spring6Configuration.class);\n    OrderService orderService = applicationContext.getBean(\"orderService\", OrderService.class);\n    orderService.generate();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#1543-xmlaop","title":"15.4.3 \u57fa\u4e8eXML\u914d\u7f6e\u65b9\u5f0f\u7684AOP\uff08\u4e86\u89e3\uff09","text":"<p>\u7b2c\u4e00\u6b65\uff1a\u7f16\u5199\u76ee\u6807\u7c7b</p> Java<pre><code>package com.powernode.spring6.service;\n\n// \u76ee\u6807\u7c7b\npublic class VipService {\n    public void add(){\n        System.out.println(\"\u4fdd\u5b58vip\u4fe1\u606f\u3002\");\n    }\n}\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u7f16\u5199\u5207\u9762\u7c7b\uff0c\u5e76\u4e14\u7f16\u5199\u901a\u77e5</p> Java<pre><code>package com.powernode.spring6.service;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\n\n// \u8d1f\u8d23\u8ba1\u65f6\u7684\u5207\u9762\u7c7b\npublic class TimerAspect {\n\n    public void time(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n        long begin = System.currentTimeMillis();\n        //\u6267\u884c\u76ee\u6807\n        proceedingJoinPoint.proceed();\n        long end = System.currentTimeMillis();\n        System.out.println(\"\u8017\u65f6\"+(end - begin)+\"\u6beb\u79d2\");\n    }\n}\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u7f16\u5199spring\u914d\u7f6e\u6587\u4ef6</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n\n    &lt;!--\u7eb3\u5165spring bean\u7ba1\u7406--&gt;\n    &lt;bean id=\"vipService\" class=\"com.powernode.spring6.service.VipService\"/&gt;\n    &lt;bean id=\"timerAspect\" class=\"com.powernode.spring6.service.TimerAspect\"/&gt;\n\n    &lt;!--aop\u914d\u7f6e--&gt;\n    &lt;aop:config&gt;\n        &lt;!--\u5207\u70b9\u8868\u8fbe\u5f0f--&gt;\n        &lt;aop:pointcut id=\"p\" expression=\"execution(* com.powernode.spring6.service.VipService.*(..))\"/&gt;\n        &lt;!--\u5207\u9762--&gt;\n        &lt;aop:aspect ref=\"timerAspect\"&gt;\n            &lt;!--\u5207\u9762=\u901a\u77e5 + \u5207\u70b9--&gt;\n            &lt;aop:around method=\"time\" pointcut-ref=\"p\"/&gt;\n        &lt;/aop:aspect&gt;\n    &lt;/aop:config&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.service.VipService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AOPTest3 {\n\n    @Test\n    public void testAOPXml(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring-aop-xml.xml\");\n        VipService vipService = applicationContext.getBean(\"vipService\", VipService.class);\n        vipService.add();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#155-aop","title":"15.5 AOP\u7684\u5b9e\u9645\u6848\u4f8b\uff1a\u4e8b\u52a1\u5904\u7406","text":"<p>\u9879\u76ee\u4e2d\u7684\u4e8b\u52a1\u63a7\u5236\u662f\u5728\u6240\u96be\u514d\u7684\u3002\u5728\u4e00\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u5f53\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u591a\u6761DML\u8bed\u53e5\u5171\u540c\u5b8c\u6210\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\uff0c\u8fd9\u591a\u6761DML\u8bed\u53e5\u8981\u4e48\u540c\u65f6\u6210\u529f\uff0c\u8981\u4e48\u540c\u65f6\u5931\u8d25\u3002\u8fd9\u5c31\u9700\u8981\u6dfb\u52a0\u4e8b\u52a1\u63a7\u5236\u7684\u4ee3\u7801\u3002\u4f8b\u5982\u4ee5\u4e0b\u4f2a\u4ee3\u7801\uff1a</p> Java<pre><code>class \u4e1a\u52a1\u7c7b1{\n    public void \u4e1a\u52a1\u65b9\u6cd51(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n    public void \u4e1a\u52a1\u65b9\u6cd52(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n    public void \u4e1a\u52a1\u65b9\u6cd53(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n}\n\nclass \u4e1a\u52a1\u7c7b2{\n    public void \u4e1a\u52a1\u65b9\u6cd51(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n    public void \u4e1a\u52a1\u65b9\u6cd52(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n    public void \u4e1a\u52a1\u65b9\u6cd53(){\n        try{\n            // \u5f00\u542f\u4e8b\u52a1\n            startTransaction();\n\n            // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n            step1();\n            step2();\n            step3();\n            ....\n\n            // \u63d0\u4ea4\u4e8b\u52a1\n            commitTransaction();\n        }catch(Exception e){\n            // \u56de\u6eda\u4e8b\u52a1\n            rollbackTransaction();\n        }\n    }\n}\n//......\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e9b\u4e1a\u52a1\u7c7b\u4e2d\u7684\u6bcf\u4e00\u4e2a\u4e1a\u52a1\u65b9\u6cd5\u90fd\u662f\u9700\u8981\u63a7\u5236\u4e8b\u52a1\u7684\uff0c\u800c\u63a7\u5236\u4e8b\u52a1\u7684\u4ee3\u7801\u53c8\u662f\u56fa\u5b9a\u7684\u683c\u5f0f\uff0c\u90fd\u662f\uff1a</p> Java<pre><code>try{\n    // \u5f00\u542f\u4e8b\u52a1\n    startTransaction();\n\n    // \u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\n    //......\n\n    // \u63d0\u4ea4\u4e8b\u52a1\n    commitTransaction();\n}catch(Exception e){\n    // \u56de\u6eda\u4e8b\u52a1\n    rollbackTransaction();\n}\n</code></pre> <p>\u8fd9\u4e2a\u63a7\u5236\u4e8b\u52a1\u7684\u4ee3\u7801\u5c31\u662f\u548c\u4e1a\u52a1\u903b\u8f91\u6ca1\u6709\u5173\u7cfb\u7684\u201c\u4ea4\u53c9\u4e1a\u52a1\u201d\u3002\u4ee5\u4e0a\u4f2a\u4ee3\u7801\u5f53\u4e2d\u53ef\u4ee5\u770b\u5230\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u7684\u4ee3\u7801\u6ca1\u6709\u5f97\u5230\u590d\u7528\uff0c\u5e76\u4e14\u5982\u679c\u8fd9\u4e9b\u4ea4\u53c9\u4e1a\u52a1\u4ee3\u7801\u9700\u8981\u4fee\u6539\uff0c\u90a3\u5fc5\u7136\u9700\u8981\u4fee\u6539\u591a\u5904\uff0c\u96be\u7ef4\u62a4\uff0c\u600e\u4e48\u89e3\u51b3\uff1f\u53ef\u4ee5\u91c7\u7528AOP\u601d\u60f3\u89e3\u51b3\u3002\u53ef\u4ee5\u628a\u4ee5\u4e0a\u63a7\u5236\u4e8b\u52a1\u7684\u4ee3\u7801\u4f5c\u4e3a\u73af\u7ed5\u901a\u77e5\uff0c\u5207\u5165\u5230\u76ee\u6807\u7c7b\u7684\u65b9\u6cd5\u5f53\u4e2d\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u505a\u4e00\u4e0b\u8fd9\u4ef6\u4e8b\uff0c\u6709\u4e24\u4e2a\u4e1a\u52a1\u7c7b\uff0c\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.spring6.biz;\n\nimport org.springframework.stereotype.Component;\n\n@Component\n// \u4e1a\u52a1\u7c7b\npublic class AccountService {\n    // \u8f6c\u8d26\u4e1a\u52a1\u65b9\u6cd5\n    public void transfer(){\n        System.out.println(\"\u6b63\u5728\u8fdb\u884c\u94f6\u884c\u8d26\u6237\u8f6c\u8d26\");\n    }\n    // \u53d6\u6b3e\u4e1a\u52a1\u65b9\u6cd5\n    public void withdraw(){\n        System.out.println(\"\u6b63\u5728\u8fdb\u884c\u53d6\u6b3e\u64cd\u4f5c\");\n    }\n}\npackage com.powernode.spring6.biz;\n\nimport org.springframework.stereotype.Component;\n\n@Component\n// \u4e1a\u52a1\u7c7b\npublic class OrderService {\n    // \u751f\u6210\u8ba2\u5355\n    public void generate(){\n        System.out.println(\"\u6b63\u5728\u751f\u6210\u8ba2\u5355\");\n    }\n    // \u53d6\u6d88\u8ba2\u5355\n    public void cancel(){\n        System.out.println(\"\u6b63\u5728\u53d6\u6d88\u8ba2\u5355\");\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff0c\u4ee5\u4e0a\u4e24\u4e2a\u4e1a\u52a1\u7c7b\u5df2\u7ecf\u7eb3\u5165spring bean\u7684\u7ba1\u7406\uff0c\u56e0\u4e3a\u90fd\u6dfb\u52a0\u4e86@Component\u6ce8\u89e3\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7ed9\u4ee5\u4e0a\u4e24\u4e2a\u4e1a\u52a1\u7c7b\u76844\u4e2a\u65b9\u6cd5\u6dfb\u52a0\u4e8b\u52a1\u63a7\u5236\u4ee3\u7801\uff0c\u4f7f\u7528AOP\u6765\u5b8c\u6210\uff1a</p> Java<pre><code>package com.powernode.spring6.biz;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\n// \u4e8b\u52a1\u5207\u9762\u7c7b\npublic class TransactionAspect {\n\n    @Around(\"execution(* com.powernode.spring6.biz..*(..))\")\n    public void aroundAdvice(ProceedingJoinPoint proceedingJoinPoint){\n        try {\n            System.out.println(\"\u5f00\u542f\u4e8b\u52a1\");\n            // \u6267\u884c\u76ee\u6807\n            proceedingJoinPoint.proceed();\n            System.out.println(\"\u63d0\u4ea4\u4e8b\u52a1\");\n        } catch (Throwable e) {\n            System.out.println(\"\u56de\u6eda\u4e8b\u52a1\");\n        }\n    }\n}\n</code></pre> <p>\u4f60\u770b\uff0c\u8fd9\u4e2a\u4e8b\u52a1\u63a7\u5236\u4ee3\u7801\u662f\u4e0d\u662f\u53ea\u9700\u8981\u5199\u4e00\u6b21\u5c31\u884c\u4e86\uff0c\u5e76\u4e14\u4fee\u6539\u8d77\u6765\u4e5f\u6ca1\u6709\u6210\u672c\u3002\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.biz.AccountService;\nimport com.powernode.spring6.biz.OrderService;\nimport com.powernode.spring6.service.Spring6Configuration;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class AOPTest2 {\n    @Test\n    public void testTransaction(){\n        ApplicationContext applicationContext = new AnnotationConfigApplicationContext(Spring6Configuration.class);\n        OrderService orderService = applicationContext.getBean(\"orderService\", OrderService.class);\n        AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n        // \u751f\u6210\u8ba2\u5355\n        orderService.generate();\n        // \u53d6\u6d88\u8ba2\u5355\n        orderService.cancel();\n        // \u8f6c\u8d26\n        accountService.transfer();\n        // \u53d6\u6b3e\n        accountService.withdraw();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u770b\u5230\uff0c\u6240\u6709\u7684\u4e1a\u52a1\u65b9\u6cd5\u90fd\u6dfb\u52a0\u4e86\u4e8b\u52a1\u63a7\u5236\u7684\u4ee3\u7801\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#156-aop","title":"15.6 AOP\u7684\u5b9e\u9645\u6848\u4f8b\uff1a\u5b89\u5168\u65e5\u5fd7","text":"<p>\u9700\u6c42\u662f\u8fd9\u6837\u7684\uff1a\u9879\u76ee\u5f00\u53d1\u7ed3\u675f\u4e86\uff0c\u5df2\u7ecf\u4e0a\u7ebf\u4e86\u3002\u8fd0\u884c\u6b63\u5e38\u3002\u5ba2\u6237\u63d0\u51fa\u4e86\u65b0\u7684\u9700\u6c42\uff1a\u51e1\u4e8b\u5728\u7cfb\u7edf\u4e2d\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\u7684\uff0c\u5220\u9664\u64cd\u4f5c\u7684\uff0c\u65b0\u589e\u64cd\u4f5c\u7684\uff0c\u90fd\u8981\u628a\u8fd9\u4e2a\u4eba\u8bb0\u5f55\u4e0b\u6765\u3002\u56e0\u4e3a\u8fd9\u51e0\u4e2a\u64cd\u4f5c\u662f\u5c5e\u4e8e\u5371\u9669\u884c\u4e3a\u3002\u4f8b\u5982\u6709\u4e1a\u52a1\u7c7b\u548c\u4e1a\u52a1\u65b9\u6cd5\uff1a</p> Java<pre><code>package com.powernode.spring6.biz;\n\nimport org.springframework.stereotype.Component;\n\n@Component\n//\u7528\u6237\u4e1a\u52a1\npublic class UserService {\n    public void getUser(){\n        System.out.println(\"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\");\n    }\n    public void saveUser(){\n        System.out.println(\"\u4fdd\u5b58\u7528\u6237\");\n    }\n    public void deleteUser(){\n        System.out.println(\"\u5220\u9664\u7528\u6237\");\n    }\n    public void modifyUser(){\n        System.out.println(\"\u4fee\u6539\u7528\u6237\");\n    }\n}\n</code></pre> Java<pre><code>package com.powernode.spring6.biz;\n\nimport org.springframework.stereotype.Component;\n\n// \u5546\u54c1\u4e1a\u52a1\u7c7b\n@Component\npublic class ProductService {\n    public void getProduct(){\n        System.out.println(\"\u83b7\u53d6\u5546\u54c1\u4fe1\u606f\");\n    }\n    public void saveProduct(){\n        System.out.println(\"\u4fdd\u5b58\u5546\u54c1\");\n    }\n    public void deleteProduct(){\n        System.out.println(\"\u5220\u9664\u5546\u54c1\");\n    }\n    public void modifyProduct(){\n        System.out.println(\"\u4fee\u6539\u5546\u54c1\");\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a\u5df2\u7ecf\u6dfb\u52a0\u4e86@Component\u6ce8\u89e3\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528aop\u6765\u89e3\u51b3\u4e0a\u9762\u7684\u9700\u6c42\uff1a\u7f16\u5199\u4e00\u4e2a\u8d1f\u8d23\u5b89\u5168\u7684\u5207\u9762\u7c7b</p> Java<pre><code>package com.powernode.spring6.biz;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class SecurityAspect {\n\n    @Pointcut(\"execution(* com.powernode.spring6.biz..save*(..))\")\n    public void savePointcut(){}\n\n    @Pointcut(\"execution(* com.powernode.spring6.biz..delete*(..))\")\n    public void deletePointcut(){}\n\n    @Pointcut(\"execution(* com.powernode.spring6.biz..modify*(..))\")\n    public void modifyPointcut(){}\n\n    @Before(\"savePointcut() || deletePointcut() || modifyPointcut()\")\n    public void beforeAdivce(JoinPoint joinpoint){\n        System.out.println(\"XXX\u64cd\u4f5c\u5458\u6b63\u5728\u64cd\u4f5c\"+joinpoint.getSignature().getName()+\"\u65b9\u6cd5\");\n    }\n}\n@Test\npublic void testSecurity(){\n    ApplicationContext applicationContext = new AnnotationConfigApplicationContext(Spring6Configuration.class);\n    UserService userService = applicationContext.getBean(\"userService\", UserService.class);\n    ProductService productService = applicationContext.getBean(\"productService\", ProductService.class);\n    userService.getUser();\n    userService.saveUser();\n    userService.deleteUser();\n    userService.modifyUser();\n    productService.getProduct();\n    productService.saveProduct();\n    productService.deleteProduct();\n    productService.modifyProduct();\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_4","title":"\u5341\u516d\u3001Spring\u5bf9\u4e8b\u52a1\u7684\u652f\u6301","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#161","title":"16.1 \u4e8b\u52a1\u6982\u8ff0","text":"<ul> <li> <p>\u4ec0\u4e48\u662f\u4e8b\u52a1</p> </li> <li> <p>\u5728\u4e00\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u5f53\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u591a\u6761DML\uff08insert delete update\uff09\u8bed\u53e5\u5171\u540c\u8054\u5408\u624d\u80fd\u5b8c\u6210\uff0c\u8fd9\u591a\u6761DML\u8bed\u53e5\u5fc5\u987b\u540c\u65f6\u6210\u529f\uff0c\u6216\u8005\u540c\u65f6\u5931\u8d25\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u6570\u636e\u7684\u5b89\u5168\u3002</p> </li> <li>\u591a\u6761DML\u8981\u4e48\u540c\u65f6\u6210\u529f\uff0c\u8981\u4e48\u540c\u65f6\u5931\u8d25\uff0c\u8fd9\u53eb\u505a\u4e8b\u52a1\u3002</li> <li> <p>\u4e8b\u52a1\uff1aTransaction\uff08tx\uff09</p> </li> <li> <p>\u4e8b\u52a1\u7684\u56db\u4e2a\u5904\u7406\u8fc7\u7a0b\uff1a</p> </li> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5f00\u542f\u4e8b\u52a1 (start transaction)</p> </li> <li>\u7b2c\u4e8c\u6b65\uff1a\u6267\u884c\u6838\u5fc3\u4e1a\u52a1\u4ee3\u7801</li> <li>\u7b2c\u4e09\u6b65\uff1a\u63d0\u4ea4\u4e8b\u52a1\uff08\u5982\u679c\u6838\u5fc3\u4e1a\u52a1\u5904\u7406\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u51fa\u73b0\u5f02\u5e38\uff09(commit transaction)</li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u56de\u6eda\u4e8b\u52a1\uff08\u5982\u679c\u6838\u5fc3\u4e1a\u52a1\u5904\u7406\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u5f02\u5e38\uff09(rollback transaction)</p> </li> <li> <p>\u4e8b\u52a1\u7684\u56db\u4e2a\u7279\u6027\uff1a</p> </li> <li> <p>A \u539f\u5b50\u6027\uff1a\u4e8b\u52a1\u662f\u6700\u5c0f\u7684\u5de5\u4f5c\u5355\u5143\uff0c\u4e0d\u53ef\u518d\u5206\u3002</p> </li> <li>C \u4e00\u81f4\u6027\uff1a\u4e8b\u52a1\u8981\u6c42\u8981\u4e48\u540c\u65f6\u6210\u529f\uff0c\u8981\u4e48\u540c\u65f6\u5931\u8d25\u3002\u4e8b\u52a1\u524d\u548c\u4e8b\u52a1\u540e\u7684\u603b\u91cf\u4e0d\u53d8\u3002</li> <li>I \u9694\u79bb\u6027\uff1a\u4e8b\u52a1\u548c\u4e8b\u52a1\u4e4b\u95f4\u56e0\u4e3a\u6709\u9694\u79bb\u6027\uff0c\u624d\u53ef\u4ee5\u4fdd\u8bc1\u4e92\u4e0d\u5e72\u6270\u3002</li> <li>D \u6301\u4e45\u6027\uff1a\u6301\u4e45\u6027\u662f\u4e8b\u52a1\u7ed3\u675f\u7684\u6807\u5fd7\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#162","title":"16.2 \u5f15\u5165\u4e8b\u52a1\u573a\u666f","text":"<p>\u4ee5\u94f6\u884c\u8d26\u6237\u8f6c\u8d26\u4e3a\u4f8b\u5b66\u4e60\u4e8b\u52a1\u3002\u4e24\u4e2a\u8d26\u6237act-001\u548cact-002\u3002act-001\u8d26\u6237\u5411act-002\u8d26\u6237\u8f6c\u8d2610000\uff0c\u5fc5\u987b\u540c\u65f6\u6210\u529f\uff0c\u6216\u8005\u540c\u65f6\u5931\u8d25\u3002\uff08\u4e00\u4e2a\u51cf\u6210\u529f\uff0c\u4e00\u4e2a\u52a0\u6210\u529f\uff0c \u8fd9\u4e24\u6761update\u8bed\u53e5\u5fc5\u987b\u540c\u65f6\u6210\u529f\uff0c\u6216\u540c\u65f6\u5931\u8d25\u3002\uff09</p> <p>\u8fde\u63a5\u6570\u636e\u5e93\u7684\u6280\u672f\u91c7\u7528Spring\u6846\u67b6\u7684JdbcTemplate\u3002</p> <p>\u91c7\u7528\u4e09\u5c42\u67b6\u6784\u642d\u5efa\uff1a</p> <p></p> <p>\u6a21\u5757\u540d\uff1aspring6-013-tx-bank\uff08\u4f9d\u8d56\u5982\u4e0b\uff09</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-013-tx-bank&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;!--\u4ed3\u5e93--&gt;\n    &lt;repositories&gt;\n        &lt;!--spring\u91cc\u7a0b\u7891\u7248\u672c\u7684\u4ed3\u5e93--&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;!--\u4f9d\u8d56--&gt;\n    &lt;dependencies&gt;\n        &lt;!--spring context--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--spring jdbc--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--mysql\u9a71\u52a8--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;!--\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n            &lt;version&gt;1.2.13&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;!--@Resource\u6ce8\u89e3--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--junit--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_7","title":"\u7b2c\u4e00\u6b65\uff1a\u51c6\u5907\u6570\u636e\u5e93\u8868","text":"<p>\u8868\u7ed3\u6784\uff1a</p> <p></p> <p>\u8868\u6570\u636e\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_8","title":"\u7b2c\u4e8c\u6b65\uff1a\u521b\u5efa\u5305\u7ed3\u6784","text":"<p>com.powernode.bank.pojo</p> <p>com.powernode.bank.service</p> <p>com.powernode.bank.service.impl</p> <p>com.powernode.bank.dao</p> <p>com.powernode.bank.dao.impl</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#pojo","title":"\u7b2c\u4e09\u6b65\uff1a\u51c6\u5907POJO\u7c7b","text":"Java<pre><code>package com.powernode.bank.pojo;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Account\n * @since 1.0\n **/\npublic class Account {\n    private String actno;\n    private Double balance;\n\n    @Override\n    public String toString() {\n        return \"Account{\" +\n                \"actno='\" + actno + '\\'' +\n                \", balance=\" + balance +\n                '}';\n    }\n\n    public Account() {\n    }\n\n    public Account(String actno, Double balance) {\n        this.actno = actno;\n        this.balance = balance;\n    }\n\n    public String getActno() {\n        return actno;\n    }\n\n    public void setActno(String actno) {\n        this.actno = actno;\n    }\n\n    public Double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(Double balance) {\n        this.balance = balance;\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_9","title":"\u7b2c\u56db\u6b65\uff1a\u7f16\u5199\u6301\u4e45\u5c42","text":"Java<pre><code>package com.powernode.bank.dao;\n\nimport com.powernode.bank.pojo.Account;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountDao\n * @since 1.0\n **/\npublic interface AccountDao {\n\n    /**\n     * \u6839\u636e\u8d26\u53f7\u67e5\u8be2\u4f59\u989d\n     * @param actno\n     * @return\n     */\n    Account selectByActno(String actno);\n\n    /**\n     * \u66f4\u65b0\u8d26\u6237\n     * @param act\n     * @return\n     */\n    int update(Account act);\n\n}\npackage com.powernode.bank.dao.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport jakarta.annotation.Resource;\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountDaoImpl\n * @since 1.0\n **/\n@Repository(\"accountDao\")\npublic class AccountDaoImpl implements AccountDao {\n\n    @Resource(name = \"jdbcTemplate\")\n    private JdbcTemplate jdbcTemplate;\n\n    @Override\n    public Account selectByActno(String actno) {\n        String sql = \"select actno, balance from t_act where actno = ?\";\n        Account account = jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper&lt;&gt;(Account.class), actno);\n        return account;\n    }\n\n    @Override\n    public int update(Account act) {\n        String sql = \"update t_act set balance = ? where actno = ?\";\n        int count = jdbcTemplate.update(sql, act.getBalance(), act.getActno());\n        return count;\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_10","title":"\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199\u4e1a\u52a1\u5c42","text":"Java<pre><code>package com.powernode.bank.service;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountService\n * @since 1.0\n **/\npublic interface AccountService {\n\n    /**\n     * \u8f6c\u8d26\n     * @param fromActno\n     * @param toActno\n     * @param money\n     */\n    void transfer(String fromActno, String toActno, double money);\n}\npackage com.powernode.bank.service.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport com.powernode.bank.service.AccountService;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountServiceImpl\n * @since 1.0\n **/\n@Service(\"accountService\")\npublic class AccountServiceImpl implements AccountService {\n\n    @Resource(name = \"accountDao\")\n    private AccountDao accountDao;\n\n    @Override\n    public void transfer(String fromActno, String toActno, double money) {\n        // \u67e5\u8be2\u8d26\u6237\u4f59\u989d\u662f\u5426\u5145\u8db3\n        Account fromAct = accountDao.selectByActno(fromActno);\n        if (fromAct.getBalance() &lt; money) {\n            throw new RuntimeException(\"\u8d26\u6237\u4f59\u989d\u4e0d\u8db3\");\n        }\n        // \u4f59\u989d\u5145\u8db3\uff0c\u5f00\u59cb\u8f6c\u8d26\n        Account toAct = accountDao.selectByActno(toActno);\n        fromAct.setBalance(fromAct.getBalance() - money);\n        toAct.setBalance(toAct.getBalance() + money);\n        int count = accountDao.update(fromAct);\n        count += accountDao.update(toAct);\n        if (count != 2) {\n            throw new RuntimeException(\"\u8f6c\u8d26\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u94f6\u884c\");\n        }\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_5","title":"\u7b2c\u516d\u6b65\uff1a\u7f16\u5199Spring\u914d\u7f6e\u6587\u4ef6","text":"XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.powernode.bank\"/&gt;\n\n    &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring6\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"root\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_11","title":"\u7b2c\u4e03\u6b65\uff1a\u7f16\u5199\u8868\u793a\u5c42\uff08\u6d4b\u8bd5\u7a0b\u5e8f\uff09","text":"Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.bank.service.AccountService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className BankTest\n * @since 1.0\n **/\npublic class BankTest {\n    @Test\n    public void testTransfer(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n        try {\n            accountService.transfer(\"act-001\", \"act-002\", 10000);\n            System.out.println(\"\u8f6c\u8d26\u6210\u529f\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6570\u636e\u53d8\u5316\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_12","title":"\u6a21\u62df\u5f02\u5e38","text":"Java<pre><code>package com.powernode.bank.service.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport com.powernode.bank.service.AccountService;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountServiceImpl\n * @since 1.0\n **/\n@Service(\"accountService\")\npublic class AccountServiceImpl implements AccountService {\n\n    @Resource(name = \"accountDao\")\n    private AccountDao accountDao;\n\n    @Override\n    public void transfer(String fromActno, String toActno, double money) {\n        // \u67e5\u8be2\u8d26\u6237\u4f59\u989d\u662f\u5426\u5145\u8db3\n        Account fromAct = accountDao.selectByActno(fromActno);\n        if (fromAct.getBalance() &lt; money) {\n            throw new RuntimeException(\"\u8d26\u6237\u4f59\u989d\u4e0d\u8db3\");\n        }\n        // \u4f59\u989d\u5145\u8db3\uff0c\u5f00\u59cb\u8f6c\u8d26\n        Account toAct = accountDao.selectByActno(toActno);\n        fromAct.setBalance(fromAct.getBalance() - money);\n        toAct.setBalance(toAct.getBalance() + money);\n        int count = accountDao.update(fromAct);\n\n        // \u6a21\u62df\u5f02\u5e38\n        String s = null;\n        s.toString();\n\n        count += accountDao.update(toAct);\n        if (count != 2) {\n            throw new RuntimeException(\"\u8f6c\u8d26\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u94f6\u884c\");\n        }\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\uff1a</p> <p></p> <p>\u4e22\u4e861\u4e07\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#163-spring","title":"16.3 Spring\u5bf9\u4e8b\u52a1\u7684\u652f\u6301","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_6","title":"Spring\u5b9e\u73b0\u4e8b\u52a1\u7684\u4e24\u79cd\u65b9\u5f0f","text":"<ul> <li> <p>\u7f16\u7a0b\u5f0f\u4e8b\u52a1</p> </li> <li> <p>\u901a\u8fc7\u7f16\u5199\u4ee3\u7801\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e8b\u52a1\u7684\u7ba1\u7406\u3002</p> </li> <li> <p>\u58f0\u660e\u5f0f\u4e8b\u52a1</p> </li> <li> <p>\u57fa\u4e8e\u6ce8\u89e3\u65b9\u5f0f</p> </li> <li>\u57fa\u4e8eXML\u914d\u7f6e\u65b9\u5f0f</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#springapi","title":"Spring\u4e8b\u52a1\u7ba1\u7406API","text":"<p>Spring\u5bf9\u4e8b\u52a1\u7684\u7ba1\u7406\u5e95\u5c42\u5b9e\u73b0\u65b9\u5f0f\u662f\u57fa\u4e8eAOP\u5b9e\u73b0\u7684\u3002\u91c7\u7528AOP\u7684\u65b9\u5f0f\u8fdb\u884c\u4e86\u5c01\u88c5\u3002\u6240\u4ee5Spring\u4e13\u95e8\u9488\u5bf9\u4e8b\u52a1\u5f00\u53d1\u4e86\u4e00\u5957API\uff0cAPI\u7684\u6838\u5fc3\u63a5\u53e3\u5982\u4e0b\uff1a</p> <p></p> <p>PlatformTransactionManager\u63a5\u53e3\uff1aspring\u4e8b\u52a1\u7ba1\u7406\u5668\u7684\u6838\u5fc3\u63a5\u53e3\u3002\u5728Spring6\u4e2d\u5b83\u6709\u4e24\u4e2a\u5b9e\u73b0\uff1a</p> <ul> <li>DataSourceTransactionManager\uff1a\u652f\u6301JdbcTemplate\u3001MyBatis\u3001Hibernate\u7b49\u4e8b\u52a1\u7ba1\u7406\u3002</li> <li>JtaTransactionManager\uff1a\u652f\u6301\u5206\u5e03\u5f0f\u4e8b\u52a1\u7ba1\u7406\u3002</li> </ul> <p>\u5982\u679c\u8981\u5728Spring6\u4e2d\u4f7f\u7528JdbcTemplate\uff0c\u5c31\u8981\u4f7f\u7528DataSourceTransactionManager\u6765\u7ba1\u7406\u4e8b\u52a1\u3002\uff08Spring\u5185\u7f6e\u5199\u597d\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u3002\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_13","title":"\u58f0\u660e\u5f0f\u4e8b\u52a1\u4e4b\u6ce8\u89e3\u5b9e\u73b0\u65b9\u5f0f","text":"<ul> <li>\u7b2c\u4e00\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u4e8b\u52a1\u7ba1\u7406\u5668\u3002</li> </ul> XML<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n  &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;\n</code></pre> <ul> <li>\u7b2c\u4e8c\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165tx\u547d\u540d\u7a7a\u95f4\u3002</li> </ul> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n</code></pre> <ul> <li>\u7b2c\u4e09\u6b65\uff1a\u5728spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u201c\u4e8b\u52a1\u6ce8\u89e3\u9a71\u52a8\u5668\u201d\uff0c\u5f00\u59cb\u6ce8\u89e3\u7684\u65b9\u5f0f\u63a7\u5236\u4e8b\u52a1\u3002</li> </ul> XML<pre><code>&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n</code></pre> <ul> <li>\u7b2c\u56db\u6b65\uff1a\u5728service\u7c7b\u4e0a\u6216\u65b9\u6cd5\u4e0a\u6dfb\u52a0@Transactional\u6ce8\u89e3</li> </ul> <p>\u5728\u7c7b\u4e0a\u6dfb\u52a0\u8be5\u6ce8\u89e3\uff0c\u8be5\u7c7b\u4e2d\u6240\u6709\u7684\u65b9\u6cd5\u90fd\u6709\u4e8b\u52a1\u3002\u5728\u67d0\u4e2a\u65b9\u6cd5\u4e0a\u6dfb\u52a0\u8be5\u6ce8\u89e3\uff0c\u8868\u793a\u53ea\u6709\u8fd9\u4e2a\u65b9\u6cd5\u4f7f\u7528\u4e8b\u52a1\u3002</p> Java<pre><code>package com.powernode.bank.service.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport com.powernode.bank.service.AccountService;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountServiceImpl\n * @since 1.0\n **/\n@Service(\"accountService\")\n@Transactional\npublic class AccountServiceImpl implements AccountService {\n\n    @Resource(name = \"accountDao\")\n    private AccountDao accountDao;\n\n    @Override\n    public void transfer(String fromActno, String toActno, double money) {\n        // \u67e5\u8be2\u8d26\u6237\u4f59\u989d\u662f\u5426\u5145\u8db3\n        Account fromAct = accountDao.selectByActno(fromActno);\n        if (fromAct.getBalance() &lt; money) {\n            throw new RuntimeException(\"\u8d26\u6237\u4f59\u989d\u4e0d\u8db3\");\n        }\n        // \u4f59\u989d\u5145\u8db3\uff0c\u5f00\u59cb\u8f6c\u8d26\n        Account toAct = accountDao.selectByActno(toActno);\n        fromAct.setBalance(fromAct.getBalance() - money);\n        toAct.setBalance(toAct.getBalance() + money);\n        int count = accountDao.update(fromAct);\n\n        // \u6a21\u62df\u5f02\u5e38\n        String s = null;\n        s.toString();\n\n        count += accountDao.update(toAct);\n        if (count != 2) {\n            throw new RuntimeException(\"\u8f6c\u8d26\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u94f6\u884c\");\n        }\n    }\n}\n</code></pre> <p>\u5f53\u524d\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6570\u636e\uff1a</p> <p></p> <p>\u6267\u884c\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> <p></p> <p>\u867d\u7136\u51fa\u73b0\u5f02\u5e38\u4e86\uff0c\u518d\u6b21\u67e5\u770b\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\uff0c\u53d1\u73b0\u6570\u636e\u6ca1\u6709\u53d8\u5316\uff0c\u4e8b\u52a1\u8d77\u4f5c\u7528\u4e86\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_14","title":"\u4e8b\u52a1\u5c5e\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_15","title":"\u4e8b\u52a1\u5c5e\u6027\u5305\u62ec\u54ea\u4e9b","text":"<p>\u4e8b\u52a1\u4e2d\u7684\u91cd\u70b9\u5c5e\u6027\uff1a</p> <ul> <li>\u4e8b\u52a1\u4f20\u64ad\u884c\u4e3a</li> <li>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b</li> <li>\u4e8b\u52a1\u8d85\u65f6</li> <li>\u53ea\u8bfb\u4e8b\u52a1</li> <li>\u8bbe\u7f6e\u51fa\u73b0\u54ea\u4e9b\u5f02\u5e38\u56de\u6eda\u4e8b\u52a1</li> <li>\u8bbe\u7f6e\u51fa\u73b0\u54ea\u4e9b\u5f02\u5e38\u4e0d\u56de\u6eda\u4e8b\u52a1</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_16","title":"\u4e8b\u52a1\u4f20\u64ad\u884c\u4e3a","text":"<p>\u4ec0\u4e48\u662f\u4e8b\u52a1\u7684\u4f20\u64ad\u884c\u4e3a\uff1f</p> <p>\u5728service\u7c7b\u4e2d\u6709a()\u65b9\u6cd5\u548cb()\u65b9\u6cd5\uff0ca()\u65b9\u6cd5\u4e0a\u6709\u4e8b\u52a1\uff0cb()\u65b9\u6cd5\u4e0a\u4e5f\u6709\u4e8b\u52a1\uff0c\u5f53a()\u65b9\u6cd5\u6267\u884c\u8fc7\u7a0b\u4e2d\u8c03\u7528\u4e86b()\u65b9\u6cd5\uff0c\u4e8b\u52a1\u662f\u5982\u4f55\u4f20\u9012\u7684\uff1f\u5408\u5e76\u5230\u4e00\u4e2a\u4e8b\u52a1\u91cc\uff1f\u8fd8\u662f\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\uff1f\u8fd9\u5c31\u662f\u4e8b\u52a1\u4f20\u64ad\u884c\u4e3a\u3002</p> <p>\u4e8b\u52a1\u4f20\u64ad\u884c\u4e3a\u5728spring\u6846\u67b6\u4e2d\u88ab\u5b9a\u4e49\u4e3a\u679a\u4e3e\u7c7b\u578b\uff1a</p> <p></p> <p>\u4e00\u5171\u6709\u4e03\u79cd\u4f20\u64ad\u884c\u4e3a\uff1a</p> <ul> <li>REQUIRED\uff1a\u652f\u6301\u5f53\u524d\u4e8b\u52a1\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u65b0\u5efa\u4e00\u4e2a(\u9ed8\u8ba4)\u3010\u6ca1\u6709\u5c31\u65b0\u5efa\uff0c\u6709\u5c31\u52a0\u5165\u3011</li> <li>SUPPORTS\uff1a\u652f\u6301\u5f53\u524d\u4e8b\u52a1\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u4e8b\u52a1\uff0c\u5c31\u4ee5\u975e\u4e8b\u52a1\u65b9\u5f0f\u6267\u884c\u3010\u6709\u5c31\u52a0\u5165\uff0c\u6ca1\u6709\u5c31\u4e0d\u7ba1\u4e86\u3011</li> <li>MANDATORY\uff1a\u5fc5\u987b\u8fd0\u884c\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u4e8b\u52a1\u6b63\u5728\u53d1\u751f\uff0c\u5c06\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\u3010\u6709\u5c31\u52a0\u5165\uff0c\u6ca1\u6709\u5c31\u629b\u5f02\u5e38\u3011</li> <li>REQUIRES_NEW\uff1a\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u4e8b\u52a1\uff0c\u5982\u679c\u4e00\u4e2a\u4e8b\u52a1\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u5c06\u8fd9\u4e2a\u5b58\u5728\u7684\u4e8b\u52a1\u6302\u8d77\u3010\u4e0d\u7ba1\u6709\u6ca1\u6709\uff0c\u76f4\u63a5\u5f00\u542f\u4e00\u4e2a\u65b0\u4e8b\u52a1\uff0c\u5f00\u542f\u7684\u65b0\u4e8b\u52a1\u548c\u4e4b\u524d\u7684\u4e8b\u52a1\u4e0d\u5b58\u5728\u5d4c\u5957\u5173\u7cfb\uff0c\u4e4b\u524d\u4e8b\u52a1\u88ab\u6302\u8d77\u3011</li> <li>NOT_SUPPORTED\uff1a\u4ee5\u975e\u4e8b\u52a1\u65b9\u5f0f\u8fd0\u884c\uff0c\u5982\u679c\u6709\u4e8b\u52a1\u5b58\u5728\uff0c\u6302\u8d77\u5f53\u524d\u4e8b\u52a1\u3010\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u5b58\u5728\u5c31\u6302\u8d77\u3011</li> <li>NEVER\uff1a\u4ee5\u975e\u4e8b\u52a1\u65b9\u5f0f\u8fd0\u884c\uff0c\u5982\u679c\u6709\u4e8b\u52a1\u5b58\u5728\uff0c\u629b\u51fa\u5f02\u5e38\u3010\u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u5b58\u5728\u5c31\u629b\u5f02\u5e38\u3011</li> <li>NESTED\uff1a\u5982\u679c\u5f53\u524d\u6b63\u6709\u4e00\u4e2a\u4e8b\u52a1\u5728\u8fdb\u884c\u4e2d\uff0c\u5219\u8be5\u65b9\u6cd5\u5e94\u5f53\u8fd0\u884c\u5728\u4e00\u4e2a\u5d4c\u5957\u5f0f\u4e8b\u52a1\u4e2d\u3002\u88ab\u5d4c\u5957\u7684\u4e8b\u52a1\u53ef\u4ee5\u72ec\u7acb\u4e8e\u5916\u5c42\u4e8b\u52a1\u8fdb\u884c\u63d0\u4ea4\u6216\u56de\u6eda\u3002\u5982\u679c\u5916\u5c42\u4e8b\u52a1\u4e0d\u5b58\u5728\uff0c\u884c\u4e3a\u5c31\u50cfREQUIRED\u4e00\u6837\u3002\u3010\u6709\u4e8b\u52a1\u7684\u8bdd\uff0c\u5c31\u5728\u8fd9\u4e2a\u4e8b\u52a1\u91cc\u518d\u5d4c\u5957\u4e00\u4e2a\u5b8c\u5168\u72ec\u7acb\u7684\u4e8b\u52a1\uff0c\u5d4c\u5957\u7684\u4e8b\u52a1\u53ef\u4ee5\u72ec\u7acb\u7684\u63d0\u4ea4\u548c\u56de\u6eda\u3002\u6ca1\u6709\u4e8b\u52a1\u5c31\u548cREQUIRED\u4e00\u6837\u3002\u3011</li> </ul> <p>\u5728\u4ee3\u7801\u4e2d\u8bbe\u7f6e\u4e8b\u52a1\u7684\u4f20\u64ad\u884c\u4e3a\uff1a</p> Java<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n</code></pre> <p>\u53ef\u4ee5\u7f16\u5199\u7a0b\u5e8f\u6d4b\u8bd5\u4e00\u4e0b\u4f20\u64ad\u884c\u4e3a\uff1a</p> Java<pre><code>@Transactional(propagation = Propagation.REQUIRED)\npublic void save(Account act) {\n\n    // \u8fd9\u91cc\u8c03\u7528dao\u7684insert\u65b9\u6cd5\u3002\n    accountDao.insert(act); // \u4fdd\u5b58act-003\u8d26\u6237\n\n    // \u521b\u5efa\u8d26\u6237\u5bf9\u8c61\n    Account act2 = new Account(\"act-004\", 1000.0);\n    try {\n        accountService.save(act2); // \u4fdd\u5b58act-004\u8d26\u6237\n    } catch (Exception e) {\n\n    }\n    // \u7ee7\u7eed\u5f80\u540e\u8fdb\u884c\u6211\u5f53\u524d1\u53f7\u4e8b\u52a1\u81ea\u5df1\u7684\u4e8b\u513f\u3002\n}\n@Override\n//@Transactional(propagation = Propagation.REQUIRED)\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void save(Account act) {\n    accountDao.insert(act);\n    // \u6a21\u62df\u5f02\u5e38\n    String s = null;\n    s.toString();\n\n    // \u4e8b\u513f\u6ca1\u6709\u5904\u7406\u5b8c\uff0c\u8fd9\u4e2a\u5927\u62ec\u53f7\u5f53\u4e2d\u7684\u540e\u7eed\u4e5f\u8bb8\u8fd8\u6709\u5176\u4ed6\u7684DML\u8bed\u53e5\u3002\n}\n</code></pre> <p>\u4e00\u5b9a\u8981\u96c6\u6210Log4j2\u65e5\u5fd7\u6846\u67b6\uff0c\u5728\u65e5\u5fd7\u4fe1\u606f\u4e2d\u53ef\u4ee5\u770b\u5230\u66f4\u52a0\u8be6\u7ec6\u7684\u4fe1\u606f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_17","title":"\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b","text":"<p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u7c7b\u4f3c\u4e8e\u6559\u5ba4A\u548c\u6559\u5ba4B\u4e4b\u95f4\u7684\u90a3\u9053\u5899\uff0c\u9694\u79bb\u7ea7\u522b\u8d8a\u9ad8\u8868\u793a\u5899\u4f53\u8d8a\u539a\u3002\u9694\u97f3\u6548\u679c\u8d8a\u597d\u3002</p> <p>\u6570\u636e\u5e93\u4e2d\u8bfb\u53d6\u6570\u636e\u5b58\u5728\u7684\u4e09\u5927\u95ee\u9898\uff1a\uff08\u4e09\u5927\u8bfb\u95ee\u9898\uff09</p> <ul> <li>\u810f\u8bfb\uff1a\u8bfb\u53d6\u5230\u6ca1\u6709\u63d0\u4ea4\u5230\u6570\u636e\u5e93\u7684\u6570\u636e\uff0c\u53eb\u505a\u810f\u8bfb\u3002</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u5728\u540c\u4e00\u4e2a\u4e8b\u52a1\u5f53\u4e2d\uff0c\u7b2c\u4e00\u6b21\u548c\u7b2c\u4e8c\u6b21\u8bfb\u53d6\u7684\u6570\u636e\u4e0d\u4e00\u6837\u3002</li> <li>\u5e7b\u8bfb\uff1a\u8bfb\u5230\u7684\u6570\u636e\u662f\u5047\u7684\u3002</li> </ul> <p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u5305\u62ec\u56db\u4e2a\u7ea7\u522b\uff1a</p> <ul> <li> <p>\u8bfb\u672a\u63d0\u4ea4\uff1aREAD_UNCOMMITTED</p> </li> <li> <p>\u8fd9\u79cd\u9694\u79bb\u7ea7\u522b\uff0c\u5b58\u5728\u810f\u8bfb\u95ee\u9898\uff0c\u6240\u8c13\u7684\u810f\u8bfb(dirty read)\u8868\u793a\u80fd\u591f\u8bfb\u53d6\u5230\u5176\u5b83\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u8bfb\u63d0\u4ea4\uff1aREAD_COMMITTED</p> </li> <li> <p>\u89e3\u51b3\u4e86\u810f\u8bfb\u95ee\u9898\uff0c\u5176\u5b83\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\u624d\u80fd\u8bfb\u5230\uff0c\u4f46\u5b58\u5728\u4e0d\u53ef\u91cd\u590d\u8bfb\u95ee\u9898\u3002</p> </li> <li> <p>\u53ef\u91cd\u590d\u8bfb\uff1aREPEATABLE_READ</p> </li> <li> <p>\u89e3\u51b3\u4e86\u4e0d\u53ef\u91cd\u590d\u8bfb\uff0c\u53ef\u4ee5\u8fbe\u5230\u53ef\u91cd\u590d\u8bfb\u6548\u679c\uff0c\u53ea\u8981\u5f53\u524d\u4e8b\u52a1\u4e0d\u7ed3\u675f\uff0c\u8bfb\u53d6\u5230\u7684\u6570\u636e\u4e00\u76f4\u90fd\u662f\u4e00\u6837\u7684\u3002\u4f46\u5b58\u5728\u5e7b\u8bfb\u95ee\u9898\u3002</p> </li> <li> <p>\u5e8f\u5217\u5316\uff1aSERIALIZABLE</p> </li> <li> <p>\u89e3\u51b3\u4e86\u5e7b\u8bfb\u95ee\u9898\uff0c\u4e8b\u52a1\u6392\u961f\u6267\u884c\u3002\u4e0d\u652f\u6301\u5e76\u53d1\u3002</p> </li> </ul> <p>\u5927\u5bb6\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u8868\u683c\u6765\u8bb0\u5fc6\uff1a</p> \u9694\u79bb\u7ea7\u522b \u810f\u8bfb \u4e0d\u53ef\u91cd\u590d\u8bfb \u5e7b\u8bfb \u8bfb\u672a\u63d0\u4ea4 \u6709 \u6709 \u6709 \u8bfb\u63d0\u4ea4 \u65e0 \u6709 \u6709 \u53ef\u91cd\u590d\u8bfb \u65e0 \u65e0 \u6709 \u5e8f\u5217\u5316 \u65e0 \u65e0 \u65e0 <p>\u5728Spring\u4ee3\u7801\u4e2d\u5982\u4f55\u8bbe\u7f6e\u9694\u79bb\u7ea7\u522b\uff1f</p> <p>\u9694\u79bb\u7ea7\u522b\u5728spring\u4e2d\u4ee5\u679a\u4e3e\u7c7b\u578b\u5b58\u5728\uff1a</p> <p></p> Java<pre><code>@Transactional(isolation = Isolation.READ_COMMITTED)\n</code></pre> <p>\u6d4b\u8bd5\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff1aREAD_UNCOMMITTED \u548c READ_COMMITTED</p> <p>\u600e\u4e48\u6d4b\u8bd5\uff1a\u4e00\u4e2aservice\u8d1f\u8d23\u63d2\u5165\uff0c\u4e00\u4e2aservice\u8d1f\u8d23\u67e5\u8be2\u3002\u8d1f\u8d23\u63d2\u5165\u7684service\u8981\u6a21\u62df\u5ef6\u8fdf\u3002</p> Java<pre><code>package com.powernode.bank.service.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Isolation;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className IsolationService1\n * @since 1.0\n **/\n@Service(\"i1\")\npublic class IsolationService1 {\n\n    @Resource(name = \"accountDao\")\n    private AccountDao accountDao;\n\n    // 1\u53f7\n    // \u8d1f\u8d23\u67e5\u8be2\n    // \u5f53\u524d\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5230\u522b\u7684\u4e8b\u52a1\u6ca1\u6709\u63d0\u4ea4\u7684\u6570\u636e\u3002\n    //@Transactional(isolation = Isolation.READ_UNCOMMITTED)\n    // \u5bf9\u65b9\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\u7684\u6570\u636e\u6211\u624d\u80fd\u8bfb\u53d6\u5230\u3002\n    @Transactional(isolation = Isolation.READ_COMMITTED)\n    public void getByActno(String actno) {\n        Account account = accountDao.selectByActno(actno);\n        System.out.println(\"\u67e5\u8be2\u5230\u7684\u8d26\u6237\u4fe1\u606f\uff1a\" + account);\n    }\n\n}\npackage com.powernode.bank.service.impl;\n\nimport com.powernode.bank.dao.AccountDao;\nimport com.powernode.bank.pojo.Account;\nimport jakarta.annotation.Resource;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className IsolationService2\n * @since 1.0\n **/\n@Service(\"i2\")\npublic class IsolationService2 {\n\n    @Resource(name = \"accountDao\")\n    private AccountDao accountDao;\n\n    // 2\u53f7\n    // \u8d1f\u8d23insert\n    @Transactional\n    public void save(Account act) {\n        accountDao.insert(act);\n        // \u7761\u7720\u4e00\u4f1a\n        try {\n            Thread.sleep(1000 * 20);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f</p> Java<pre><code>@Test\npublic void testIsolation1(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    IsolationService1 i1 = applicationContext.getBean(\"i1\", IsolationService1.class);\n    i1.getByActno(\"act-004\");\n}\n\n@Test\npublic void testIsolation2(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n    IsolationService2 i2 = applicationContext.getBean(\"i2\", IsolationService2.class);\n    Account act = new Account(\"act-004\", 1000.0);\n    i2.save(act);\n}\n</code></pre> <p>\u901a\u8fc7\u6267\u884c\u7ed3\u679c\u53ef\u4ee5\u6e05\u6670\u7684\u770b\u51fa\u9694\u79bb\u7ea7\u522b\u4e0d\u540c\uff0c\u6267\u884c\u6548\u679c\u4e0d\u540c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_18","title":"\u4e8b\u52a1\u8d85\u65f6","text":"<p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>@Transactional(timeout = 10)\n</code></pre> <p>\u4ee5\u4e0a\u4ee3\u7801\u8868\u793a\u8bbe\u7f6e\u4e8b\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\u4e3a10\u79d2\u3002</p> <p>\u8868\u793a\u8d85\u8fc710\u79d2\u5982\u679c\u8be5\u4e8b\u52a1\u4e2d\u6240\u6709\u7684DML\u8bed\u53e5\u8fd8\u6ca1\u6709\u6267\u884c\u5b8c\u6bd5\u7684\u8bdd\uff0c\u6700\u7ec8\u7ed3\u679c\u4f1a\u9009\u62e9\u56de\u6eda\u3002</p> <p>\u9ed8\u8ba4\u503c-1\uff0c\u8868\u793a\u6ca1\u6709\u65f6\u95f4\u9650\u5236\u3002</p> <p>\u8fd9\u91cc\u6709\u4e2a\u5751\uff0c\u4e8b\u52a1\u7684\u8d85\u65f6\u65f6\u95f4\u6307\u7684\u662f\u54ea\u6bb5\u65f6\u95f4\uff1f</p> <p>\u5728\u5f53\u524d\u4e8b\u52a1\u5f53\u4e2d\uff0c\u6700\u540e\u4e00\u6761DML\u8bed\u53e5\u6267\u884c\u4e4b\u524d\u7684\u65f6\u95f4\u3002\u5982\u679c\u6700\u540e\u4e00\u6761DML\u8bed\u53e5\u540e\u9762\u5f88\u6709\u5f88\u591a\u4e1a\u52a1\u903b\u8f91\uff0c\u8fd9\u4e9b\u4e1a\u52a1\u4ee3\u7801\u6267\u884c\u7684\u65f6\u95f4\u4e0d\u88ab\u8ba1\u5165\u8d85\u65f6\u65f6\u95f4\u3002</p> Java<pre><code>@Transactional(timeout = 10) // \u8bbe\u7f6e\u4e8b\u52a1\u8d85\u65f6\u65f6\u95f4\u4e3a10\u79d2\u3002\npublic void save(Account act) {\n    accountDao.insert(act);\n    // \u7761\u7720\u4e00\u4f1a\n    try {\n        Thread.sleep(1000 * 15);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n@Transactional(timeout = 10) // \u8bbe\u7f6e\u4e8b\u52a1\u8d85\u65f6\u65f6\u95f4\u4e3a10\u79d2\u3002\npublic void save(Account act) {\n    // \u7761\u7720\u4e00\u4f1a\n    try {\n        Thread.sleep(1000 * 15);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    accountDao.insert(act);\n}\n</code></pre> <p>\u5f53\u7136\uff0c\u5982\u679c\u60f3\u8ba9\u6574\u4e2a\u65b9\u6cd5\u7684\u6240\u6709\u4ee3\u7801\u90fd\u8ba1\u5165\u8d85\u65f6\u65f6\u95f4\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728\u65b9\u6cd5\u6700\u540e\u4e00\u884c\u6dfb\u52a0\u4e00\u884c\u65e0\u5173\u7d27\u8981\u7684DML\u8bed\u53e5\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_19","title":"\u53ea\u8bfb\u4e8b\u52a1","text":"<p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>@Transactional(readOnly = true)\n</code></pre> <p>\u5c06\u5f53\u524d\u4e8b\u52a1\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\u4e8b\u52a1\uff0c\u5728\u8be5\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u53ea\u5141\u8bb8select\u8bed\u53e5\u6267\u884c\uff0cdelete insert update\u5747\u4e0d\u53ef\u6267\u884c\u3002</p> <p>\u8be5\u7279\u6027\u7684\u4f5c\u7528\u662f\uff1a\u542f\u52a8spring\u7684\u4f18\u5316\u7b56\u7565\u3002\u63d0\u9ad8select\u8bed\u53e5\u6267\u884c\u6548\u7387\u3002</p> <p>\u5982\u679c\u8be5\u4e8b\u52a1\u4e2d\u786e\u5b9e\u6ca1\u6709\u589e\u5220\u6539\u64cd\u4f5c\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\u4e8b\u52a1\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_20","title":"\u8bbe\u7f6e\u54ea\u4e9b\u5f02\u5e38\u56de\u6eda\u4e8b\u52a1","text":"<p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>@Transactional(rollbackFor = RuntimeException.class)\n</code></pre> <p>\u8868\u793a\u53ea\u6709\u53d1\u751fRuntimeException\u5f02\u5e38\u6216\u8be5\u5f02\u5e38\u7684\u5b50\u7c7b\u5f02\u5e38\u624d\u56de\u6eda\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_21","title":"\u8bbe\u7f6e\u54ea\u4e9b\u5f02\u5e38\u4e0d\u56de\u6eda\u4e8b\u52a1","text":"<p>\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>@Transactional(noRollbackFor = NullPointerException.class)\n</code></pre> <p>\u8868\u793a\u53d1\u751fNullPointerException\u6216\u8be5\u5f02\u5e38\u7684\u5b50\u7c7b\u5f02\u5e38\u4e0d\u56de\u6eda\uff0c\u5176\u4ed6\u5f02\u5e38\u5219\u56de\u6eda\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#_22","title":"\u4e8b\u52a1\u7684\u5168\u6ce8\u89e3\u5f0f\u5f00\u53d1","text":"<p>\u7f16\u5199\u4e00\u4e2a\u7c7b\u6765\u4ee3\u66ff\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> Java<pre><code>package com.powernode.bank;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Spring6Config\n * @since 1.0\n **/\n@Configuration\n@ComponentScan(\"com.powernode.bank\")\n@EnableTransactionManagement\npublic class Spring6Config {\n\n    @Bean\n    public DataSource getDataSource(){\n        DruidDataSource dataSource = new DruidDataSource();\n        dataSource.setDriverClassName(\"com.mysql.cj.jdbc.Driver\");\n        dataSource.setUrl(\"jdbc:mysql://localhost:3306/spring6\");\n        dataSource.setUsername(\"root\");\n        dataSource.setPassword(\"root\");\n        return dataSource;\n    }\n\n    @Bean(name = \"jdbcTemplate\")\n    public JdbcTemplate getJdbcTemplate(DataSource dataSource){\n        JdbcTemplate jdbcTemplate = new JdbcTemplate();\n        jdbcTemplate.setDataSource(dataSource);\n        return jdbcTemplate;\n    }\n\n    @Bean\n    public DataSourceTransactionManager getDataSourceTransactionManager(DataSource dataSource){\n        DataSourceTransactionManager dataSourceTransactionManager = new DataSourceTransactionManager();\n        dataSourceTransactionManager.setDataSource(dataSource);\n        return dataSourceTransactionManager;\n    }\n\n}\n</code></pre> <p>\u6d4b\u8bd5\u7a0b\u5e8f\u5982\u4e0b\uff1a</p> Java<pre><code>@Test\npublic void testNoXml(){\n    ApplicationContext applicationContext = new AnnotationConfigApplicationContext(Spring6Config.class);\n    AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n    try {\n        accountService.transfer(\"act-001\", \"act-002\", 10000);\n        System.out.println(\"\u8f6c\u8d26\u6210\u529f\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#xml","title":"\u58f0\u660e\u5f0f\u4e8b\u52a1\u4e4bXML\u5b9e\u73b0\u65b9\u5f0f","text":"<p>\u914d\u7f6e\u6b65\u9aa4\uff1a</p> <ul> <li>\u7b2c\u4e00\u6b65\uff1a\u914d\u7f6e\u4e8b\u52a1\u7ba1\u7406\u5668</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u914d\u7f6e\u901a\u77e5</li> <li>\u7b2c\u4e09\u6b65\uff1a\u914d\u7f6e\u5207\u9762</li> </ul> <p>\u8bb0\u5f97\u6dfb\u52a0aspectj\u7684\u4f9d\u8d56\uff1a</p> XML<pre><code>&lt;!--aspectj\u4f9d\u8d56--&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0-M2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>Spring\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1a</p> <p>\u8bb0\u5f97\u6dfb\u52a0aop\u7684\u547d\u540d\u7a7a\u95f4\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.powernode.bank\"/&gt;\n\n    &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring6\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"root\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\u914d\u7f6e\u4e8b\u52a1\u7ba1\u7406\u5668--&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\u914d\u7f6e\u901a\u77e5--&gt;\n    &lt;tx:advice id=\"txAdvice\" transaction-manager=\"txManager\"&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=\"save*\" propagation=\"REQUIRED\" rollback-for=\"java.lang.Throwable\"/&gt;\n            &lt;tx:method name=\"del*\" propagation=\"REQUIRED\" rollback-for=\"java.lang.Throwable\"/&gt;\n            &lt;tx:method name=\"update*\" propagation=\"REQUIRED\" rollback-for=\"java.lang.Throwable\"/&gt;\n            &lt;tx:method name=\"transfer*\" propagation=\"REQUIRED\" rollback-for=\"java.lang.Throwable\"/&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n\n    &lt;!--\u914d\u7f6e\u5207\u9762--&gt;\n    &lt;aop:config&gt;\n        &lt;aop:pointcut id=\"txPointcut\" expression=\"execution(* com.powernode.bank.service..*(..))\"/&gt;\n        &lt;!--\u5207\u9762 = \u901a\u77e5 + \u5207\u70b9--&gt;\n        &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"txPointcut\"/&gt;\n    &lt;/aop:config&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u5c06AccountServiceImpl\u7c7b\u4e0a\u7684@Transactional\u6ce8\u89e3\u5220\u9664\u3002</p> <p>\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff1a</p> Java<pre><code>@Test\npublic void testTransferXml(){\n    ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring2.xml\");\n    AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n    try {\n        accountService.transfer(\"act-001\", \"act-002\", 10000);\n        System.out.println(\"\u8f6c\u8d26\u6210\u529f\");\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff1a</p> <p></p> <p>\u6570\u636e\u5e93\u8868\u4e2d\u8bb0\u5f55\uff1a</p> <p></p> <p>\u901a\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u770b\u5230\u914d\u7f6eXML\u5df2\u7ecf\u8d77\u4f5c\u7528\u4e86\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring6junit5","title":"\u5341\u4e03\u3001Spring6\u6574\u5408JUnit5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#171-springjunit4","title":"17.1 Spring\u5bf9JUnit4\u7684\u652f\u6301","text":"<p>\u51c6\u5907\u5de5\u4f5c\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-015-junit&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;!--\u4ed3\u5e93--&gt;\n    &lt;repositories&gt;\n        &lt;!--spring\u91cc\u7a0b\u7891\u7248\u672c\u7684\u4ed3\u5e93--&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--spring context\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--spring\u5bf9junit\u7684\u652f\u6301\u76f8\u5173\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--junit4\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\npackage com.powernode.spring6.bean;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className User\n * @since 1.0\n **/\n@Component\npublic class User {\n\n    @Value(\"\u5f20\u4e09\")\n    private String name;\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                '}';\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public User() {\n    }\n\n    public User(String name) {\n        this.name = name;\n    }\n}\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:component-scan base-package=\"com.powernode.spring6.bean\"/&gt;\n&lt;/beans&gt;\n</code></pre> <p>\u5355\u5143\u6d4b\u8bd5\uff1a</p> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SpringJUnit4Test\n * @since 1.0\n **/\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(\"classpath:spring.xml\")\npublic class SpringJUnit4Test {\n\n    @Autowired\n    private User user;\n\n    @Test\n    public void testUser(){\n        System.out.println(user.getName());\n    }\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>Spring\u63d0\u4f9b\u7684\u65b9\u4fbf\u4e3b\u8981\u662f\u8fd9\u51e0\u4e2a\u6ce8\u89e3\uff1a</p> <p>@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(\"classpath:spring.xml\")</p> <p>\u5728\u5355\u5143\u6d4b\u8bd5\u7c7b\u4e0a\u4f7f\u7528\u8fd9\u4e24\u4e2a\u6ce8\u89e3\u4e4b\u540e\uff0c\u5728\u5355\u5143\u6d4b\u8bd5\u7c7b\u4e2d\u7684\u5c5e\u6027\u4e0a\u53ef\u4ee5\u4f7f\u7528@Autowired\u3002\u6bd4\u8f83\u65b9\u4fbf\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#172-springjunit5","title":"17.2 Spring\u5bf9JUnit5\u7684\u652f\u6301","text":"<p>\u5f15\u5165JUnit5\u7684\u4f9d\u8d56\uff0cSpring\u5bf9JUnit\u652f\u6301\u7684\u4f9d\u8d56\u8fd8\u662f\uff1aspring-test\uff0c\u5982\u4e0b\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-015-junit&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;!--\u4ed3\u5e93--&gt;\n    &lt;repositories&gt;\n        &lt;!--spring\u91cc\u7a0b\u7891\u7248\u672c\u7684\u4ed3\u5e93--&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!--spring context\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--spring\u5bf9junit\u7684\u652f\u6301\u76f8\u5173\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--junit5\u4f9d\u8d56--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\npackage com.powernode.spring6.test;\n\nimport com.powernode.spring6.bean.User;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(\"classpath:spring.xml\")\npublic class SpringJUnit5Test {\n\n    @Autowired\n    private User user;\n\n    @Test\n    public void testUser(){\n        System.out.println(user.getName());\n    }\n}\n</code></pre> <p>\u5728JUnit5\u5f53\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528Spring\u63d0\u4f9b\u7684\u4ee5\u4e0b\u4e24\u4e2a\u6ce8\u89e3\uff0c\u6807\u6ce8\u5230\u5355\u5143\u6d4b\u8bd5\u7c7b\u4e0a\uff0c\u8fd9\u6837\u5728\u7c7b\u5f53\u4e2d\u5c31\u53ef\u4ee5\u4f7f\u7528@Autowired\u6ce8\u89e3\u4e86\u3002</p> <p>@ExtendWith(SpringExtension.class)</p> <p>@ContextConfiguration(\"classpath:spring.xml\")</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring6mybatis35","title":"\u5341\u516b\u3001Spring6\u96c6\u6210MyBatis3.5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#181","title":"18.1 \u5b9e\u73b0\u6b65\u9aa4","text":"<ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u51c6\u5907\u6570\u636e\u5e93\u8868</p> </li> <li> <p>\u4f7f\u7528t_act\u8868\uff08\u8d26\u6237\u8868\uff09</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1aIDEA\u4e2d\u521b\u5efa\u4e00\u4e2a\u6a21\u5757\uff0c\u5e76\u5f15\u5165\u4f9d\u8d56</p> </li> <li> <p>spring-context</p> </li> <li>spring-jdbc</li> <li>mysql\u9a71\u52a8</li> <li>mybatis</li> <li>mybatis-spring\uff1amybatis\u63d0\u4f9b\u7684\u4e0espring\u6846\u67b6\u96c6\u6210\u7684\u4f9d\u8d56</li> <li>\u5fb7\u9c81\u4f0a\u8fde\u63a5\u6c60</li> <li> <p>junit</p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u57fa\u4e8e\u4e09\u5c42\u67b6\u6784\u5b9e\u73b0\uff0c\u6240\u4ee5\u63d0\u524d\u521b\u5efa\u597d\u6240\u6709\u7684\u5305</p> </li> <li> <p>com.powernode.bank.mapper</p> </li> <li>com.powernode.bank.service</li> <li>com.powernode.bank.service.impl</li> <li> <p>com.powernode.bank.pojo</p> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u7f16\u5199pojo</p> </li> <li> <p>Account\uff0c\u5c5e\u6027\u79c1\u6709\u5316\uff0c\u63d0\u4f9b\u516c\u5f00\u7684setter getter\u548ctoString\u3002</p> </li> <li> <p>\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199mapper\u63a5\u53e3</p> </li> <li> <p>AccountMapper\u63a5\u53e3\uff0c\u5b9a\u4e49\u65b9\u6cd5</p> </li> <li> <p>\u7b2c\u516d\u6b65\uff1a\u7f16\u5199mapper\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u547d\u540d\u7a7a\u95f4\uff0c\u4ee5\u53ca\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u5bf9\u5e94\u7684sql\u3002</p> </li> <li> <p>\u7b2c\u4e03\u6b65\uff1a\u7f16\u5199service\u63a5\u53e3\u548cservice\u63a5\u53e3\u5b9e\u73b0\u7c7b</p> </li> <li> <p>AccountService</p> </li> <li> <p>AccountServiceImpl</p> </li> <li> <p>\u7b2c\u516b\u6b65\uff1a\u7f16\u5199jdbc.properties\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u76f8\u5173\u4fe1\u606f</p> </li> <li> <p>\u7b2c\u4e5d\u6b65\uff1a\u7f16\u5199mybatis-config.xml\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>\u8be5\u6587\u4ef6\u53ef\u4ee5\u6ca1\u6709\uff0c\u5927\u90e8\u5206\u7684\u914d\u7f6e\u53ef\u4ee5\u8f6c\u79fb\u5230spring\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002</p> </li> <li> <p>\u5982\u679c\u9047\u5230mybatis\u76f8\u5173\u7684\u7cfb\u7edf\u7ea7\u914d\u7f6e\uff0c\u8fd8\u662f\u9700\u8981\u8fd9\u4e2a\u6587\u4ef6\u3002</p> </li> <li> <p>\u7b2c\u5341\u6b65\uff1a\u7f16\u5199spring.xml\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>\u7ec4\u4ef6\u626b\u63cf</p> </li> <li>\u5f15\u5165\u5916\u90e8\u7684\u5c5e\u6027\u6587\u4ef6</li> <li>\u6570\u636e\u6e90</li> <li> <p>SqlSessionFactoryBean\u914d\u7f6e</p> </li> <li> <p>\u6ce8\u5165mybatis\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u8def\u5f84</p> </li> <li>\u6307\u5b9a\u522b\u540d\u5305</li> <li> <p>\u6ce8\u5165\u6570\u636e\u6e90</p> </li> <li> <p>Mapper\u626b\u63cf\u914d\u7f6e\u5668</p> </li> <li> <p>\u6307\u5b9a\u626b\u63cf\u7684\u5305</p> </li> <li> <p>\u4e8b\u52a1\u7ba1\u7406\u5668DataSourceTransactionManager</p> </li> <li> <p>\u6ce8\u5165\u6570\u636e\u6e90</p> </li> <li> <p>\u542f\u7528\u4e8b\u52a1\u6ce8\u89e3</p> </li> <li> <p>\u6ce8\u5165\u4e8b\u52a1\u7ba1\u7406\u5668</p> </li> <li> <p>\u7b2c\u5341\u4e00\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u5e76\u6dfb\u52a0\u4e8b\u52a1\uff0c\u8fdb\u884c\u6d4b\u8bd5</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#182","title":"18.2 \u5177\u4f53\u5b9e\u73b0","text":"<ul> <li>\u7b2c\u4e00\u6b65\uff1a\u51c6\u5907\u6570\u636e\u5e93\u8868</li> </ul> <p>\u8fde\u63a5\u6570\u636e\u5e93\u7684\u5de5\u5177\u6709\u5f88\u591a\uff0c\u9664\u4e86\u4e4b\u524d\u6211\u4eec\u4f7f\u7528\u7684navicat for mysql\u4e4b\u5916\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528IDEA\u5de5\u5177\u81ea\u5e26\u7684DataBase\u63d2\u4ef6\u3002\u53ef\u4ee5\u6839\u636e\u4e0b\u56fe\u63d0\u793a\u81ea\u884c\u914d\u7f6e\uff1a</p> <p></p> <p></p> <ul> <li>\u7b2c\u4e8c\u6b65\uff1aIDEA\u4e2d\u521b\u5efa\u4e00\u4e2a\u6a21\u5757\uff0c\u5e76\u5f15\u5165\u4f9d\u8d56</li> </ul> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.powernode&lt;/groupId&gt;\n    &lt;artifactId&gt;spring6-016-sm&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;!--\u4ed3\u5e93--&gt;\n    &lt;repositories&gt;\n        &lt;!--spring\u91cc\u7a0b\u7891\u7248\u672c\u7684\u4ed3\u5e93--&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repository.spring.milestone&lt;/id&gt;\n            &lt;name&gt;Spring Milestone Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n            &lt;version&gt;3.5.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\n            &lt;version&gt;1.2.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre> <ul> <li>\u7b2c\u4e09\u6b65\uff1a\u57fa\u4e8e\u4e09\u5c42\u67b6\u6784\u5b9e\u73b0\uff0c\u6240\u4ee5\u63d0\u524d\u521b\u5efa\u597d\u6240\u6709\u7684\u5305</li> </ul> <p></p> <ul> <li>\u7b2c\u56db\u6b65\uff1a\u7f16\u5199pojo</li> </ul> Java<pre><code>package com.powernode.bank.pojo;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className Account\n * @since 1.0\n **/\npublic class Account {\n    private String actno;\n    private Double balance;\n\n    @Override\n    public String toString() {\n        return \"Account{\" +\n                \"actno='\" + actno + '\\'' +\n                \", balance=\" + balance +\n                '}';\n    }\n\n    public Account() {\n    }\n\n    public Account(String actno, Double balance) {\n        this.actno = actno;\n        this.balance = balance;\n    }\n\n    public String getActno() {\n        return actno;\n    }\n\n    public void setActno(String actno) {\n        this.actno = actno;\n    }\n\n    public Double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(Double balance) {\n        this.balance = balance;\n    }\n}\n</code></pre> <ul> <li>\u7b2c\u4e94\u6b65\uff1a\u7f16\u5199mapper\u63a5\u53e3</li> </ul> Java<pre><code>package com.powernode.bank.mapper;\n\nimport com.powernode.bank.pojo.Account;\n\nimport java.util.List;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountMapper\n * @since 1.0\n **/\npublic interface AccountMapper {\n\n    /**\n     * \u4fdd\u5b58\u8d26\u6237\n     * @param account\n     * @return\n     */\n    int insert(Account account);\n\n    /**\n     * \u6839\u636e\u8d26\u53f7\u5220\u9664\u8d26\u6237\n     * @param actno\n     * @return\n     */\n    int deleteByActno(String actno);\n\n    /**\n     * \u4fee\u6539\u8d26\u6237\n     * @param account\n     * @return\n     */\n    int update(Account account);\n\n    /**\n     * \u6839\u636e\u8d26\u53f7\u67e5\u8be2\u8d26\u6237\n     * @param actno\n     * @return\n     */\n    Account selectByActno(String actno);\n\n    /**\n     * \u83b7\u53d6\u6240\u6709\u8d26\u6237\n     * @return\n     */\n    List&lt;Account&gt; selectAll();\n}\n</code></pre> <ul> <li>\u7b2c\u516d\u6b65\uff1a\u7f16\u5199mapper\u914d\u7f6e\u6587\u4ef6</li> </ul> <p>\u4e00\u5b9a\u8981\u6ce8\u610f\uff0c\u6309\u7167\u4e0b\u56fe\u63d0\u793a\u521b\u5efa\u8fd9\u4e2a\u76ee\u5f55\u3002\u6ce8\u610f\u662f\u659c\u6760\u4e0d\u662f\u70b9\u513f\u3002\u5728resources\u76ee\u5f55\u4e0b\u65b0\u5efa\u3002\u5e76\u4e14\u8981\u548cMapper\u63a5\u53e3\u5305\u5bf9\u5e94\u4e0a\u3002</p> <p></p> <p>\u5982\u679c\u63a5\u53e3\u53eb\u505aAccountMapper\uff0c\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u662fAccountMapper.xml</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;\n&lt;mapper namespace=\"com.powernode.bank.mapper.AccountMapper\"&gt;\n    &lt;insert id=\"insert\"&gt;\n        insert into t_act values(#{actno}, #{balance})\n    &lt;/insert&gt;\n    &lt;delete id=\"deleteByActno\"&gt;\n        delete from t_act where actno = #{actno}\n    &lt;/delete&gt;\n    &lt;update id=\"update\"&gt;\n        update t_act set balance = #{balance} where actno = #{actno}\n    &lt;/update&gt;\n    &lt;select id=\"selectByActno\" resultType=\"Account\"&gt;\n        select * from t_act where actno = #{actno}\n    &lt;/select&gt;\n    &lt;select id=\"selectAll\" resultType=\"Account\"&gt;\n        select * from t_act\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre> <ul> <li>\u7b2c\u4e03\u6b65\uff1a\u7f16\u5199service\u63a5\u53e3\u548cservice\u63a5\u53e3\u5b9e\u73b0\u7c7b</li> </ul> <p>\u6ce8\u610f\u7f16\u5199\u7684service\u5b9e\u73b0\u7c7b\u7eb3\u5165IoC\u5bb9\u5668\u7ba1\u7406\uff1a</p> Java<pre><code>package com.powernode.bank.service;\n\nimport com.powernode.bank.pojo.Account;\n\nimport java.util.List;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountService\n * @since 1.0\n **/\npublic interface AccountService {\n    /**\n     * \u5f00\u6237\n     * @param act\n     * @return\n     */\n    int save(Account act);\n\n    /**\n     * \u6839\u636e\u8d26\u53f7\u9500\u6237\n     * @param actno\n     * @return\n     */\n    int deleteByActno(String actno);\n\n    /**\n     * \u4fee\u6539\u8d26\u6237\n     * @param act\n     * @return\n     */\n    int update(Account act);\n\n    /**\n     * \u6839\u636e\u8d26\u53f7\u83b7\u53d6\u8d26\u6237\n     * @param actno\n     * @return\n     */\n    Account getByActno(String actno);\n\n    /**\n     * \u83b7\u53d6\u6240\u6709\u8d26\u6237\n     * @return\n     */\n    List&lt;Account&gt; getAll();\n\n    /**\n     * \u8f6c\u8d26\n     * @param fromActno\n     * @param toActno\n     * @param money\n     */\n    void transfer(String fromActno, String toActno, double money);\n}\npackage com.powernode.bank.service.impl;\n\nimport com.powernode.bank.mapper.AccountMapper;\nimport com.powernode.bank.pojo.Account;\nimport com.powernode.bank.service.AccountService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className AccountServiceImpl\n * @since 1.0\n **/\n@Transactional\n@Service(\"accountService\")\npublic class AccountServiceImpl implements AccountService {\n\n    @Autowired\n    private AccountMapper accountMapper;\n\n    @Override\n    public int save(Account act) {\n        return accountMapper.insert(act);\n    }\n\n    @Override\n    public int deleteByActno(String actno) {\n        return accountMapper.deleteByActno(actno);\n    }\n\n    @Override\n    public int update(Account act) {\n        return accountMapper.update(act);\n    }\n\n    @Override\n    public Account getByActno(String actno) {\n        return accountMapper.selectByActno(actno);\n    }\n\n    @Override\n    public List&lt;Account&gt; getAll() {\n        return accountMapper.selectAll();\n    }\n\n    @Override\n    public void transfer(String fromActno, String toActno, double money) {\n        Account fromAct = accountMapper.selectByActno(fromActno);\n        if (fromAct.getBalance() &lt; money) {\n            throw new RuntimeException(\"\u4f59\u989d\u4e0d\u8db3\");\n        }\n        Account toAct = accountMapper.selectByActno(toActno);\n        fromAct.setBalance(fromAct.getBalance() - money);\n        toAct.setBalance(toAct.getBalance() + money);\n        int count = accountMapper.update(fromAct);\n        count += accountMapper.update(toAct);\n        if (count != 2) {\n            throw new RuntimeException(\"\u8f6c\u8d26\u5931\u8d25\");\n        }\n    }\n}\n</code></pre> <ul> <li>\u7b2c\u516b\u6b65\uff1a\u7f16\u5199jdbc.properties\u914d\u7f6e\u6587\u4ef6</li> </ul> <p>\u653e\u5728\u7c7b\u7684\u6839\u8def\u5f84\u4e0b</p> Properties<pre><code>jdbc.driver=com.mysql.cj.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/spring6\njdbc.username=root\njdbc.password=root\n</code></pre> <ul> <li>\u7b2c\u4e5d\u6b65\uff1a\u7f16\u5199mybatis-config.xml\u914d\u7f6e\u6587\u4ef6</li> </ul> <p>\u653e\u5728\u7c7b\u7684\u6839\u8def\u5f84\u4e0b\uff0c\u53ea\u5f00\u542f\u65e5\u5fd7\uff0c\u5176\u4ed6\u914d\u7f6e\u5230spring.xml\u4e2d\u3002</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;\n&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;setting name=\"logImpl\" value=\"STDOUT_LOGGING\"/&gt;\n    &lt;/settings&gt;\n&lt;/configuration&gt;\n</code></pre> <ul> <li>\u7b2c\u5341\u6b65\uff1a\u7f16\u5199spring.xml\u914d\u7f6e\u6587\u4ef6</li> </ul> <p>\u6ce8\u610f\uff1a\u5f53\u4f60\u5728spring.xml\u6587\u4ef6\u4e2d\u76f4\u63a5\u5199\u6807\u7b7e\u5185\u5bb9\u65f6\uff0cIDEA\u4f1a\u81ea\u52a8\u7ed9\u4f60\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n    &lt;!--\u7ec4\u4ef6\u626b\u63cf--&gt;\n    &lt;context:component-scan base-package=\"com.powernode.bank\"/&gt;\n\n    &lt;!--\u5916\u90e8\u5c5e\u6027\u914d\u7f6e\u6587\u4ef6--&gt;\n    &lt;context:property-placeholder location=\"jdbc.properties\"/&gt;\n\n    &lt;!--\u6570\u636e\u6e90--&gt;\n    &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${jdbc.driver}\"/&gt;\n        &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n        &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n        &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--SqlSessionFactoryBean--&gt;\n    &lt;bean class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;\n        &lt;!--mybatis\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u8def\u5f84--&gt;\n        &lt;property name=\"configLocation\" value=\"mybatis-config.xml\"/&gt;\n        &lt;!--\u6ce8\u5165\u6570\u636e\u6e90--&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;!--\u8d77\u522b\u540d--&gt;\n        &lt;property name=\"typeAliasesPackage\" value=\"com.powernode.bank.pojo\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--Mapper\u626b\u63cf\u5668--&gt;\n    &lt;bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\"&gt;\n        &lt;property name=\"basePackage\" value=\"com.powernode.bank.mapper\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\u4e8b\u52a1\u7ba1\u7406\u5668--&gt;\n    &lt;bean id=\"txManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\u5f00\u542f\u4e8b\u52a1\u6ce8\u89e3--&gt;\n    &lt;tx:annotation-driven transaction-manager=\"txManager\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <ul> <li>\u7b2c\u5341\u4e00\u6b65\uff1a\u7f16\u5199\u6d4b\u8bd5\u7a0b\u5e8f\uff0c\u5e76\u6dfb\u52a0\u4e8b\u52a1\uff0c\u8fdb\u884c\u6d4b\u8bd5</li> </ul> Java<pre><code>package com.powernode.spring6.test;\n\nimport com.powernode.bank.service.AccountService;\nimport org.junit.Test;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\n/**\n * @author \u52a8\u529b\u8282\u70b9\n * @version 1.0\n * @className SMTest\n * @since 1.0\n **/\npublic class SMTest {\n\n    @Test\n    public void testSM(){\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(\"spring.xml\");\n        AccountService accountService = applicationContext.getBean(\"accountService\", AccountService.class);\n        try {\n            accountService.transfer(\"act-001\", \"act-002\", 10000.0);\n            System.out.println(\"\u8f6c\u8d26\u6210\u529f\");\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(\"\u8f6c\u8d26\u5931\u8d25\");\n        }\n    }\n\n}\n</code></pre> <p>\u6700\u540e\u5927\u5bb6\u522b\u5fd8\u4e86\u6d4b\u8bd5\u4e8b\u52a1\uff01\uff01\uff01\uff01</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#183-springimport","title":"18.3 Spring\u914d\u7f6e\u6587\u4ef6\u7684import","text":"<p>spring\u914d\u7f6e\u6587\u4ef6\u6709\u591a\u4e2a\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728spring\u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528import\u8fdb\u884c\u5f15\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ec4\u4ef6\u626b\u63cf\u5355\u72ec\u5b9a\u4e49\u5230\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5982\u4e0b\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;!--\u7ec4\u4ef6\u626b\u63cf--&gt;\n    &lt;context:component-scan base-package=\"com.powernode.bank\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u7136\u540e\u5728\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165\uff1a</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n    &lt;!--\u5f15\u5165\u5176\u4ed6\u7684spring\u914d\u7f6e\u6587\u4ef6--&gt;\n    &lt;import resource=\"common.xml\"/&gt;\n\n&lt;/beans&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0cservice\u5355\u72ec\u914d\u7f6e\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0cdao\u5355\u72ec\u914d\u7f6e\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u5728\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165\uff0c\u517b\u6210\u597d\u4e60\u60ef\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#spring_7","title":"\u5341\u4e5d\u3001Spring\u4e2d\u7684\u516b\u5927\u6a21\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#191","title":"19.1 \u7b80\u5355\u5de5\u5382\u6a21\u5f0f","text":"<p>BeanFactory\u7684getBean()\u65b9\u6cd5\uff0c\u901a\u8fc7\u552f\u4e00\u6807\u8bc6\u6765\u83b7\u53d6Bean\u5bf9\u8c61\u3002\u662f\u5178\u578b\u7684\u7b80\u5355\u5de5\u5382\u6a21\u5f0f\uff08\u9759\u6001\u5de5\u5382\u6a21\u5f0f\uff09\uff1b</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#192","title":"19.2 \u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f","text":"<p>FactoryBean\u662f\u5178\u578b\u7684\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u3002\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u901a\u8fc7factory-method\u5c5e\u6027\u6765\u6307\u5b9a\u5de5\u5382\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#193","title":"19.3 \u5355\u4f8b\u6a21\u5f0f","text":"<p>Spring\u7528\u7684\u662f\u53cc\u91cd\u5224\u65ad\u52a0\u9501\u7684\u5355\u4f8b\u6a21\u5f0f\u3002\u8bf7\u770b\u4e0b\u9762\u4ee3\u7801\uff0c\u6211\u4eec\u4e4b\u524d\u8bb2\u89e3Bean\u7684\u5faa\u73af\u4f9d\u8d56\u7684\u65f6\u5019\u89c1\u8fc7\uff1a</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#194","title":"19.4 \u4ee3\u7406\u6a21\u5f0f","text":"<p>Spring\u7684AOP\u5c31\u662f\u4f7f\u7528\u4e86\u52a8\u6001\u4ee3\u7406\u5b9e\u73b0\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#195","title":"19.5 \u88c5\u9970\u5668\u6a21\u5f0f","text":"<p>JavaSE\u4e2d\u7684IO\u6d41\u662f\u975e\u5e38\u5178\u578b\u7684\u88c5\u9970\u5668\u6a21\u5f0f\u3002</p> <p>Spring \u4e2d\u914d\u7f6e DataSource \u7684\u65f6\u5019\uff0c\u8fd9\u4e9bdataSource\u53ef\u80fd\u662f\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\uff0c\u6bd4\u5982\u4e0d\u540c\u7684\u6570\u636e\u5e93\uff1aOracle\u3001SQL Server\u3001MySQL\u7b49\uff0c\u4e5f\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u6570\u636e\u6e90\uff1a\u6bd4\u5982apache \u63d0\u4f9b\u7684org.apache.commons.dbcp.BasicDataSource\u3001spring\u63d0\u4f9b\u7684org.springframework.jndi.JndiObjectFactoryBean\u7b49\u3002</p> <p>\u8fd9\u65f6\uff0c\u80fd\u5426\u5728\u5c3d\u53ef\u80fd\u5c11\u4fee\u6539\u539f\u6709\u7c7b\u4ee3\u7801\u4e0b\u7684\u60c5\u51b5\u4e0b\uff0c\u505a\u5230\u52a8\u6001\u5207\u6362\u4e0d\u540c\u7684\u6570\u636e\u6e90\uff1f\u6b64\u65f6\u5c31\u53ef\u4ee5\u7528\u5230\u88c5\u9970\u8005\u6a21\u5f0f\u3002</p> <p>Spring\u6839\u636e\u6bcf\u6b21\u8bf7\u6c42\u7684\u4e0d\u540c\uff0c\u5c06dataSource\u5c5e\u6027\u8bbe\u7f6e\u6210\u4e0d\u540c\u7684\u6570\u636e\u6e90\uff0c\u4ee5\u5230\u8fbe\u5207\u6362\u6570\u636e\u6e90\u7684\u76ee\u7684\u3002</p> <p>Spring\u4e2d\u7c7b\u540d\u4e2d\u5e26\u6709\uff1aDecorator\u548cWrapper\u5355\u8bcd\u7684\u7c7b\uff0c\u90fd\u662f\u88c5\u9970\u5668\u6a21\u5f0f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#196","title":"19.6 \u89c2\u5bdf\u8005\u6a21\u5f0f","text":"<p>\u5b9a\u4e49\u5bf9\u8c61\u95f4\u7684\u4e00\u5bf9\u591a\u7684\u5173\u7cfb\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u6240\u6709\u4f9d\u8d56\u4e8e\u5b83\u7684\u5bf9\u8c61\u90fd\u5f97\u5230\u901a\u77e5\u5e76\u81ea\u52a8\u66f4\u65b0\u3002Spring\u4e2d\u89c2\u5bdf\u8005\u6a21\u5f0f\u4e00\u822c\u7528\u5728listener\u7684\u5b9e\u73b0\u3002</p> <p>Spring\u4e2d\u7684\u4e8b\u4ef6\u7f16\u7a0b\u6a21\u578b\u5c31\u662f\u89c2\u5bdf\u8005\u6a21\u5f0f\u7684\u5b9e\u73b0\u3002\u5728Spring\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2aApplicationListener\u63a5\u53e3\uff0c\u7528\u6765\u76d1\u542cApplication\u7684\u4e8b\u4ef6\uff0cApplication\u5176\u5b9e\u5c31\u662fApplicationContext\uff0cApplicationContext\u5185\u7f6e\u4e86\u51e0\u4e2a\u4e8b\u4ef6\uff0c\u5176\u4e2d\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\u7684\u662f\uff1aContextRefreshedEvent\u3001ContextStartedEvent\u3001ContextStoppedEvent\u3001ContextClosedEvent</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#197","title":"19.7 \u7b56\u7565\u6a21\u5f0f","text":"<p>\u7b56\u7565\u6a21\u5f0f\u662f\u884c\u4e3a\u6027\u6a21\u5f0f\uff0c\u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u9002\u5e94\u884c\u4e3a\u7684\u53d8\u5316 \uff0c\u5f3a\u8c03\u7236\u7c7b\u7684\u8c03\u7528\u5b50\u7c7b\u7684\u7279\u6027 \u3002</p> <p>getHandler\u662fHandlerMapping\u63a5\u53e3\u4e2d\u7684\u552f\u4e00\u65b9\u6cd5\uff0c\u7528\u4e8e\u6839\u636e\u8bf7\u6c42\u627e\u5230\u5339\u914d\u7684\u5904\u7406\u5668\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u81ea\u5df1\u5199\u4e86AccountDao\u63a5\u53e3\uff0c\u7136\u540e\u8fd9\u4e2a\u63a5\u53e3\u4e0b\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u7c7b\uff1aAccountDaoForMySQL\uff0cAccountDaoForOracle\u3002\u5bf9\u4e8eservice\u6765\u8bf4\u4e0d\u9700\u8981\u5173\u5fc3\u5e95\u5c42\u5177\u4f53\u7684\u5b9e\u73b0\uff0c\u53ea\u9700\u8981\u9762\u5411AccountDao\u63a5\u53e3\u8c03\u7528\uff0c\u5e95\u5c42\u53ef\u4ee5\u7075\u6d3b\u5207\u6362\u5b9e\u73b0\uff0c\u8fd9\u5c31\u662f\u7b56\u7565\u6a21\u5f0f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/Java/JakartEE/Spring6/Spring-%E8%AF%BE%E4%B8%8A/#198","title":"19.8 \u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f","text":"<p>Spring\u4e2d\u7684JdbcTemplate\u7c7b\u5c31\u662f\u4e00\u4e2a\u6a21\u677f\u7c7b\u3002\u5b83\u5c31\u662f\u4e00\u4e2a\u6a21\u677f\u65b9\u6cd5\u8bbe\u8ba1\u6a21\u5f0f\u7684\u4f53\u73b0\u3002\u5728\u6a21\u677f\u7c7b\u7684\u6a21\u677f\u65b9\u6cd5execute\u4e2d\u7f16\u5199\u6838\u5fc3\u7b97\u6cd5\uff0c\u5177\u4f53\u7684\u5b9e\u73b0\u6b65\u9aa4\u5728\u5b50\u7c7b\u4e2d\u5b8c\u6210\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/","title":"\u5206\u5e03\u5f0f\u4e0e\u96c6\u4e2d\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_2","title":"\u96c6\u4e2d\u5f0f","text":"<p>\u96c6\u4e2d\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5de5\u5177\uff1aCVS  SVN  \u6536\u8d39\uff1aClearCase</p> <p>\u96c6\u4e2d\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u7248\u672c\u5e93\u662f\u96c6\u4e2d\u5b58\u653e\u5728\u4e2d\u592e\u670d\u52a1\u5668\u7684\uff0c\u800c\u5e72\u6d3b\u7684\u65f6\u5019\u4f7f\u7528\u7684\u662f\u81ea\u5df1\u7684\u7535\u8111\u3002\u6240\u4ee5\u9700\u8981\u5148\u4ece\u4e2d\u592e\u670d\u52a1\u5668\u83b7\u53d6\u6700\u65b0\u7684\u7248\u672c\uff0c\u624d\u80fd\u5f00\u59cb\u5e72\u6d3b\u3002\u5e72\u5b8c\u6d3b\u540e\u9700\u8981\u518d\u628a\u81ea\u5df1\u7684\u6d3b\u63a8\u9001\u7ed9\u4e2d\u592e\u670d\u52a1\u5668\u3002 \u4e2d\u592e\u670d\u52a1\u5668\u5c31\u597d\u6bd4\u662f\u56fe\u4e66\u9986\uff0c\u6211\u4eec\u9700\u8981\u4fee\u6539\u4e00\u672c\u4e66\u7684\u8bdd\uff0c\u9700\u8981\u5148\u4ece\u56fe\u4e66\u9986\u628a\u4e66\u501f\u51fa\u6765\uff0c\u7136\u540e\u5230\u5bb6\u81ea\u5df1\u6539\uff0c\u6539\u5b8c\u4e86\u518d\u653e\u56de\u56fe\u4e66\u9986\u3002</p> <p></p> <p>\u96c6\u4e2d\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6700\u5927\u7684\u7f3a\u70b9\u5c31\u662f\u5fc5\u987b\u8054\u7f51\u624d\u80fd\u5de5\u4f5c\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_3","title":"\u5206\u5e03\u5f0f","text":"<p>\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5de5\u5177\uff1agit</p> <p>\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u6ca1\u6709\u4e2d\u592e\u670d\u52a1\u5668\uff0c\u6bcf\u4e2a\u4eba\u7684\u7535\u8111\u4e0a\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7248\u672c\u5e93\u3002\u8fd9\u6837\u6211\u4eec\u5728\u5de5\u4f5c\u7684\u65f6\u5019\u53ef\u4ee5\u4e0d\u9700\u8981\u8054\u7f51\uff0c\u56e0\u4e3a\u7248\u672c\u5e93\u5c31\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u3002</p> <p>\u65e2\u7136\u7248\u672c\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\uff0c\u90a3\u4e48git\u662f\u5982\u4f55\u5b9e\u73b0\u591a\u4eba\u534f\u540c\u7684\u5462\uff1f  \u6bd4\u5982\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u4fee\u6539\u4e86\u6587\u4ef6A\uff0c\u540c\u4e8b\u5728\u4ed6\u7684\u7535\u8111\u4e0a\u4e5f\u4fee\u6539\u4e86\u6587\u4ef6A\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u4fe9\u4e4b\u95f4\u53ea\u9700\u8981\u628a\u5404\u81ea\u7684\u4fee\u6539\u63a8\u9001\u7ed9\u5bf9\u65b9\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5bf9\u65b9\u7684\u4fee\u6539\u4e86\u3002</p> <p>\u4e0e\u96c6\u4e2d\u5f0f\u76f8\u6bd4\uff0c\u5206\u5e03\u5f0f\u7684\u5b89\u5168\u6027\u8981\u9ad8\u5f88\u591a\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u4eba\u7684\u7535\u8111\u91cc\u90fd\u6709\u5b8c\u6574\u7684\u7248\u672c\u5e93\u3002 \u5b9e\u9645\u4f7f\u7528\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u5f88\u5c11\u5728\u4e24\u4eba\u4e4b\u95f4\u7684\u7535\u8111\u4e0a\u63a8\u9001\u7248\u672c\u5e93\u7684\u4fee\u6539\uff0c\u56e0\u4e3a\u53ef\u80fd\u4f60\u4eec\u4fe9\u4e0d\u5728\u4e00\u4e2a\u5c40\u57df\u7f51\u5185\uff0c\u4e24\u53f0\u7535\u8111\u4e92\u76f8\u8bbf\u95ee\u4e0d\u4e86\uff0c\u4e5f\u53ef\u80fd\u4eca\u5929\u4f60\u7684\u540c\u4e8b\u75c5\u4e86\uff0c\u4ed6\u7684\u7535\u8111\u538b\u6839\u6ca1\u6709\u5f00\u673a\u3002 \u56e0\u6b64\uff0c\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u5e38\u4e5f\u6709\u4e00\u53f0\u5145\u5f53\u201c\u4e2d\u592e\u670d\u52a1\u5668\u201d\u7684\u7535\u8111\uff0c\u4f46\u8fd9\u4e2a\u670d\u52a1\u5668\u7684\u4f5c\u7528\u4ec5\u4ec5\u662f\u7528\u6765\u65b9\u4fbf\u201c\u4ea4\u6362\u201d\u5927\u5bb6\u7684\u4fee\u6539\uff0c\u6ca1\u6709\u5b83\u5927\u5bb6\u4e5f\u4e00\u6837\u5e72\u6d3b\uff0c\u53ea\u662f\u4ea4\u6362\u4fee\u6539\u4e0d\u65b9\u4fbf\u800c\u5df2\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_4","title":"\u4e00\u4e9b\u4e3e\u4f8b\u8bf4\u660e (\u53ef\u80fd\u5e76\u4e0d\u6b63\u786e)","text":"<p>\u96c6\u4e2d\u5f0f\u597d\u6bd4\u662f\u5784\u65ad\u884c\u4e1a\uff0c\u6240\u6709\u4ece\u4e1a\u4eba\u5458\u53ea\u662f\u8be5\u884c\u4e1a\u7684\u5458\u5de5\uff0c\u672c\u8eab\u4e0d\u638c\u63e1\u751f\u4ea7\u8d44\u6599\uff0c\u8981\u53c2\u4e0e\u751f\u4ea7\u5fc5\u987b\u4ece\u5784\u65ad\u5be1\u5934\u5904\u6682\u65f6\u53d6\u5f97\u751f\u4ea7\u8d44\u6599\uff0c\u81ea\u5df1\u4fdd\u7559\u7684\u65e0\u6548\uff0c\u4e0d\u80fd\u4f5c\u4e3a\u751f\u4ea7\u8d44\u6599\u6295\u5165\u751f\u4ea7  \u5206\u5e03\u5f0f\u7c7b\u4f3c\u4e8e\u6bcf\u4e2a\u4eba\u90fd\u62e5\u6709\u652f\u6301\u751f\u4ea7\u7684\u5168\u5957\u751f\u4ea7\u8d44\u6599\uff0c\u968f\u65f6\u90fd\u53ef\u4ee5\u6295\u5165\u751f\u4ea7\uff0c\u751f\u4ea7\u5185\u5206\u5de5\u4ea4\u6362\u7531\u5206\u5e03\u5f0f\u4e2d\u7684\u67d0\u4e9b\u8282\u70b9\u5076\u7136\u5145\u5f53  \u5728\u7a0b\u5e8f\u7248\u672c\u63a7\u5236\u65b9\u9762\u4f7f\u7528\u5206\u5e03\u5f0f\u8f83\u4f18\u7684\u539f\u56e0\u662f\u751f\u4ea7\u8d44\u6599\u518d\u751f\u4ea7\u7684\u6210\u672c\u63a5\u8fd1\u4e8e0\uff0c\u76f8\u5f53\u4e8e\u751f\u4ea7\u529b\u65e0\u9650\u5927\uff0c\u5982\u679c\u7a0b\u5e8f\u7248\u672c\u5728\u5404\u8282\u70b9\u7684\u4ea4\u6362\u7684\u56f0\u96be\u7a0b\u5ea6\u5927\u5e45\u589e\u52a0\uff0c\u5206\u5e03\u5f0f\u7684\u4f18\u52bf\u5c31\u4f1a\u51cf\u5f31</p> <p>\u96c6\u4e2d\u5f0f\u548c\u5206\u5e03\u5f0f\u7684\u533a\u522b\u662f\uff1a \u4f60\u7684\u672c\u5730\u662f\u5426\u6709\u5b8c\u6574\u7684\u7248\u672c\u5e93\u5386\u53f2\uff01 \u5047\u8bbeSVN\u670d\u52a1\u5668\u6ca1\u4e86\uff0c\u90a3\u4f60\u4e22\u6389\u4e86\u6240\u6709\u5386\u53f2\u4fe1\u606f\uff0c\u56e0\u4e3a\u4f60\u7684\u672c\u5730\u53ea\u6709\u5f53\u524d\u7248\u672c\u4ee5\u53ca\u90e8\u5206\u5386\u53f2\u4fe1\u606f\u3002 \u5047\u8bbeGitHub\u670d\u52a1\u5668\u6ca1\u4e86\uff0c\u4f60\u4e0d\u4f1a\u4e22\u6389\u4efb\u4f55git\u5386\u53f2\u4fe1\u606f\uff0c\u56e0\u4e3a\u4f60\u7684\u672c\u5730\u6709\u5b8c\u6574\u7684\u7248\u672c\u5e93\u4fe1\u606f\u3002\u4f60\u53ef\u4ee5\u628a\u672c\u5730\u7684git\u5e93\u91cd\u65b0\u4e0a\u4f20\u5230\u53e6\u5916\u7684git\u670d\u52a1\u5546\u3002</p> <p>Git \u5176\u5b9e\u5c31\u662f\u6bcf\u4e2a\u4eba\u7535\u8111\u4e0a\u90fd\u88c5\u4e00\u4e2asvn\u670d\u52a1\u5668\uff0c\u4f60\u5199\u4e86\u4ee3\u7801\u63d0\u4ea4\u5230\u81ea\u5df1\u7535\u8111\u670d\u52a1\u5668\u4e0a\u5c31\u662fCommit\uff1b\u4f46\u662f\u5982\u679c\u4f60\u60f3\u591a\u4eba\u534f\u4f5c\uff0c\u5c31\u8981\u628a\u4f60\u7684\u6539\u52a8\u53d1\u9001\u5230\u4f60\u6bcf\u4e00\u4e2a\u540c\u4e8b \u7684svn\u670d\u52a1\u5668\u4e0a\u5c31\u662fpush\uff1b  \u5173\u4e8e\u6709\u4eba\u6709\u7591\u95ee\u8bf4  \u5206\u5e03\u5f0f\u7684\u7248\u672c\u63a7\u7cfb\u7edf\u5982\u679c\u8981\u5728\u591a\u4e2a\u4eba\u4e4b\u95f4\u534f\u4f5c\u4e0d\u4e5f\u662f\u9700\u8981\u4e00\u4e2a\u50cfgithub\u4e00\u6837\u7684\u7684\u8fdc\u7a0b\u7248\u672c\u5e93\u5417\uff0c\u8fd9\u4e0e\u96c6\u4e2d\u5f0f\u7684\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f \u63a5\u7740\u6309\u7167\u4e0a\u9762\u7684\u7406\u89e3\uff0c\u5047\u5982\u4f60\u8fd8\u670910\u4e2a\u540c\u4e8b\uff0c\u4f60\u6bcf\u4e00\u6b21\u66f4\u6539\u90fd\u8981\u63d0\u4ea410\u6b21\uff0c\u5176\u4ed6\u540c\u4e8b\u6709\u66f4\u6539\u4e5f\u8981\u5206\u522b\u5411\u6211\u4eec\u63d0\u4ea4\uff0c\u662f\u4e0d\u662f\u89c9\u5f97\u597d\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u8bf4\u5e72\u8106\u627e\u4e00\u53f0\u56fa\u5b9a\u7535\u8111\uff08\u670d\u52a1\u5668\uff09\u7528\u6765\u7edf\u4e00\u89c4\u5b9a\u628a\u4fee\u6539\u63a8\u7ed9\u8fd9\u53f0\u7535\u8111\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u63d0\u4ea41\u6b21\u5c31\u884c\u4e86\uff0c\u5176\u4ed6\u4eba\u53bb\u8fd9\u53f0\u673a\u5668\u4e0a\u540c\u6b65\u5c31\u597d\u4e86\u3002  \u53d1\u73b0\u6ca1\u6709\uff0cGit\u7684\u4e2d\u592e\u670d\u52a1\u5668\u53ef\u4ee5\u6ca1\u6709\uff0c\u6211\u4eec\u53ea\u662f\u4e3a\u4e86\u65b9\u4fbf\u624d\u8fd9\u4e48\u505a\u7684\u3002  \u6b64\u65f6\uff0c\u5982\u679c\u8fd9\u4e2a\u4e2d\u592e\u670d\u52a1\u5668\u574f\u4e86\uff0c\u4f60\u53ea\u9700\u8981\u91cd\u65b0\u5f04\u4e2a\u7535\u8111\uff0c\u628a\u81ea\u5df1\u7535\u8111\u4e0a\u7684\u540c\u6b65\u4e00\u4efd\u8fc7\u53bb\uff0c\u5927\u5bb6\u7ea6\u5b9a\u597d\u90fd\u63d0\u4ea4\u5230\u8fd9\u4e2a\u65b0\u7535\u8111\u4e0a\u5c31\u884c\u4e86\u3002\u3010\u6240\u6709\u7684\u7248\u672c\u548c\u5386\u53f2\u90fd\u5728\uff0c\u56e0\u4e3a\u5927\u5bb6\u7535\u8111\u4e0a\u90fd\u662f\u4e00\u6837\u7684\u3011  \u800c\u96c6\u4e2d\u5f0f\u7684SVN\u5c31\u4e0d\u540c\u4e86\uff0c\u4f60\u4ece\u4e2d\u592e\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7d\u597d\u5b8c\u6574\u7684\u4ee3\u7801\uff0c\u6b63\u5e38\u5de5\u4f5c\uff08\u5199\u4ee3\u7801\uff09\u662f\u53ef\u4ee5\uff0c\u4f46\u662f\u5982\u679c\u65ad\u7f51\u4e86\uff0c\u4f60\u5c31\u65e0\u6cd5\u56de\u6eda\u7248\u672c\uff1b\u8fd9\u65f6\u4f60\u53ef\u80fd\u8c01\u8bf4\uff0c\u5148\u4e0d\u63d0\u4ea4\uff0c\u7b49\u8054\u7f51\u4e86\u6211\u518d\u63d0\u4ea4\u3002  \u4e0d\u597d\u610f\u601d\uff0c\u8fd9\u6b21\u65ad\u7f51\u662f\u56e0\u4e3a\u670d\u52a1\u5668\u62a5\u5e9f\u4e86\uff0c\u662f\u84b8\u53d1\u7684\u90a3\u79cd\uff0c\u786c\u76d8\u7070\u98de\u70df\u706d\u4e86\u3002\u7b49\u4f60\u518d\u6b21\u8fde\u4e0a\u7f51\u7684\u65f6\u5019\uff0c\u5c31\u662f\u4f60\u6c38\u8fdc\u4e22\u5931\u4e86\u5386\u53f2\u7248\u672c\u7684\u65f6\u5019\uff0c\u60f3\u56de\u6eda\u5c31\u53ea\u80fd\u9760\u505a\u68a6\u4e86\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#git","title":"\u5b89\u88c5git","text":"<ul> <li> <p>linux \u6839\u636elinux\u7684\u53d1\u884c\u7248\u672c\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u5373\u53ef\u3002</p> <ul> <li>\u4ee5arch\u4e3a\u4f8b<ul> <li><code>sudo pacman -S git</code></li> </ul> </li> <li>macOS</li> <li><code>brew install git</code></li> <li>Windows</li> <li>git</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_5","title":"\u8eab\u4efd\u8bbe\u7f6e","text":"<p>Bash<pre><code>git config --global user.name \"Name\"\ngit config --global user.email \"email\"\n</code></pre> \u6ce8\u610f<code>git config</code>\u547d\u4ee4\u7684<code>--global</code>\u53c2\u6570\uff0c\u7528\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4f60\u8fd9\u53f0\u673a\u5668\u4e0a\u6240\u6709\u7684Git\u4ed3\u5e93\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5bf9\u67d0\u4e2a\u4ed3\u5e93\u6307\u5b9a\u4e0d\u540c\u7684\u7528\u6237\u540d\u548cEmail\u5730\u5740\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_6","title":"\u5de5\u4f5c\u533a\u548c\u6682\u5b58\u533a","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_7","title":"\u5de5\u4f5c\u533a","text":"<p>\u5c31\u662f\u4f60\u5728\u7535\u8111\u8bbf\u8fbe/ranger\u91cc\u80fd\u770b\u5230\u7684\u76ee\u5f55 \u4f8b\u5982\u5728zsh\u4e0b\u6267\u884cll(ls -l)\u547d\u4ee4  <code>shell  GitTest on \ue0a0 main \u279c ls -l total 8 -rw-r--r--  1 hahajiukanjian  staff  93  8 17 15:11 readme.txt</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_8","title":"\u7248\u672c\u5e93","text":"<p>\u5de5\u4f5c\u533a\u6709\u4e00\u4e2a\u9690\u85cf\u76ee\u5f55.git\uff0c\u8fd9\u4e2a\u4e0d\u7b97\u5de5\u4f5c\u533a\uff0c\u800c\u662fGit\u7684\u7248\u672c\u5e93\u3002 Git\u7684\u7248\u672c\u5e93\u91cc\u5b58\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u5c31\u662f<code>stage / index</code> \u7684\u6682\u5b58\u533a\uff0c\u8fd8\u6709Git\u4e3a\u6211\u4eec\u521b\u5efa\u7684\u7b2c\u4e00\u4e2a\u5206\u652f<code>main / master</code>\uff0c\u4ee5\u53ca\u6307\u5411<code>main / master</code>\u7684\u4e00\u4e2a\u6307\u9488<code>HEAD</code>\u3002  \u5206\u652f\u4e0e<code>HEAD</code>\u7684\u6982\u5ff5\u5728\u540e\u9762\u7684\u7ae0\u8282\u3002  \u524d\u9762\u6211\u4eec\u628a\u6587\u4ef6\u5f80Git\u7248\u672c\u5e93\u91cc\u6dfb\u52a0\u65f6\uff0c\u5206\u4e24\u6b65\u6267\u884c\uff1a - \u7b2c\u4e00\u6b65<code>git add ...</code>\u628a\u6587\u4ef6\u6dfb\u52a0\u8fdb\u53bb\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u628a\u6587\u4ef6\u4e0e\u6587\u4ef6\u4fee\u6539\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u3002 - \u7b2c\u4e8c\u6b65<code>git commit ...</code>\u63d0\u4ea4\u66f4\u6539\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u628a\u6682\u5b58\u533a\u7684\u6240\u6709\u5185\u5bb9\u63d0\u4ea4\u5230\u5f53\u524d\u5206\u652f\u3002 </p> <p>\u56e0\u4e3a\u6211\u4eec\u521b\u5efaGit\u7248\u672c\u5e93\u65f6\uff0cGit\u81ea\u52a8\u4e3a\u6211\u4eec\u521b\u5efa\u4e86\u552f\u4e00\u4e00\u4e2a<code>main</code>\u5206\u652f\uff0c\u6240\u4ee5\u73b0\u5728<code>git commit</code>\u5c31\u662f\u5f80<code>main</code>\u5206\u652f\u4e0a\u63d0\u4ea4\u66f4\u6539\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/git/#_9","title":"\u8bc4\u8bba\u533a\u7684\u4e00\u4e9b\u8865\u5145","text":"<p>Git\u7ba1\u7406\u7684\u6587\u4ef6\u5206\u4e3a\uff1a\u5de5\u4f5c\u533a\uff0c\u7248\u672c\u5e93\uff0c\u7248\u672c\u5e93\u53c8\u5206\u4e3a\u6682\u5b58\u533astage\u548c\u6682\u5b58\u533a\u5206\u652fmaster(\u4ed3\u5e93) \u5de5\u4f5c\u533a&gt;&gt;&gt;&gt;\u6682\u5b58\u533a&gt;&gt;&gt;&gt;\u4ed3\u5e93 git add\u628a\u6587\u4ef6\u4ece\u5de5\u4f5c\u533a&gt;&gt;&gt;&gt;\u6682\u5b58\u533a\uff0cgit commit\u628a\u6587\u4ef6\u4ece\u6682\u5b58\u533a&gt;&gt;&gt;&gt;\u4ed3\u5e93\uff0c git diff\u67e5\u770b\u5de5\u4f5c\u533a\u548c\u6682\u5b58\u533a\u5dee\u5f02\uff0c git diff --cached\u67e5\u770b\u6682\u5b58\u533a\u548c\u4ed3\u5e93\u5dee\u5f02\uff0c git diff HEAD \u67e5\u770b\u5de5\u4f5c\u533a\u548c\u4ed3\u5e93\u7684\u5dee\u5f02\uff0c git add\u7684\u53cd\u5411\u547d\u4ee4git checkout\uff0c\u64a4\u9500\u5de5\u4f5c\u533a\u4fee\u6539\uff0c\u5373\u628a\u6682\u5b58\u533a\u6700\u65b0\u7248\u672c\u8f6c\u79fb\u5230\u5de5\u4f5c\u533a\uff0c git commit\u7684\u53cd\u5411\u547d\u4ee4git reset HEAD\uff0c\u5c31\u662f\u628a\u4ed3\u5e93\u6700\u65b0\u7248\u672c\u8f6c\u79fb\u5230\u6682\u5b58\u533a\u3002</p> <p>git diff \u65f6\u662f\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\u7684\uff1a\u6682\u5b58\u533a\u4e3a\u7a7a\u548c\u6682\u5b58\u533a\u4e0d\u4e3a\u7a7a\u3002 \u9996\u5148\u6211\u4eec\u660e\u786e\u77e5\u9053git diff\u662f\u6bd4\u8f83\u5de5\u4f5c\u533a\u548c\u6682\u5b58\u533a\u7684\u6587\u4ef6\u7684\uff0c\u5982\u679c\u6b64\u65f6\u6682\u5b58\u533a\u4e3a\u7a7a\uff0c\u90a3\u4e48\u7a0d\u5fae\u6709\u70b9\u4e0d\u540c\uff0c\u5373\uff1a 1 \u6682\u5b58\u533a\u4e3a\u7a7a\u4f7f\u7528git diff\uff1a\u56e0\u4e3a\u6b64\u65f6\u6682\u5b58\u533a\u4e3a\u7a7a\uff0c\u6b64\u65f6\u4f7f\u7528git diff\u540c\u6837\u4e5f\u662f\u6bd4\u8f83\u5de5\u4f5c\u533a\u548c\u4ed3\u5e93\uff0c\u5373\u548c\u4f7f\u7528git diff HEAD\u7ed3\u679c\u76f8\u540c 2 \u6682\u5b58\u533a\u4e0d\u4e3a\u7a7a\u4f7f\u7528git diff:\u56e0\u4e3a\u6b64\u65f6\u6682\u5b58\u533a\u4e0d\u4e3a\u7a7a\uff0c\u6b64\u65f6\u4f7f\u7528git diff\u6bd4\u8f83\u7684\u5c31\u662f\u5de5\u4f5c\u533a\u548c\u6682\u5b58\u533a</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/Nerwork_Wating_IWD_start/","title":"Nerwork_Wating_IWD_start","text":"Bash<pre><code>sudo systemctl start iwd\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/Network_wpa/","title":"Network_wpa","text":"<p>Bash<pre><code>wpa_passphrase WIFI_Name WIFI_Passwd &gt; internet.conf\n\nwpa_supplicant -c internet.conf -i device(wlan0) &amp;\n\ndhcpcd &amp;\n</code></pre> <code>&amp;</code>\u8868\u793a\u5728\u80cc\u540e\u8fd0\u884c dhcpcd \u52a8\u6001\u5206\u914dIP\u5730\u5740</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/","title":"-S\u6307\u4ee4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-s_1","title":"-S \u5b89\u88c5\u8f6f\u4ef6","text":"<p>\u5b89\u88c5\u8f6f\u4ef6\u6216\u91cd\u65b0\u5b89\u88c5\u8f6f\u4ef6</p> <ul> <li> <p>-Sy \u83b7\u53d6\u6700\u65b0\u7684\u8f6f\u4ef6\u60c5\u51b5 \u5982\u679c\u5df2\u7ecf\u662f\u6700\u65b0\u7684\uff0c\u5c31\u4e0d\u4f1a\u66f4\u65b0</p> </li> <li> <p>-Syy \u5f3a\u884c\u66f4\u65b0\u6700\u65b0\u7684\u8f6f\u4ef6\u5e93 \u5373\u4fbf\u8fd1\u671f\u5df2\u7ecf\u6267\u884c\u8fc7\u66f4\u65b0\u8f6f\u4ef6\u60c5\u51b5\uff0c\u4e5f\u4f1a\u5f3a\u5236\u66f4\u65b0</p> </li> <li> <p>-Su \u7528\u6765\u66f4\u65b0\u8f6f\u4ef6</p> </li> <li> <p>-Syu \u66f4\u65b0\u8f6f\u4ef6\u6e90\u5e76\u66f4\u65b0\u8f6f\u4ef6</p> </li> <li> <p>-Syyu \u5f3a\u5236\u66f4\u65b0\u8f6f\u4ef6\u6e90\u5e76\u66f4\u65b0\u8f6f\u4ef6</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-ss","title":"-Ss \u641c\u7d22\u6307\u4ee4","text":"<p>\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f - -Ss vim \u4f1a\u641c\u7d22\u6240\u6709\u540d\u5b57\u5e26\u6709vim\u7684\u8f6f\u4ef6\u5305\uff0c\u663e\u793a\u8f6f\u4ef6\u7684\u6765\u6e90\u3001\u540d\u5b57\u3001\u7248\u672c\u3001\u7b80\u4ecb</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-sc","title":"-Sc \u5220\u9664\u8f6f\u4ef6\u5b89\u88c5\u5305","text":"<p>pacman\u9ed8\u8ba4\u4f1a\u4fdd\u7559\u8f6f\u4ef6\u5b89\u88c5\u5305\u5728/var\u7684cache\u7f13\u5b58\u4e0b</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-r","title":"-R\u6307\u4ee4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-r_1","title":"-R \u5220\u9664\u8f6f\u4ef6","text":"<p>\u5b89\u88c5\u8f6f\u4ef6\u65f6\uff0c\u4e0d\u4ec5\u4f1a\u5b89\u88c5\u8f6f\u4ef6\u672c\u8eab\uff0c\u8fd8\u4f1a\u5b89\u88c5\u8f6f\u4ef6\u8fd0\u884c\u6240\u9700\u8981\u7684\u4f9d\u8d56\u3002 - -R  vim \u4ec5\u4ec5\u53ea\u4f1a\u5220\u9664vim\u7684\u8f6f\u4ef6\u5305\uff0c\u4e0d\u4f1a\u5220\u9664\u5b89\u88c5\u7684\u4f9d\u8d56\u548c\u89e3\u7801\u5668(?) - -Rs \u4f1a\u5220\u9664\u8f6f\u4ef6\u5e76\u5220\u9664\u8f6f\u4ef6\u7684\u4f9d\u8d56 - -Rns \u4f1a\u5220\u9664\u8f6f\u4ef6\u3001\u4f9d\u8d56\u548c\u5176\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-q","title":"-Q\u6307\u4ee4","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#-q_1","title":"-Q \u67e5\u65b0","text":"<p>\u67e5\u8be2\u5df2\u7ecf\u5b89\u88c5\u7684\u8f6f\u4ef6 - -Q \u67e5\u8be2\u7cfb\u7edf\u4e0b\u6240\u6709\u7684\u8f6f\u4ef6</p> <p>\u914d\u5408 pacman -Q | wc -l \u53ef\u4ee5\u67e5\u8be2pacman -Q\u8f93\u51fa\u4e86\u591a\u5c11\u884c\uff0c\u4e5f\u5c31\u662f\u4e00\u5171\u5b89\u88c5\u4e86\u591a\u5c11\u4e2a\u8f6f\u4ef6 - -Qe \u67e5\u8be2\u7528\u6237\u5b89\u88c5\u7684\u8f6f\u4ef6 - -Qeq \u4e0d\u663e\u793a\u8f6f\u4ef6\u7684\u7248\u672c\u53f7 - -Qs \u67e5\u8be2\u672c\u5730\u5b89\u88c5\u7684\u8f6f\u4ef6 - -Qdt \u67e5\u8be2\u4e0d\u518d\u88ab\u9700\u8981\u7684\u4f9d\u8d56</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#_1","title":"\u6307\u4ee4\u8054\u5408\u4f7f\u7528","text":"<ul> <li>sudo pacman -R $(pacman -Qdtq)  -Qdtq\u663e\u793a\u4e0d\u518d\u88ab\u9700\u8981\u7684\u4f9d\u8d56\uff0c\u5e76\u4e14\u4e0d\u663e\u793a\u7248\u672c\u53f7\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/arch/pacman/#pacman","title":"pacman\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>/etc/pacman.config</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/deepin%E7%AE%80%E4%BB%8B/","title":"Deepin\u7b80\u4ecb","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/deepin%E7%AE%80%E4%BB%8B/#_1","title":"\u516c\u53f8\u7b80\u4ecb","text":"<p>\u6b66\u6c49\u6df1\u4e4b\u5ea6\u79d1\u6280\u6709\u9650\u516c\u53f8\uff08\u7b80\u79f0\uff1a\u6df1\u5ea6\u79d1\u6280\uff09\u6210\u7acb\u4e8e2011\u5e74\uff0c\u662f\u4e13\u6ce8\u57fa\u4e8eLinux\u7684\u64cd\u4f5c\u7cfb\u7edf\u7814\u53d1\u4e0e\u670d\u52a1\u7684\u5546\u4e1a\u516c\u53f8\u3002</p> <p>\u4f5c\u4e3a\u56fd\u5185\u9876\u5c16\u7684\u64cd\u4f5c\u7cfb\u7edf\u7814\u53d1\u56e2\u961f\uff0c\u6df1\u5ea6\u79d1\u6280\u4ee5\u63d0\u4f9b\u5b89\u5168\u7a33\u5b9a\u3001\u7f8e\u89c2\u6613\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0e\u5f00\u6e90\u89e3\u51b3\u65b9\u6848\u4e3a\u76ee\u6807\uff0c\u62e5\u6709\u64cd\u4f5c\u7cfb\u7edf\u7814\u53d1\u3001\u884c\u4e1a\u5b9a\u5236\u3001\u56fd\u9645\u5316\u3001\u8fc1\u79fb\u548c\u9002\u914d\u3001\u4ea4\u4e92\u8bbe\u8ba1\u3001\u652f\u6301\u670d\u52a1\u4e0e\u57f9\u8bad\u7b49\u591a\u65b9\u9762\u4e13\u4e1a\u4eba\u624d\uff0c\u80fd\u591f\u6ee1\u8db3\u4e0d\u540c\u7528\u6237\u548c\u5e94\u7528\u573a\u666f\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u4ea7\u54c1\u7684\u5e7f\u6cdb\u9700\u6c42\u3002</p> <p>\u6df1\u5ea6\u79d1\u6280\u4f5c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u751f\u6001\u7684\u6253\u9020\u8005\uff0c\u4e0d\u4f46\u4e0e\u5404\u82af\u7247\u3001\u6574\u673a\u3001\u4e2d\u95f4\u4ef6\u3001\u6570\u636e\u5e93\u7b49\u5382\u5546\u7ed3\u6210\u4e86\u7d27\u5bc6\u5408\u4f5c\u5173\u7cfb\uff0c\u8fd8\u4e0e360\u3001\u91d1\u5c71\u3001\u7f51\u6613\u3001\u641c\u72d7\u7b49\u4f01\u4e1a\u8054\u5408\u5f00\u53d1\u4e86\u591a\u6b3e\u7b26\u5408\u4e2d\u56fd\u7528\u6237\u9700\u6c42\u7684\u5e94\u7528\u8f6f\u4ef6\u3002\u6df1\u5ea6\u79d1\u6280\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ea7\u54c1\uff0c\u5df2\u901a\u8fc7\u4e86\u516c\u5b89\u90e8\u5b89\u5168\u64cd\u4f5c\u7cfb\u7edf\u8ba4\u8bc1\u3001\u5de5\u4fe1\u90e8\u56fd\u4ea7\u64cd\u4f5c\u7cfb\u7edf\u9002\u914d\u8ba4\u8bc1\u3001\u5165\u56f4\u56fd\u7ba1\u5c40\u4e2d\u592e\u96c6\u4e2d\u91c7\u8d2d\u540d\u5f55\uff0c\u5e76\u5728\u56fd\u5185\u515a\u653f\u519b\u3001\u91d1\u878d\u3001\u8fd0\u8425\u5546\u3001\u6559\u80b2\u7b49\u5ba2\u6237\u4e2d\u5f97\u5230\u4e86\u5e7f\u6cdb\u5e94\u7528\u3002</p> <p>\u622a\u6b62\u52302018\u5e74\uff0c\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u8f7d\u8d85\u8fc78000\u4e07\u6b21\uff0c\u63d0\u4f9b32\u79cd\u4e0d\u540c\u7684\u8bed\u8a00\u7248\u672c\uff0c\u4ee5\u53ca\u904d\u5e03\u516d\u5927\u6d3233\u4e2a\u56fd\u5bb6105\u4e2a\u955c\u50cf\u7ad9\u70b9\u7684\u5347\u7ea7\u670d\u52a1\u3002\u5728\u5168\u7403\u5f00\u6e90\u64cd\u4f5c\u7cfb\u7edf\u6392\u884c\u699c\u4e0a\uff0c\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u662f\u7387\u5148\u8fdb\u5165\u56fd\u9645\u524d\u5341\u540d\u7684\u4e2d\u56fd\u64cd\u4f5c\u7cfb\u7edf\u4ea7\u54c1\u3002</p> <p>\u672a\u6765\uff0c\u6df1\u5ea6\u79d1\u6280\u5c06\u7ee7\u7eed\u79c9\u627f\u5f00\u6e90\u548c\u521b\u65b0\u7cbe\u795e\uff0c\u81f4\u529b\u4e8e\u6210\u4e3a\u5177\u5907\u56fd\u9645\u5f71\u54cd\u529b\u7684\u4e3b\u6d41\u64cd\u4f5c\u7cfb\u7edf\u5382\u5546\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/deepin%E7%AE%80%E4%BB%8B/#_2","title":"\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u9879\u76ee","text":"<p>\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e00\u4e2a\u81f4\u529b\u4e8e\u4e3a\u5168\u7403\u7528\u6237\u63d0\u4f9b\u7f8e\u89c2\u6613\u7528\u3001\u5b89\u5168\u53ef\u9760\u4f53\u9a8c\u7684 Linux \u53d1\u884c\u7248\u3002\u5b83\u4e0d\u4ec5\u4ec5\u5bf9\u6700\u4f18\u79c0\u7684\u5f00\u6e90\u4ea7\u54c1\u8fdb\u884c\u96c6\u6210\u548c\u914d\u7f6e\uff0c\u8fd8\u57fa\u4e8e Qt \u6280\u672f\u5f00\u53d1\u4e86\u6df1\u5ea6\u684c\u9762\u73af\u5883\u548c\u6df1\u5ea6\u63a7\u5236\u4e2d\u5fc3\uff0c\u5e76\u4e14\u5f00\u53d1\u4e86\u4e00\u7cfb\u5217\u9762\u5411\u65e5\u5e38\u4f7f\u7528\u7684\u6df1\u5ea6\u7279\u8272\u5e94\u7528\u5982\u6df1\u5ea6\u5546\u5e97\u3001\u6df1\u5ea6\u622a\u56fe\u3001\u6df1\u5ea6\u97f3\u4e50\u3001\u6df1\u5ea6\u5f71\u9662\u7b49\u3002\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u975e\u5e38\u6ce8\u91cd\u6613\u7528\u7684\u4f53\u9a8c\u548c\u7f8e\u89c2\u7684\u8bbe\u8ba1\uff0c\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u6765\u8bf4\uff0c\u5b83\u6613\u4e8e\u5b89\u88c5\u548c\u4f7f\u7528\uff0c\u80fd\u591f\u5f88\u597d\u7684\u4ee3\u66ff Windows \u7cfb\u7edf\u8fdb\u884c\u5de5\u4f5c\u4e0e\u5a31\u4e50\u3002</p> <p>\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u7684\u5386\u53f2\u53ef\u4ee5\u8ffd\u6eaf\u5230 2004 \u5e74\uff0c\u5176\u524d\u8eab Hiweed Linux \u662f\u4e2d\u56fd\u7b2c\u4e00\u4e2a\u57fa\u4e8e Debian \u7684\u672c\u5730\u5316\u7248\u672c\u3002\u5728 2008 \u5e74\u66f4\u540d\u4e3a\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\uff0c2011 \u5e74\u83b7\u5f97\u5546\u4e1a\u6295\u8d44\uff0c\u5df2\u7ecf\u5efa\u7acb\u8d77\u56fd\u5185\u552f\u4e00\u62e5\u6709\u5458\u5de5\u6570\u5341\u4eba\u4e13\u6ce8\u4e8e\u684c\u9762 Linux \u53d1\u884c\u7248\u7684\u56e2\u961f\u3002\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u4e0e\u641c\u72d7\u3001WPS\u3001\u50b2\u6e38\u7b49\u5408\u4f5c\u4f19\u4f34\u8fdb\u884c\u4e86\u591a\u65b9\u4f4d\u5408\u4f5c\uff0c\u5171\u540c\u6253\u9020\u57fa\u4e8e Linux \u7cfb\u7edf\u7684\u751f\u6001\u7cfb\u7edf\u3002\u540c\u65f6\uff0c\u6211\u4eec\u8fd8\u5728\u52aa\u529b\u89e3\u51b3\u8fc1\u79fb Windows \u5e73\u53f0\u8f6f\u4ef6\u5e26\u6765\u7684\u5404\u79cd\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u4ee5\u4fbf\u7528\u6237\u5e73\u6ed1\u7684\u8fc7\u6e21\u5230\u5f00\u653e\u5b89\u5168\u7684 Linux \u5e73\u53f0\u4e0a\u6765\u3002</p> <p>\u5bf9\u4e2a\u4eba\u7528\u6237\u6765\u8bf4\uff0c\u4f7f\u7528\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u4f46\u5b8c\u5168\u514d\u9664\u4e86\u8d2d\u4e70\u8d39\u7528\uff0c\u800c\u4e14\u4e0d\u4f1a\u88ab\u6d41\u884c\u7684\u5404\u79cd\u75c5\u6bd2\u548c\u6728\u9a6c\u611f\u67d3\u3002\u5bf9\u4e8e\u653f\u5e9c\u548c\u4f01\u4e1a\u7528\u6237\uff0c\u7531\u4e8e\u6e90\u4ee3\u7801\u5f00\u653e\u53ef\u63a7\uff0c\u7edd\u65e0\u540e\u95e8\u9690\u60a3\uff0c\u5b89\u5168\u6027\u4e5f\u66f4\u6709\u4fdd\u969c\uff0c\u5927\u5927\u964d\u4f4e\u4e86\u7ef4\u62a4\u4ee3\u4ef7\u548c\u8d2d\u4e70\u9632\u62a4\u8f6f\u4ef6\u7684\u8d39\u7528\u3002</p> <p>\u8fd1\u5e74\u6765\uff0c\u6df1\u5ea6\u64cd\u4f5c\u7cfb\u7edf\u53d1\u5c55\u8fc5\u901f\uff0c\u83b7\u5f97\u5168\u7403\u56db\u5341\u591a\u4e2a\u56fd\u5bb6\u7528\u6237\u7684\u652f\u6301\uff0c\u7d2f\u8ba1\u4e0b\u8f7d\u91cf\u6570\u5343\u4e07\u6b21\uff0c\u5e76\u6210\u4e3a\u5728 Distrowatch \u4e0a\u6392\u540d\u6700\u9ad8\u7684\u4e2d\u56fd Linux \u64cd\u4f5c\u7cfb\u7edf\u53d1\u884c\u7248\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/deepin%E7%AE%80%E4%BB%8B/#deepin_1","title":"deepin \u8f6f\u4ef6\u955c\u50cf\u6e90","text":"<p>\u8be6\u7ec6\u53ef\u89c1\uff1ahttps://www.deepin.org/zh/mirrors/releases/</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/","title":"\u8d21\u732e\u8005\u624b\u518c","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_1","title":"\u9879\u76ee\u6587\u4ef6\u7ed3\u6784","text":"<p>\u5728docs\u4e2d\u5b58\u653e\u9879\u76ee\u76f8\u5173\u7684\u6587\u6863\u8d44\u6599\uff0c\u53ef\u4ee5\u4e3amarkdown\u6587\u4ef6\u548c.\u5730\u533a\u4ee3\u7801.dox\u6269\u5c55\u540d\u7684C++Doxygen\u6ce8\u91ca\u6587\u6863\u3002 Bash<pre><code>debian/\nsrc/\ndocs/\nCMakeLists.txt\n</code></pre></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_2","title":"\u6587\u6863\u6807\u8bb0\u65b9\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#doxygen","title":"Doxygen\u6587\u6863\u6807\u8bb0\u65b9\u5f0f","text":"<p>Doxygen\u79f0\u547c\u7528\u6765\u6807\u8bb0\u6587\u6863\u4e0d\u540c\u7ec4\u6210\u90e8\u5206\u7684\u5173\u952e\u5b57\u4e3aDoxygen\u7279\u6b8a\u6307\u4ee4\uff0c\u4ee5\u4e0b\u7b80\u79f0\u6307\u4ee4\u3002 Doxygen\u6307\u4ee4\u540c\u65f6\u652f\u6301\u4ee5@\u6216\\\u4f5c\u4e3a\u6307\u4ee4\u7684\u6807\u8bc6\u5b57\u7b26\u3002\u4e3a\u4e86\u7edf\u4e00\uff0c\u6211\u4eec\u4e00\u5f8b\u4f7f\u7528@\u4f5c\u4e3a\u6587\u6863\u6307\u4ee4\u7684\u524d\u7f00\uff0c\u4f8b\u5982\u4f7f\u7528@fn\u800c\u4e0d\u662f\u4f7f\u7528\\fn\u3002 \u5b8c\u6574\u7684Doxygen\u7279\u6b8a\u6307\u4ee4\u5217\u8868\u89c1Doxygen \u5b98\u7f51\u7684\u76f8\u5e94\u9875\u9762 |Doxygen\u6307\u4ee4|\u542b\u4e49| |---|---| |@~\u8bed\u8a00ID|\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u8bed\u8a00ID\u5bf9\u5e94\u7684\u8bed\u8a00\u7248\u672c\uff0c\u4f8b\u5982<code>@~chinese</code>\u5bf9\u5e94\u4e2d\u6587| |@file \u6587\u4ef6\u540d|\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9<code>\u6587\u4ef6\u540d</code>\u7684\u6587\u6863\u63cf\u8ff0| |@class \u7c7b\u540d \u5934\u6587\u4ef6\u540d|\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9<code>\u5934\u6587\u4ef6\u540d</code>\u4e2d<code>\u7c7b\u540d</code>\u7684\u6587\u6863\u63cf\u8ff0| |@fn \u51fd\u6570\u58f0\u660e|\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9<code>\u51fd\u6570\u58f0\u660e</code>\u7684\u6587\u6863\u63cf\u8ff0| |@def \u5b8f\u5b9a\u4e49   |\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9 \u5b8f\u5b9a\u4e49 \u7684\u6587\u6863\u63cf\u8ff0| |@enum \u679a\u4e3e\u5b9a\u4e49 |\u58f0\u660e\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9 \u679a\u4e3e\u5b9a\u4e49 \u5bf9\u5e94\u7684\u679a\u4e3e\u7684\u6587\u6863\u63cf\u8ff0| |@var \u53d8\u91cf\u5b9a\u4e49  |\u6807\u8bb0\u5176\u540e\u7684\u90e8\u5206\u662f\u5bf9 \u53d8\u91cf\u5b9a\u4e49 \u5bf9\u5e94\u7684\u679a\u4e3e\u6216\u5168\u5c40\u53d8\u91cf\u7684\u63cf\u8ff0| |@brief \u6982\u8ff0  |\u6807\u8bb0 \u6982\u8ff0 \u6982\u8ff0\u5e94\u8be5\u662f\u7b80\u77ed\u800c\u6709\u6548\u7684| |@details \u8be6\u7ec6\u63cf\u8ff0  |\u6807\u8bb0 \u8be6\u7ec6\u7684\u63cf\u8ff0| |@param \u53c2\u6570\u540d \u63cf\u8ff0  |\u6807\u8bb0\u5bf9 \u53c2\u6570\u540d \u7684\u5bf9\u5e94 \u63cf\u8ff0 \u4ecb\u7ecd| |@deprecated \u63cf\u8ff0 |\u6807\u8bb0\u5bf9\u5e94\u63a5\u53e3\u7684\u5e9f\u5f03\u4ee5\u53ca\u76f8\u5173\u7684 \u63cf\u8ff0 \u4ecb\u7ecd| |@exception \u63cf\u8ff0  |\u6807\u8bb0\u5bf9\u5f02\u5e38\u7684 \u63cf\u8ff0 \u4ecb\u7ecd| |@return \u63cf\u8ff0|    \u6807\u8bb0\u5bf9\u8fd4\u56de\u503c\u7684 \u63cf\u8ff0 \u4ecb\u7ecd| |@since \u7248\u672c\u53f7 |\u6807\u8bb0\u76f8\u5173\u529f\u80fd\u6216\u7279\u6027\u662f\u81ea \u7248\u672c\u53f7 \u540e\u5f15\u5165\u7684| |@sa \u51fd\u6570\u6216\u7c7b\u540d  |\u6807\u8bb0\u4e0e\u5f53\u524d\u51fd\u6570\u6216\u7c7b\u76f8\u5173\u7684\u5176\u5b83 \u51fd\u6570\u6216\u7c7b\u540d\uff08See also\uff09| |@note \u63cf\u8ff0   |\u6807\u8bb0\u503c\u5f97\u5907\u6ce8\u7684 \u63cf\u8ff0 \u4ecb\u7ecd| |@code{.ext}~@endcode   |\u6807\u8bb0\u4ee3\u7801\u5757\u7684\u8d77\u6b62\u533a\u57df\u3002\u4ee3\u7801\u5757\u7684\u683c\u5f0f\u4e3a.ext\u3002 |@anchor \u951a\u70b9 |\u5e38\u548c@ref\u4e00\u540c\u4f7f\u7528\uff0c\u5f62\u6210\u5f15\u7528\u5230\u951a\u70b9\u7684\u8d85\u94fe\u63a5(\u951a\u70b9\u662f\u4e0d\u53ef\u89c1\u7684) |@ref \u5f15\u7528    |\u89c1\u4e0a\u6587 \u4f7f\u7528\u65b9\u6cd5\u662f@ref &lt;\u951a\u70b9\u540d&gt; \"&lt;\u663e\u793a\u6587\u5b57&gt;\"| \u53e6\u5916\uff0cDoxygen\u7684\u4ee3\u7801\u6ce8\u91ca(.dox\u5f62\u5f0f\u6587\u6863)\u4e2d\u4e5f\u652f\u6301\u4f7f\u7528markdown\u8fdb\u884c\u76f8\u5e94\u7684\u6807\u8bb0\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_3","title":"\u793a\u4f8b\u6587\u6863","text":"<p>\u5047\u5b9a\u6211\u4eec\u5bf9\u5982\u4e0b\u793a\u4f8b\u7c7b<code>test.h</code>\u8fdb\u884c\u6587\u6863\u7f16\u5199: C++<pre><code>class Fz_Test\n{\npublic:\n    const char *member(char, int) throw(std::out_of_range);\n    void undocumented();\n};\n</code></pre> \u5219\u6b64\u6587\u4ef6\u5bf9\u5e94\u7684\u6587\u6863<code>test.zh_CN.dox</code>\u770b\u4e0a\u53bb\u4f1a\u662f\u8fd9\u6837\u7684: C++<pre><code>/*\n@~chinese\n@file test.h\n\n\u8fd9\u91cc\u662f test.h \u7684\u63cf\u8ff0\n\n@class Fn_Test test.h\n@brief Fn_Test \u7c7b\n\nFn_Test \u7684\u8be6\u60c5\n\n@fn const char *Fn_Test::member(char c, int n)\n@brief \u4e00\u4e2a\u6210\u5458\u51fd\u6570\n\n\u51fd\u6570\u7684\u8be6\u7ec6\u63cf\u8ff0\n\n@param c \u4e00\u4e2a\u5b57\u7b26\n@param n \u4e00\u4e2a\u6570\u5b57\n@exception std::out_of_range \u53c2\u6570\u8d85\u8fc7\u4e86\u8303\u56f4\n@return \u4e00\u4e2a\u5b57\u7b26\u6307\u9488\n*/\n</code></pre></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_4","title":"\u914d\u7f6e\u65b9\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_5","title":"\u914d\u7f6e\u751f\u6210","text":"<p>Doxygen \u4f7f\u7528 Doxyfile \u7ef4\u62a4\u548c\u7ba1\u7406\u914d\u7f6e\uff0c\u4f46\u4e3a\u4e86\u65b9\u4fbf\u6587\u6863\u76f8\u5173\u7684\u81ea\u52a8\u5316\u6d41\u7a0b\uff0c\u6211\u4eec\u4f7f\u7528 CMake \u6765\u7ba1\u7406\u76f8\u5e94\u7684\u914d\u7f6e\uff0c\u5e76\u786e\u4fdd\u5fc5\u8981\u7684\u914d\u7f6e\u4ee5\u7f13\u5b58\u53d8\u91cf\u7684\u5f62\u5f0f\u5bf9\u5916\u66b4\u9732\uff0c\u4ee5\u4fbf\u5916\u90e8\u8c03\u7528\u65f6\u63a7\u5236\uff08\u53c2\u89c1\u6700\u4e0b\u65b9\u201c\u68c0\u67e5\u9879\u201d\u4e00\u8282\uff09\u3002</p> <p>\u793a\u4f8b\u914d\u7f6e\u53ef\u53c2\u8003 dtkwidget \u9879\u76ee\u7684 doc/CMakeLists.txt\uff0c\u6839\u636e\u9879\u76ee\u81ea\u8eab\u60c5\u51b5\u914c\u60c5\u4fee\u6539\u914d\u7f6e\u5373\u53ef\u3002</p> <p>\u5728 CMakeLists.txt \u65e0\u8bef\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 cmake \u65f6\uff0c\u4f20\u9012 -DDOXYGEN_GENERATE_HTML=\"YES\" \u5373\u53ef\u5728\u751f\u6210\u76ee\u5f55\u4e0b\u7684 docs/html \u76ee\u5f55\u4e0b\u751f\u6210 HTML \u6587\u6863\u3002\u5176\u5b83\u7528\u6cd5\u8bf7\u53c2\u89c1\u4e0b\u9762\u7684\u201c\u68c0\u67e5\u9879\u201d\u4e00\u8282\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/deepin/%E8%B4%A1%E7%8C%AE%E8%80%85%E6%89%8B%E5%86%8C/C%2B%2B%E9%A1%B9%E7%9B%AE%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/#_6","title":"\u68c0\u67e5\u9879","text":"<p>\u53ef\u4ee5\u5728\u6267\u884c cmake \u9ed8\u8ba4\u914d\u7f6e\u540e\uff0c\u901a\u8fc7 make doxygen \u751f\u6210 qch \u6587\u6863\uff0c\u4e14\u53ef\u901a\u8fc7 cmake \u4f20\u5165 -DQCH_INSTALL_DESTINATION \u6765\u914d\u7f6e qch \u7684\u5b89\u88c5\u4f4d\u7f6e \u53ef\u4ee5\u5728\u6267\u884c cmake \u65f6\u4f20\u5165 -DDOXYGEN_GENERATE_XML=\"YES\" \u914d\u7f6e\u540e\uff0c\u901a\u8fc7 make doxygen \u5728\u6784\u5efa\u76ee\u5f55\u5185\u7684 docs/xml/ \u5b50\u76ee\u5f55\u4e2d\u751f\u6210 XML \u6587\u6863\u4fe1\u606f \u53ef\u4ee5\u5728\u6267\u884c cmake \u65f6\u4f20\u5165 -DDOXYGEN_GENERATE_HTML=\"YES\" -DDOXYGEN_HTML_EXTRA_STYLESHEET=\"/path/to/stylesheet.css\" -DDOXYGEN_TAGFILES=\"qtcore.tags=http://doc.qt.io/qt-5/\" \u914d\u7f6e\u540e\uff0c\u901a\u8fc7 make doxygen \u5728\u6784\u5efa\u76ee\u5f55\u5185\u7684 docs/html/ \u5b50\u76ee\u5f55\u4e2d\u751f\u6210 HTML \u6587\u6863 \u53ef\u4ee5\u901a\u8fc7 DOXYGEN_FILE_PATTERNS \u4e0e DOXYGEN_OUTPUT_LANGUAGE \u63a7\u5236\u751f\u6210\u6587\u6863\u7684\u8bed\u8a00\uff08\u9ed8\u8ba4\u4e2d\u6587\u5373\u53ef\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/docker/docker_%E5%AE%89%E8%A3%85ubuntu/","title":"Docker install Ubuntu","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/docker/docker_%E5%AE%89%E8%A3%85ubuntu/#ubuntu","title":"\u53ef\u4ee5\u67e5\u770b\u53ef\u7528\u7684ubuntu\u7248\u672c","text":"<p>\u8bbf\u95eeUbuntu\u955c\u50cf\u5e93\u5730\u5740</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/docker/docker_%E5%AE%89%E8%A3%85ubuntu/#ubuntu_1","title":"\u83b7\u53d6\u6700\u65b0\u7684Ubuntu\u955c\u50cf","text":"Bash<pre><code>docker pull ubuntu\n\u6216\u8005\ndocker pull ubuntu:latest\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/docker/docker_%E5%AE%89%E8%A3%85ubuntu/#_1","title":"\u67e5\u770b\u672c\u5730\u955c\u50cf","text":"Text Only<pre><code>docker images\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/docker/docker_%E5%AE%89%E8%A3%85ubuntu/#ubuntuexecubuntu","title":"\u8fd0\u884cUbuntu\u5bb9\u5668\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7exec\u547d\u4ee4\u8fdb\u5165ubuntu\u5bb9\u5668","text":"Text Only<pre><code>\u8fd0\u884c\ndocker run -itd --name ubuntu-test ubuntu\n\n\u8fdb\u5165\ndocker exec -it ubuntu-test /bin/bash\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/","title":"shell\u3001bash\u3001cmd\u3001PowerShell\u7684\u533a\u522b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/#dos","title":"DOS","text":"<p>\u662f\u78c1\u76d8\u64cd\u4f5c\u7cfb\u7edf\u7684\u7f29\u5199\uff0c\u662f\u4e2a\u4eba\u8ba1\u7b97\u673a\u4e0a\u7684\u4e00\u7c7b\u64cd\u4f5c\u7cfb\u7edf\u3002DOS \u5bb6\u65cf\u5305\u62ec MS-DOS\u3001PC-DOS\u3001DR-DOS\u3001FreeDOS\u3001PTS-DOS\u3001ROM-DOS\u3001JM-OS\u7b49\uff0c\u5176\u4e2d\u4ee5 MS-DOS \u6700\u4e3a\u8457\u540d\u3002\u867d\u7136\u8fd9\u4e9b\u7cfb\u7edf\u5e38\u88ab\u7b80\u79f0\u4e3a\"DOS\"\uff0c\u4f46\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u7cfb\u7edf\u5355\u7eaf\u4ee5\"DOS\"\u547d\u540d\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/#shell","title":"Shell","text":"<p>\u547d\u4ee4\u884c\u754c\u9762\u7684\u89e3\u91ca\u5668\uff0c\u7528\u6237\u548c\u7cfb\u7edf\u5185\u6838\u7684\u6c9f\u901a\u6865\u6881\u3002\u5206\u4e3a\uff1a\u547d\u4ee4\u884c\u754c\u9762\u548c\u56fe\u5f62\u7528\u6237\u754c\u9762\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/#shell_1","title":"\u56fe\u5f62\u7528\u6237\u754c\u9762\u7684Shell","text":"<ul> <li>macOS\u7684shell\uff1a\u8bbf\u8fbe\u3002\u5728macOS\u4e2d\uff0c\u80fd\u8ba9\u7528\u6237\u7ba1\u7406\u6587\u4ef6\u3001\u76ee\u5f55\u3001\u78c1\u76d8\u3001\u7f51\u7edc\u4ee5\u53ca\u542f\u52a8\u5176\u4ed6\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5f15\u7528\u7a0b\u5e8f\u3002</li> <li>Linux\u7684shell\uff1a<ul> <li>X\u7a97\u53e3\u7ba1\u7406\u5668: \u72ec\u7acb\u7684 X\u7a97\u53e3\u7ba1\u7406\u5668\uff0c\u4f8b\u5982 Blackbox \u4e0e Fluxbox \u3002</li> <li>\u300eDesktop Environment / \u684c\u9762\u73af\u5883\u300f: \u684c\u9762\u73af\u5883\u662f\u4f9d\u9760\u4e8e\u7a97\u53e3\u7ba1\u7406\u5668\u7684\u7684\u6269\u5c55\u5b9e\u73b0\u3002\u5982 KDE\u3001GNOME\u3001Xfce\u3001DDE \u3002</li> </ul> </li> <li>Windows\u7684shel\uff1a<ul> <li>\u300eExplorer / \u6587\u4ef6\u8d44\u6e90\u7ba1\u7406\u5668\u300f: \u6b64\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6d4f\u89c8\u7535\u8111\u4e2d\u6587\u4ef6\u4e0e\u6587\u4ef6\u5939\u7ed3\u6784\u7684\u57fa\u672c\u5de5\u5177\uff0cwin + E \u5feb\u6377\u952e\u547c\u51fa\u3002</li> <li>\u300e\u5f00\u59cb\u83dc\u5355\u300f: \u5c4f\u5e55\u7684\u5de6\u4e0b\u89d2\u83dc\u5355\uff0c win \u952e\u547c\u51fa\u3002</li> <li>\u300eDOS Shell\u300f: 1998 \u5e74\u53d1\u5e03\u4e8e MS-DOS \u7684\u6587\u4ef6\u7ba1\u7406\u5668\uff0c\u662f\u7ec8\u7aef\u91cc\u9762\u751f\u6210\u7684\u53ef\u89c6\u5316\u754c\u9762\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/#shell_2","title":"\u547d\u4ee4\u884c\u754c\u9762\u7684shell","text":"<ul> <li>macOS &amp; Linux\u7684shell<ul> <li>\u300esh / Bourne shell\u300f: 1977 \u5728 Version 7 Unix \u4e0a\u7684\u9ed8\u8ba4 shell\u3002</li> <li>\u300eBash\u300f: \u540d\u79f0\u7531\u6765 Bourne-Again SHell\uff0c\u5728 GNU \u8ba1\u5212\u4e2d\uff0c\u4e8e 1989 \u53d1\u5e03\u4e8e\u7b2c\u4e00\u4e2a\u7248\u672c\uff0c\u662f sh \u7684\u517c\u5bb9\u7684\u5f00\u6e90\u7684\u7eed\u4f5c\u3002\u4ea6\u662f Linux \u548c MacOS \uff08\u542b10.14\u4e4b\u524d\uff09\u7684\u9ed8\u8ba4 shell\u3002</li> <li>\u300eZ shell / Zsh\u300f: \u662f sh + bash + \u6269\u5c55\u529f\u80fd\u3002\u81ea2019 \u5e74\u8d77\uff0cMacOS \u7684\u9ed8\u8ba4 Shell \u5df2\u4ece \u300eBash \u300f\u6539\u4e3a\u300eZsh\u300f\u3002</li> </ul> </li> <li>Windows\u7684shell<ul> <li>\u300e\u547d\u4ee4\u63d0\u793a\u7b26 / cmd.exe\u300f\uff1a\u662f Win32 \u5e94\u7528\u7a0b\u5e8f\uff0c\u53d6\u4ee3\u300eCOMMAND.COM\u300f\u3002Windows\u547d\u4ee4\u63d0\u793a\u7b26\uff08cmd.exe\uff09 \u662f Windows NT \u4e0b\u7684\u4e00\u4e2a\u7528\u4e8e\u8fd0\u884c Windows \u63a7\u5236\u53f0\u7a0b\u5e8f\u6216\u67d0\u4e9b DOS \u7a0b\u5e8f\u7684\u58f3\u5c42\u7a0b\u5e8f\u3002</li> <li>\u300ePowerShell\u300f : \u5305\u62ec \u2460Windows PowerShel + \u2461PowerShell Core \uff0c\u57fa\u4e8e .NET \u6846\u67b6\u5f00\u53d1\uff0c\u81ea 2016 \u5e74\u540e\u5f00\u6e90\u4e14\u8de8\u5e73\u53f0\u3002\u2460 \u4e3a\u524d\u56db\u5e74\u7684\u7248\u672c\uff0c\u4ec5\u652f\u6301 Win \u5e73\u53f0\uff1b\u2461 \u5219\u662f\u5176\u6f14\u8fdb\uff0c\u652f\u6301\u8de8\u5e73\u53f0 Linux \u548c Mac\u3002</li> <li>\u300eCOMMAND.COM\u300f: \u662f\u4e00\u4e2a16\u4f4d\u7684 DOS \u5e94\u7528\u7a0b\u5e8f\u3002\u5df2\u7ecf\u88ab \u547d\u4ee4\u63d0\u793a\u7b26(cmd.exe) \u53d6\u4ee3\u5728 MS-DOS\u3001Windows 95\u3001Windows 98\u3001Windows 98SE \u548c Windows Me \u4e0a\u7684\u9ed8\u8ba4\u547d\u4ee4\u884c\u754c\u9762\u3002</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/shell/shell%E3%80%81bash%E3%80%81cmd%E3%80%81PowerShell%E7%9A%84%E5%8C%BA%E5%88%AB/#_1","title":"\u603b\u7ed3","text":"<p>\u300eShell\u300f =\u300e\u56fe\u5f62\u7528\u6237\u754c\u9762\uff08GUI\uff09shell\u300f + \u300e\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\u7684 shell\u300f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/vim/Nvim_ubuntu_0.7/","title":"Nvim ubuntu 0.7","text":"<p>apt\u9ed8\u8ba4\u5b89\u88c5\u4e3a0.4 Ubuntu\u5b89\u88c5neovim0.7 Bash<pre><code>sudo apt-get install software-properties-common\nsudo add-apt-repository ppa:neovim-ppa/stable\nsudo apt-get update\nsudo apt-get install neovim\n</code></pre></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/vim/vim_%E5%B0%86%E5%BD%93%E5%89%8D%E8%A1%8C%E7%A7%BB%E5%8A%A8%E5%88%B0%E5%B1%8F%E5%B9%95%E4%B8%AD%E9%97%B4/","title":"Vim \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u4e2d\u95f4","text":"<p><code>zz</code> \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u4e2d\u592e <code>zt</code> \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u4e0a\u65b9 <code>zb</code> \u5c06\u5f53\u524d\u884c\u79fb\u52a8\u5230\u5c4f\u5e55\u4e0b\u65b9</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/vim/vimcript-lua/","title":"neovim\u4f7f\u7528lua","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/vim/vimcript-lua/#lua","title":"Lua\u6559\u7a0b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/Linux/vim/vimcript-lua/#_1","title":"\u7b80\u4ecb","text":"<p>\u8f7b\u91cf\u5c0f\u5de7\u7684\u811a\u672c\u8bed\u8a00\uff0c\u7528\u6807\u51c6C\u8bed\u8a00\u7f16\u5199\uff0c\u8bbe\u8ba1\u76ee\u7684\u662f\u4e3a\u4e86\u5d4c\u5165\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4ece\u800c\u4e3a\u5e94\u7528\u7a0b\u5e8f \u63d0\u4f9b\u7075\u6d3b\u7684\u62d3\u5c55\u548c\u5b9a\u5236\u529f\u80fd\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/MySQL/macos%E4%BD%BF%E7%94%A8brew%E5%AE%89%E8%A3%85mysql/","title":"macos\u4f7f\u7528brew\u5b89\u88c5mysql","text":"<p>We've installed your MySQL database without a root password. To secure it run:     mysql_secure_installation</p> <p>MySQL is configured to only allow connections from localhost by default</p> <p>To connect run:     mysql -u root</p> <p>To restart mysql after an upgrade:   brew services restart mysql Or, if you don't want/need a background service you can just run:   /opt/homebrew/opt/mysql/bin/mysqld_safe --datadir=/opt/homebrew/var/mysql</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/MySQL/mysql_set_table_utf8/","title":"mysql_set_table_utf8","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/MySQL/mysql_set_table_utf8/#insert-into-girlsidnameweightbtime-valuesstr_to_datey-m-d-his1366incorrect-string-value-xe8xa5xbfxe6x96xbd-for-column-name-at-row-1","title":"insert into girls(id,name,weight,btime) values(?,?,?,str_to_date(?,'%Y-%m-%d %H:%i:%s'))1366,Incorrect string value: '\\xE8\\xA5\\xBF\\xE6\\x96\\xBD...' for column 'name' at row 1","text":"<p>\u8fd9\u4e2a\u9519\u8bef\u662f\u56e0\u4e3a\u4f60\u5c1d\u8bd5\u5411\u4e00\u4e2a\u4f7f\u7528utf8\u5b57\u7b26\u96c6\u7684\u8868\u4e2d\u63d2\u5165\u4e86\u4e00\u4e2a\u4e0d\u80fd\u88ab\u6b63\u786e\u89e3\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u5e38\u89c1\u7684\u539f\u56e0\u662f\u63d2\u5165\u7684\u5b57\u7b26\u4e32\u4e0e\u8868\u7684\u5b57\u7b26\u96c6\u4e0d\u5339\u914d\u3002</p> <p>\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u5728\u63d2\u5165\u4e4b\u524d\u8bbe\u7f6e\u8fde\u63a5\u7684\u5b57\u7b26\u96c6\u4e3autf8\uff0c\u4f8b\u5982\uff1a</p> <p>SQL<pre><code>SET NAMES utf8;\n</code></pre> \u53e6\u5916\uff0c\u8fd8\u9700\u8981\u786e\u4fdd\u8868\u7684\u5b57\u7b26\u96c6\u4e3autf8\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bed\u53e5\u8fdb\u884c\u4fee\u6539\uff1a</p> <p>SQL<pre><code>ALTER TABLE girls CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;\n</code></pre> \u5982\u679c\u8fd9\u4e9b\u64cd\u4f5c\u8fd8\u662f\u4e0d\u80fd\u89e3\u51b3\u95ee\u9898\uff0c\u53ef\u80fd\u9700\u8981\u68c0\u67e5\u4e00\u4e0b\u63d2\u5165\u7684\u5b57\u7b26\u4e32\u662f\u5426\u88ab\u6b63\u786e\u7f16\u7801\u4e3autf8\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/MySQL/mysql%E5%AE%89%E8%A3%85/","title":"mysql\u5b89\u88c5","text":"<p>mysql5.7\u6216\u5176\u4ed6\u7248\u672c</p> <p>\u6e90 \"MySQL 5.7 Community Server\" \u7684 GPG \u5bc6\u94a5\u5df2\u5b89\u88c5\uff0c\u4f46\u662f\u4e0d\u9002\u7528\u4e8e\u6b64\u8f6f\u4ef6\u5305\u3002\u8bf7\u68c0\u67e5\u6e90\u7684\u516c\u94a5 URL \u662f\u5426\u914d\u7f6e\u6b63\u786e\u3002    \u5931\u8d25\u7684\u8f6f\u4ef6\u5305\u662f\uff1amysql-community-libs-compat-5.7.41-1.el7.x86_64  GPG  \u5bc6\u94a5\u914d\u7f6e\u4e3a\uff1afile:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/MySQL/%E7%B4%A2%E5%BC%95_%E5%88%97_%E5%AD%97%E6%AE%B5/","title":"\u7d22\u5f15_\u5217_\u5b57\u6bb5","text":"<ul> <li>\u7d22\u5f15(index)     \u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6570\u636e\u5e93\u7ed3\u6784\uff0c\u5b83\u7528\u4e8e\u52a0\u5feb\u6570\u636e\u5e93\u8868\u4e2d\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\u3002\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\uff0c\u6570\u636e\u5e93\u53ef\u4ee5\u5feb\u901f\u5b9a\u4f4d\u8868\u4e2d\u7b26\u5408\u67e5\u8be2\u6761\u4ef6\u7684\u6570\u636e\u884c\uff0c\u800c\u4e0d\u5fc5\u9010\u884c\u626b\u63cf\u6574\u4e2a\u8868\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u6570\u636e\u5e93\u7684\u67e5\u8be2\u6548\u7387\u3002</li> <li>\u5217(column)     \u662f\u8868\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u9879\uff0c\u5b83\u5177\u6709\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f8b\u5982\u6574\u6570\u3001\u5b57\u7b26\u3001\u65e5\u671f\u7b49\u3002\u8868\u4e2d\u7684\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a\u5217\u540d\uff0c\u7528\u4e8e\u8868\u793a\u8be5\u5217\uff0c\u5e76\u4e14\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a\u6570\u636e\u7c7b\u578b\uff0c\u7528\u4e8e\u6307\u5b9a\u8be5\u5217\u53ef\u4ee5\u5b58\u50a8\u54ea\u79cd\u7c7b\u578b\u7684\u6570\u636e</li> <li>\u5b57\u6bb5(field)     \u662f\u6570\u636e\u5e93\u4e2d\u7684\u57fa\u672c\u5355\u4f4d\u3002\u5b83\u662f\u8868\u4e2d\u7684\u4e00\u5217\uff0c\u4e5f\u5c31\u662f\u6570\u636e\u8868\u4e2d\u7684\u4e00\u4e2a\u5177\u4f53\u5c5e\u6027\u3002\u5b57\u6bb5\u5177\u6709\u6570\u636e\u7c7b\u578b\u548c\u7ea6\u675f\u6761\u4ef6\uff0c\u4f8b\u5982\u957f\u5ea6\u3001\u9ed8\u8ba4\u503c\u7b49\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/brew%E5%AE%89%E8%A3%85qt/","title":"brew\u5b89\u88c5qt","text":"Bash<pre><code>~ 6m 5s 11:27:14\n\ue711 brew install qt\n==&gt; Fetching dependencies for qt: double-conversion and sqlite\n==&gt; Fetching double-conversion\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/double-conversion/manifests/3.3.0\nAlready downloaded: /Users/hahajiukanjian/Library/Caches/Homebrew/downloads/3f6c03611d69daaddcd2d467993bfc4e75cc54a55e2900fd5f383411c445a5b4--double-conversion-3.3.0.bottle_manifest.json\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/double-conversion/blobs/sha256:8945e3\nAlready downloaded: /Users/hahajiukanjian/Library/Caches/Homebrew/downloads/cefff1990825a82c7133225e09ed087b2066e1befb0a4cd00f1669c517aeff9a--double-conversion--3.3.0.arm64_ventura.bottle.tar.gz\n==&gt; Fetching sqlite\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/sqlite/manifests/3.42.0\nAlready downloaded: /Users/hahajiukanjian/Library/Caches/Homebrew/downloads/9054dbd2014cfa67115dbd42da881a047783b58c96344ba1d65317539985b631--sqlite-3.42.0.bottle_manifest.json\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/sqlite/blobs/sha256:c9b11a8dd4fd8996b\nAlready downloaded: /Users/hahajiukanjian/Library/Caches/Homebrew/downloads/5444b51621164538ed0be721bdef9c3edae6832e69069a50af092aeee1a07f0a--sqlite--3.42.0.arm64_ventura.bottle.tar.gz\n==&gt; Fetching qt\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/qt/manifests/6.5.0\nAlready downloaded: /Users/hahajiukanjian/Library/Caches/Homebrew/downloads/e13e6b0aede5faf96865cb3b66febc4735f3860bdf2cb9047a26d54e9bc7e41f--qt-6.5.0.bottle_manifest.json\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/qt/blobs/sha256:681f393770afb634173d3\n==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:6\n###########################################################                      75.0%############################################################################### 100.0%\n==&gt; Installing dependencies for qt: double-conversion and sqlite\n==&gt; Installing qt dependency: double-conversion\n==&gt; Pouring double-conversion--3.3.0.arm64_ventura.bottle.tar.gz\n\ud83c\udf7a  /opt/homebrew/Cellar/double-conversion/3.3.0: 26 files, 260.5KB\n==&gt; Installing qt dependency: sqlite\n==&gt; Pouring sqlite--3.42.0.arm64_ventura.bottle.tar.gz\n\ud83c\udf7a  /opt/homebrew/Cellar/sqlite/3.42.0: 11 files, 4.5MB\n==&gt; Installing qt\n==&gt; Pouring qt--6.5.0.arm64_ventura.bottle.tar.gz\n==&gt; Caveats\nYou can add Homebrew's Qt to QtCreator's \"Qt Versions\" in:\n  Preferences &gt; Qt Versions &gt; Link with Qt...\npressing \"Choose...\" and selecting as the Qt installation path:\n  /opt/homebrew\n==&gt; Summary\n\ud83c\udf7a  /opt/homebrew/Cellar/qt/6.5.0: 14,025 files, 601.8MB\n==&gt; Running `brew cleanup qt`...\nDisable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.\nHide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\n==&gt; Upgrading 1 dependent of upgraded formulae:\nDisable this behaviour by setting HOMEBREW_NO_INSTALLED_DEPENDENTS_CHECK.\nHide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).\nllvm 16.0.2 -&gt; 16.0.4\n==&gt; Fetching dependencies for llvm: z3\n==&gt; Fetching z3\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/z3/manifests/4.12.2\n############################################################################### 100.0%\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/z3/blobs/sha256:e8006cc04b33c0d2f834c\n==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:e\n############################################################################### 100.0%\n==&gt; Fetching llvm\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/llvm/manifests/16.0.4\n############################################################################### 100.0%\n==&gt; Downloading https://ghcr.io/v2/homebrew/core/llvm/blobs/sha256:993db0d54d22dd0fd14\n==&gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sha256:9\n############################################################################### 100.0%\n==&gt; Upgrading llvm\n  16.0.2 -&gt; 16.0.4\n\n==&gt; Installing dependencies for llvm: z3\n==&gt; Installing llvm dependency: z3\n==&gt; Pouring z3--4.12.2.arm64_ventura.bottle.tar.gz\n\ud83c\udf7a  /opt/homebrew/Cellar/z3/4.12.2: 118 files, 30.6MB\n==&gt; Installing llvm\n==&gt; Pouring llvm--16.0.4.arm64_ventura.bottle.tar.gz\n==&gt; Caveats\nTo use the bundled libc++ please add the following LDFLAGS:\n  LDFLAGS=\"-L/opt/homebrew/opt/llvm/lib/c++ -Wl,-rpath,/opt/homebrew/opt/llvm/lib/c++\"\n\nllvm is keg-only, which means it was not symlinked into /opt/homebrew,\nbecause macOS already provides this software and installing another version in\nparallel can cause all kinds of trouble.\n\nIf you need to have llvm first in your PATH, run:\n  echo 'export PATH=\"/opt/homebrew/opt/llvm/bin:$PATH\"' &gt;&gt; ~/.zshrc\n\nFor compilers to find llvm you may need to set:\n  export LDFLAGS=\"-L/opt/homebrew/opt/llvm/lib\"\n  export CPPFLAGS=\"-I/opt/homebrew/opt/llvm/include\"\n==&gt; Summary\n\ud83c\udf7a  /opt/homebrew/Cellar/llvm/16.0.4: 6,779 files, 1.5GB\n==&gt; Running `brew cleanup llvm`...\nRemoving: /opt/homebrew/Cellar/llvm/16.0.2... (6,779 files, 1.5GB)\n==&gt; Checking for dependents of upgraded formulae...\n==&gt; No broken dependents found!\n==&gt; Caveats\n==&gt; qt\nYou can add Homebrew's Qt to QtCreator's \"Qt Versions\" in:\n  Preferences &gt; Qt Versions &gt; Link with Qt...\npressing \"Choose...\" and selecting as the Qt installation path:\n  /opt/homebrew\n==&gt; llvm\nTo use the bundled libc++ please add the following LDFLAGS:\n  LDFLAGS=\"-L/opt/homebrew/opt/llvm/lib/c++ -Wl,-rpath,/opt/homebrew/opt/llvm/lib/c++\"\n\nllvm is keg-only, which means it was not symlinked into /opt/homebrew,\nbecause macOS already provides this software and installing another version in\nparallel can cause all kinds of trouble.\n\nIf you need to have llvm first in your PATH, run:\n  echo 'export PATH=\"/opt/homebrew/opt/llvm/bin:$PATH\"' &gt;&gt; ~/.zshrc\n\nFor compilers to find llvm you may need to set:\n  export LDFLAGS=\"-L/opt/homebrew/opt/llvm/lib\"\n  export CPPFLAGS=\"-I/opt/homebrew/opt/llvm/include\"\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/%E5%85%B3%E9%97%AD%E9%95%BF%E6%8C%89%E6%8C%89%E9%94%AE%E5%87%BA%E7%8E%B0%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6/","title":"\u5173\u95ed\u957f\u6309\u6309\u952e\u51fa\u73b0\u7279\u6b8a\u5b57\u7b26","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/%E5%85%B3%E9%97%AD%E9%95%BF%E6%8C%89%E6%8C%89%E9%94%AE%E5%87%BA%E7%8E%B0%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6/#_1","title":"\u5173\u95ed\u957f\u6309\u6309\u952e\u51fa\u73b0\u7279\u6b8a\u5b57\u7b26","text":"<p>Bash<pre><code>defaults write NSGlobalDomain ApplePressAndHoldEnabled -boolean false\n#or\ndefaults write -g ApplePressAndHoldEnabled -bool false\n\nsudo reboot\n</code></pre> \u5982\u679c\u60f3\u8981\u5f00\u542f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06false\u8bbe\u7f6e\u4e3atrue \u8bbe\u7f6e\u4e4b\u540e\u5c31\u53ef\u4ee5\u6309\u4e00\u4e2a\u6309\u952e\u8fdb\u884c\u8fde\u7eed\u8f93\u5165\u4e86\uff0c\u5728vim\u4e2d\u6bd4\u8f83\u5e38\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/ssh/ssh_%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/","title":"ssh_\u514d\u5bc6\u767b\u5f55","text":"<p>ssh\u514d\u5bc6\u7801\u767b\u5f55</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/ssh/ssh_%E5%AE%89%E8%A3%85ssh/","title":"ssh_\u5b89\u88c5ssh","text":"<p>\u5b89\u88c5ssh Bash<pre><code>pacman -Syy openssh\n</code></pre></p> Bash<pre><code>sudo vim /etc/ssh/sshd_config\n#\u5f00\u542f\nPermitRootLogin yes\n</code></pre> <p>\u542f\u52a8\u670d\u52a1 Bash<pre><code>systemctl start sshd\n</code></pre></p> <p>\u5f00\u673a\u542f\u52a8 Bash<pre><code>systemctl enable sshd.service\n</code></pre></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/ssh/ssh_%E6%97%A0%E6%B3%95ssh%E8%BF%9E%E6%8E%A5root%E7%94%A8%E6%88%B7/","title":"ssh_\u65e0\u6cd5ssh\u8fde\u63a5root\u7528\u6237","text":"<p>vi /etc/ssh/sshd_config</p> Bash<pre><code>PermitRootLogin yes #\u5141\u8bb8root\u767b\u5f55\nPasswordAuthentication yes #\u5141\u8bb8\u5bc6\u7801\u767b\u5f55\n</code></pre> <p>\u91cd\u542fsshd <code>systemctl restart sshd</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/macOS/ssh/ssh_%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF/","title":"ssh_\u8fde\u63a5\u9519\u8bef","text":"Bash<pre><code>~\n\u279c ssh root@192.168.0.104\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\nThe fingerprint for the ED25519 key sent by the remote host is\nSHA256:TUe63//TeXi5dQHKYtWW21/SEtCY2oVZ6Xf+pbdDDcI.\nPlease contact your system administrator.\nAdd correct host key in /Users/hahajiukanjian/.ssh/known_hosts to get rid of this message.\nOffending ECDSA key in /Users/hahajiukanjian/.ssh/known_hosts:37\nHost key for 192.168.0.104 has changed and you have requested strict checking.\nHost key verification failed.\n</code></pre> <p>\u89e3\u51b3\u529e\u6cd5\uff1a ssh-keygen -R +\u8f93\u5165\u670d\u52a1\u5668\u7684IP</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84BUG/tomcat%E5%90%AF%E5%8A%A8%E4%B8%8D%E6%88%90%E5%8A%9F/","title":"TomCat\u542f\u52a8\u4e0d\u6210\u529f","text":"<p>## \u80cc\u666f\u4ecb\u7ecd\uff1a</p> <p>\u7535\u8111\u4e2d\u65e2\u6709tomcat9\u53c8\u6709tomcat10\u3002\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7075\u6d3b\u7684\u4f7f\u7528tomcat</p> Bash<pre><code># \u914d\u7f6etomcat9\u548c10\u7684\u73af\u5883\u53d8\u91cf\nexport TOMCAT_9_HOME=/Users/hahajiukanjian/.config/apache-tomcat-9.0.80\nexport TOMCAT_10_HOME=/Users/hahajiukanjian/.config/apache-tomcat-10.1.13\nexport TOMCAT_HOME=$TOMCAT_10_HOME\n</code></pre> <p>\u53ea\u9700\u8981\u66f4\u6539$TOMCAT_HOME\u7684\u503c\u5c31\u597d\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84BUG/tomcat%E5%90%AF%E5%8A%A8%E4%B8%8D%E6%88%90%E5%8A%9F/#tomcat9jdk17","title":"tomcat9\u65e0\u6cd5\u8fd0\u884cjdk17\u7f16\u8bd1\u7684\u5185\u5bb9","text":"<p>\u5f53\u6211\u4f7f\u7528tomcat9\u8fd0\u884cjdk17\u7f16\u8bd1\u51fa\u7684Servlet\u5185\u5bb9\u65f6\uff0c\u6d4f\u89c8\u5668\u51fa\u73b0\u4e86500\u7684\u9519\u8bef\u3002</p> <p><code>java.lang.UnsupportedClassVersionError: com/hahajiukanjian/HelloServlet has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (\u65e0\u6cd5\u8f7d\u5165\u7684\u7c7b [com.hahajiukanjian.HelloServlet])</code></p> <p>\u8fd9\u4e2a\u9519\u8bef\u8868\u660eServlet\u7c7b<code>com.hahajiukanjian.HelloServlet</code>\u662f\u4f7f\u7528Java Runtime\u7684\u7248\u672c61.0\u8fdb\u884c\u7f16\u8bd1\u7684\uff0c\u4f46\u4f60\u7684\u670d\u52a1\u5668\u4e0a\u7684Java Runtime\u53ea\u80fd\u8bc6\u522b\u7248\u672c52.0\u53ca\u4ee5\u4e0b\u7684\u7c7b\u6587\u4ef6\u3002\u8fd9\u610f\u5473\u7740\u4f60\u9700\u8981\u5c06\u4f60\u7684Servlet\u7c7b\u7f16\u8bd1\u4e3a\u4e0e\u670d\u52a1\u5668\u4e0a\u7684Java Runtime\u7248\u672c\u517c\u5bb9\u7684\u7248\u672c\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u9700\u8981\u66f4\u6362\u5230tomcat10\u7248\u672c\u3002\uff08\u5177\u4f53\u7684\u89e3\u51b3\u529e\u6cd5\u8fd8\u4e0d\u77e5\u9053\uff0c\u53ea\u77e5\u9053\u66f4\u6362\u65b0\u7248\u672c\uff09</p> <p>## tomcat10\u542f\u52a8\u540e\uff0c\u6d4f\u89c8\u5668\u65e0\u6cd5\u8bbf\u95ee\u3002</p> <p>\u5728\u6211\u66f4\u6362\u540e\uff0c\u542f\u52a8tomcat\u65f6\uff0c\u6ca1\u6709\u51fa\u73b0\u9519\u8bef\u3002\u4f46\u662f\u6d4f\u89c8\u5668\u8bbf\u95ee<code>localhost:8080</code>\u5931\u8d25\u3002</p> <p>\u5173\u95edtomcat\u65f6\u5374\u51fa\u73b0\u4e86</p> Bash<pre><code>$ sudo ./catalina.sh stop\nUsing CATALINA_BASE:   /Users/hahajiukanjian/.config/apache-tomcat-10.1.13\nUsing CATALINA_HOME:   /Users/hahajiukanjian/.config/apache-tomcat-10.1.13\nUsing CATALINA_TMPDIR: /Users/hahajiukanjian/.config/apache-tomcat-10.1.13/temp\nUsing JRE_HOME:        /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\nUsing CLASSPATH:       /Users/hahajiukanjian/.config/apache-tomcat-10.1.13/bin/bootstrap.jar:/Users/hahajiukanjian/.config/apache-tomcat-10.1.13/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:   \nUnrecognized option: --add-opens=java.base/java.lang=ALL-UNNAMED\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre> <p>\u4ed4\u7ec6\u67e5\u770b\u53d1\u73b0JRE_HOME\u8def\u5f84\u4e0d\u6b63\u786e\uff0c\u5728zshrc\u4e2d\u914d\u7f6eJRE_HOME\u540e\uff0c\u5173\u95edtomcat\u51fa\u73b0\u7684\u8fd8\u662f\u539f\u672c\u7684\u9519\u8bef\u8def\u5f84\u3002</p> <p>\u9700\u8981\u5728<code>catalina.sh</code>\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a<code>export JRE_HOME=/path/to/your/jre</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/","title":"\u95ee\u7b54","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q5","title":"Q:\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u76845\u5c42\u7ed3\u6784\u4e2d\uff0c\u6bcf\u4e00\u5c42\u7684\u529f\u80fd\u5927\u6982\u662f\u4ec0\u4e48\uff1f","text":"<ul> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u4e94\u5c42\u7ed3\u6784\u662f\u6307OSI\u6a21\u578b\uff08Open Systems Interconnection Reference Model\uff09\u548cTCP/IP\u6a21\u578b\uff08Transmission Control Protocol/Internet Protocol\uff09\u3002</li> <li>OSI\u6a21\u578b\u5206\u4e3a\u4e03\u5c42\uff0cTCP/IP\u6a21\u578b\u5206\u4e3a\u56db\u5c42\uff0c\u4f46\u662f\u5b83\u4eec\u90fd\u5305\u542b\u4e86\u4ee5\u4e0b\u4e94\u5c42:<ul> <li>\u7269\u7406\u5c42\uff08Physical Layer\uff09\uff1a\u8fd9\u4e00\u5c42\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5b9a\u4e49\u7269\u7406\u8bbe\u5907\u6807\u51c6\uff0c\u5982\u4f20\u8f93\u4ecb\u8d28\u3001\u7535\u6c14\u7279\u6027\u3001\u8fde\u63a5\u5668\u7b49\u3002\u5728\u7269\u7406\u5c42\u4e0a\u6240\u4f20\u8f93\u7684\u6570\u636e\u5355\u4f4d\u662f\u6bd4\u7279\uff08Bit\uff09\u3002 </li> <li>\u6570\u636e\u94fe\u8def\u5c42\uff08Data Link Layer\uff09\uff1a\u8fd9\u4e00\u5c42\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5728\u7269\u7406\u5c42\u63d0\u4f9b\u7684\u670d\u52a1\u4e4b\u4e0a\uff0c\u5efa\u7acb\u6570\u636e\u94fe\u8def\u8fde\u63a5\uff0c\u8fdb\u884c\u5dee\u9519\u68c0\u6d4b\u4e0e\u7ea0\u6b63\uff0c\u5e76\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\u7b49\u3002\u6570\u636e\u94fe\u8def\u5c42\u7684\u6570\u636e\u5355\u4f4d\u662f\u5e27\uff08Frame\uff09\u3002</li> <li>\u7f51\u7edc\u5c42\uff08Network Layer\uff09\uff1a\u8fd9\u4e00\u5c42\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5b9a\u4e49\u4e86\u6570\u636e\u5728\u7f51\u7edc\u4e2d\u7684\u4f20\u8f93\u65b9\u5f0f\u548c\u8def\u5f84\u9009\u62e9\uff0c\u5b9e\u73b0\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u7684\u4e92\u8054\uff0c\u4ee5\u53ca\u63d0\u4f9b\u8def\u7531\u9009\u62e9\u548c\u62e5\u585e\u63a7\u5236\u7b49\u670d\u52a1\u3002\u7f51\u7edc\u5c42\u7684\u6570\u636e\u5355\u4f4d\u662f\u6570\u636e\u5305\uff08Packet\uff09\u3002</li> <li>\u4f20\u8f93\u5c42\uff08Transport Layer\uff09\uff1a\u8fd9\u4e00\u5c42\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5b9a\u4e49\u4e86\u6570\u636e\u4f20\u8f93\u7684\u534f\u8bae\u548c\u7aef\u53e3\u53f7\uff0c\u63d0\u4f9b\u53ef\u9760\u7684\u7aef\u5230\u7aef\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1\uff0c\u5982TCP\u3001UDP\u7b49\u534f\u8bae\u3002\u4f20\u8f93\u5c42\u7684\u6570\u636e\u5355\u4f4d\u662f\u62a5\u6587\u6bb5\uff08Segment\uff09\u3002</li> <li>\u5e94\u7528\u5c42\uff08Application Layer\uff09\uff1a\u8fd9\u4e00\u5c42\u662f\u6700\u9760\u8fd1\u7528\u6237\u7684\u5c42\uff0c\u63d0\u4f9b\u7528\u6237\u63a5\u53e3\uff0c\u5b8c\u6210\u5404\u79cd\u5e94\u7528\u670d\u52a1\uff0c\u5982HTTP\u3001SMTP\u3001FTP\u7b49\u534f\u8bae\u3002\u5e94\u7528\u5c42\u7684\u6570\u636e\u5355\u4f4d\u662f\u62a5\u6587\uff08Message\uff09\u3002</li> </ul> </li> <li>\u8fd9\u4e94\u5c42\u5206\u522b\u5904\u7406\u4e0d\u540c\u5c42\u6b21\u4e0a\u7684\u95ee\u9898\uff0c\u76f8\u4e92\u4e4b\u95f4\u53c8\u8fdb\u884c\u4e86\u6709\u6548\u7684\u534f\u540c\u5de5\u4f5c\uff0c\u5f62\u6210\u4e86\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u5b8c\u6574\u4f53\u7cfb\u7ed3\u6784\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q","title":"Q:\u4ea4\u6362\u673a\u7684\u529f\u80fd","text":"<ul> <li>\u4ea4\u6362\u673a\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u5e38\u89c1\u7684\u7f51\u7edc\u8bbe\u5907\u4e4b\u4e00\uff0c\u5b83\u4f5c\u7528\u5728\u6570\u636e\u94fe\u8def\u5c42\u3002\u5b83\u7684\u4e3b\u8981\u529f\u80fd\u662f\u5728\u5c40\u57df\u7f51\u5185\u90e8\u8fdb\u884c\u5206\u7ec4\u4ea4\u6362\uff0c\u5b9e\u73b0\u4e0d\u540c\u8bbe\u5907\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u4ea4\u6362\u673a\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\uff1a<ul> <li>\u8f6c\u53d1\u6570\u636e\u5e27\uff1a\u4ea4\u6362\u673a\u63a5\u6536\u5230\u4e00\u4e2a\u6570\u636e\u5e27\u540e\uff0c\u6839\u636e\u6570\u636e\u5e27\u4e2d\u7684\u76ee\u7684MAC\u5730\u5740\uff0c\u5c06\u6570\u636e\u5e27\u8f6c\u53d1\u7ed9\u76f8\u5e94\u7684\u7aef\u53e3\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u8bbe\u5907\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</li> <li>\u8fc7\u6ee4\u6570\u636e\u5e27\uff1a\u4ea4\u6362\u673a\u53ef\u4ee5\u6839\u636e\u8bbe\u5907\u7684MAC\u5730\u5740\u8fdb\u884c\u8fc7\u6ee4\uff0c\u5c06\u5e7f\u64ad\u5e27\u548c\u672a\u77e5\u7684\u5355\u64ad\u5e27\u8f6c\u53d1\u5230\u6240\u6709\u7684\u7aef\u53e3\uff0c\u5c06\u5df2\u77e5\u7684\u5355\u64ad\u5e27\u8f6c\u53d1\u5230\u76f8\u5e94\u7684\u7aef\u53e3\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5b89\u5168\u6027\u3002     &gt; \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\u4ea4\u6362\u673a\u53ef\u4ee5\u6839\u636e\u6bcf\u4e2a\u8bbe\u5907\u7684 MAC \u5730\u5740\u8fdb\u884c\u8fc7\u6ee4\u5e76\u8fdb\u884c\u9488\u5bf9\u6027\u7684\u8f6c\u53d1\u3002     &gt; \u5728\u4e00\u4e2a\u7f51\u7edc\u4e2d\uff0c\u6bcf\u4e2a\u8bbe\u5907\uff08\u5982\u7535\u8111\u3001\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u7b49\uff09\u90fd\u4f1a\u6709\u4e00\u4e2a\u552f\u4e00\u7684 MAC \u5730\u5740\uff0c\u7528\u4e8e\u5728\u5c40\u57df\u7f51\u5185\u552f\u4e00\u6807\u8bc6\u8fd9\u4e2a\u8bbe\u5907\u3002\u4ea4\u6362\u673a\u901a\u8fc7\u5b66\u4e60\u6bcf\u4e2a\u7aef\u53e3\u5bf9\u5e94\u7684 MAC \u5730\u5740\u6765\u5224\u65ad\u6bcf\u4e2a\u8bbe\u5907\u7684\u4f4d\u7f6e\uff0c\u4ece\u800c\u53ef\u4ee5\u6839\u636e\u76ee\u6807\u8bbe\u5907\u7684 MAC \u5730\u5740\u8fdb\u884c\u6709\u9488\u5bf9\u6027\u5730\u8f6c\u53d1\u6570\u636e\u5e27\u3002\u5f53\u4ea4\u6362\u673a\u63a5\u6536\u5230\u6570\u636e\u5e27\u65f6\uff0c\u5b83\u4f1a\u67e5\u770b\u5e27\u5934\u4e2d\u7684\u76ee\u6807 MAC \u5730\u5740\uff0c\u5e76\u5c06\u6570\u636e\u5e27\u53ea\u8f6c\u53d1\u5230\u4e0e\u76ee\u6807\u8bbe\u5907\u6240\u5728\u7aef\u53e3\u76f8\u5e94\u7684\u7aef\u53e3\u4e0a\uff0c\u800c\u4e0d\u4f1a\u8f6c\u53d1\u5230\u6240\u6709\u7684\u7aef\u53e3\u4e0a\uff0c\u8fd9\u5c31\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5b89\u5168\u6027\u3002     &gt; \u5bf9\u4e8e\u5e7f\u64ad\u5e27\u548c\u672a\u77e5\u7684\u5355\u64ad\u5e27\uff0c\u4ea4\u6362\u673a\u4f1a\u5c06\u5b83\u4eec\u8f6c\u53d1\u5230\u6240\u6709\u7684\u7aef\u53e3\u4e0a\uff0c\u56e0\u4e3a\u5e7f\u64ad\u5e27\u662f\u8981\u4f20\u9012\u7ed9\u6240\u6709\u8bbe\u5907\u7684\uff0c\u672a\u77e5\u7684\u5355\u64ad\u5e27\u662f\u6307\u4ea4\u6362\u673a\u4e0d\u77e5\u9053\u76ee\u6807\u8bbe\u5907\u7684\u4f4d\u7f6e\uff0c\u56e0\u6b64\u9700\u8981\u5c06\u5176\u8f6c\u53d1\u5230\u6240\u6709\u7684\u7aef\u53e3\u4e0a\u3002</li> <li>\u5b66\u4e60MAC\u5730\u5740\uff1a\u5f53\u4ea4\u6362\u673a\u63a5\u6536\u5230\u4e00\u4e2a\u6570\u636e\u5e27\u65f6\uff0c\u5b83\u4f1a\u5c06\u6570\u636e\u5e27\u4e2d\u7684\u6e90MAC\u5730\u5740\u548c\u8be5\u7aef\u53e3\u53f7\u4fdd\u5b58\u5728\u4e00\u4e2a\u8f6c\u53d1\u8868\u4e2d\uff0c\u4ee5\u4fbf\u4e0b\u6b21\u8f6c\u53d1\u65f6\u66f4\u5feb\u5730\u627e\u5230\u5bf9\u5e94\u7684\u7aef\u53e3\u3002 </li> <li>\u8bca\u65ad\u6545\u969c\uff1a\u4ea4\u6362\u673a\u53ef\u4ee5\u901a\u8fc7\u81ea\u6211\u68c0\u6d4b\u673a\u5236\u6765\u68c0\u6d4b\u6545\u969c\uff0c\u5e76\u901a\u8fc7\u53d1\u9001\u8b66\u544a\u6d88\u606f\u6216\u65ad\u5f00\u8fde\u63a5\u7b49\u65b9\u5f0f\u6765\u9632\u6b62\u7f51\u7edc\u6545\u969c\u7684\u6269\u6563\u3002</li> <li>\u8fde\u63a5\u591a\u4e2a\u5c40\u57df\u7f51\uff1a\u4ea4\u6362\u673a\u53ef\u4ee5\u901a\u8fc7\u4e0d\u540c\u7aef\u53e3\u8fde\u63a5\u591a\u4e2a\u5c40\u57df\u7f51\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u5c40\u57df\u7f51\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\u3002 </li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_1","title":"Q:\u6570\u636e\u5e27\u662f\u4ec0\u4e48","text":"<p>\u6570\u636e\u5e27\uff08Data Frame\uff09\u662f\u6570\u636e\u94fe\u8def\u5c42\u7684\u534f\u8bae\u6570\u636e\u5355\u5143\uff0c\u7531\u6570\u636e\u548c\u6570\u636e\u5934\u90e8\u7ec4\u6210\u3002\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u6570\u636e\u5e27\u662f\u5728\u6570\u636e\u94fe\u8def\u5c42\u4e2d\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u7684\u57fa\u672c\u5355\u4f4d\u3002</p> <p>\u6570\u636e\u5e27\u7531\u591a\u4e2a\u5b57\u6bb5\u6784\u6210\uff0c\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u524d\u5bfc\u7801\uff08Preamble\uff09\uff1a\u6807\u8bc6\u4e00\u4e2a\u6570\u636e\u5e27\u7684\u5f00\u59cb\uff0c\u957f\u5ea6\u4e3a7\u4e2a\u5b57\u8282\uff0c\u5168\u90e8\u4e3a\u4e8c\u8fdb\u52361\u3002</li> <li>\u76ee\u6807\u5730\u5740\uff08Destination Address\uff09\uff1a\u6307\u793a\u6570\u636e\u5e27\u5e94\u8be5\u53d1\u9001\u5230\u54ea\u4e2a\u7f51\u7edc\u5730\u5740\u3002</li> <li>\u6e90\u5730\u5740\uff08Source Address\uff09\uff1a\u6807\u8bc6\u6570\u636e\u5e27\u7684\u53d1\u9001\u8005\u7684\u5730\u5740\u3002</li> <li>\u7c7b\u578b\uff08Type\uff09\uff1a\u6807\u8bc6\u6570\u636e\u5e27\u7684\u7c7b\u578b\uff0c\u5982IP\u6570\u636e\u5305\u3001ARP\u6570\u636e\u5305\u7b49\u3002</li> <li>\u6570\u636e\uff08Data\uff09\uff1a\u5b9e\u9645\u4f20\u8f93\u7684\u6570\u636e\u5185\u5bb9\u3002</li> <li>\u6821\u9a8c\u548c\uff08Checksum\uff09\uff1a\u7528\u4e8e\u68c0\u6d4b\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u5dee\u9519\u3002</li> </ul> <p>\u5728\u6570\u636e\u94fe\u8def\u5c42\u4e2d\uff0c\u6bcf\u4e00\u5c42\u7684\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u4ea4\u6362\u673a\u3001\u7f51\u5361\u7b49\uff09\u90fd\u4f1a\u8bfb\u53d6\u548c\u5904\u7406\u6570\u636e\u5e27\uff0c\u5b8c\u6210\u6570\u636e\u4f20\u8f93\u7684\u529f\u80fd\u3002\u901a\u8fc7\u6570\u636e\u5e27\u7684\u4f20\u8f93\uff0c\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u7684\u4e0d\u540c\u8bbe\u5907\u53ef\u4ee5\u76f8\u4e92\u901a\u4fe1\u548c\u4f20\u8f93\u6570\u636e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_2","title":"Q:\u5c40\u57df\u7f51\u662f\u4ec0\u4e48\u610f\u601d\uff0c\u9664\u4e86\u5c40\u57df\u7f51\u8fd8\u6709\u4ec0\u4e48\u7f51\uff0c\u4ed6\u4eec\u4e4b\u95f4\u6709\u4ec0\u4e48\u8054\u7cfb\uff1f","text":"<p>\u5c40\u57df\u7f51\uff08Local Area Network\uff0cLAN\uff09\u662f\u6307\u5728\u5c0f\u8303\u56f4\u5185\u5efa\u7acb\u8d77\u6765\u7684\u8ba1\u7b97\u673a\u7f51\u7edc\uff0c\u4e00\u822c\u662f\u6307\u5728\u4e00\u4e2a\u5efa\u7b51\u7269\u3001\u6821\u56ed\u3001\u529e\u516c\u5ba4\u3001\u4f01\u4e1a\u5185\u90e8\u7b49\u5c0f\u8303\u56f4\u5185\u7684\u7f51\u7edc\u3002\u5c40\u57df\u7f51\u5185\u7684\u8bbe\u5907\u53ef\u4ee5\u76f4\u63a5\u901a\u4fe1\uff0c\u65e0\u9700\u7ecf\u8fc7\u4e92\u8054\u7f51\u3002\u5c40\u57df\u7f51\u901a\u5e38\u7531\u4e00\u4e9b\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u3001\u7f51\u5361\u7b49\uff09\u548c\u82e5\u5e72\u8ba1\u7b97\u673a\uff08\u5305\u62ec\u53f0\u5f0f\u673a\u3001\u7b14\u8bb0\u672c\u3001\u670d\u52a1\u5668\u7b49\uff09\u7ec4\u6210\uff0c\u8fd9\u4e9b\u8bbe\u5907\u901a\u8fc7\u7535\u7f06\u3001\u5149\u7ea4\u7b49\u7269\u7406\u5a92\u4ecb\u76f8\u8fde\u3002</p> <p>\u9664\u4e86\u5c40\u57df\u7f51\uff0c\u8fd8\u6709\u5e7f\u57df\u7f51\uff08Wide Area Network\uff0cWAN\uff09\u548c\u57ce\u57df\u7f51\uff08Metropolitan Area Network\uff0cMAN\uff09\u7b49\u4e0d\u540c\u7684\u7f51\u7edc\u7c7b\u578b\u3002</p> <p>\u5e7f\u57df\u7f51\uff08WAN\uff09\u662f\u8986\u76d6\u8303\u56f4\u8f83\u5927\u7684\u7f51\u7edc\uff0c\u53ef\u4ee5\u8de8\u8d8a\u591a\u4e2a\u57ce\u5e02\u3001\u591a\u4e2a\u56fd\u5bb6\u751a\u81f3\u8de8\u8d8a\u5927\u6d32\u3002\u5e7f\u57df\u7f51\u901a\u5e38\u7531\u591a\u4e2a\u5c40\u57df\u7f51\u7ec4\u6210\uff0c\u901a\u8fc7\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u3001\u5149\u7f06\u7b49\u4e92\u8fde\u8bbe\u5907\u76f8\u4e92\u8fde\u63a5\uff0c\u6784\u6210\u4e00\u4e2a\u5168\u7403\u6027\u7684\u7f51\u7edc\u3002</p> <p>\u57ce\u57df\u7f51\uff08MAN\uff09\u662f\u4ecb\u4e8e\u5c40\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u4e4b\u95f4\u7684\u7f51\u7edc\uff0c\u901a\u5e38\u8986\u76d6\u4e00\u4e2a\u57ce\u5e02\u6216\u5730\u7406\u8303\u56f4\u8f83\u5c0f\u7684\u533a\u57df\uff0c\u662f\u8fde\u63a5\u591a\u4e2a\u5c40\u57df\u7f51\u6216\u5e7f\u57df\u7f51\u7684\u4e00\u79cd\u4e2d\u95f4\u7f51\u7edc\u3002</p> <p>\u8fd9\u4e9b\u4e0d\u540c\u7c7b\u578b\u7684\u7f51\u7edc\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7\u8def\u7531\u5668\u3001\u7f51\u5173\u7b49\u8bbe\u5907\u76f8\u4e92\u8fde\u63a5\uff0c\u6784\u6210\u4e00\u4e2a\u8f83\u4e3a\u5e9e\u5927\u7684\u4e92\u8054\u7f51\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_3","title":"Q:\u4ee5\u592a\u7f51\u662f\u4ec0\u4e48\uff0c\u4e92\u8054\u7f51\u662f\u4ec0\u4e48\uff0c\u4ed6\u4eec\u548c\u4e4b\u524d\u63d0\u5230\u7684\u5c40\u57df\u7f51\u3001\u57ce\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u7684\u533a\u522b\u548c\u5173\u7cfb\u662f\u4ec0\u4e48","text":"<p>\u4ee5\u592a\u7f51\u662f\u4e00\u79cd\u5c40\u57df\u7f51\u7684\u4f20\u8f93\u6280\u672f\uff0c\u662f\u4e00\u79cd\u4f7f\u7528\u5e7f\u6cdb\u7684\u6709\u7ebf\u5c40\u57df\u7f51\uff08LAN\uff09\u6280\u672f\uff0c\u5b83\u4f7f\u7528\u4e86\u4e00\u79cd\u79f0\u4e3a\u201c\u8f7d\u6ce2\u4fa6\u542c\u591a\u8def\u8bbf\u95ee/\u51b2\u7a81\u68c0\u6d4b\u201d\uff08Carrier Sense Multiple Access/Collision Detection\uff0cCSMA/CD\uff09\u7684\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u534f\u8bae\u6765\u534f\u8c03\u591a\u4e2a\u8bbe\u5907\u5728\u5171\u4eab\u540c\u4e00\u4f20\u8f93\u5a92\u4ecb\uff08\u4f8b\u5982\u540c\u4e00\u7535\u7f06\uff09\u65f6\u7684\u8bbf\u95ee\u3002\u4ee5\u592a\u7f51\u901a\u5e38\u4f7f\u7528\u53cc\u7ede\u7ebf\u6216\u5149\u7ea4\u4f5c\u4e3a\u4f20\u8f93\u5a92\u4ecb\u3002</p> <p>\u4e92\u8054\u7f51\uff08Internet\uff09\u662f\u7531\u591a\u4e2a\u8ba1\u7b97\u673a\u7f51\u7edc\u4e92\u8054\u800c\u6210\u7684\u5168\u7403\u6027\u7f51\u7edc\u7cfb\u7edf\uff0c\u5b83\u4e0d\u4ec5\u4ec5\u662f\u4e00\u79cd\u7f51\u7edc\u6280\u672f\uff0c\u8fd8\u5305\u62ec\u4e86\u4e00\u6574\u5957\u7f51\u7edc\u534f\u8bae\u3001\u670d\u52a1\u548c\u5e94\u7528\u3002\u4e92\u8054\u7f51\u7684\u51fa\u73b0\u6781\u5927\u5730\u6539\u53d8\u4e86\u4eba\u4eec\u7684\u751f\u6d3b\u548c\u5de5\u4f5c\u65b9\u5f0f\uff0c\u4f7f\u5f97\u4fe1\u606f\u4f20\u9012\u53d8\u5f97\u66f4\u52a0\u5feb\u6377\u3001\u65b9\u4fbf\u548c\u5168\u7403\u5316\u3002</p> <p>\u5c40\u57df\u7f51\u3001\u57ce\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u90fd\u662f\u6307\u4e0d\u540c\u8303\u56f4\u7684\u7f51\u7edc\u3002\u5c40\u57df\u7f51\uff08Local Area Network\uff0cLAN\uff09\u662f\u4e00\u79cd\u8986\u76d6\u8f83\u5c0f\u7684\u7f51\u7edc\uff0c\u901a\u5e38\u4ec5\u5728\u4e00\u4e2a\u5efa\u7b51\u7269\u3001\u6821\u56ed\u6216\u7ec4\u7ec7\u5185\u90e8\u4f7f\u7528\u3002\u57ce\u57df\u7f51\uff08Metropolitan Area Network\uff0cMAN\uff09\u662f\u4e00\u79cd\u8986\u76d6\u57ce\u5e02\u8303\u56f4\u7684\u7f51\u7edc\uff0c\u5b83\u53ef\u4ee5\u8fde\u63a5\u591a\u4e2a\u5c40\u57df\u7f51\u548c\u5e7f\u57df\u7f51\uff0c\u5b9e\u73b0\u8de8\u8d8a\u57ce\u5e02\u7684\u901a\u4fe1\u3002\u5e7f\u57df\u7f51\uff08Wide Area Network\uff0cWAN\uff09\u5219\u662f\u4e00\u79cd\u8de8\u8d8a\u5730\u57df\u8303\u56f4\u8f83\u5927\u7684\u7f51\u7edc\uff0c\u901a\u5e38\u7531\u591a\u4e2a\u5c40\u57df\u7f51\u548c\u57ce\u57df\u7f51\u901a\u8fc7\u8def\u7531\u5668\u7b49\u8bbe\u5907\u4e92\u76f8\u8fde\u63a5\u3002</p> <p>\u4ee5\u592a\u7f51\u901a\u5e38\u88ab\u7528\u4e8e\u5c40\u57df\u7f51\u4e2d\uff0c\u800c\u4e92\u8054\u7f51\u5219\u662f\u7531\u591a\u4e2a\u5c40\u57df\u7f51\u3001\u57ce\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u4e92\u8054\u800c\u6210\u7684\u5168\u7403\u6027\u7f51\u7edc\u7cfb\u7edf\u3002\u56e0\u6b64\uff0c\u4ee5\u592a\u7f51\u548c\u4e92\u8054\u7f51\u662f\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u4f46\u5b83\u4eec\u5728\u7f51\u7edc\u5c42\u6b21\u7ed3\u6784\u4e2d\u5904\u4e8e\u4e0d\u540c\u7684\u4f4d\u7f6e\uff0c\u4ee5\u592a\u7f51\u5728\u6570\u636e\u94fe\u8def\u5c42\uff0c\u800c\u4e92\u8054\u7f51\u5728\u7f51\u7edc\u5c42\u3002\u540c\u65f6\uff0c\u57ce\u57df\u7f51\u548c\u5e7f\u57df\u7f51\u53ef\u4ee5\u4f7f\u7528\u4ee5\u592a\u7f51\u6280\u672f\u6765\u5b9e\u73b0\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_4","title":"Q:\u8def\u7531\u5668\u7684\u529f\u80fd","text":"<p>\u8def\u7531\u5668\u662f\u4e00\u79cd\u7f51\u7edc\u8bbe\u5907\uff0c\u53ef\u4ee5\u5c06\u6570\u636e\u5305\u4ece\u4e00\u4e2a\u7f51\u7edc\u53d1\u9001\u5230\u53e6\u4e00\u4e2a\u7f51\u7edc\u3002\u5b83\u5728\u7f51\u7edc\u5c42\uff08\u7b2c\u4e09\u5c42\uff09\u5de5\u4f5c\uff0c\u5b83\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\u4ee5\u4e0b\u51e0\u70b9\uff1a - \u5206\u7ec4\u8f6c\u53d1\uff1a\u8def\u7531\u5668\u80fd\u591f\u6839\u636e\u76ee\u7684\u5730\u5740\u627e\u5230\u6700\u4f73\u7684\u4e0b\u4e00\u8df3\u5730\u5740\uff0c\u5e76\u5c06\u6570\u636e\u5305\u8f6c\u53d1\u5230\u8be5\u5730\u5740\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06\u6570\u636e\u5305\u4ece\u4e00\u4e2a\u7f51\u7edc\u4f20\u8f93\u5230\u53e6\u4e00\u4e2a\u7f51\u7edc\u3002 - \u8def\u7531\u9009\u62e9\uff1a\u8def\u7531\u5668\u80fd\u591f\u6839\u636e\u8def\u7531\u9009\u62e9\u534f\u8bae\uff08\u5982OSPF\u3001BGP\u7b49\uff09\u8ba1\u7b97\u51fa\u6700\u4f73\u8def\u5f84\uff0c\u5e76\u6839\u636e\u8be5\u8def\u5f84\u8f6c\u53d1\u6570\u636e\u5305\u3002 - \u63a5\u53e3\u7ba1\u7406\uff1a\u8def\u7531\u5668\u80fd\u591f\u7ba1\u7406\u8fde\u63a5\u4e0d\u540c\u7f51\u7edc\u7684\u63a5\u53e3\uff0c\u5305\u62ecIP\u5730\u5740\u3001\u5b50\u7f51\u63a9\u7801\u7b49\u3002 - \u8fde\u63a5\u7f51\u7edc\uff1a\u8def\u7531\u5668\u80fd\u591f\u8fde\u63a5\u4e0d\u540c\u7684\u7269\u7406\u7f51\u7edc\uff0c\u5982\u4ee5\u592a\u7f51\u3001\u65e0\u7ebf\u7f51\u7edc\u3001\u5149\u7ea4\u7f51\u7edc\u7b49\u3002 - NAT\uff1a\u8def\u7531\u5668\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\u5c06\u5185\u90e8\u7f51\u7edc\u7684\u79c1\u6709IP\u5730\u5740\u8f6c\u6362\u4e3a\u516c\u5171IP\u5730\u5740\uff0c\u4ee5\u5b9e\u73b0\u8fde\u63a5\u516c\u5171\u7f51\u7edc\u7684\u529f\u80fd\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u8def\u7531\u5668\u662f\u8fde\u63a5\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u7684\u5173\u952e\u8bbe\u5907\uff0c\u5b83\u53ef\u4ee5\u5b9e\u73b0\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u7684\u6570\u636e\u901a\u4fe1\uff0c\u5e76\u63d0\u4f9b\u8fde\u63a5\u7ba1\u7406\u548c\u8def\u7531\u9009\u62e9\u7b49\u529f\u80fd\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_5","title":"Q:\u9632\u706b\u5899\u7684\u529f\u80fd","text":"<p>\u9632\u706b\u5899\u662f\u4e00\u79cd\u7f51\u7edc\u5b89\u5168\u8bbe\u5907\uff0c\u5b83\u53ef\u4ee5\u76d1\u63a7\u548c\u63a7\u5236\u7f51\u7edc\u6d41\u91cf\uff0c\u4fdd\u62a4\u7f51\u7edc\u514d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u548c\u653b\u51fb\u3002\u9632\u706b\u5899\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a - \u8bbf\u95ee\u63a7\u5236\uff1a\u9632\u706b\u5899\u53ef\u4ee5\u6839\u636e\u9884\u5b9a\u4e49\u7684\u7b56\u7565\uff0c\u9650\u5236\u7f51\u7edc\u6d41\u91cf\u7684\u8fdb\u51fa\uff0c\u4ece\u800c\u4fdd\u62a4\u7f51\u7edc\u7684\u5b89\u5168\u3002\u5b83\u53ef\u4ee5\u5bf9\u7279\u5b9a\u7684IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u3001\u534f\u8bae\u7c7b\u578b\u7b49\u8fdb\u884c\u9650\u5236\uff0c\u53ea\u5141\u8bb8\u6388\u6743\u7684\u6d41\u91cf\u901a\u8fc7\u3002 - \u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\uff1a\u9632\u706b\u5899\u53ef\u4ee5\u5bf9\u5185\u90e8\u7f51\u7edc\u7684\u79c1\u6709IP\u5730\u5740\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u5176\u80fd\u591f\u4e0e\u5916\u90e8\u7684\u516c\u5171\u7f51\u7edc\u901a\u4fe1\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5b89\u5168\u6027\u3002 - \u72b6\u6001\u68c0\u6d4b\uff1a\u9632\u706b\u5899\u53ef\u4ee5\u68c0\u6d4b\u7f51\u7edc\u6d41\u91cf\u7684\u72b6\u6001\uff0c\u5982\u8fde\u63a5\u5efa\u7acb\u3001\u8fde\u63a5\u4e2d\u65ad\u7b49\uff0c\u4ece\u800c\u4fdd\u62a4\u7f51\u7edc\u514d\u53d7\u653b\u51fb\u548c\u6076\u610f\u6d41\u91cf\u7684\u5f71\u54cd\u3002 - VPN\u652f\u6301\uff1a\u9632\u706b\u5899\u53ef\u4ee5\u63d0\u4f9b\u865a\u62df\u4e13\u7528\u7f51\u7edc\uff08VPN\uff09\u7684\u652f\u6301\uff0c\u8ba9\u8fdc\u7a0b\u7528\u6237\u53ef\u4ee5\u5b89\u5168\u5730\u8bbf\u95ee\u5185\u90e8\u7f51\u7edc\u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5b89\u5168\u6027\u3002 - \u62a5\u8b66\u548c\u65e5\u5fd7\u8bb0\u5f55\uff1a\u9632\u706b\u5899\u53ef\u4ee5\u8bb0\u5f55\u7f51\u7edc\u6d41\u91cf\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u5e76\u63d0\u4f9b\u8b66\u62a5\u548c\u65e5\u5fd7\u8bb0\u5f55\u529f\u80fd\uff0c\u8ba9\u7ba1\u7406\u5458\u53ef\u4ee5\u53ca\u65f6\u53d1\u73b0\u548c\u89e3\u51b3\u7f51\u7edc\u5b89\u5168\u95ee\u9898\u3002</p> <p>\u603b\u4e4b\uff0c\u9632\u706b\u5899\u5728\u7f51\u7edc\u5b89\u5168\u65b9\u9762\u626e\u6f14\u7740\u975e\u5e38\u91cd\u8981\u7684\u89d2\u8272\uff0c\u80fd\u591f\u6709\u6548\u5730\u4fdd\u62a4\u7f51\u7edc\u514d\u53d7\u5404\u79cd\u5b89\u5168\u5a01\u80c1\u7684\u4fb5\u5bb3\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qip","title":"Q:IP\u5730\u5740\u662f\u4ec0\u4e48","text":"<p>IP\u5730\u5740\uff08Internet Protocol address\uff09\u662f\u6307\u4e92\u8054\u7f51\u534f\u8bae\u5730\u5740\uff0c\u662f\u7528\u4e8e\u6807\u8bc6\u7f51\u7edc\u4e0a\u7684\u8bbe\u5907\u7684\u4e00\u79cd\u5730\u5740\u3002IP\u5730\u5740\u662f\u753132\u4f4d\u4e8c\u8fdb\u5236\u6570\u6784\u6210\u7684\uff0c\u901a\u5e38\u8868\u793a\u62104\u4e2a\u5341\u8fdb\u5236\u6570\uff08\u6bcf\u4e2a\u6570\u7684\u53d6\u503c\u8303\u56f4\u662f0~255\uff09\uff0c\u5b83\u4eec\u4e4b\u95f4\u7528\u70b9\u53f7\uff08.\uff09\u5206\u9694\uff0c\u5982192.168.0.1\u3002IP\u5730\u5740\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u5b9e\u73b0\u4e3b\u673a\u4e4b\u95f4\u901a\u4fe1\u7684\u57fa\u7840\u3002\u5728\u4e92\u8054\u7f51\u4e2d\uff0cIP\u5730\u5740\u662f\u552f\u4e00\u7684\uff0c\u5b83\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7684\u7f51\u7edc\u8bbe\u5907\uff0c\u7c7b\u4f3c\u4e8e\u6211\u4eec\u65e5\u5e38\u751f\u6d3b\u4e2d\u7684\u7535\u8bdd\u53f7\u7801\u548c\u5730\u5740\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_6","title":"Q:\u4e3a\u4ec0\u4e48\u9700\u8981\u5b50\u7f51\u63a9\u7801\uff1f","text":"<p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u5b50\u7f51\u63a9\u7801\u662f\u4e00\u79cd\u7528\u4e8e\u5c06IP\u5730\u5740\u5212\u5206\u4e3a\u7f51\u7edc\u5730\u5740\u548c\u4e3b\u673a\u5730\u5740\u7684\u65b9\u6cd5\u3002\u5b83\u662f\u4e00\u4e32\u4e0eIP\u5730\u5740\u76f8\u540c\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u6570\u5b57\uff0c\u7528\u4e8e\u786e\u5b9aIP\u5730\u5740\u4e2d\u54ea\u4e9b\u4f4d\u8868\u793a\u7f51\u7edc\u5730\u5740\uff0c\u54ea\u4e9b\u4f4d\u8868\u793a\u4e3b\u673a\u5730\u5740\u3002 \u5728IP\u7f51\u7edc\u4e2d\uff0cIP\u5730\u5740\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u7f51\u7edc\u5730\u5740\u548c\u4e3b\u673a\u5730\u5740\u3002\u7f51\u7edc\u5730\u5740\u7528\u4e8e\u6807\u8bc6\u4e00\u4e2a\u7f51\u7edc\uff0c\u4e3b\u673a\u5730\u5740\u7528\u4e8e\u6807\u8bc6\u8be5\u7f51\u7edc\u4e2d\u7684\u4e00\u53f0\u4e3b\u673a\u3002\u5b50\u7f51\u63a9\u7801\u901a\u8fc7\u5728IP\u5730\u5740\u4e2d\u5212\u5206\u7f51\u7edc\u5730\u5740\u548c\u4e3b\u673a\u5730\u5740\uff0c\u5e2e\u52a9\u7f51\u7edc\u8bbe\u5907\u6b63\u786e\u5730\u8def\u7531\u548c\u4f20\u8f93\u6570\u636e\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8eIP\u5730\u5740192.168.0.1\u548c\u5b50\u7f51\u63a9\u7801255.255.255.0\uff0c\u524d24\u4f4d\uff083\u4e2a8\u4f4d\uff09\u8868\u793a\u7f51\u7edc\u5730\u5740\uff0c\u540e8\u4f4d\u8868\u793a\u4e3b\u673a\u5730\u5740\u3002\u8fd9\u610f\u5473\u7740\u8fd9\u4e2aIP\u5730\u5740\u5c5e\u4e8e192.168.0.0\u7f51\u7edc\u4e2d\u7684\u67d0\u4e2a\u4e3b\u673a\u3002\u4f7f\u7528\u5b50\u7f51\u63a9\u7801\u53ef\u4ee5\u6709\u6548\u5730\u7ec4\u7ec7IP\u5730\u5740\uff0c\u5e76\u4f7f\u7f51\u7edc\u8bbe\u5907\u66f4\u5bb9\u6613\u8bc6\u522b\u548c\u5904\u7406\u7f51\u7edc\u4e2d\u7684\u6570\u636e\u6d41\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5b50\u7f51\u63a9\u7801\u662f\u7f51\u7edc\u901a\u4fe1\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u4f7f\u5f97IP\u5730\u5740\u53ef\u4ee5\u5728\u4e00\u4e2a\u7f51\u7edc\u4e2d\u6b63\u786e\u5730\u8def\u7531\u548c\u4f20\u8f93\u6570\u636e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_7","title":"Q:\u7f51\u5173\u662f\u4ec0\u4e48\u610f\u601d\uff1f","text":"<p>\u7f51\u5173\uff08Gateway\uff09\u662f\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u5b9e\u73b0\u7f51\u7edc\u4e92\u8054\u7684\u8bbe\u5907\u3002\u7f51\u5173\u53ef\u4ee5\u662f\u786c\u4ef6\u8bbe\u5907\uff08\u4f8b\u5982\u8def\u7531\u5668\uff09\u6216\u8005\u662f\u8f6f\u4ef6\u7a0b\u5e8f\uff08\u4f8b\u5982\u4ee3\u7406\u670d\u52a1\u5668\uff09\uff0c\u5b83\u5728\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u548c\u8f6c\u53d1\uff0c\u5b9e\u73b0\u4e86\u4e0d\u540c\u7f51\u7edc\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u5728\u4e00\u4e2a\u7f51\u7edc\u4e2d\uff0c\u7f51\u5173\u901a\u5e38\u662f\u4e00\u4e2a\u4e0e\u4e92\u8054\u7f51\u8fde\u63a5\u7684\u8bbe\u5907\uff0c\u5b83\u53ef\u4ee5\u5c06\u6765\u81ea\u672c\u5730\u7f51\u7edc\u7684\u6570\u636e\u5305\u8f6c\u53d1\u5230\u4e92\u8054\u7f51\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5c06\u6765\u81ea\u4e92\u8054\u7f51\u7684\u6570\u636e\u5305\u8f6c\u53d1\u5230\u672c\u5730\u7f51\u7edc\u4e0a\uff0c\u540c\u65f6\u8fd8\u53ef\u4ee5\u8fc7\u6ee4\u6570\u636e\u5305\u3001\u7ba1\u7406\u6570\u636e\u6d41\u91cf\u7b49\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qipip","title":"Q:\u5185\uff08\u79c1/\u5c40\u57df\uff09\u7f51IP\u548c\u516c\u7f51IP\u7684\u533a\u522b\uff1f","text":"<p>\u5185\u7f51IP\uff08\u4e5f\u79f0\u79c1\u6709IP\u6216\u5c40\u57df\u7f51IP\uff09\u662f\u5728\u672c\u5730\u7f51\u7edc\u4e2d\u4f7f\u7528\u7684IP\u5730\u5740\uff0c\u7528\u4e8e\u5728\u5185\u90e8\u7f51\u7edc\u4e2d\u8fdb\u884c\u901a\u4fe1\u3002\u79c1\u6709IP\u5730\u5740\u662f\u5728RFC 1918\u4e2d\u5b9a\u4e49\u7684\uff0c\u5305\u62ec\u4e09\u4e2a\u8303\u56f4\uff1a10.0.0.0\u81f310.255.255.255\u3001172.16.0.0\u81f3172.31.255.255\u548c192.168.0.0\u81f3192.168.255.255\u3002\u8fd9\u4e9bIP\u5730\u5740\u4e0d\u662f\u5206\u914d\u7ed9\u4efb\u4f55\u4e2a\u4eba\u6216\u7ec4\u7ec7\u7684\uff0c\u800c\u662f\u4f9b\u5185\u90e8\u7f51\u7edc\u4f7f\u7528\u3002</p> <p>\u516c\u7f51IP\u662f\u6307\u5206\u914d\u7ed9\u7ec4\u7ec7\u6216\u4e2a\u4eba\u7528\u4e8e\u5728\u516c\u5171\u4e92\u8054\u7f51\u4e0a\u8fdb\u884c\u901a\u4fe1\u7684\u552f\u4e00IP\u5730\u5740\u3002\u516c\u7f51IP\u662f\u7531\u4e92\u8054\u7f51\u670d\u52a1\u63d0\u4f9b\u5546\uff08ISP\uff09\u5206\u914d\u7684\uff0c\u4ee5\u4fbf\u7528\u6237\u53ef\u4ee5\u901a\u8fc7Internet\u8fdb\u884c\u8bbf\u95ee\u3002\u516c\u7f51IP\u5730\u5740\u662f\u5168\u7403\u552f\u4e00\u7684\uff0c\u53ef\u4f9bInternet\u4e0a\u7684\u4efb\u4f55\u4eba\u4f7f\u7528\u3002</p> <p>\u533a\u522b\u5728\u4e8e\uff0c\u5185\u7f51IP\u53ea\u5728\u5c40\u57df\u7f51\u5185\u4f7f\u7528\uff0c\u4e0d\u4f1a\u88ab\u516c\u5171\u4e92\u8054\u7f51\u6240\u4f7f\u7528\uff0c\u800c\u516c\u7f51IP\u5219\u662f\u5728\u4e92\u8054\u7f51\u4e0a\u4f7f\u7528\u7684\uff0c\u53ef\u4ee5\u88ab\u5176\u4ed6\u7f51\u7edc\u8bbf\u95ee\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qmac","title":"Q:MAC\u5730\u5740\u662f\u4ec0\u4e48\u610f\u601d\uff1f","text":"<p>MAC\u5730\u5740\uff08Media Access Control address\uff09\u662f\u7f51\u7edc\u63a5\u53e3\u63a7\u5236\u5668\uff08NIC\uff09\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u901a\u5e38\u88ab\u79f0\u4e3a\u786c\u4ef6\u5730\u5740\u6216\u7269\u7406\u5730\u5740\u3002\u5b83\u662f\u7531IEEE\uff08Institute of Electrical and Electronics Engineers\uff09\u89c4\u5b9a\u7684\u4e00\u4e2a48\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\u5b57\uff0c\u901a\u5e38\u752812\u4e2a\u5341\u516d\u8fdb\u5236\u6570\u5b57\u8868\u793a\u3002MAC\u5730\u5740\u662f\u7528\u6765\u6807\u8bc6\u7f51\u7edc\u4e0a\u6bcf\u4e00\u4e2a\u8bbe\u5907\u7684\u552f\u4e00\u8eab\u4efd\uff0c\u7c7b\u4f3c\u4e8e\u8eab\u4efd\u8bc1\u53f7\u7801\u3002\u6bcf\u4e2a\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u8ba1\u7b97\u673a\u3001\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u7b49\uff09\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684MAC\u5730\u5740\uff0c\u5b83\u4eec\u7528\u6765\u5728\u5c40\u57df\u7f51\u5185\u8fdb\u884c\u901a\u4fe1\u548c\u6570\u636e\u4f20\u8f93\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q-21222380152133063389","title":"Q:\u5e94\u7528\u5c42\u534f\u8bae\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u5e94\u7528\u5c42\u534f\u8bae\u7684\u901a\u8baf\u7aef\u53e3\u662f\u4ec0\u4e48\u610f\u601d\uff1f 21\u300122\u300123\u300180\u30011521\u30013306\u30013389\u662f\u4ec0\u4e48\u7aef\u53e3\uff1f","text":"<p>\u5e94\u7528\u5c42\u534f\u8bae\u7684\u901a\u8baf\u7aef\u53e3\u662f\u4e3a\u4e86\u8ba9\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u8bc6\u522b\u5e76\u533a\u5206\u4e0d\u540c\u7684\u5e94\u7528\u5c42\u534f\u8bae\u800c\u5b58\u5728\u7684\u3002\u901a\u5e38\uff0c\u6bcf\u4e2a\u5e94\u7528\u5c42\u534f\u8bae\u90fd\u4f1a\u5360\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u7aef\u53e3\u53f7\uff0c\u4e0d\u540c\u7684\u5e94\u7528\u5c42\u534f\u8bae\u4f7f\u7528\u4e0d\u540c\u7684\u7aef\u53e3\u53f7\u8fdb\u884c\u901a\u4fe1\uff0c\u4ece\u800c\u5b9e\u73b0\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u540c\u65f6\u5728\u7f51\u7edc\u4e0a\u8fd0\u884c\u800c\u4e0d\u4e92\u76f8\u5e72\u6270\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u5e94\u7528\u5c42\u534f\u8bae\u901a\u4fe1\u7aef\u53e3\uff1a - 21\uff1aFTP (\u6587\u4ef6\u4f20\u8f93\u534f\u8bae) - 22\uff1aSSH (\u5b89\u5168\u5916\u58f3\u534f\u8bae) - 23\uff1aTelnet (\u8fdc\u7a0b\u7ec8\u7aef\u534f\u8bae) - 80\uff1aHTTP (\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae) - 1521\uff1aOracle\u6570\u636e\u5e93 - 3306\uff1aMySQL\u6570\u636e\u5e93 - 3389\uff1aWindows \u8fdc\u7a0b\u684c\u9762\u670d\u52a1</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e9b\u7aef\u53e3\u53f7\u53ea\u662f\u4e00\u79cd\u6807\u51c6\u5316\u7684\u5206\u914d\u65b9\u5f0f\uff0c\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8005\u5e76\u4e0d\u4e00\u5b9a\u8981\u9075\u5faa\u8fd9\u4e9b\u7aef\u53e3\u53f7\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u7aef\u53e3\u53f7\u8fdb\u884c\u901a\u4fe1\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_8","title":"Q:\u8fd9\u91cc\u7684\u7aef\u53e3\u4e0e\u4ea4\u6362\u673a\u4e2d\u6307\u7684\u7aef\u53e3\u662f\u4e00\u4e2a\u610f\u601d\u5417","text":"<p>\u8fd9\u91cc\u7684\u7aef\u53e3\u4e0e\u4ea4\u6362\u673a\u4e2d\u6307\u7684\u7aef\u53e3\u4e0d\u662f\u4e00\u4e2a\u610f\u601d\u3002</p> <p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u4e00\u4e2a\u7aef\u53e3\u662f\u6307\u5728\u4f20\u8f93\u5c42\u4e2d\u7528\u4e8e\u6807\u8bc6\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6216\u8fdb\u7a0b\u7684\u6570\u5b57\u6807\u8bc6\u3002\u7aef\u53e3\u53f7\u901a\u5e38\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u768416\u4f4d\u7684\u6574\u6570\uff0c\u8303\u56f4\u4ece0\u523065535\u3002\u5728\u5e94\u7528\u5c42\u534f\u8bae\u4e2d\uff0c\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u901a\u5e38\u4f1a\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u7279\u5b9a\u7684\u7aef\u53e3\u6765\u4e0e\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u800c\u5728\u4ea4\u6362\u673a\u4e2d\uff0c\u4e00\u4e2a\u7aef\u53e3\u662f\u6307\u4ea4\u6362\u673a\u7684\u7269\u7406\u63a5\u53e3\uff0c\u7528\u4e8e\u4e0e\u5176\u4ed6\u8bbe\u5907\u8fde\u63a5\u4ee5\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u901a\u5e38\u5206\u4e3a\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u5982\u7ba1\u7406\u7aef\u53e3\u3001\u4e0a\u884c\u7aef\u53e3\u548c\u4e0b\u884c\u7aef\u53e3\u7b49\u3002\u5728\u4ea4\u6362\u673a\u4e2d\uff0c\u7aef\u53e3\u7684\u6570\u91cf\u53d6\u51b3\u4e8e\u4ea4\u6362\u673a\u7684\u578b\u53f7\u548c\u914d\u7f6e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qip_1","title":"Q:\u4e3a\u4ec0\u4e48\u6211\u5bb6\u548c\u4f60\u5bb6\u7684\u7535\u8111\u6ca1\u6709\u516c\u7f51IP\uff1f","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5bb6\u5ead\u548c\u4e2a\u4eba\u7535\u8111\u6ca1\u6709\u516c\u7f51IP\uff0c\u662f\u56e0\u4e3a\u5b83\u4eec\u6240\u8fde\u63a5\u7684\u7f51\u7edc\u662f\u4e00\u4e2a\u5c40\u57df\u7f51\uff0c\u9700\u8981\u901a\u8fc7\u8def\u7531\u5668\u548cISP\u63d0\u4f9b\u7684NAT\uff08\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff09\u529f\u80fd\u624d\u80fd\u4e0e\u4e92\u8054\u7f51\u901a\u4fe1\u3002NAT\u4f1a\u5c06\u5bb6\u5ead\u6216\u4e2a\u4eba\u7535\u8111\u7684\u5185\u7f51IP\u5730\u5740\u8f6c\u6362\u4e3a\u516c\u7f51IP\u5730\u5740\uff0c\u4f7f\u5f97\u5c40\u57df\u7f51\u4e2d\u7684\u591a\u53f0\u8bbe\u5907\u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u4e2a\u516c\u7f51IP\u5730\u5740\u4e0e\u4e92\u8054\u7f51\u901a\u4fe1\u3002\u56e0\u6b64\uff0c\u5bb6\u5ead\u6216\u4e2a\u4eba\u7535\u8111\u7684\u516c\u7f51IP\u5730\u5740\u662f\u7531ISP\u5206\u914d\u7ed9\u8def\u7531\u5668\u7684\uff0c\u800c\u4e0d\u662f\u7531\u6bcf\u4e2a\u8bbe\u5907\u5355\u72ec\u62e5\u6709\u7684\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_9","title":"Q:\u5171\u4eab\u4e0a\u7f51\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981\u5171\u4eab\u4e0a\u7f51\uff1f","text":"<p>\u5171\u4eab\u4e0a\u7f51\u662f\u6307\u591a\u4e2a\u8bbe\u5907\u901a\u8fc7\u5171\u4eab\u540c\u4e00\u4e2a\u7f51\u7edc\u8fde\u63a5\u6765\u8bbf\u95ee\u4e92\u8054\u7f51\u7684\u8fc7\u7a0b\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5171\u4eab\u4e0a\u7f51\u662f\u901a\u8fc7\u8def\u7531\u5668\u6765\u5b9e\u73b0\u7684\uff0c\u8def\u7531\u5668\u901a\u8fc7NAT\u6280\u672f\u5c06\u591a\u4e2a\u8bbe\u5907\u7684\u79c1\u6709IP\u5730\u5740\u8f6c\u6362\u6210\u516c\u5171IP\u5730\u5740\uff0c\u7136\u540e\u4e0e\u4e92\u8054\u7f51\u8fde\u63a5\u3002</p> <p>\u5171\u4eab\u4e0a\u7f51\u7684\u9700\u6c42\u901a\u5e38\u6765\u81ea\u4e8e\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ul> <li>\u7ecf\u6d4e\u5b9e\u60e0\uff1a\u901a\u8fc7\u5171\u4eab\u4e0a\u7f51\uff0c\u591a\u4e2a\u8bbe\u5907\u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u4e2a\u7f51\u7edc\u8fde\u63a5\uff0c\u8fd9\u6837\u53ef\u4ee5\u7701\u53bb\u6bcf\u4e2a\u8bbe\u5907\u90fd\u9700\u8981\u5355\u72ec\u8fde\u63a5\u7f51\u7edc\u7684\u8d39\u7528\u3002</li> <li>\u7f51\u7edc\u7ba1\u7406\uff1a\u901a\u8fc7\u5171\u4eab\u4e0a\u7f51\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u66f4\u597d\u5730\u7ba1\u7406\u7f51\u7edc\u8fde\u63a5\u548c\u6d41\u91cf\u63a7\u5236\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u4fdd\u969c\u7f51\u7edc\u7684\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\u3002</li> <li>\u65b9\u4fbf\u5feb\u6377\uff1a\u901a\u8fc7\u5171\u4eab\u4e0a\u7f51\uff0c\u591a\u4e2a\u8bbe\u5907\u53ef\u4ee5\u65e0\u9700\u5355\u72ec\u914d\u7f6e\u7f51\u7edc\uff0c\u53ea\u9700\u8981\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u8def\u7531\u5668\u5373\u53ef\u3002</li> </ul> <p>\u603b\u4e4b\uff0c\u5171\u4eab\u4e0a\u7f51\u53ef\u4ee5\u8ba9\u591a\u4e2a\u8bbe\u5907\u65b9\u4fbf\u5730\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u5e76\u4e14\u53ef\u4ee5\u8282\u7ea6\u8d39\u7528\u548c\u65b9\u4fbf\u7f51\u7edc\u7ba1\u7406\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qipip_1","title":"Q:\u6211\u5bb6\u7684\u7528\u7535\u8111\u53ef\u4ee5\u8bbf\u95ee\u6709\u516c\u7f51IP\u7684\u670d\u52a1\u5668\uff0c\u6709\u516c\u7f51IP\u670d\u52a1\u5668\u80fd\u8bbf\u95ee\u6211\u5bb6\u7684\u7535\u8111\u5417\uff1f","text":"<p>\u5982\u679c\u4f60\u7684\u5bb6\u5ead\u7f51\u7edc\u53ea\u6709\u5185\u7f51IP\uff0c\u5e76\u6ca1\u6709\u516c\u7f51IP\uff0c\u90a3\u4e48\u6709\u516c\u7f51IP\u7684\u670d\u52a1\u5668\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee\u4f60\u5bb6\u7684\u7535\u8111\u7684\u3002\u56e0\u4e3a\u516c\u7f51IP\u53ea\u80fd\u88ab\u4e92\u8054\u7f51\u4e0a\u7684\u8bbe\u5907\u8bbf\u95ee\u5230\uff0c\u800c\u5185\u7f51IP\u53ea\u80fd\u5728\u5185\u7f51\u4e2d\u4f7f\u7528\u3002\u5982\u679c\u4f60\u9700\u8981\u8ba9\u6709\u516c\u7f51IP\u7684\u670d\u52a1\u5668\u80fd\u591f\u8bbf\u95ee\u4f60\u5bb6\u7684\u7535\u8111\uff0c\u53ef\u4ee5\u901a\u8fc7\u7aef\u53e3\u6620\u5c04\u6216\u8005VPN\u7b49\u6280\u672f\u6765\u5b9e\u73b0\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_10","title":"Q:\u4e3a\u4ec0\u4e48\u6211\u5bb6\u7684\u7535\u8111\u4e0d\u80fd\u8bbf\u95ee\u4f60\u5bb6\u7684\u7535\u8111\uff1f","text":"<ul> <li>\u7f51\u7edc\u62d3\u6251\u4e0d\u540c\uff1a\u4f60\u5bb6\u548c\u6211\u5bb6\u7684\u7535\u8111\u53ef\u80fd\u8fde\u63a5\u7684\u662f\u4e0d\u540c\u7684\u7f51\u7edc\uff0c\u6bd4\u5982\u4f60\u5bb6\u8fde\u63a5\u7684\u662f\u4e00\u4e2aADSL\u6216\u8005\u5149\u7ea4\u5bbd\u5e26\uff0c\u800c\u6211\u5bb6\u8fde\u63a5\u7684\u662f\u4e00\u4e2a\u79fb\u52a8\u7f51\u7edc\uff0c\u8fd9\u6837\u5c31\u9020\u6210\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\uff0c\u53ef\u80fd\u4f1a\u963b\u6b62\u5f7c\u6b64\u7684\u901a\u4fe1\u3002</li> <li>\u9632\u706b\u5899\u8bbe\u7f6e\uff1a\u4f60\u5bb6\u6216\u8005\u6211\u5bb6\u7684\u7535\u8111\u53ef\u80fd\u5f00\u542f\u4e86\u9632\u706b\u5899\u6216\u8005\u5b89\u5168\u7b56\u7565\uff0c\u9632\u6b62\u6765\u81ea\u5916\u90e8\u7f51\u7edc\u7684\u8bbf\u95ee\uff0c\u8fd9\u5c31\u53ef\u80fd\u5bfc\u81f4\u4e24\u53f0\u7535\u8111\u4e4b\u95f4\u65e0\u6cd5\u901a\u4fe1\u3002</li> <li>\u7f51\u7edc\u914d\u7f6e\u4e0d\u6b63\u786e\uff1a\u4f60\u5bb6\u6216\u8005\u6211\u5bb6\u7684\u7535\u8111\u53ef\u80fd\u5b58\u5728\u7f51\u7edc\u914d\u7f6e\u4e0d\u6b63\u786e\u7684\u95ee\u9898\uff0c\u6bd4\u5982IP\u5730\u5740\u3001\u5b50\u7f51\u63a9\u7801\u3001\u7f51\u5173\u7b49\u8bbe\u7f6e\u9519\u8bef\uff0c\u8fd9\u6837\u4e5f\u4f1a\u5bfc\u81f4\u4e24\u53f0\u7535\u8111\u4e4b\u95f4\u65e0\u6cd5\u901a\u4fe1\u3002</li> <li>\u8def\u7531\u5668\u8bbe\u7f6e\uff1a\u5982\u679c\u4f60\u548c\u6211\u8fde\u63a5\u7684\u662f\u540c\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u5728\u8def\u7531\u5668\u8bbe\u7f6e\u4e2d\u914d\u7f6e\u7aef\u53e3\u8f6c\u53d1\u6216\u8005\u865a\u62df\u670d\u52a1\u5668\uff0c\u624d\u80fd\u8ba9\u4e24\u53f0\u7535\u8111\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_11","title":"Q:\u7f51\u7edc\u62d3\u6251\u662f\u4ec0\u4e48","text":"<p>\u7f51\u7edc\u62d3\u6251\u662f\u6307\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u5404\u4e2a\u8282\u70b9\uff08\u5982\u8ba1\u7b97\u673a\u3001\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u7b49\uff09\u4e4b\u95f4\u7684\u7269\u7406\u6216\u903b\u8f91\u8fde\u63a5\u65b9\u5f0f\u3002\u5b83\u63cf\u8ff0\u4e86\u8fd9\u4e9b\u8282\u70b9\u4e4b\u95f4\u7684\u5e03\u5c40\u548c\u8fde\u63a5\u65b9\u5f0f\uff0c\u51b3\u5b9a\u4e86\u7f51\u7edc\u4e2d\u6570\u636e\u7684\u4f20\u8f93\u8def\u5f84\u3002\u5e38\u89c1\u7684\u7f51\u7edc\u62d3\u6251\u5305\u62ec\u603b\u7ebf\u578b\u62d3\u6251\u3001\u73af\u578b\u62d3\u6251\u3001\u661f\u578b\u62d3\u6251\u3001\u6811\u578b\u62d3\u6251\u3001\u7f51\u72b6\u62d3\u6251\u7b49\u3002\u6bcf\u79cd\u62d3\u6251\u90fd\u6709\u5176\u7279\u70b9\u548c\u4f18\u7f3a\u70b9\uff0c\u5e94\u6839\u636e\u5b9e\u9645\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u548c\u90e8\u7f72\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_12","title":"Q:\u79fb\u52a8\u7f51\u7edc\u5c5e\u4e8e\u54ea\u79cd\u62d3\u6251","text":"<p>\u79fb\u52a8\u7f51\u7edc\u53ef\u4ee5\u91c7\u7528\u4e0d\u540c\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u4f8b\u5982\u661f\u578b\u62d3\u6251\u3001\u73af\u578b\u62d3\u6251\u3001\u7f51\u72b6\u62d3\u6251\u7b49\u3002\u5177\u4f53\u91c7\u7528\u54ea\u79cd\u62d3\u6251\u7ed3\u6784\uff0c\u53d6\u51b3\u4e8e\u79fb\u52a8\u7f51\u7edc\u7684\u5b9e\u9645\u5e94\u7528\u573a\u666f\u548c\u9700\u6c42\u3002\u4f8b\u5982\uff0c\u57fa\u7ad9\u548c\u65e0\u7ebf\u7ec8\u7aef\u4e4b\u95f4\u7684\u901a\u4fe1\u53ef\u4ee5\u91c7\u7528\u661f\u578b\u62d3\u6251\uff0c\u800c\u57fa\u7ad9\u4e4b\u95f4\u7684\u901a\u4fe1\u53ef\u4ee5\u91c7\u7528\u7f51\u72b6\u62d3\u6251\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qqqqq","title":"Q:\u4e3a\u4ec0\u4e48\u6211\u5bb6\u7535\u8111\u4e0a\u7684QQ\u53ef\u4ee5\u7ed9\u4f60\u5bb6\u7535\u8111\u4e0a\u7684QQ\u53d1\u4fe1\u606f\uff1f","text":"<p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5bb6\u7535\u8111\u548c\u4f60\u8fde\u63a5\u7684\u7f51\u7edc\u4ee5\u53ca\u6211\u5bb6\u7535\u8111\u548c\u6211\u8fde\u63a5\u7684\u7f51\u7edc\u53ef\u80fd\u90fd\u7ecf\u8fc7\u4e86NAT\uff08\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff09\u5904\u7406\u3002\u5728NAT\u7684\u4f5c\u7528\u4e0b\uff0c\u5c40\u57df\u7f51\u5185\u7684\u6240\u6709\u8bbe\u5907\u4f7f\u7528\u540c\u4e00\u4e2a\u516c\u7f51IP\u5730\u5740\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u540c\u65f6\u901a\u8fc7\u4e0d\u540c\u7684\u7aef\u53e3\u53f7\u6765\u533a\u5206\u4e0d\u540c\u7684\u8bbe\u5907\u3002\u56e0\u6b64\uff0c\u867d\u7136\u4f60\u5bb6\u7535\u8111\u548c\u6211\u5bb6\u7535\u8111\u7684IP\u5730\u5740\u90fd\u662f\u79c1\u6709IP\u5730\u5740\uff0c\u4f46\u5b83\u4eec\u80fd\u591f\u901a\u8fc7\u516c\u7f51IP\u5730\u5740\u548c\u7aef\u53e3\u53f7\u8fdb\u884c\u901a\u4fe1\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u4e92\u76f8\u53d1\u9001\u4fe1\u606f\u7684\u529f\u80fd\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#q_13","title":"Q:\u7f51\u7ad9\u7684\u57df\u540d\u662f\u4ec0\u4e48\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981\u57df\u540d\uff1f","text":"<p>\u7f51\u7ad9\u7684\u57df\u540d\u662f\u7f51\u7ad9\u7684\u5730\u5740\uff0c\u5b83\u662f\u7531\u4e00\u4e32\u5b57\u7b26\u7ec4\u6210\u7684\u540d\u79f0\uff0c\u7528\u4e8e\u6807\u8bc6\u7f51\u7ad9\u7684\u552f\u4e00\u6027\u3002\u57df\u540d\u901a\u5e38\u7531\u591a\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u5305\u62ec\u9876\u7ea7\u57df\u540d\u3001\u4e8c\u7ea7\u57df\u540d\u548c\u5b50\u57df\u540d\u7b49\u3002 \u9700\u8981\u57df\u540d\u7684\u539f\u56e0\u6709\u4ee5\u4e0b\u51e0\u4e2a\uff1a - \u65b9\u4fbf\u8bb0\u5fc6\uff1a\u7531\u4e8eIP\u5730\u5740\u901a\u5e38\u662f\u7531\u4e00\u4e32\u6570\u5b57\u7ec4\u6210\uff0c\u4e0d\u5bb9\u6613\u88ab\u4eba\u7c7b\u8bb0\u5fc6\uff0c\u4f7f\u7528\u57df\u540d\u53ef\u4ee5\u65b9\u4fbf\u4eba\u4eec\u8bb0\u5fc6\u548c\u8bbf\u95ee\u7f51\u7ad9\u3002 - \u65b9\u4fbf\u7ba1\u7406\uff1a\u57df\u540d\u53ef\u4ee5\u88ab\u5206\u914d\u548c\u7ba1\u7406\uff0c\u4f7f\u5f97\u4e0d\u540c\u7684\u7f51\u7ad9\u53ef\u4ee5\u5728\u540c\u4e00\u4e2aIP\u5730\u5740\u4e0a\u8fdb\u884c\u8fd0\u884c\u548c\u7ba1\u7406\uff0c\u65b9\u4fbf\u7f51\u7edc\u8d44\u6e90\u7684\u5229\u7528\u548c\u7ba1\u7406\u3002 - \u7f51\u7ad9\u7684\u54c1\u724c\u548c\u63a8\u5e7f\uff1a\u901a\u8fc7\u4e00\u4e2a\u6613\u4e8e\u8bb0\u5fc6\u7684\u57df\u540d\u53ef\u4ee5\u63d0\u9ad8\u7f51\u7ad9\u7684\u77e5\u540d\u5ea6\u548c\u54c1\u724c\u4ef7\u503c\uff0c\u4ece\u800c\u5438\u5f15\u66f4\u591a\u7684\u8bbf\u95ee\u8005\u3002 - \u7f51\u7ad9\u7684\u5b89\u5168\u6027\uff1a\u901a\u8fc7\u57df\u540d\u53ef\u4ee5\u5b9e\u73b0SSL\u8bc1\u4e66\u7684\u5b89\u88c5\u548c\u4f7f\u7528\uff0c\u4ece\u800c\u4fdd\u8bc1\u7f51\u7ad9\u7684\u5b89\u5168\u6027\u548c\u8bbf\u95ee\u8005\u7684\u9690\u79c1\u3002</p> <p>\u603b\u4e4b\uff0c\u57df\u540d\u662f\u4e92\u8054\u7f51\u4e0a\u975e\u5e38\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u65b9\u4fbf\u4e86\u7528\u6237\u8bbf\u95ee\u7f51\u7ad9\uff0c\u4e5f\u65b9\u4fbf\u4e86\u7f51\u7ad9\u7684\u7ba1\u7406\u548c\u63a8\u5e7f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/tips/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%97%AE%E7%AD%94/#qdns","title":"Q:DNS\u670d\u52a1\u5668\u662f\u4ec0\u4e48\uff1f","text":"<p>DNS\u670d\u52a1\u5668\uff08Domain Name System Server\uff09\u662f\u4e00\u79cd\u7f51\u7edc\u670d\u52a1\u5668\uff0c\u5b83\u8d1f\u8d23\u5c06\u57df\u540d\u89e3\u6790\u6210IP\u5730\u5740\u3002\u5f53\u60a8\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165\u4e00\u4e2a\u57df\u540d\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5411DNS\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u67e5\u8be2\u8bf7\u6c42\uff0c\u4ee5\u83b7\u53d6\u8be5\u57df\u540d\u5bf9\u5e94\u7684IP\u5730\u5740\u3002DNS\u670d\u52a1\u5668\u5c06\u8fd4\u56de\u4e00\u4e2aIP\u5730\u5740\uff0c\u4f7f\u5f97\u60a8\u7684\u6d4f\u89c8\u5668\u53ef\u4ee5\u8fde\u63a5\u5230\u76f8\u5e94\u7684\u7f51\u7edc\u8d44\u6e90\u3002</p> <p>DNS\u670d\u52a1\u5668\u901a\u5e38\u7531Internet\u670d\u52a1\u63d0\u4f9b\u5546\uff08ISP\uff09\u6216\u5176\u4ed6\u7b2c\u4e09\u65b9\u670d\u52a1\u63d0\u4f9b\u5546\u63d0\u4f9b\u3002\u5927\u578b\u516c\u53f8\u548c\u7ec4\u7ec7\u4e5f\u53ef\u80fd\u6709\u81ea\u5df1\u7684\u4e13\u7528DNS\u670d\u52a1\u5668\u6765\u5904\u7406\u5176\u5185\u90e8\u7f51\u7edc\u4e0a\u7684DNS\u67e5\u8be2\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/","title":"CSS","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css","title":"CSS\u8bed\u6cd5\u89c4\u8303","text":"<p>CSS \u89c4\u5219\u7531\u4e24\u4e2a\u4e3b\u8981\u7684\u90e8\u5206\u6784\u6210\uff1a\u9009\u62e9\u5668\u4ee5\u53ca\u4e00\u6761\u6216\u591a\u6761\u58f0\u660e\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff1a\u7ed9\u8c01\u6539\u6837\u5f0f\uff0c\u6539\u54ea\u4e9b\u6837\u5f0f</p> <ul> <li>\u9009\u62e9\u5668\u662f\u7528\u4e8e\u6307\u5b9aCSS\u6837\u5f0f\u7684HTML\u6807\u7b7e\uff0c\u82b1\u62ec\u53f7\u5185\u662f\u5bf9\u8be5\u6807\u7b7e\u8bbe\u7f6e\u7684\u5177\u4f53\u6837\u5f0f</li> <li>\u5c5e\u6027\u548c\u5c5e\u6027\u503c\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u51fa\u73b0</li> <li>\u5c5e\u6027\u662f\u5bf9\u6307\u5b9a\u7684\u5bf9\u8c61\u8bbe\u7f6e\u7684\u6837\u5f0f\u5c5e\u6027\uff0c\u4f8b\u5982\u5b57\u4f53\u5927\u5c0f\u3001\u6587\u672c\u989c\u8272\u7b49</li> <li>\u5c5e\u6027\u548c\u5c5e\u6027\u503c\u4e4b\u95f4\u7528\u82f1\u6587\u201c:\u201c\u5206\u5f00</li> <li>\u6bcf\u7ec4\u952e\u503c\u5bf9\u4ee5\u201d;\u201c\u7ed3\u5c3e</li> </ul> CSS<pre><code>p {\n    color: #ffeb00;\n    font-size: 200px;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_1","title":"CSS\u4ee3\u7801\u98ce\u683c","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_1","title":"\u6837\u5f0f\u683c\u5f0f\u4e66\u5199","text":"<p>\u7d27\u51d1\u578b\u683c\u5f0f</p> CSS<pre><code>h3 { color: deeppink; font-size: 20px;}\n</code></pre> <p>\u5c55\u5f00\u578b\u683c\u5f0f\uff08\u63d0\u5021\uff0c\u66f4\u76f4\u89c2\uff09</p> CSS<pre><code>h3 {\n    color: pink;\n    font-size: 20px;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_2","title":"\u6837\u5f0f\u5927\u5c0f\u5199\u98ce\u683c","text":"<p>\u4e00\u822c\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_3","title":"\u6837\u5f0f\u7a7a\u683c\u98ce\u683c","text":"CSS<pre><code>p {\n    color: #ffeb00;\n    font-size: 200px;\n}\n</code></pre> <ul> <li> <p>\u5c5e\u6027\u503c\u524d\u9762\uff0c\u5192\u53f7\u540e\u9762\uff0c\u4fdd\u7559\u4e00\u4e2a\u7a7a\u683c</p> </li> <li> <p>\u9009\u62e9\u5668\uff08\u6807\u7b7e\uff09\u548c\u5927\u62ec\u53f7\u4e2d\u95f4\u4fdd\u7559\u7a7a\u683c</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_2","title":"CSS\u57fa\u7840\u9009\u62e9\u5668&amp;\u590d\u5408\u9009\u62e9\u5668","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_3","title":"CSS\u9009\u62e9\u5668\u7684\u4f5c\u7528","text":"<p>\u9009\u62e9\u5668\uff08\u9009\u62e9\u7b26\uff09\u5c31\u662f\u6839\u636e\u4e0d\u540c\u9700\u6c42\u628a\u4e0d\u540c\u7684\u6807\u7b7e\u9009\u51fa\u6765\u8fd9\u5c31\u662f\u9009\u62e9\u5668\u7684\u4f5c\u7528\u3002 \u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u9009\u62e9\u6807\u7b7e\u7528\u7684\u3002</p> CSS<pre><code>h1 {\n    color: red;\n}\n</code></pre> <p>\u4ee5\u4e0aCSS\u505a\u4e86\u4e24\u4ef6\u4e8b</p> <ul> <li>\u627e\u5230\u6240\u6709\u7684h1\u6807\u7b7e</li> <li>\u5c06\u8fd9\u4e9b\u6807\u7b7e\u7684\u6837\u5f0f\uff0c\u6bd4\u5982\u989c\u8272\u6539\u4e3a\u7ea2\u8272</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_4","title":"\u9009\u62e9\u5668\u7684\u5206\u7c7b","text":"<p>\u9009\u62e9\u5668\u5206\u4e3a\u57fa\u7840\u9009\u62e9\u5668\u548c\u590d\u5408\u9009\u62e9\u5668\u4e24\u4e2a\u5927\u7c7b \u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_5","title":"\u57fa\u7840\u9009\u62e9\u5668","text":"<ul> <li>\u7531\u5355\u4e2a\u9009\u62e9\u5668\u7ec4\u6210\u7684</li> <li>\u57fa\u7840\u9009\u62e9\u5668\u53c8\u5305\u62ec\uff1a\u6807\u7b7e\u9009\u62e9\u5668\u3001\u7c7b\u9009\u62e9\u5668\u3001id\u9009\u62e9\u5668\u548c\u901a\u914d\u7b26\u9009\u62e9\u5668</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_6","title":"\u6807\u7b7e\u9009\u62e9\u5668","text":"CSS<pre><code>p {\n  color: green;\n}\n</code></pre> <p>\u4f7f\u7528html\u7684\u6807\u7b7e\u540d\u4f5c\u4e3a\u9009\u62e9\u5668\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_7","title":"\u4f5c\u7528","text":"<p>\u628a\u67d0\u4e00\u7c7b\u6807\u7b7e\u5168\u90e8\u9009\u62e9\u51fa\u6765\uff0c\u6bd4\u5982\u6240\u6709\u7684<code>&lt;div&gt;</code>\u6807\u7b7e\u548c\u6240\u6709\u7684<code>&lt;span&gt;</code>\u6807\u7b7e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_8","title":"\u4f18\u70b9","text":"<p>\u80fd\u5feb\u901f\u4e3a\u9875\u9762\u4e2d\u540c\u7c7b\u578b\u7684\u6807\u7b7e\u7edf\u4e00\u8bbe\u7f6e\u6837\u5f0f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_9","title":"\u7f3a\u70b9","text":"<p>\u4e0d\u80fd\u8bbe\u8ba1\u5dee\u5f02\u5316\u6837\u5f0f\uff0c\u53ea\u80fd\u9009\u62e9\u5168\u90e8\u7684\u5f53\u524d\u6807\u7b7e\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_10","title":"\u7c7b\u9009\u62e9\u5668","text":"CSS<pre><code>CSS\u90e8\u5206\n&lt;style&gt;\n  .red {\n    color: red;\n  }\n&lt;/style&gt;\n\nHTML\u90e8\u5206\n&lt;ul&gt;\n  &lt;li class=\"red\"&gt;\u51b0\u96e81&lt;/li&gt;\n  &lt;li&gt;\u51b0\u96e82&lt;/li&gt;\n  &lt;li&gt;\u51b0\u96e83&lt;/li&gt;\n  &lt;li&gt;\u51b0\u96e84&lt;/li&gt;\n  &lt;li&gt;\u51b0\u96e85&lt;/li&gt;\n&lt;/ul&gt;\n&lt;div class=\"red\"&gt;\u6211\u4e5f\u60f3\u53d8\u6210\u7ea2\u8272&lt;/div&gt;\n</code></pre> <p>\u7c7b\u9009\u62e9\u5668\u53e3\u6c7a\uff1a\u6837\u5f0f\u70b9\u5b9a\u4e49     \u7ed3\u6784\u7c7b(cLass) \u8c03\u7528     \u4e00\u4e2a\u6216\u591a\u4e2a    \u5f00\u53d1\u6700\u5e38\u7528</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#id","title":"id \u9009\u62e9\u5668","text":"<p>id\u9009\u62e9\u5668\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#id_1","title":"id\u9009\u62e9\u5668\u548c\u7c7b\u9009\u62e9\u5668\u7684\u533a\u522b","text":"<ul> <li> <p>\u7c7b\u9009\u62e9\u5668\uff08class\uff09\u597d\u6bd4\u4eba\u7684\u540d\u5b57\uff0c\u4e00\u4e2a\u4eba\u53ef\u4ee5\u6709\u591a\u4e2a\u540d\u5b57\uff0c\u540c\u65f6\u4e00\u4e2a\u540d\u5b57\u4e5f\u53ef\u4ee5\u88ab\u591a\u4e2a\u4eba\u4f7f\u7528\u3002</p> </li> <li> <p>id\u9009\u62e9\u5668\u597d\u6bd4\u4eba\u7684\u8eab\u4efd\u8bc1\u53f7\u7801\uff0c\u5168\u4e2d\u56fd\u662f\u552f\u4e00\u7684\uff0c\u4e0d\u5f97\u91cd\u590d\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_11","title":"\u901a\u914d\u7b26\u9009\u62e9\u5668","text":"<p>\u5728CSS\u4e2d\uff0c\u901a\u914d\u7b26\u9009\u62e9\u5668\u4f7f\u7528\u201c*\u201d \u5b9a\u4e49\uff0c\u5b83\u8868\u793a\u9009\u53d6\u9875\u9762\u4e2d\u6240\u6709\u5143\u7d20\uff08\u6807\u7b7e\uff09\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_12","title":"\u590d\u5408\u9009\u62e9\u5668","text":"<ul> <li> <p>\u590d\u5408\u9009\u62e9\u5668\u53ef\u4ee5\u66f4\u51c6\u786e\u3001\u66f4\u9ad8\u6548\u7684\u9009\u62e9\u76ee\u6807\u5143\u7d20\uff08\u6807\u7b7e\uff09</p> </li> <li> <p>\u590d\u5408\u9009\u62e9\u5668\u662f\u7531\u4e24\u4e2a\u6216\u591a\u4e2a\u57fa\u7840\u9009\u62e9\u5668\uff0c\uff0c\u901a\u8fc7\u4e0d\u540c\u7684\u65b9\u5f0f\u7ec4\u5408\u800c\u6210\u7684</p> </li> <li>\u5e38\u7528\u7684\u590d\u5408\u9009\u62e9\u5668\u5305\u62ec\uff1a\u540e\u4ee3\u9009\u62e9\u5668\u3001\u5b50\u9009\u62e9\u5668\u3001\u5e76\u96c6\u9009\u62e9\u5668\u3001\u4f2a\u7c7b\u9009\u62e9\u5668\u7b49\u7b49</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_13","title":"\u540e\u4ee3\u9009\u62e9\u5668\uff08\u91cd\u8981\uff09","text":"<p>\u540e\u4ee3\u9009\u62e9\u5668\u53c8\u79f0\u4e3a\u5305\u542b\u9009\u62e9\u5668\uff0c\u53ef\u4ee5\u9009\u62e9\u7236\u5143\u7d20\u91cc\u9762\u5b50\u5143\u7d20\u3002\u5176\u5199\u6cd5\u5c31\u662f\u628a\u5916\u5c42\u6807\u7b7e\u5199\u5728\u524d\u9762\uff0c\u5185\u5c42\u6807\u7b7e\u5199\u5728\u540e\u9762\uff0c\u4e2d\u95f4\u7528\u7a7a\u683c\u5206\u9694\u3002\u5f53\u6807\u7b7e\u53d1\u751f\u773c\u5957\u65f6\uff0c\u5185\u5c42\u6807\u7b7e\u5c31\u6210\u4e3a\u5916\u5c42\u6807\u7b7e\u7684\u540e\u4ee3\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_14","title":"\u8bed\u6cd5\u89c4\u8303","text":"<p>\u5143\u7d201 \u5143\u7d202 { \u6837\u5f0f\u58f0\u660e }</p> <p>\u6700\u7ec8\u6539\u7684\u53ea\u6709\u5143\u7d202\u7684\u6837\u5f0f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_15","title":"\u793a\u4f8b","text":"<p>CSS\u4ee3\u7801</p> CSS<pre><code>    &lt;style&gt;\n        ol li {\n            color: pink;\n        }\n    &lt;/style&gt;\n\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\uff08\u4e0e\u4e0b\u9762\u7684\u8fd0\u884c\u7ed3\u679c\u65e0\u5173\uff09\n.demo li a {\n    XXX: XXX;\n}\n</code></pre> <p>HTML\u4ee3\u7801</p> HTML<pre><code>&lt;body&gt;\n    &lt;ol&gt;\n        &lt;li&gt;\u6211\u662fol\u7684\u5b69\u5b50&lt;/li&gt;\n        &lt;li&gt;\u6211\u662fol\u7684\u5b69\u5b50&lt;/li&gt;\n        &lt;li&gt;\u6211\u662fol\u7684\u5b69\u5b50&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;ul&gt;\n        &lt;li&gt;\u6211\u662ful\u7684\u5b69\u5b50&lt;/li&gt;\n        &lt;li&gt;\u6211\u662ful\u7684\u5b69\u5b50&lt;/li&gt;\n        &lt;li&gt;\u6211\u662ful\u7684\u5b69\u5b50&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/body&gt;\n</code></pre> <p>\u7ed3\u679c\uff1a</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_16","title":"\u5b50\u9009\u62e9\u5668\uff08\u91cd\u8981\uff09","text":"<p>\u5b50\u5143\u7d20\u9009\u62e9\u5668\uff08\u5b50\u9009\u62e9\u5668\uff09\u53ea\u80fd\u9009\u62e9\u4f5c\u4e3a\u67d0\u5143\u7d20\u7684\u6700\u8fd1\u4e00\u7ea7\u5b50\u5143\u7d20\u3002\u7b80\u5355\u7406\u89e3\u5c31\u662f\u9009\u4eb2\u513f\u5b50\u5143\u7d20</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_17","title":"\u8bed\u6cd5\u89c4\u8303","text":"<p>\u5143\u7d201 &gt; \u5143\u7d202 { \u6837\u5f0f\u58f0\u660e }</p> <p>div &gt; p { key: value; }</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_18","title":"\u5e76\u96c6\u9009\u62e9\u5668 \uff08\u91cd\u8981\uff09","text":"<p>\u5e76\u96c6\u9009\u62e9\u5668\u53ef\u4ee5\u9009\u62e9\u591a\u7ec4\u6807\u7b7e\u540c\u65f6\u4e3a\u4ed6\u4eec\u5b9a\u4e49\u76f8\u540c\u7684\u6837\u5f0f\u3002\u901a\u5e38\u7528\u4e8e\u96c6\u4f53\u58f0\u660e</p> <p>\u4e95\u96c6\u9009\u62e9\u5668\u662f\u5404\u9009\u62e9\u5668\u901a\u8fc7\u82f1\u6587\u9017\u53f7\uff08,\uff09\u8fde\u63a5\u800c\u6210\uff0c\u4efb\u4f55\u5f62\u5f0f\u7684\u9009\u62e9\u5668\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5e76\u96c6\u9009\u62e9\u5668\u7684\u4e00\u90e8\u5206\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_19","title":"\u8bed\u6cd5\u89c4\u8303","text":"<p>\u5143\u7d201, \u5143\u7d202 { \u6837\u5f0f\u58f0\u660e }</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u5e76\u4e0a\u540e\u4ee3\u9009\u62e9\u5668</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_20","title":"\u4f2a\u7c7b\u9009\u62e9\u5668","text":"<p>\u4f2a\u7c7b\u9009\u62e9\u5668\u7528\u4e8e\u5411\u67d0\u4e9b\u9009\u62e9\u5668\u6dfb\u52a0\u7279\u6b8a\u7684\u6548\u679c \uff0c\u6bd4\u5982\u7ed9\u94fe\u63a5\u6dfb\u52a0\u7279\u6b8a\u6548\u679c \uff0c\u6216\u9009\u62e9\u7b2c1\u4e2a\uff0c\u7b2c\u516b\u4e2a\u5143\u7d20\u3002</p> <p>\u4f2a\u7c7b\u9009\u62e9\u5668\u4e66\u5199\u6700\u5927\u7684\u7279\u70b9\u662f\u7528\u5192\u53f7\uff08:\uff09\u8868\u793a\uff0c\u6bd4\u5982\uff1a:hover\u3001:first-child \u3002</p> <p>\u56e0\u4e3a\u4f2a\u7c7b\u9009\u62e9\u5668\u5f88\u591a\uff0c\u6bd4\u5982\u6709\u94fe\u63a5\u4f2a\u7c7b\u3001\u7ed3\u6784\u4f2a\u7c7b\u7b49\uff0c\u6240\u4ee5\u8fd9\u91cc\u5148\u7ed9\u5927\u5bb6\u8bb2\u89e3\u5e38\u7528\u7684\u94fe\u63a5\u4f2a\u7c7b\u9009\u62e9\u5668\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_21","title":"\u94fe\u63a5\u4f2a\u7c7b\u9009\u62e9\u5668","text":"\u4f2a\u7c7b\u9009\u62e9\u5668 \u63cf\u8ff0 a:link \u9009\u62e9\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5 a:visited \u9009\u62e9\u6240\u6709\u5df2\u88ab\u8bbf\u95ee\u7684\u94fe\u63a5 a:hover \u9009\u62e9\u9f20\u6807\u6307\u9488\u4f4d\u4e8e\u5176\u4e0a\u7684\u94fe\u63a5 a:active \u9009\u62e9\u6d3b\u52a8\u94fe\u63a5\uff08\u9f20\u6807\u6309\u4e0b\u672a\u5f39\u8d77\u7684\u94fe\u63a5\uff09 <p>\u4e3a\u4e86\u786e\u4fdd\u751f\u6548\uff0c\u8bf7\u6309\u7167LVHA \u7684\u5faa\u987a\u5e8f\u58f0\u660e\uff1alink - visited - hover -active\u3002</p> <p>\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u5199\u6cd5</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#focus","title":"focus\u4f2a\u7c7b\u9009\u62e9\u5668","text":"CSS<pre><code>input:focus {\n    background-color: pink;\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_22","title":"\u5e38\u7528\u7684\u5c5e\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#font","title":"\u5b57\u4f53 font","text":"<p>font-family\uff1a\u5b57\u4f53\u7fa4\u7ec4</p> <p>font-size\uff1a\u5b57\u4f53\u5927\u5c0f\uff08\u8bbe\u7f6ebody\u7684font-size\uff0c\u4f46\u662f\u6807\u9898\u6807\u7b7e\u4e0d\u4f1a\u6539\u53d8\uff0c\u9700\u8981\u53e6\u5916\u8fdb\u884c\u8bbe\u7f6e\uff09</p> <p>font-weight\uff1a\u5b57\u4f53\u7c97\u7ec6\u3002normal(400)  bold(700)</p> <p>font-style \uff1a\u8bbe\u7f6e\u6587\u672c\u7684\u98ce\u683c\u3002 normal/italic</p> <p>\u5b57\u4f53\u590d\u5408\u5c5e\u6027\uff1afont\uff08\u8282\u7ea6\u4ee3\u7801\u91cf\uff09 <code>font: font-style font-weight font-size/line-height font-family</code> font-size \u548c font-family\u4e0d\u80fd\u7701\u7565</p> <p>color\uff1a\u5b9a\u4e49\u6587\u672c\u989c\u8272    \u5341\u516d\u8fdb\u5236/\u989c\u8272\u540d/RGB\u4ee3\u7801</p> <p>text-align\uff1a\u7528\u4e8e\u8bbe\u7f6e\u5143\u7d20\u5185\u6587\u672c\u5185\u5bb9\u7684\u6c34\u5e73\u5bf9\u9f50\u65b9\u5f0f\u3002</p> <p>text-decoration \uff1a\u89c4\u5b9a\u6dfb\u52a0\u5230\u6587\u672c\u7684\u4fee\u9970\u3002\u53ef\u4ee5\u7ed9\u6587\u672c\u6dfb\u52a0\u4e0b\u5212\u7ebf\u3001\u5220\u9664\u7ebf\u3001 \u4e0a\u5212\u7ebf\u7b49\u3002</p> <p>text-indent\uff1a\u7528\u6765\u6307\u5b9a\u6587\u672c\u7684\u7b2c\u4e00\u884c\u7684\u7f29\u8fdb\uff0c\u901a\u5e38\u662f\u5c06\u6bb5\u843d\u7684\u9996\u884c\u7f29\u8fdb\u3002</p> <p>em \u662f\u4e00\u4e2a\u76f8\u5bf9\u5355\u4f4d\uff0c\u5c31\u662f\u5f53\u524d\u5143\u7d20(font-size) 1\u4e2a\u6587\u5b57\u7684\u5927\u5c0f\uff0c\u5982\u679c\u5f53\u524d\u5143\u7d20\u6ca1\u6709\u8bbe\u7f6e\u5927\u5c0f\uff0c\u5219\u4f1a\u6309\u7167\u7236\u5143\u7d20\u76841\u4e2a\u6587\u5b57\u5927\u5c0f\u3002</p> <p>line-height \uff1a\u7528\u4e8e\u8bbe\u7f6e\u884c\u95f4\u7684\u8ddd\u79bb\uff08\u884c\u9ad8\uff09\u3002\u53ef\u4ee5\u63a7\u5236\u6587\u5b57\u884c\u4e0e\u884c\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002</p> <p>\u884c\u95f4\u8ddd = \u6587\u672c\u9ad8\u5ea6 + \u4e0a&amp;\u4e0b\u95f4\u8ddd</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#background","title":"\u80cc\u666f background","text":"<ul> <li>\u80cc\u666f\u989c\u8272   background-color \u5b9a\u4e49\u4e86\u5143\u7d20\u7684\u80cc\u666f\u989c\u8272   \u5728\u80cc\u666f\u7684\u6700\u5e95\u5c42\uff0c\u4f1a\u88abimage\u538b\u4f4f</li> </ul> <p><code>backgound-color: \u989c\u8272\u503c</code>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u503c\u662ftransparent\uff08\u900f\u660e\uff09</p> <ul> <li>\u80cc\u666f\u56fe\u7247   background-image \u63cf\u8ff0\u4e86\u5143\u7d20\u7684\u80cc\u666f\u56fe\u50cf\u3002\u5b9e\u9645\u5f00\u53d1\u5e38\u89c1\u4e8elogo\u3002 \u6216\u8005\u4e00\u4e9b\u88c5\u9970\u6027\u7684\u5c0f\u56fe\u7247\u6216\u8005\u662f\u8d85\u5927\u7684\u80cc\u666f\u56fe\u7247\uff0c\u4f18\u70b9\u662f\u975e\u5e38\u4fbf\u4e8e\u63a7\u5236\u4f4d\u7f6e\uff08\u7cbe\u7075\u56fe\u4e5f\u662f\u4e00\u79cd\u8fd0\u7528\u573a\u666f\uff09</li> </ul> <p><code>background-image:none/url</code></p> <ul> <li>\u80cc\u666f\u5e73\u94fa    background-repeat\u5728HTML\u9875\u9762\u4e0a\u5bf9\u80cc\u666f\u56fe\u50cf\u8fdb\u884c\u5e73\u94fa</li> </ul> <p><code>background-repeat: repeat/no-repeat/repeat-x/repeat-y</code></p> <ul> <li>\u80cc\u666f\u4f4d\u7f6e    background-position\u53ef\u4ee5\u6539\u53d8\u56fe\u7247\u5728\u80cc\u666f\u4e2d\u7684\u4f4d\u7f6e\u3002</li> </ul> <p><code>background-position: x y;</code>\u53ef\u4ee5\u4f7f\u7528\u65b9\u4f4d\u540d\u8bcd\uff08center/top/bottom/left/right\uff09</p> <ul> <li>\u80cc\u666f\u56fe\u50cf\u56fa\u5b9a\uff08\u80cc\u666f\u9644\u7740\uff09    background-attachment\u8bbe\u7f6e\u80cc\u666f\u56fe\u50cf\u662f\u5426\u56fa\u5b9a\u6216\u8005\u968f\u7740\u9875\u9762\u7684\u5176\u4f59\u90e8\u5206\u6eda\u52a8    \u540e\u671f\u53ef\u4ee5\u505a\u89c6\u5dee\u6eda\u52a8</li> </ul> <p><code>background-attachment: scroll\uff08\u968f\u5bf9\u8c61\u5185\u5bb9\u6eda\u52a8\uff09/fixed\uff08\u56fa\u5b9a\uff09</code></p> <ul> <li>\u80cc\u666f\u590d\u5408\u5199\u6cd5    background</li> </ul> <p>\u5f53\u4f7f\u7528\u7b80\u5199\u5c5e\u6027\u65f6\uff0c\u6ca1\u6709\u7279\u5b9a\u7684\u4e66\u4e8f\u987a\u5e8f,\u4e00\u822c\u4e60\u60ef\u7ea6\u5b9a\u987a\u5e8f\u4e3a\uff1a</p> <p>background:\u80cc\u666f\u989c\u8272\u3001\u80cc\u666f\u56fe\u7247\u5730\u5740\u3001\u80cc\u666f\u5e73\u94fa\u3001\u80cc\u666f\u56fe\u50cf\u6eda\u52a8\u3001\u80cc\u666f\u56fe\u7247\u4f4d\u7f6e;</p> <ul> <li>\u80cc\u666f\u989c\u8272\u534a\u900f\u660e background: rgba(0, 0, 0, 0.3)</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_4","title":"CSS \u5f15\u5165\u65b9\u5f0f","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_23","title":"\u5185\u90e8\u6837\u5f0f\u8868","text":"<p>\u5185\u90e8\u6837\u5f0f\u8868\uff08\u5185\u5d4c\u6837\u5f0f\u8868\uff09\u662f\u5199\u5230html\u9875\u9762\u5185\u90e8\uff0e\u662f\u5c06\u6240\u6709\u7684CSS \u4ee3\u7801\u62bd\u53d6\u51fa\u6765\uff0c\u5355\u72ec\u653e\u5230\u4e00\u4e2a\uff1cstyle\uff1e\u6807\u7b7e\u4e2d\u3002</p> CSS<pre><code>&lt;style&gt;\ndiv {\n        color: red;\n    font-size: 12px;\n}\n&lt;/style&gt;\n</code></pre> <ul> <li>style\u6807\u7b7e\u7406\u8bba\u4e0a\u53ef\u4ee5\u653e\u5728 HTML \u6587\u6863\u7684\u4efb\u4f55\u5730\u65b9\uff0c\u4f46\u4e00\u822c\u4f1a\u653e\u5728\u6587\u6863\u7684\u6807\u7b7e\u4e2d <li>\u901a\u8fc7\u6b64\u79cd\u65b9\u5f0f\uff0c\u53ef\u4ee5\u65b9\u4fbf\u63a7\u5236\u5f53\u524d\u6574\u4e2a\u9875\u9762\u4e2d\u7684\u5143\u7d20\u6837\u5f0f\u8bbe\u7f6e</li> <li>\u4ee3\u7801\u7ed3\u6784\u6e05\u6670\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u5b9e\u73b0\u7ed3\u6784\u4e0e\u6837\u5f0f\u5b8c\u5168\u5206\u79bb</li> <li>\u4f7f\u7528\u5185\u90e8\u6837\u5f0f\u8868\u8bbe\u5b9aCSS\uff0c\u901a\u5e38\u4e5f\u88ab\u79f0\u4e3a\u5d4c\u5165\u5f0f\u5f15\u5165\uff0c\u8fd9\u79cd\u65b9\u5f0f\u662f\u6211\u4eec\u7ec3\u4e60\u65f6\u5e38\u7528\u7684\u65b9\u5f0f</li>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_24","title":"\u884c\u5185\u6837\u5f0f\u8868","text":"<p>\u884c\u5185\u6837\u5f0f\u8868\uff08\u5185\u8054\u6837\u5f0f\u8868\uff09\u662f\u5728\u5143\u7d20\u6807\u7b7e\u5185\u90e8\u7684style \u5c5e\u6027\u4e2d\u8bbe\u5b9aCSS \u6837\u5f0f\u3002\u9002\u5408\u4e8e\u4fee\u6539\u7b80\u5355\u6837\u5f0f.</p> HTML<pre><code>&lt;div style=\"color: red; font-size: 12px;\"&gt;\u54c8\u54c8\u54c8\u54c8\u54c8&lt;/div&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_25","title":"\u5916\u90e8\u6837\u5f0f\u8868","text":"<p>\u5b9e\u9645\u5f00\u53d1\u90fd\u662f\u5916\u90e8\u6837\u5f0f\u8868\uff0c\u9002\u5408\u4e8e\u6837\u5f0f\u6bd4\u8f83\u591a\u7684\u60c5\u51b5.\u6838\u5fc3\u662f;\u6837\u5f0f\u5355\u72ec\u5199\u5230CSS\u6587\u4ef6\u4e2d\uff0c\u4e4b\u540e\u628aCSS\u6587\u4ef6\u5f15\u5165\u5230HTML\u9875\u9762\u4e2d\u4f7f\u7528\u3002</p> HTML<pre><code>&lt;link rel=\"stylesheet\" href=\"css\u6587\u4ef6\u8def\u5f84\"&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_5","title":"CSS \u7684\u5143\u7d20\u663e\u793a\u6a21\u5f0f","text":"<p>\u4f5c\u7528\uff1a\u7f51\u9875\u7684\u6807\u7b7e\u975e\u5e38\u591a\uff0c\u5728\u4e0d\u540c\u5730\u65b9\u4f1a\u7528\u5230\u4e0d\u540c\u7c7b\u578b\u7684\u6807\u7b7e\uff0c\u4e86\u89e3\u4ed6\u4eec\u7684\u7279\u70b9\u53ef\u4ee5\u66f4\u597d\u7684\u5e03\u5c40\u6211\u4eec\u7684\u7f51\u9875\u3002</p> <p>\u5143\u7d20\u663e\u793a\u6a21\u5f0f\u5c31\u662f\u5143\u7d20\uff08\u6807\u7b7e\uff09\u4ee5\u4ec0\u4e48\u65b9\u5f0f\u8fdb\u884c\u54c1\u793a \uff0c\u6bd4\u5982<code>&lt;div&gt;</code>\u81ea\u5df1\u5360\u4e00\u884c\uff0c\u6bd4\u5982\u4e00\u884c\u53ef\u4ee5\u653e\u591a\u4e2a<code>&lt;span&gt;</code>\u3002</p> <p>HTML \u5143\u7d20\u4e00\u822c\u5206\u4e3a\u5757\u5143\u7d20\u548c\u884c\u5185\u5143\u7d20\u4e24\u79cd\u7c7b\u578b\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_26","title":"\u5757\u5143\u7d20","text":"<ul> <li>\u6587\u5b57\u7c7b\u7684\u5143\u7d20\u5185\u4e0d\u80fd\u4f7f\u7528\u5757\u7ea7\u5143\u7d20</li> <li><code>&lt;p&gt;</code>\u6807\u7b7e\u4e3b\u8981\u7528\u4e8e\u5b58\u653e\u6587\u5b57\uff0c\u56e0\u6b64p\u91cc\u9762\u4e0d\u80fd\u653e\u5757\u7ea7\u5143\u7d20\uff0c\u7279\u522b\u662f\u4e0d\u80fd\u653ediv</li> <li>\u540c\u7406\uff0ch1~h6\u7b49\u90fd\u662f\u6587\u5b57\u7c7b\u5757\u7ea7\u6807\u7b7e\uff0c\u91cc\u9762\u4e5f\u4e0d\u80fd\u653e\u5176\u4ed6\u5757\u7ea7\u5143\u7d20</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_27","title":"\u884c\u5143\u7d20","text":"<ul> <li>\u94fe\u63a5\u91cc\u9762\u4e0d\u80fd\u518d\u653e\u94fe\u63a5</li> <li>\u7279\u6b8a\u60c5\u51b5\u94fe\u63a5a\u91cc\u9762\u53ef\u4ee5\u653e\u5757\u7ea7\u5143\u7d20\uff0c\u4f46\u662f\u7ed9a\u8f6c\u6362\u4e00\u4e0b\u5757\u7ea7\u6a21\u5f0f\u6700\u5b89\u5168</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_28","title":"\u884c\u5185\u5757\u5143\u7d20","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_29","title":"\u5143\u7d20\u663e\u793a\u6a21\u5f0f\u8f6c\u6362","text":"<p>\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5143\u7d20\u6a21\u5f0f\u7684\u8f6c\u6362\uff0c\u7b80\u5355\u7406\u89e3\u4e00\u4e2a\u6a2a\u5f0f\u7684\u5143\u7d20\u9700\u8981\u53e6\u5916\u4e00\u79cd\u6a21\u5f0f\u7684\u7279\u6027</p> <p>\u6bd4\u5982\u60f3\u8981\u589e\u52a0\u94fe\u63a5\uff1ca\uff1e\u7684\u89e6\u53d1\u8303\u56f4\u3002</p> <ul> <li> <p>\u8f6c\u6362\u4e3a\u5757\u5143\u7d20\uff1adisplay:block</p> </li> <li> <p>\u8f6c\u6362\u4e3a\u884c\u5143\u7d20\uff1adisplay:inline</p> </li> <li>\u8f6c\u6362\u4e3a\u884c\u5185\u5757\u5143\u7d20\uff1adisplay:inline-block</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#css_6","title":"CSS\u4e09\u5927\u7279\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_30","title":"\u5c42\u53e0\u6027","text":"<p>\u76f8\u540c\u9009\u62e9\u5668\u7ed9\u8bbe\u7f6e\u76f8\u540c\u7684\u6837\u5f0f\uff0c\u6b64\u65f6\u4e00\u4e2a\u6837\u5f0f\u5c31\u4f1a\u8986\u76d6\uff08\u5c42\u53e0\uff09\u53e6\u4e00\u4e2a\u51b2\u7a81\u7684\u6837\u5f0f\u3002\u5c42\u53e0\u6027\u4e3b\u8981\u89e3\u51b3\u6837\u5f0f\u51b2\u7a81\u7684\u95ee\u9898\u3002</p> <p>\u5c42\u53e0\u6027\u539f\u5219\uff1a</p> <ul> <li>\u6837\u5f0f\u51b2\u7a81\uff0c\u9075\u5faa\u7684\u539f\u5219\u662f\u5c31\u8fd1\u539f\u5219\uff0c\u54ea\u4e2a\u6837\u5f0f\u79bb\u5f97\u8fd1\uff0c\u5c31\u6267\u884c\u54ea\u4e2a\u6837\u5f0f</li> <li>\u6837\u5f0f\u4e0d\u51b2\u7a81\uff0c\u4e0d\u4f1a\u5c42\u53e0</li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_31","title":"\u7ee7\u627f\u6027","text":"<p>\u73b0\u5b9e\u4e2d\u7684\u7ee7\u627f\uff1a\u6211\u4eec\u7ee7\u627f\u4e86\u7236\u4eb2\u7684\u59d3</p> <p>CSS\u4e2d\u7684\u7ee7\u627f\uff1a\u5b50\u6807\u7b7e\u4f1a\u7ee7\u627f\u7236\u6807\u7b7e\u7684\u67d0\u4e9b\u6837\u5f0f\uff0c\u5982\u6587\u672c\u989c\u8272\u548c\u5b57\u53f7\u3002\u7b80\u5355\u7684\u7406\u89e3\u5c31\u662f\uff1a\u5b50\u627f\u7236\u4e1a\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_32","title":"\u884c\u9ad8\u7684\u7ee7\u627f\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_33","title":"\u4f18\u5148\u7ea7","text":"<p>\u5f53\u540c\u4e00\u4e2a\u5143\u7d20\u6307\u5b9a\u591a\u4e2a\u9009\u62e9\u5668\uff0c\u5c31\u4f1a\u6709\u4f18\u5148\u7ea7\u7684\u4ea7\u751f\u3002</p> <p></p> <p>\u7ee7\u627f\u7684\u6743\u91cd\u662f0</p> <p><code>!important</code>\u7684\u4f7f\u7528\uff1a</p> CSS<pre><code>div {\n    color: blue!important;\n}\n</code></pre> <p>\u6743\u91cd\u53e0\u52a0\uff1a\u5982\u679c\u662f\u590d\u5408\u9009\u62e9\u5668\uff0c\u5219\u4f1a\u6709\u6743\u91cd\u53e0\u52a0\uff0c\u9700\u8981\u8ba1\u7b97\u6743\u91cd\u3002</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_34","title":"\u76d2\u5b50\u6a21\u578b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#11","title":"1.1\u7f51\u9875\u5e03\u5c40\u7684\u672c\u8d28","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_35","title":"\u7f51\u9875\u5e03\u5c40\u8fc7\u7a0b\uff1a","text":"<ol> <li>\u5148\u51c6\u5907\u597d\u76f8\u5173\u7684\u7f51\u9875\u5143\u7d20\uff0c\u7f51\u9875\u5143\u7d20\u57fa\u672c\u90fd\u662f\u76d2\u5b50Box\u3002</li> <li>\u5229\u7528CSS \u8bbe\u7f6e\u597d\u76d2\u5b50\u6837\u5f0f\uff0c\u7136\u540e\u6446\u653e\u5230\u76f8\u5e94\u4f4d\u7f6e\u3002</li> <li>\u5f80\u76d2\u5b50\u91cc\u9762\u88c5\u5185\u5bb9.</li> </ol> <p>\u7f51\u9875\u5e03\u5c40\u7684\u6838\u5fc3\u672c\u8d28\uff1a\u5c31\u662f\u5229\u7528 CSS\u6446\u76d2\u5b50\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#12","title":"1.2\u76d2\u5b50\u6a21\u578b\u7684\u7ec4\u6210","text":"<p>\u6240\u8c13\u76d2\u5b50\u6a21\u578b\uff1a\u5c31\u662f\u628aHTML \u9875\u9762\u4e2d\u7684\u5e03\u5c40\u5143\u7d20\u770b\u4f5c\u662f\u4e00\u4e2a\u77e9\u5f62\u7684\u76d2\u5b50\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u76db\u88c5\u5185\u5bb9\u7684\u5bb9\u5668\u3002</p> <p>CSS \u76d2\u5b50\u6a21\u578b\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u76d2\u5b50\uff0c\u5c01\u88c5\u5468\u56fd\u7684HTML\u5143\u7d20\uff0c\u5b83\u5305\u62ec\uff1a\u8fb9\u6846\u3001\u5916\u8fb9\u8ddd\u3001\u5185\u8fb9\u8ddd\u3001 \u548c\u5b9e\u9645\u5185\u5bb9</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#border","title":"\u8fb9\u6846border","text":"<p>border\u53ef\u4ee5\u8bbe\u7f6e\u5143\u7d20\u7684\u8fb9\u6846\u3002\u8fb9\u6846\u6709\u4e09\u90e8\u5206\u7ec4\u6210,\u8fb9\u6846\u5b8c\u5ea6(\u7c97\u7ec6)\u8fb9\u6846\u6837\u5f0f\u8fb9\u6846\u989c\u8272</p> <p><code>border / border-width / border-style / border-color</code></p> <p></p> <p></p> <p>border-collapse \u5c5e\u6027\u63a7\u5236\u6d4f\u89c8\u5668\u7ed8\u5236\u8868\u683c\u8fb9\u6846\u7684\u65b9\u5f0f\u3002\u5b83\u63a7\u5236\u76f8\u90bb\u5355\u5143\u683c\u7684\u8fb9\u6846\u3002</p> <p>\u8fb9\u6846\u4f1a\u5f71\u54cd\u76d2\u5b50\u5b9e\u9645\u5927\u5c0f</p> <ul> <li> <p>\u8fb9\u6846\u4f1a\u989d\u5916\u589e\u52a0\u76d2\u5b50\u7684\u5b9e\u9645\u5927\u5c0f\u3002\u56e0\u6b64\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6848\u89e3\u51b3\uff1a</p> </li> <li> <p>\u6d4b\u91cf\u76d2\u5b50\u5927\u5c0f\u7684\u65f6\u5019\u4e0d\u91cf\u8fb9\u6846</p> </li> <li> <p>\u5982\u679c\u6d4b\u91cf\u7684\u65f6\u5019\u5305\u542b\u4e86\u8fb9\u6846,\u5219\u9700\u8981width/height \u51cf\u53bb\u8fb9\u6846\u5bbd\u5ea6</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#padding","title":"\u5185\u8fb9\u8dddpadding","text":"<p>padding / padding-left...  \u7528\u4e8e\u8bbe\u7f6e\u5185\u8fb9\u8ddd\uff0c\u5373\u8fb9\u6846\u4e0e\u5185\u5bb9\u4e4b\u95ee\u7684\u8ddd\u79bb\u3002</p> <p></p> <p>padding\u4e5f\u4f1a\u5f71\u54cd\u76d2\u5b50\u7684\u5927\u5c0f\u3002\u5728\u76d2\u5b50\u539f\u672c\u7684\u5927\u5c0f\u4e0a\uff0c\u589e\u52a0padding\u7684\u5927\u5c0f\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#margin","title":"\u5916\u8fb9\u8dddmargin","text":"<p>margin\u7528\u6cd5\u4e0epadding\u4e00\u81f4</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_36","title":"\u5916\u8fb9\u8ddd\u5178\u578b\u5e94\u7528\uff08\u6c34\u5e73\u5c45\u4e2d\uff09","text":"<p>\u5916\u8fb9\u8ddd\u53ef\u4ee5\u8ba9\u5757\u7ea7\u76d2\u5b50\u6c34\u5e73\u5c45\u4e2d\uff0c\u4f46\u662f\u5fc5\u987b\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6</p> <ul> <li>\u76d2\u5b50\u5fc5\u987b\u6307\u5b9a\u4e86\u5bbd\u5ea6\uff08width\uff09</li> <li>\u76d2\u5b50\u5de6\u53f3\u7684\u5916\u8fb9\u8ddd\u90fd\u8bbe\u7f6e\u4e3aauto</li> </ul> CSS<pre><code>.header {\n    width: 960px;\n    height: 100px;\n    background-color: pink;\n    margin: 0 auto;\n}\n</code></pre> <p>\u884c\u5185\u5143\u7d20\u6216\u8005\u884c\u5185\u5757\u5143\u7d20\u6c34\u5e73\u5c45\u4e2d\u7ed9\u5176\u7236\u5143\u7d20\u6dfb\u52a0 text-align:center\u5373\u53ef</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_37","title":"\u5916\u8fb9\u8ddd\u5408\u5e76","text":"<p>\u4f7f\u7528 margin\u5b9a\u4e49\u5757\u5143\u7d20\u7684\u5782\u76f4\u5916\u8fb9\u8ddd\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u5916\u8fb9\u8ddd\u7684\u5408\u4e95\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_38","title":"\u5d4c\u5957\u5757\u5143\u7d20\u5782\u76f4\u5916\u8fb9\u8ddd\u7684\u584c\u9677","text":"<p>\u5bf9\u4e8e\u4e24\u4e2a\u5d4c\u5957\u5173\u7cfb\uff08\u7236\u5b50\u5173\u7cfb\uff09\u7684\u5757\u5143\u7d20\uff0c\u7236\u5143\u7d20\u6709\u4e0a\u5916\u8fb9\u8ddd\u540c\u65f6\u5b50\u5143\u7d20\u4e5f\u6709\u4e0a\u5916\u8fb9\u8ddd\uff0c\u6b64\u65f6\u7236\u5143\u7d20\u4f1a\u584c\u9677\u8f83\u5927\u7684\u5916\u8fb9\u8ddd\u503c\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>\u53ef\u4ee5\u4e3a\u7236\u5143\u7d20\u5b9a\u4e49\u4e0a\u8fb9\u6846\u3002<code>border: 1px solid transparent;</code></li> <li>\u53ef\u4ee5\u4e3a\u7236\u5143\u7d20\u5b9a\u4e49\u4e0a\u5185\u8fb9\u8ddd\u3002<code>padding: 1px;</code></li> <li>\u53ef\u4ee5\u4e3a\u7236\u5143\u7d20\u6dfb\u52a0 overflow:hidden\u3002<code>overflow: hidden;</code></li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/CSS/#_39","title":"\u6e05\u9664\u5185\u5916\u8fb9\u8ddd","text":"<p>\u5728\u6211\u4eec\u5411html\u6587\u4ef6\u4e2d\u5199\u5165\u5185\u5bb9\u65f6\uff0c\u53d1\u73b0\u6587\u5b57\u6216\u8005\u5217\u8868\u7b49\u7b49\u5185\u5bb9\u90fd\u65e0\u6cd5\u9876\u5230\u6d4f\u89c8\u5668\u7684\u5de6\u4e0a\u89d2\u3002</p> <p></p> <p>\u7f51\u9875\u5143\u7d20\u5f88\u591a\u90fd\u5e26\u6709\u9ed8\u8ba4\u7684\u5185\u5916\u8fb9\u8ddd\uff0c\u800c\u4e14\u4e0d\u540c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u7684\u4e5f\u4e0d\u4e00\u81f4\u3002\u56e0\u6b64\u6211\u4eec\u5728\u5e03\u5c40\u524d\uff0c\u9996\u5148\u8981\u6e05\u9664\u4e0b\u7f51\u9875\u5143\u7d20\u7684\u5185\u5916\u8fb9\u8ddd\u3002</p> CSS<pre><code>* {\n    padding: 0;\n    margin: 0;\n}\n</code></pre> <p>\u6ce8\u610f\uff1a\u884c\u5185\u5143\u7d20\u4e3a\u4e86\u7167\u987e\u517c\u5bb9\u6027\uff0c\u5c3d\u91cf\u53ea\u8bbe\u7f6e\u5de6\u77f3\u5185\u5916\u8fb9\u8ddd\uff0c\u4e0d\u8981\u8bbe\u7f6e\u4e0a\u4e0b\u5185\u5916\u8fb9\u8ddd\u3002\u4f46\u662f\u8f6c\u6362\u4e3a\u5757\u7ea7\u548c\u884c\u5185\u5757\u5143\u7d20\u5c31\u53ef\u4ee5\u4e86</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/","title":"\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0JavaScript\uff1f","text":"<p>\u6700\u521dJS\u662f\u7528\u6765\u89e3\u51b3\u8868\u5355\u7684\u903b\u8f91\u6027\u95ee\u9898\u7684\u3002\u6162\u6162\u7684\u53d1\u5c55\u4e3a\u5904\u7406\u524d\u7aef\u7684\u903b\u8f91\u6027\u95ee\u9898</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#html-css","title":"\u5728\u524d\u7aef\u9875\u9762\u53ea\u6709html css\u7b49\u975e\u903b\u8f91\u6027\u7684\u8bed\u8a00\u65f6","text":"<p>\u6211\u4eec\u4f7f\u7528\u670d\u52a1\u5668\u5224\u65ad\u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e\u662f\u5426\u7b26\u5408\u89c4\u8303</p> <p></p> <p>\u4ee5\u524d\u7f51\u901f\u5f88\u6162\uff0c\u7528\u6237\u63d0\u4ea4\u6570\u636e\u540e\uff0c\u53d1\u9001\u8bf7\u6c42\u5230\u670d\u52a1\u7aef\u3001\u670d\u52a1\u7aef\u5904\u7406\u8bf7\u6c42\uff0c\u8fdb\u884c\u5408\u6cd5\u5224\u65ad\u3001\u670d\u52a1\u7aef\u54cd\u5e94\u7ed9\u7528\u6237</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u8017\u65f6\u5f88\u4e45\uff0c\u5982\u679c\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u4e0d\u5408\u89c4\uff0c\u90a3\u4ed6\u9700\u8981\u7b49\u5f85\u66f4\u4e45\u7684\u65f6\u95f4\u624d\u80fd\u591f\u6ce8\u518c\u6210\u529f\u3002</p> <p>\u524d\u7aef\u6025\u9700\u8981\u4e00\u4e2a\u80fd\u591f\u5904\u7406\u7b80\u5355\u903b\u8f91\u6027\u95ee\u9898\u7684\u8bed\u8a00\u51fa\u73b0\u3002\u6765\u51cf\u5c11\u670d\u52a1\u7aef\u7684\u8d1f\u62c5\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#js","title":"JS\u4ee3\u7801\u7f16\u5199\u7684\u4f4d\u7f6e","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#htmljs","title":"\u5728HTML\u4ee3\u7801\u4e2d\u5d4c\u5165JS\u4ee3\u7801","text":"HTML<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;JS\u7f16\u5199\u4f4d\u7f6e&lt;/title&gt;\n    &lt;script&gt;\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script&gt;\n\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u53ef\u4ee5\u5728 head \u548c body \u6807\u7b7e\u4e2d\u5d4c\u5165JS\u4ee3\u7801\u3002\u5728\u8fd9\u4e24\u4e2a\u6807\u7b7e\u4e2d\u5d4c\u5165\u4ee3\u7801\u662f\u6709\u533a\u522b\u7684</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#js_1","title":"\u5f15\u5165\u5916\u90e8JS\u6587\u4ef6","text":"HTML<pre><code>    &lt;script src=\"JS/index.js\"&gt;&lt;/script&gt;\n</code></pre> <p>\u901a\u8fc7<code>script</code>\u6807\u7b7e\u7684src\u5c5e\u6027\u6765\u5f15\u5165\u5916\u90e8\u6587\u4ef6</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_1","title":"\u53d8\u91cf","text":"<p>\u53d8\u91cf\u7684\u58f0\u660e\u3001\u8d4b\u503c\u3001\u547d\u540d\u4e0eJava\u7c7b\u4f3c</p> <p>\u4f7f\u7528var\u5173\u952e\u5b57\u58f0\u660e\u4efb\u610f\u7c7b\u578b\u7684\u53d8\u91cf</p> <p>\u4f7f\u7528typeof\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b</p> HTML<pre><code>&lt;script&gt;\n    var int = 18;\n    console.log(int);\n    console.log(typeof int);\n&lt;/script&gt;\n----------\n\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u8f93\u51fa\u7ed3\u679c\n18\nnumber\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_2","title":"\u53d8\u91cf\u7684\u7c7b\u578b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#number","title":"number\u7c7b\u578b","text":"<p>NaN\u662f\u65e0\u503c\uff0c\u4f46\u662f\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b\u4ecd\u7136\u4e3a\u6574\u5f62</p> JavaScript<pre><code>var haha = parseFloat(\"a111\");\nconsole.log(haha);\nconsole.log(typeof haha);\n</code></pre> <p>Infinity\u662f\u65e0\u7a77\u5927\u30021/0\u5728\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u4f1a\u51fa\u73b0\u96640\u5f02\u5e38\u3002\u5728JS\u4e2d\u8868\u793a\u4e3a\u65e0\u7a77\u5927</p> JavaScript<pre><code>var haha01 = 1/0;\nconsole.log(haha01);\nconsole.log(typeof haha01);\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#boolean","title":"boolean\u7c7b\u578b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#undefined","title":"undefined\u7c7b\u578b","text":"<p>\u53ea\u58f0\u660e\u672a\u8d4b\u503c</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#string","title":"string\u7c7b\u578b","text":"<p>\"\"\u548c''\u90fd\u53ef\u4ee5\u8868\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#null","title":"null\u7c7b\u578b","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_3","title":"\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#numbernumber","title":"<code>Number()</code>\u5c06\u62ec\u53f7\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u5f3a\u5236\u8f6c\u6362\u4e3anumber\u7c7b\u578b\u3002","text":"JavaScript<pre><code>var num04 = Number(\"1aa\");\nconsole.log(num04);\n\nvar num05 = Number(typeof num01);\nconsole.log(num05);\n</code></pre> <p>\u4ee5\u4e0a\u8f93\u51fa\u7684\u503c\u90fd\u4f1a\u662fNaN</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#booleanboolean","title":"<code>Boolean()</code>\u5c06\u62ec\u53f7\u4e2d\u7684\u5185\u5bb9\u8f6c\u6362\u4e3aboolean\u7c7b\u578b","text":"<p>\u53ea\u8981\u62ec\u53f7\u4e2d\u7684\u503c\u662f\u975e\u7a7a\u6216\u8005\u975e0\uff0c\u90a3\u4e48\u51fd\u6570\u8fd4\u56de\u503c\u5c31\u662ftrue</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#string_1","title":"<code>String()</code>","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#parseintparsefloat","title":"<code>parseInt()\u548cparseFloat()</code>","text":"<p>\u529f\u80fd\u66f4\u5f3a\u7684<code>Number()</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_4","title":"\u9690\u5f0f\u8f6c\u6362","text":"<p>NaN\u3001undefined\u3001\"\"\u3001false\u3001null\u5728if\u8bed\u53e5\u4e2d\u7684\u5224\u5b9a\u7ed3\u679c\u90fd\u4e3afalse</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_5","title":"\u51fd\u6570","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#arguments","title":"\u51fd\u6570\u7684arguments\u5bf9\u8c61","text":"JavaScript<pre><code>function fun (a, b, c) {\n    console.log(arguments);\n    console.log(a);\n    console.log(b);\n    console.log(c);\n\n    console.log(arguments[0]);\n    console.log(arguments[1]);\n    console.log(arguments[2]);\n    console.log(arguments[3]);\n}\nfun(1, 2, 3, 4);\n</code></pre> <p>js\u7684\u8bed\u6cd5\u5f88\u677e\u6563\uff0c\u51fd\u6570\u7684\u5b9e\u53c2\u548c\u5f62\u53c2\u53ef\u4ee5\u4e0d\u5bf9\u7b49\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528arguments\u5bf9\u8c61\u4ee5\u6570\u7ec4\u7684\u65b9\u5f0f\u8f93\u51fa\u51fd\u6570\u63a5\u6536\u5230\u7684\u5b9e\u53c2\u503c</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_6","title":"\u5185\u7f6e\u5bf9\u8c61","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#string_2","title":"string\u5bf9\u8c61","text":"<p>\u5e38\u7528\u65b9\u6cd5\uff1a<code>length</code>\u3001<code>charAt()</code>\u3001<code>indexOf()</code></p> JavaScript<pre><code>var str1 = \"helloworld\";\nconsole.log(str1.length);\n\nconsole.log(str1.charAt(0));\nconsole.log(str1.charAt(9));\nconsole.log(str1.charAt(10));\nconsole.log(str1.indexOf(\"h\"));\nconsole.log(str1.indexOf(\"a\"));\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#array","title":"Array\u5bf9\u8c61","text":"JavaScript<pre><code>var arr1 = [];\n\n//\u521b\u5efa\u6570\u7ec4\uff0c\u5e76\u5e26\u6709\u6307\u5b9a\u5143\u7d20\nvar arr2 = [\"11\",\"22\",\"33\",\"44\"];\n\n//\u53ef\u4ee5\u5728\u6570\u7ec4\u4e2d\u6307\u5b9a\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20\nvar arr3 = [11, \"22\", undefined, true, null];\n\nvar arr4 = new Array();\n\n//\u521b\u5efa\u4e00\u4e2a\u6307\u5b9a\u957f\u5ea6\u7684\u6570\u7ec4\nvar arr5 = new Array(10);\n\n//\u521b\u5efa\u4e00\u4e2a\u6570\u7ec4\uff0c\u5728\u521b\u5efa\u65f6\u6307\u5b9a\u5143\u7d20\nvar arr6 = new Array(10, 20, 30, 40);\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#length","title":"length\u5c5e\u6027","text":"JavaScript<pre><code>/*\n     length\u5c5e\u6027  \u957f\u5ea6\n     1.\u83b7\u53d6\u6570\u7ec4\u5143\u7d20\u7684\u4e2a\u6570\n     2.\u64cd\u4f5c\u6570\u7ec4\u5143\u7d20\uff0c\u6539\u53d8\u6570\u7ec4\u7684\u957f\u5ea6\n\n     var arr = [1,2,3,4,5,6];\n*/\n\nvar arr = [1, 2, 3, 4, 5, 6];\nconsole.log(arr.length);\n\n// arr.length = 3;\n// console.log(arr.length);\n// console.log(arr);\n\narr.length = 10;\nconsole.log(arr.length);\nconsole.log(arr);\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_7","title":"\u5e38\u7528\u65b9\u6cd5","text":"<p>\u5728\u5934\u90e8\u63d2\u5165unshift</p> <p>\u5728\u5c3e\u90e8\u63d2\u5165push</p> <p>\u5728\u5934\u90e8\u5220\u9664shift</p> <p>\u5728\u5c3e\u90e8\u5220\u9664pop</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#math","title":"Math\u5bf9\u8c61","text":"JavaScript<pre><code>//\u5e38\u89c1\u5c5e\u6027\nconsole.log(Math.PI);\n\n//\u5e38\u89c1\u65b9\u6cd5\n\n//round\nconsole.log(Math.round(1.4));\nconsole.log(Math.round(1.5));\n\n//floor\u5411\u4e0b\u53d6\u6574\nconsole.log(Math.floor(1.8));\nconsole.log(Math.floor(-1.8));\n\n//ceil\u5411\u4e0a\u53d6\u6574\nconsole.log(Math.ceil(-1.2));\n\n//abs\u53d6\u7edd\u5bf9\u503c\nconsole.log(Math.abs(5));\nconsole.log(Math.abs(-5));\n\n//min \u6700\u5c0f\u503c\nconsole.log(Math.min(20, 30));\n\n//max \u6700\u5927\u503c\nconsole.log(Math.max(20, 30));\n\n//pow \u6b21\u65b9\nconsole.log(Math.pow(2, 4));\n\n//random \u968f\u673a\u6570  0-1\u4e4b\u95f4\nconsole.log(Math.random());\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#date","title":"Date\u5bf9\u8c61","text":"<p>new Date();</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#_8","title":"\u6b63\u5219\u5bf9\u8c61","text":"<p>\\\u7f16\u5199\u6b63\u5219\\</p> <p>new RegExp(\"\u7f16\u5199\u6b63\u5219\")</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/JavaScript/#dom","title":"DOM","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/","title":"Vue","text":"<p>\u672c\u7bc7\u524d\u671f\u4ee5Vue2.X\u5b66\u4e60\u4e3a\u4e3b\u3002</p> <p>\u5bf9\u4e8e\u8bed\u6cd5\u7ec6\u8282\u7684\u7814\u7a76\u53ef\u4ee5\u67e5\u770bVue2.X\u7684api\u5b98\u7f51</p> <p>https://v2.cn.vuejs.org/v2/api/</p> <p>\u901a\u8fc7\u641c\u7d22\u4ee5\u67e5\u770b\u8be6\u7ec6\u7684\u4e3e\u4f8b\u8bf4\u660e</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue","title":"Vue\u7684\u5f15\u5165","text":"<p>Vue (\u8bfb\u97f3 /vju\u02d0/\uff0c\u7c7b\u4f3c\u4e8e view) \u662f\u4e00\u5957\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u7684\u6e10\u8fdb\u5f0f\u6846\u67b6\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue2","title":"Vue2\u7684\u5b89\u88c5","text":"<p>\u5728\u5b66\u4e60\u524d\u671f\u9636\u6bb5\uff0c\u6211\u4eec\u4f7f\u7528Vue2\u3002</p> <p>Vue2\u4e0b\u8f7d\u94fe\u63a5</p> <p></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue2_1","title":"\u5f15\u5165Vue2","text":"HTML<pre><code>&lt;script src=\"../js/vue.js\"&gt;&lt;/script&gt;\n// ../js/vue.js\u4e3avue\u6240\u5728\u7684\u8def\u5f84\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue_1","title":"\u6700\u7b80\u5355\u7684Vue\u7a0b\u5e8f","text":"HTML<pre><code>&lt;div id=\"app\"&gt;&lt;/div&gt;\n&lt;script&gt;\n    // \u7b2c\u4e00\u6b65\n    const myVue = new Vue({\n        template : '&lt;h1&gt;Hello Vue!!!&lt;/h1&gt;'\n    })\n    // \u7b2c\u4e8c\u6b65\n    myVue.$mount('#app')\n&lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue_2","title":"\u7b2c\u4e00\u6b65 \u521b\u5efaVue\u5b9e\u4f8b","text":"<ol> <li>\u4e3a\u4ec0\u4e48\u4e0d\u76f4\u63a5\u8c03\u7528Vue()\u51fd\u6570\uff1f<ul> <li>\u4e0d\u884c\uff0c\u56e0\u4e3a\u76f4\u63a5\u8c03\u7528Vue()\u51fd\u6570\uff0c\u4e0d\u521b\u5efa\u5b9e\u4f8b\u7684\u8bdd\uff0c\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff1a</li> <li><code>Vue is a constructor and should be called with the new keyword</code></li> </ul> </li> <li>Vue(options)\u6784\u9020\u51fd\u6570\u4e2d\uff0coptions\u53c2\u6570\u662f\u4ec0\u4e48<ul> <li>option\u7ffb\u8bd1\u4e3a\u9009\u9879  options\u7ffb\u8bd1\u4e3a\u591a\u4e2a\u9009\u9879</li> <li>Vue\u6846\u67b6\u8981\u6c42\u8fd9\u4e2aoptions\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684JS\u5bf9\u8c61\uff1a{}</li> <li>\u5728{}\u5bf9\u8c61\u4e2d\u53ef\u4ee5\u7f16\u5199\u5927\u91cf\u7684key:value\u5bf9\u3002</li> <li>\u4e00\u4e2akey:value\u5bf9\u5c31\u662f\u4e00\u4e2a\u914d\u7f6e\u9879\u3002</li> <li>\u4e3b\u8981\u662f\u901a\u8fc7options\u8fd9\u4e2a\u53c2\u6570\u6765\u7ed9Vue\u5b9e\u4f8b\u6307\u5b9a\u591a\u4e2a\u914d\u7f6e\u9879\u3002</li> </ul> </li> <li>\u5173\u4e8etemplate\u914d\u7f6e\u9879<ul> <li>template\u7ffb\u8bd1\u4e3a\uff1a\u6a21\u677f\u3002</li> <li>template\u914d\u7f6e\u9879\u7528\u6765\u6307\u5b9a\u4ec0\u4e48\uff1f\u7528\u6765\u6307\u5b9a\u6a21\u677f\u8bed\u53e5\uff0c\u6a21\u677f\u8bed\u53e5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u3002</li> <li>\u4ec0\u4e48\u662f\u6a21\u677f\u8bed\u53e5\uff1f<ul> <li>Vue\u6846\u67b6\u81ea\u5df1\u5236\u5b9a\u4e86\u4e00\u4e9b\u5177\u6709\u7279\u6b8a\u542b\u4e49\u7684\u7279\u6b8a\u7b26\u53f7\u3002</li> <li>Vue\u7684\u6a21\u677f\u8bed\u53e5\u662fVue\u6846\u67b6\u81ea\u5df1\u641e\u7684\u4e00\u5957\u8bed\u6cd5\u89c4\u5219\u3002</li> <li>\u6211\u4eec\u5199Vue\u6a21\u677f\u8bed\u53e5\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u4e71\u5199\uff0c\u8981\u9075\u5b88Vue\u6846\u67b6\u7684\u6a21\u677f\u8bed\u6cd5\u89c4\u5219\u3002</li> <li>\u6a21\u677f\u8bed\u53e5\u53ef\u4ee5\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684HTML\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u662fVue\u4e2d\u7684\u7279\u6b8a\u89c4\u5219\u3002\u4e5f\u53ef\u4ee5\u662fHTML\u4ee3\u7801 + Vue\u7684\u7279\u6b8a\u89c4\u5219\u3002</li> <li>template\u540e\u9762\u7684\u6a21\u677f\u8bed\u53e5\u4f1a\u88abVue\u6846\u67b6\u7684\u7f16\u8bd1\u5668\u8fdb\u884c\u7f16\u8bd1\uff0c\u8f6c\u6362\u6210\u6d4f\u89c8\u5668\u80fd\u591f\u8bc6\u522b\u7684HTML\u4ee3\u7801\u3002</li> </ul> </li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vueidapp","title":"\u7b2c\u4e8c\u6b65 \u5c06Vue\u5b9e\u4f8b\u6302\u8f7d\u5230id='app'\u7684\u5143\u7d20\u4f4d\u7f6e\u3002","text":"<ol> <li>Vue\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a$mount()\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f<ul> <li>\u5c06Vue\u5b9e\u4f8b\u6302\u8f7d\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002</li> </ul> </li> <li> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#app-idcss","title":"app \u663e\u7136\u662fID\u9009\u62e9\u5668\u3002\u8fd9\u4e2a\u8bed\u6cd5\u501f\u9274\u4e86CSS\u3002","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#template","title":"\u6a21\u677f\u8bed\u53e5template\u7684\u6570\u636e\u6765\u6e90","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_1","title":"\u8c01\u53ef\u4ee5\u7ed9\u6a21\u677f\u8bed\u53e5\u63d0\u4f9b\u6570\u636e\u652f\u6301\u5462","text":"<p>data\u9009\u9879\u3002</p> <p>data\u914d\u7f6e\u9879\u7684\u4e13\u4e1a\u53eb\u6cd5\uff1aVue \u5b9e\u4f8b\u7684\u6570\u636e\u5bf9\u8c61.\uff08data\u5b9e\u9645\u4e0a\u662f\u7ed9\u6574\u4e2aVue\u5b9e\u4f8b\u63d0\u4f9b\u6570\u636e\u6765\u6e90\u7684\u3002\uff09</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_2","title":"\u9879\u7684\u7c7b\u578b\u662f\u4ec0\u4e48\uff1f","text":"<p>Object | Function \uff08\u5bf9\u8c61\u6216\u8005\u51fd\u6570\uff09</p> <p>a\u662f\u5bf9\u8c61\u7684\u8bdd\uff0c\u5bf9\u8c61\u5fc5\u987b\u662f\u7eaf\u7cb9\u7684\u5bf9\u8c61 (\u542b\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u7684 key/value \u5bf9)</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#data","title":"data\u6570\u636e\u5982\u4f55\u63d2\u5165\u5230\u6a21\u677f\u8bed\u53e5\u5f53\u4e2d\uff1f","text":"<p>{{}} \u8fd9\u662fVue\u6846\u67b6\u81ea\u5df1\u641e\u7684\u4e00\u5957\u8bed\u6cd5\uff0c\u522b\u7684\u6846\u67b6\u770b\u4e0d\u61c2\u7684\uff0c\u6d4f\u89c8\u5668\u4e5f\u662f\u4e0d\u80fd\u591f\u8bc6\u522b\u7684\u3002 Vue\u6846\u67b6\u81ea\u5df1\u662f\u80fd\u591f\u770b\u61c2\u7684\u3002\u8fd9\u79cd\u8bed\u6cd5\u5728Vue\u6846\u67b6\u4e2d\u88ab\u79f0\u4e3a\uff1a\u6a21\u677f\u8bed\u6cd5\u4e2d\u7684\u63d2\u503c\u8bed\u6cd5\u3002\uff08\u6709\u7684\u4eba\u628a\u4ed6\u53eb\u505a\u80e1\u5b50\u8bed\u6cd5\u3002\uff09</p> Text Only<pre><code>{{data\u7684key}}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_3","title":"\u6a21\u677f\u8bed\u53e5\u7684\u914d\u7f6e\u9879","text":"<ol> <li> <p>template\u540e\u9762\u6307\u5b9a\u7684\u662f\u6a21\u677f\u8bed\u53e5\uff0c\u4f46\u662f\u6a21\u677f\u8bed\u53e5\u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a\u6839\u8282\u70b9\u3002</p> </li> <li> <p>\u53ea\u8981data\u4e2d\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\uff0c\u6a21\u677f\u8bed\u53e5\u4e00\u5b9a\u4f1a\u91cd\u65b0\u7f16\u8bd1\u3002\uff08\u53ea\u8981data\u53d8\uff0ctemplate\u5c31\u4f1a\u91cd\u65b0\u7f16\u8bd1\uff0c\u91cd\u65b0\u6e32\u67d3\uff09</p> </li> <li> <p>\u5982\u679c\u4f7f\u7528template\u914d\u7f6e\u9879\u7684\u8bdd\uff0c\u6307\u5b9a\u6302\u8f7d\u4f4d\u7f6e\u7684\u5143\u7d20\u4f1a\u88ab\u66ff\u6362\u3002</p> <ul> <li><code>html     \u539f\u672c\u7684&lt;div id=\"app\"&gt;&lt;/div&gt;\u4f1a\u88ab\u66ff\u4ee3</code></li> </ul> </li> <li> <p>\u597d\u6d88\u606f\uff1a\u76ee\u524d\u6211\u4eec\u53ef\u4ee5\u4e0d\u4f7f\u7528template\u6765\u7f16\u5199\u6a21\u677f\u8bed\u53e5\u3002\u8fd9\u4e9b\u6a21\u677f\u8bed\u53e5\u53ef\u4ee5\u76f4\u63a5\u5199\u5230html\u6807\u7b7e\u4e2d\u3002Vue\u6846\u67b6\u80fd\u591f\u627e\u5230\u5e76\u7f16\u8bd1\uff0c\u7136\u540e\u6e32\u67d3\u3002\u5982\u679c\u76f4\u63a5\u5c06\u6a21\u677f\u8bed\u53e5\u7f16\u5199\u5230HTML\u6807\u7b7e\u4e2d\uff0c\u6307\u5b9a\u7684\u6302\u8f7d\u4f4d\u7f6e\u5c31\u4e0d\u4f1a\u88ab\u66ff\u6362\u4e86\u3002</p> </li> <li> <p>\u5173\u4e8e$mount('#app')</p> <ol> <li>\u4e5f\u53ef\u4ee5\u4e0d\u4f7f\u7528$mount('#app')\u7684\u65b9\u5f0f\u8fdb\u884c\u6302\u8f7d</li> <li>\u5728Vue\u4e2d\u6709\u4e00\u4e2a\u914d\u7f6e\u9879\uff1ael</li> <li>el\u914d\u7f6e\u9879\u548c$mount()\u53ef\u4ee5\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\u3002</li> </ol> </li> <li> <p>el\u914d\u7f6e\u9879\u7684\u4f5c\u7528\uff1f</p> <ol> <li>\u544a\u8bc9Vue\u5b9e\u4f8b\u53bb\u63a5\u7ba1\u54ea\u4e2a\u5bb9\u5668\u3002</li> <li>el : '#app'\uff0c\u8868\u793a\u8ba9Vue\u5b9e\u4f8b\u53bb\u63a5\u7ba1id='app'\u7684\u5bb9\u5668\u3002</li> <li>el\u5176\u5b9e\u662felement\u7684\u7f29\u5199\u3002\u88ab\u7ffb\u8bd1\u4e3a\u5143\u7d20\u3002</li> </ol> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_4","title":"\u89e3\u51b3\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u7684\u9519\u8bef\u4fe1\u606f","text":"<ol> <li> <p>\u6211\u4eec\u4f7f\u7528\u5f00\u53d1\u7248\u672c\u7684vue.js\u65f6\uff0c\u63a7\u5236\u53f0\u4f1a\u51fa\u73b0\u767d\u8272\u5b57\u4f53\u7684\u8b66\u544a\u3002\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u5173\u6389\u8b66\u544a</p> </li> <li> <p>\u5728\u6bcf\u6b21\u5199\u4ee3\u7801\u65f6\uff0c\u5728script\u6807\u7b7e\u5185\u5199\u5165<code>Vue.config.productionTip=false</code>\uff0c\u4f46\u662f\u8fd9\u6837\u6709\u4e9b\u65f6\u5019\u4f1a\u4e0d\u8d77\u4f5c\u7528</p> <ul> <li>\u53ef\u80fd\u662fvue\u7684\u7248\u672c\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u662f\u6d4f\u89c8\u5668\u7684\u5185\u6838\u95ee\u9898</li> </ul> </li> <li>\u66f4\u6362\u751f\u4ea7\u7248\u672c\u7684vue</li> <li> <p>\u66f4\u6539\u5f00\u53d1\u7248\u672cvue\u7684\u6e90\u7801\uff1a\u627e\u5230<code>productionTip</code>\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u5c06\u5b83\u7684\u503c\u8bbe\u7f6e\u4e3a<code>false</code></p> </li> <li> <p>\u5b89\u88c5vue.jsp devtools\uff0c\u5173\u95ed\u53e6\u4e00\u4e2a\u767d\u8272\u5b57\u4f53\u7684\u8b66\u544a</p> </li> <li>\u5728vscode\u4e2d\uff0c\u4f7f\u7528LiveServer\u8fd0\u884chtml\u6587\u4ef6\u65f6\uff0c\u4f1a\u5c06html\u653e\u5230\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u3002\u6709\u4e9b\u65f6\u5019\u670d\u52a1\u5668\u4f1a\u627e\u4e0d\u5230\u4e00\u4e9b\u539f\u672c\u7684\u8d44\u6e90\u6587\u4ef6\u3002\u6211\u4eec\u53ea\u9700\u8981\u627e\u5230\u5bf9\u5e94\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u5c06\u5176\u653e\u5230\u76f8\u5e94\u7684\u4f4d\u7f6e\u5373\u53ef\u3002\uff08\u8fd9\u662f\u5e9f\u8bdd\uff09</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue_3","title":"Vue\u5b9e\u4f8b\u4e0e\u5bb9\u5668\u7684\u5173\u7cfb","text":"<p>\u5b9e\u4f8b\u5c31\u662fnew\u51fa\u6765\u7684\u4e00\u4e2aVue\u5bf9\u8c61</p> <p>\u5bb9\u5668\u5c31\u662fVue\u5bf9\u8c61\u63a5\u7ba1\u7684html\u6807\u7b7e</p> <p>\u4e00\u4e2aVue\u5b9e\u4f8b\u53ea\u80fd\u63a5\u7ba1\u4e00\u4e2a\u5bb9\u5668</p> <p>\u4e00\u4e2a\u5bb9\u5668\u4e5f\u53ea\u80fd\u88ab\u4e00\u4e2aVue\u5b9e\u4f8b\u63a5\u7ba1</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue_4","title":"Vue\u6838\u5fc3\u8bed\u6cd5","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#-","title":"\u6a21\u7248\u8bed\u6cd5-\u63d2\u503c","text":"<p><code>{{}}</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_5","title":"\u4e3b\u8981\u7814\u7a76\uff1a{{\u8fd9\u91cc\u53ef\u4ee5\u5199\u4ec0\u4e48}}","text":"<ol> <li>\u5728data\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u3001\u51fd\u6570\u7b49\u90fd\u53ef\u4ee5\u3002</li> <li>\u5e38\u91cf\u90fd\u53ef\u4ee5\u3002</li> <li>\u53ea\u8981\u662f\u5408\u6cd5\u7684javascript\u8868\u8fbe\u5f0f\uff0c\u90fd\u53ef\u4ee5\u3002</li> <li>\u6a21\u677f\u8868\u8fbe\u5f0f\u90fd\u88ab\u653e\u5728\u6c99\u76d2\u4e2d\uff0c\u53ea\u80fd\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u7684\u4e00\u4e2a\u767d\u540d\u5355\uff0c\u5982 Math \u548c Date \u7b49\u3002     'Infinity,undefined,NaN,isFinite,isNaN,' 'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,'     'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,'     'require'</li> </ol> HTML<pre><code>    &lt;div id=\"app\"&gt;\n        &lt;!-- \u5728data\u4e2d\u58f0\u660e\u7684 --&gt;\n        &lt;!-- \u8fd9\u91cc\u5c31\u53ef\u4ee5\u770b\u505a\u5728\u4f7f\u7528msg\u53d8\u91cf\u3002 --&gt;\n        &lt;h1&gt;{{msg}}&lt;/h1&gt;\n        &lt;h1&gt;{{sayHello()}}&lt;/h1&gt;\n        &lt;!-- &lt;h1&gt;{{i}}&lt;/h1&gt; --&gt;\n        &lt;!-- &lt;h1&gt;{{sum()}}&lt;/h1&gt; --&gt;\n\n        &lt;!-- \u5e38\u91cf --&gt;\n        &lt;h1&gt;{{100}}&lt;/h1&gt;\n        &lt;h1&gt;{{'hello vue!'}}&lt;/h1&gt;\n        &lt;h1&gt;{{3.14}}&lt;/h1&gt;\n\n        &lt;!-- javascript\u8868\u8fbe\u5f0f --&gt;\n        &lt;h1&gt;{{1 + 1}}&lt;/h1&gt;\n        &lt;h1&gt;{{'hello' + 'vue'}}&lt;/h1&gt;\n        &lt;h1&gt;{{msg + 1}}&lt;/h1&gt;\n        &lt;h1&gt;{{'msg' + 1}}&lt;/h1&gt;\n        &lt;h1&gt;{{gender ? '\u7537' : '\u5973'}}&lt;/h1&gt;\n        &lt;h1&gt;{{number + 1}}&lt;/h1&gt;\n        &lt;h1&gt;{{'number' + 1}}&lt;/h1&gt;\n        &lt;h1&gt;{{msg.split('').reverse().join('')}}&lt;/h1&gt;\n\n        &lt;!-- \u9519\u8bef\u7684\uff1a\u4e0d\u662f\u8868\u8fbe\u5f0f\uff0c\u8fd9\u662f\u8bed\u53e5\u3002 --&gt;\n        &lt;!-- &lt;h1&gt;{{var i = 100}}&lt;/h1&gt; --&gt;\n\n        &lt;!-- \u5728\u767d\u540d\u5355\u91cc\u9762\u7684 --&gt;\n        &lt;h1&gt;{{Date}}&lt;/h1&gt;\n        &lt;h1&gt;{{Date.now()}}&lt;/h1&gt;\n        &lt;h1&gt;{{Math}}&lt;/h1&gt;\n        &lt;h1&gt;{{Math.ceil(3.14)}}&lt;/h1&gt;\n\n    &lt;/div&gt;\n\n    &lt;!-- vue\u7a0b\u5e8f --&gt;\n    &lt;script&gt;\n\n        // \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\n        var i = 100\n        // \u7528\u6237\u81ea\u5b9a\u4e49\u7684\u4e00\u4e2a\u5168\u5c40\u51fd\u6570\n        function sum(){\n            console.log('sum.....');\n        }\n\n        new Vue({\n            el : '#app',\n            data : {\n                number : 1,\n                gender : true,\n                msg : 'abcdef',  // \u4e3a\u4e86\u65b9\u4fbf\u6c9f\u901a\uff0c\u4ee5\u540e\u6211\u4eec\u628amsg\u53eb\u505a\u53d8\u91cf\u3002\uff08\u8fd9\u884c\u4ee3\u7801\u5c31\u53ef\u4ee5\u770b\u505a\u662f\u53d8\u91cf\u7684\u58f0\u660e\u3002\uff09\n                sayHello : function(){\n                    console.log('hello vue!');\n                }\n            }\n        })\n    &lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#-_1","title":"\u6a21\u7248\u8bed\u6cd5-\u6307\u4ee4","text":"<ol> <li> <p>\u4ec0\u4e48\u662f\u6307\u4ee4\uff1f\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f</p> <ul> <li>\u6307\u4ee4\u7684\u804c\u8d23\u662f\uff0c\u5f53\u8868\u8fbe\u5f0f\u7684\u503c\u6539\u53d8\u65f6\uff0c\u5c06\u5176\u4ea7\u751f\u7684\u8fde\u5e26\u5f71\u54cd\uff0c\u54cd\u5e94\u5f0f\u5730\u4f5c\u7528\u4e8e DOM</li> </ul> </li> <li> <p>Vue\u6846\u67b6\u4e2d\u7684\u6240\u6709\u6307\u4ee4\u7684\u540d\u5b57\u90fd\u4ee5\u201cv-\u201d\u5f00\u59cb\u3002</p> </li> <li> <p>\u63d2\u503c\u662f\u5199\u5728\u6807\u7b7e\u4f53\u5f53\u4e2d\u7684\uff0c\u90a3\u4e48\u6307\u4ee4\u5199\u5728\u54ea\u91cc\u5462\uff1f</p> <ul> <li>Vue\u6846\u67b6\u4e2d\u6240\u6709\u7684\u6307\u4ee4\u90fd\u662f\u4ee5HTML\u6807\u7b7e\u7684\u5c5e\u6027\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u4f8b\u5982\uff1a</li> </ul> HTML<pre><code>&lt;span \u6307\u4ee4\u662f\u5199\u5728\u8fd9\u91cc\u7684&gt;{{\u8fd9\u91cc\u662f\u63d2\u503c\u8bed\u6cd5\u7684\u4f4d\u7f6e}}&lt;/span&gt;\n</code></pre> <ul> <li>\u6ce8\u610f\uff1a\u867d\u7136\u6307\u4ee4\u662f\u5199\u5728\u6807\u7b7e\u7684\u5c5e\u6027\u4f4d\u7f6e\u4e0a\uff0c\u4f46\u662f\u8fd9\u4e2a\u6307\u4ee4\u6d4f\u89c8\u5668\u662f\u65e0\u6cd5\u76f4\u63a5\u770b\u61c2\u7684\u3002\u662f\u9700\u8981\u5148\u8ba9Vue\u6846\u67b6\u8fdb\u884c\u7f16\u8bd1\u7684\uff0c\u7f16\u8bd1\u4e4b\u540e\u7684\u5185\u5bb9\u6d4f\u89c8\u5668\u662f\u53ef\u4ee5\u770b\u61c2\u7684\u3002</li> </ul> </li> <li> <p>\u6307\u4ee4\u7684\u8bed\u6cd5\u89c4\u5219</p> <ul> <li>\u6307\u4ee4\u7684\u4e00\u4e2a\u5b8c\u6574\u7684\u8bed\u6cd5\u683c\u5f0f\uff1a</li> </ul> <p><code>&lt;HTML\u6807\u7b7e v-\u6307\u4ee4\u540d:\u53c2\u6570=\"javascript\u8868\u8fbe\u5f0f\"&gt;&lt;/HTML\u6807\u7b7e&gt;</code></p> <ul> <li> <p>\u8868\u8fbe\u5f0f\uff1a</p> <ul> <li>\u4e4b\u524d\u5728\u63d2\u503c\u8bed\u6cd5\u4e2d{{\u8fd9\u91cc\u53ef\u4ee5\u5199\u4ec0\u4e48}}\uff0c\u90a3\u4e48\u6307\u4ee4\u4e2d\u7684\u8868\u8fbe\u5f0f\u5c31\u53ef\u4ee5\u5199\u4ec0\u4e48\u3002\u5b9e\u9645\u4e0a\u662f\u4e00\u6837\u7684\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u5728\u6307\u4ee4\u4e2d\u7684\u8868\u8fbe\u5f0f\u4f4d\u7f6e\u4e0d\u80fd\u5916\u5c42\u518d\u6dfb\u52a0\u4e00\u4e2a{{}}</li> </ul> </li> <li> <p>\u4e0d\u662f\u6240\u6709\u7684\u6307\u4ee4\u90fd\u6709\u53c2\u6570\u548c\u8868\u8fbe\u5f0f\uff1a</p> <ul> <li>\u6709\u7684\u6307\u4ee4\uff0c\u4e0d\u9700\u8981\u53c2\u6570\uff0c\u4e5f\u4e0d\u9700\u8981\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\uff1av-once</li> <li>\u6709\u7684\u6307\u4ee4\uff0c\u4e0d\u9700\u8981\u53c2\u6570\uff0c\u4f46\u662f\u9700\u8981\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\uff1av-if=\"\u8868\u8fbe\u5f0f\"</li> <li>\u6709\u7684\u6307\u4ee4\uff0c\u65e2\u9700\u8981\u53c2\u6570\uff0c\u53c8\u9700\u8981\u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\uff1av-bind:\u53c2\u6570=\"\u8868\u8fbe\u5f0f\"</li> </ul> </li> </ul> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#v-once","title":"v-once \u6307\u4ee4","text":"<ul> <li>\u4f5c\u7528\uff1a\u53ea\u6e32\u67d3\u5143\u7d20\u4e00\u6b21\u3002\u968f\u540e\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u5143\u7d20\u53ca\u5176\u6240\u6709\u7684\u5b50\u8282\u70b9\u5c06\u88ab\u89c6\u4e3a\u9759\u6001\u5185\u5bb9\u5e76\u8df3\u8fc7\u3002\u8fd9\u53ef\u4ee5\u7528\u4e8e\u4f18\u5316\u66f4\u65b0\u6027\u80fd\u3002</li> </ul> HTML<pre><code>&lt;div id=\"app\"&gt;\n    &lt;h1&gt;{{msg}}&lt;/h1&gt;\n    &lt;h1 v-once&gt;{{msg}}&lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#v-if","title":"v-if=\"\u8868\u8fbe\u5f0f\" \u6307\u4ee4","text":"<ul> <li>\u4f5c\u7528\uff1a\u8868\u8fbe\u5f0f\u7684\u6267\u884c\u7ed3\u679c\u9700\u8981\u662f\u4e00\u4e2a\u5e03\u5c14\u7c7b\u578b\u7684\u6570\u636e\uff1atrue\u6216\u8005false<ul> <li>true\uff1a\u8fd9\u4e2a\u6307\u4ee4\u6240\u5728\u7684\u6807\u7b7e\uff0c\u4f1a\u88ab\u6e32\u67d3\u5230\u6d4f\u89c8\u5668\u5f53\u4e2d\u3002</li> <li>false\uff1a\u8fd9\u4e2a\u6307\u4ee4\u6240\u5728\u7684\u6807\u7b7e\uff0c\u4e0d\u4f1a\u88ab\u6e32\u67d3\u5230\u6d4f\u89c8\u5668\u5f53\u4e2d\u3002</li> </ul> </li> </ul> HTML<pre><code>&lt;div id=\"app\"&gt;\n    &lt;h1 v-if=\"a &gt; b\"&gt;v-if\u6d4b\u8bd5\uff1a{{msg}}&lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#v-bind","title":"v-bind\u6307\u4ee4","text":"<ol> <li> <p>\u8fd9\u4e2a\u6307\u4ee4\u662f\u5e72\u5565\u7684\uff1f             - \u5b83\u53ef\u4ee5\u8ba9HTML\u6807\u7b7e\u7684\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u4ea7\u751f\u52a8\u6001\u7684\u6548\u679c\u3002</p> </li> <li> <p>v-bind\u6307\u4ee4\u7684\u8bed\u6cd5\u683c\u5f0f\uff1a</p> HTML<pre><code>&lt;HTML\u6807\u7b7e v-bind:\u53c2\u6570=\"\u8868\u8fbe\u5f0f\"&gt;&lt;/HTML\u6807\u7b7e&gt;\n</code></pre> </li> <li> <p>v-bind\u6307\u4ee4\u7684\u7f16\u8bd1\u539f\u7406\uff1f</p> <ul> <li>\u7f16\u8bd1\u524d\uff1a</li> </ul> HTML<pre><code>&lt;HTML\u6807\u7b7e v-bind:\u53c2\u6570=\"\u8868\u8fbe\u5f0f\"&gt;&lt;/HTML\u6807\u7b7e&gt;\n</code></pre> <ul> <li>\u7f16\u8bd1\u540e</li> </ul> HTML<pre><code>&lt;HTML\u6807\u7b7e \u53c2\u6570=\"\u8868\u8fbe\u5f0f\u7684\u503c\"&gt;&lt;/HTML\u6807\u7b7e&gt;\n</code></pre> <ul> <li>\u6ce8\u610f\u4e24\u9879\uff1a<ul> <li>\u5728\u7f16\u8bd1\u7684\u65f6\u5019v-bind\u540e\u9762\u7684\u201c\u53c2\u6570\u540d\u201d\u4f1a\u88ab\u7f16\u8bd1\u4e3aHTML\u6807\u7b7e\u7684\u201c\u5c5e\u6027\u540d\u201d</li> <li>\u8868\u8fbe\u5f0f\u4f1a\u5173\u8054data\uff0c\u5f53data\u53d1\u751f\u6539\u53d8\u4e4b\u540e\uff0c\u8868\u8fbe\u5f0f\u7684\u6267\u884c\u7ed3\u679c\u5c31\u4f1a\u53d1\u751f\u53d8\u5316\u3002</li> </ul> </li> <li>\u6240\u4ee5v-bind\u624d\u4f1a\u6709\u52a8\u6001\u6548\u679c</li> </ul> </li> <li> <p>v-bind\u56e0\u4e3a\u5f88\u5e38\u7528\uff0c\u6240\u4ee5Vue\u6846\u67b6\u5bf9\u8be5\u6307\u4ee4\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5199\u65b9\u5f0f\uff1a</p> <ul> <li>\u53ea\u662f\u9488\u5bf9v-bind\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u7b80\u5199\u65b9\u5f0f\uff1a<code>&lt;img :src=\"imgPath\"&gt;</code>\u4fdd\u7559<code>:</code>\uff0c\u53bb\u6389<code>v-bind</code></li> </ul> </li> <li> <p>\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u63d2\u503c\u8bed\u6cd5\uff1f\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u6307\u4ee4\uff1f</p> <ul> <li>\u51e1\u662f\u6807\u7b7e\u4f53\u5f53\u4e2d\u7684\u5185\u5bb9\u8981\u60f3\u52a8\u6001\uff0c\u9700\u8981\u4f7f\u7528\u63d2\u503c\u8bed\u6cd5\u3002</li> <li>\u53ea\u8981\u5411\u8ba9HTML\u6807\u7b7e\u7684\u5c5e\u6027\u52a8\u6001\uff0c\u9700\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\u3002</li> </ul> </li> </ol> HTML<pre><code>&lt;!-- \u51c6\u5907\u4e00\u4e2a\u5bb9\u5668 --&gt;\n&lt;div id=\"app\"&gt;\n    &lt;!-- \u6ce8\u610f\uff1a\u4ee5\u4e0b\u4ee3\u7801\u4e2d msg \u662f\u53d8\u91cf\u540d\u3002 --&gt;\n    &lt;!-- \u6ce8\u610f\uff1a\u539f\u5219\u4e0av-bind\u6307\u4ee4\u540e\u9762\u7684\u8fd9\u4e2a\u53c2\u6570\u540d\u53ef\u4ee5\u968f\u4fbf\u5199\u3002 --&gt;\n    &lt;!-- \u867d\u7136\u53ef\u4ee5\u968f\u4fbf\u5199\uff0c\u4f46\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u53c2\u6570\u540d\u8fd8\u662f\u9700\u8981\u5199\u6210\u8be5HTML\u6807\u7b7e\u652f\u6301\u7684\u5c5e\u6027\u540d\u3002\u8fd9\u6837\u624d\u4f1a\u6709\u610f\u4e49\u3002 --&gt;\n    &lt;span v-bind:xyz=\"msg\"&gt;&lt;/span&gt;\n\n    &lt;!-- \u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5e26\u6709\u5355\u5f15\u53f7\uff0c\u8fd9\u4e2a'msg'\u5c31\u4e0d\u662f\u53d8\u91cf\u4e86\uff0c\u662f\u5e38\u91cf\u3002 --&gt;\n    &lt;span v-bind:xyz=\"'msg'\"&gt;&lt;/span&gt;\n\n    &lt;!-- v-bind\u5b9e\u6218 --&gt;\n    &lt;img src=\"../img/1.jpg\"&gt; &lt;br&gt;\n    &lt;img v-bind:src=\"imgPath\"&gt; &lt;br&gt;\n\n    &lt;!-- v-bind\u7b80\u5199\u5f62\u5f0f --&gt;\n    &lt;img :src=\"imgPath\"&gt; &lt;br&gt;\n\n    &lt;!-- \u8fd9\u662f\u4e00\u4e2a\u666e\u901a\u7684\u6587\u672c\u6846 --&gt;\n    &lt;input type=\"text\" name=\"username\" value=\"zhangsan\"&gt; &lt;br&gt;\n    &lt;!-- \u4ee5\u4e0b\u6587\u672c\u6846\u53ef\u4ee5\u8ba9value\u8fd9\u4e2a\u6570\u636e\u53d8\u6210\u52a8\u6001\u7684\uff1a\u8fd9\u4e2a\u5c31\u662f\u5178\u578b\u7684\u52a8\u6001\u6570\u636e\u7ed1\u5b9a\u3002 --&gt;\n    &lt;input type=\"text\" name=\"username\" :value=\"username\"&gt; &lt;br&gt;\n\n    &lt;!-- \u4f7f\u7528v-bind\u4e5f\u53ef\u4ee5\u8ba9\u8d85\u94fe\u63a5\u7684\u5730\u5740\u52a8\u6001 --&gt;\n    &lt;a href=\"https://www.baidu.com\"&gt;\u8d70\u8d77&lt;/a&gt; &lt;br&gt;\n    &lt;a :href=\"url\"&gt;\u8d70\u8d772&lt;/a&gt; &lt;br&gt;\n\n    &lt;!-- \u4e0d\u80fd\u91c7\u7528\u4ee5\u4e0b\u5199\u6cd5\u5417\uff1f --&gt;\n    &lt;!-- &lt;a href=\"{{url}}\"&gt;\u8d70\u8d773&lt;/a&gt;  --&gt;\n    &lt;!--\n        \u4e0d\u80fd\u8fd9\u6837\uff0c\u62a5\u9519\u4e86\uff0c\u4fe1\u606f\u5982\u4e0b\uff1a\n        Interpolation inside attributes has been removed.\n        Use v-bind or the colon shorthand instead. For example,\n        instead of &lt;div id=\"{{ val }}\"&gt;, use &lt;div :id=\"val\"&gt;\n\n        \u5c5e\u6027\u5185\u90e8\u63d2\u503c\u8fd9\u79cd\u8bed\u6cd5\u5df2\u7ecf\u88ab\u79fb\u9664\u4e86\u3002\uff08\u53ef\u80fdVue\u5728\u4ee5\u524d\u7684\u7248\u672c\u4e2d\u662f\u652f\u6301\u8fd9\u79cd\u5199\u6cd5\u7684\uff0c\u4f46\u662f\u73b0\u5728\u4e0d\u5141\u8bb8\u4e86\u3002\uff09\n        \u8bf7\u4f7f\u7528v-bind\u6216\u5192\u53f7\u901f\u8bb0\u6765\u4ee3\u66ff\u3002\n        \u8bf7\u4f7f\u7528 &lt;div :id=\"val\"&gt; \u6765\u4ee3\u66ff &lt;div id=\"{{ val }}\"&gt;\n     --&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    new Vue({\n        el : '#app',\n        data : {\n            msg : 'Hello Vue!',\n            imgPath : '../img/1.jpg',\n            username : 'jackson',\n            url : 'https://www.baidu.com'\n        }\n    })\n&lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#v-model","title":"v-model\u6307\u4ee4","text":"<p>v-bind\u548cv-model\u7684\u533a\u522b\u548c\u8054\u7cfb</p> <ul> <li>v-bind\u548cv-model\u8fd9\u4e24\u4e2a\u6307\u4ee4\u90fd\u53ef\u4ee5\u5b8c\u6210\u6570\u636e\u7ed1\u5b9a\u3002<ul> <li>v-bind\u662f\u5355\u5411\u6570\u636e\u7ed1\u5b9a\u3002<ul> <li>data ===&gt; \u89c6\u56fe</li> </ul> </li> <li>v-model\u662f\u53cc\u5411\u6570\u636e\u7ed1\u5b9a\u3002<ul> <li>data &lt;===&gt; \u89c6\u56fe</li> </ul> </li> </ul> </li> <li>v-bind\u53ef\u4ee5\u4f7f\u7528\u5728\u4efb\u4f55HTML\u6807\u7b7e\u5f53\u4e2d\u3002v-model\u53ea\u80fd\u4f7f\u7528\u5728\u8868\u5355\u7c7b\u5143\u7d20\u4e0a<ul> <li>input\u6807\u7b7e\u3001select\u6807\u7b7e\u3001textarea\u6807\u7b7e<ul> <li>\u4e3e\u4f8b\u53c2\u89c1\uff1ahttps://v2.cn.vuejs.org/v2/api/#v-model</li> </ul> </li> <li>\u4e3a\u4ec0\u4e48v-model\u7684\u4f7f\u7528\u4f1a\u6709\u8fd9\u4e2a\u9650\u5236\u5462\uff1f<ul> <li>\u56e0\u4e3a\u8868\u5355\u7c7b\u7684\u5143\u7d20\u624d\u80fd\u7ed9\u7528\u6237\u63d0\u4f9b\u4ea4\u4e92\u8f93\u5165\u7684\u754c\u9762\u3002</li> </ul> </li> <li>v-model\u6307\u4ee4\u901a\u5e38\u4e5f\u662f\u7528\u5728value\u5c5e\u6027\u4e0a\u9762\u7684\u3002</li> </ul> </li> <li>v-model\u7b80\u5199\u65b9\u5f0f\uff1a<ul> <li>v-model:value=\"\u8868\u8fbe\u5f0f\"  \u7b80\u5199\u4e3a      v-model=\"\u8868\u8fbe\u5f0f\"</li> </ul> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#v-on","title":"v-on\u6307\u4ee4","text":"<p>\u7ed1\u5b9a\u4e8b\u4ef6\u76d1\u542c\u5668</p> <p>\u7f29\u5199\u4e3a@</p> JavaScript<pre><code>&lt;button v-on:click=\"sayHello()\"&gt;hello&lt;/button&gt;\n&lt;!-- v-on\u6307\u4ee4\u7684\u7b80\u5199\u5f62\u5f0f --&gt;\n&lt;button @click=\"sayHi()\"&gt;hi button&lt;/button&gt;\n&lt;button @click=\"sayHi($event, 'jack')\"&gt;hi button2&lt;/button&gt;\n&lt;!-- \u7ed1\u5b9a\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5982\u679c\u4e0d\u9700\u8981\u4f20\u4efb\u4f55\u53c2\u6570\uff0c\u5c0f\u62ec\u53f7() \u53ef\u4ee5\u7701\u7565 --&gt;\n&lt;button @click=\"sayWhat\"&gt;what button&lt;/button&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#mvvm","title":"MVVM","text":"<ul> <li>M\uff1amodel\uff08\u6a21\u578b/\u6570\u636e\uff09</li> <li>V\uff1aview\uff08\u89c6\u56fe\uff09</li> <li>VM\uff1aViewModel\uff08\u89c6\u56fe\u6a21\u578b\uff09\uff1aVM\u662fMVVM\u4e2d\u7684\u6838\u5fc3\u90e8\u5206\u3002\uff08\u5b83\u8d77\u5230\u4e00\u4e2a\u6838\u5fc3\u7684\u975e\u5e38\u91cd\u8981\u7684\u4f5c\u7528\u3002\uff09</li> <li></li> </ul> <p>MVVM\u662f\u76ee\u524d\u524d\u7aef\u5f00\u53d1\u9886\u57df\u5f53\u4e2d\u975e\u5e38\u6d41\u884c\u7684\u5f00\u53d1\u601d\u60f3\u3002(\u4e00\u79cd\u67b6\u6784\u6a21\u5f0f\u3002) \u76ee\u524d\u524d\u7aef\u7684\u5927\u90e8\u5206\u4e3b\u6d41\u6846\u67b6\u90fd\u5b9e\u73b0\u4e86\u8fd9\u4e2aMVVM\u601d\u60f3\uff0c\u4f8b\u5982Vue\uff0cReact\u7b49\u3002</p> <ol> <li>Vue\u6846\u67b6\u9075\u5faaMVVM\u5417\uff1f<ul> <li>\u867d\u7136\u6ca1\u6709\u5b8c\u5168\u9075\u5faa MVVM \u6a21\u578b\uff0c\u4f46\u662f Vue \u7684\u8bbe\u8ba1\u4e5f\u53d7\u5230\u4e86\u5b83\u7684\u542f\u53d1\u3002</li> <li>Vue\u6846\u67b6\u57fa\u672c\u4e0a\u4e5f\u662f\u7b26\u5408MVVM\u601d\u60f3\u7684\u3002</li> </ul> </li> <li>MVVM\u6a21\u578b\u5f53\u4e2d\u5021\u5bfc\u4e86Model\u548cView\u8fdb\u884c\u4e86\u5206\u79bb\uff0c\u4e3a\u4ec0\u4e48\u8981\u5206\u79bb\uff1f<ul> <li>\u5047\u5982Model\u548cView\u4e0d\u5206\u79bb\uff0c\u4f7f\u7528\u6700\u539f\u59cb\u7684\u539f\u751f\u7684javascript\u4ee3\u7801\u5199\u9879\u76ee\uff1a</li> <li>\u5982\u679c\u6570\u636e\u53d1\u751f\u4efb\u610f\u7684\u6539\u52a8\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u7f16\u5199\u5927\u7bc7\u5e45\u7684\u64cd\u4f5cDOM\u5143\u7d20\u7684JS\u4ee3\u7801\u3002</li> </ul> </li> </ol> <p>\u5c06Model\u548cView\u5206\u79bb\u4e4b\u540e\uff0c\u51fa\u73b0\u4e86\u4e00\u4e2aVM\u6838\u5fc3\uff0c\u8fd9\u4e2aVM\u628a\u6240\u6709\u7684\u810f\u6d3b\u7d2f\u6d3b\u7ed9\u505a\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53Model\u53d1\u751f\u6539\u53d8\u4e4b\u540e\uff0cVM\u81ea\u52a8\u53bb\u66f4\u65b0View\u3002\u5f53View\u53d1\u751f\u6539\u52a8\u4e4b\u540e\uff0cVM\u81ea\u52a8\u53bb\u66f4\u65b0Model\u3002\u6211\u4eec\u518d\u4e5f\u4e0d\u9700\u8981\u7f16\u5199\u64cd\u4f5cDOM\u7684JS\u4ee3\u7801\u4e86\u3002\u5f00\u53d1\u6548\u7387\u63d0\u9ad8\u4e86\u5f88\u591a\u3002</p> Text Only<pre><code>&lt;!-- View V--&gt;\n&lt;div id=\"app\"&gt;\n\u59d3\u540d\uff1a&lt;input type=\"text\" v-model=\"name\"&gt;\n&lt;/div&gt;\n\n&lt;!-- vue\u7a0b\u5e8f --&gt;\n&lt;script&gt;\n// ViewModel  VM\nconst vm = new Vue({\n    el : '#app',\n    // Model  M\n    data : {\n        name : 'zhangsan'\n    }\n})\n&lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vm","title":"VM","text":"HTML<pre><code>&lt;div id=\"app\"&gt;\n    {{msg}}\n&lt;/div&gt;\n\n&lt;script&gt;\n    const vm = new Vue({\n        el : '#app',\n        data : {\n            msg : 'Hello World'\n        }\n    })\n&lt;/script&gt;\n</code></pre> <p>\u73b0\u5728\u6709\u4ee5\u4e0a\u4ee3\u7801\uff0c\u5728\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u53f0\u4e2d\uff0c\u8f93\u51favm\u7684\u53d8\u91cf\u53ef\u4ee5\u53d1\u73b0\u6709</p> <p>\u5176\u4e2d\u6709\u4ee5<code>$</code>\u548c<code>_</code>\u5f00\u5934\u7684\uff0c\u8fd8\u6709\u6b63\u5e38\u7684\u3002</p> <p>\u4ee5<code>$</code>\u5f00\u5934\u7684\u53ef\u4ee5\u770b\u505a\u662f\u516c\u5f00\u7684\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u662f\u4f9b\u7a0b\u5e8f\u5458\u4f7f\u7528\u7684\u3002</p> <p>\u4ee5<code>_</code>\u5f00\u5934\u53ef\u4ee5\u770b\u505a\u662f\u79c1\u6709\u7684\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u662fVue\u6846\u67b6\u5e95\u5c42\u4f7f\u7528\u7684\u3002\u4e00\u822c\u6211\u4eec\u7a0b\u5e8f\u5458\u5f88\u5c11\u4f7f\u7528\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#object","title":"Object\u7684\u6570\u636e\u4ee3\u7406\u673a\u5236","text":"JavaScript<pre><code>let clazz = {}\n\nlet name = \"\u54c8\u54c8\u5c31\u770b\u89c1\"\n\nObject.defineProperty(clazz, \"clazzname\", {\n    // value : \"nihao\",\n    // writable : false,\n    get : function() {\n        console.log(\"get\u65b9\u6cd5\u6267\u884c\u4e86\")\n        return name\n    },\n\n    set : function(temp) {\n        console.log(\"set\u65b9\u6cd5\u6267\u884c\u4e86\");\n        name = temp\n        // return tempName\n    }\n})\n</code></pre> <p>\u901a\u8fc7\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u67e5\u8be2\uff0c\u53d1\u73b0clazz\u4e2d\u7684name\u5c5e\u6027\u9700\u8981\u70b9\u51fb\u4e00\u4e0b\uff0c\u624d\u80fd\u770b\u5230\uff0c\u5e76\u4e14\u4f1a\u8c03\u7528get\u65b9\u6cd5</p> <p>\u8bf4\u660eclazz\u4ee3\u7406name\u53d8\u91cf\u6210\u529f</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vue_5","title":"\u81ea\u5236\u4e00\u4e2a\u4e0eVue\u6846\u67b6\u7c7b\u4f3c\u7684\u6570\u636e\u4ee3\u7406\u673a\u5236","text":"JavaScript<pre><code>class Vue{\n    constructor(options) {\n        // \u83b7\u53d6\u5230data\u5bf9\u8c61\u7684\u6570\u636e\n        Object.keys(options.data).forEach((propertyName, index) =&gt; {\n            // console.log(propertyName, index, firstChar);\n            // \u5224\u65adpropertyName\u7684\u5f00\u5934\u5b57\u6bcd\u662f\u5426\u4e3a$ _\n            let firstChar = propertyName.charAt(0);\n            if (firstChar != '_' &amp;&amp; firstChar != '$') {\n                Object.defineProperty(this, propertyName, {\n                    get : function() {\n                        return options.data[propertyName]\n                    },\n                    set : function(val) {\n                        options.data[propertyName] = val\n                    }\n                })\n            }\n        })\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#vuejs","title":"\u89e3\u8bfbVue.js\u4e2d\u5b9e\u73b0\u6570\u636e\u4ee3\u7406\u673a\u5236\u7684\u6e90\u7801","text":"<p>Vue\u6846\u67b6\u6e90\u4ee3\u7801\u4e2d\u5173\u952e\u6027\u4ee3\u7801\uff1a</p> <ol> <li> <p>var data = vm.$options.data;</p> <ol> <li>\u6ce8\u610f\uff1a\u8fd9\u662f\u83b7\u53d6data\u3002\u7a0b\u5e8f\u6267\u884c\u5230\u8fd9\u91cc\u7684\u65f6\u5019vm\u4e0a\u8fd8\u6ca1\u6709 _data \u5c5e\u6027\u3002</li> </ol> </li> <li> <p>data = vm._data = isFunction(data) ? getData(data, vm) : data || {};</p> <ol> <li> <p>\u7a0b\u5e8f\u6267\u884c\u5b8c\u8fd9\u4e2a\u4ee3\u7801\u4e4b\u540e\uff0cvm\u5bf9\u8c61\u4e0a\u591a\u4e86\u4e00\u4e2a_data\u8fd9\u6837\u7684\u5c5e\u6027\u3002\u901a\u8fc7\u4ee5\u4e0a\u6e90\u7801\u89e3\u8bfb\uff0c\u53ef\u4ee5\u5f97\u77e5data\u4e0d\u4e00\u5b9a\u662f\u4e00\u4e2a{}\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\u3002</p> </li> <li> <p>\u4ee3\u7801\u542b\u4e49\uff1a</p> <ol> <li>\u5982\u679cdata\u662f\u51fd\u6570\uff0c\u5219\u8c03\u7528getData(data, vm)\u6765\u83b7\u53d6data\u3002</li> <li>\u5982\u679cdata\u4e0d\u662f\u51fd\u6570\uff0c\u5219\u76f4\u63a5\u5c06data\u8fd4\u56de\uff0c\u7ed9data\u53d8\u91cf\u3002\u5e76\u4e14\u540c\u65f6\u5c06data\u8d4b\u503c\u7ed9vm._data\u5c5e\u6027\u4e86\u3002</li> </ol> </li> <li> <p>\u6709\u4e00\u4e2a\u7591\u95ee\uff1f\u7a0b\u5e8f\u6267\u884c\u5230\u8fd9\u91cc\uff0c\u4e3a\u4ec0\u4e48\u8981\u7ed9vm\u6269\u5c55\u4e00\u4e2a_data\u5c5e\u6027\u5462\uff1f</p> <ol> <li> <p>data\u5c5e\u6027\uff0c\u4ee5\"\"\u5f00\u59cb\uff0c\u8db3\u4ee5\u8bf4\u660e\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u4eba\u5bb6Vue\u6846\u67b6\u5e95\u5c42\u9700\u8981\u8bbf\u95ee\u7684\u3002</p> </li> <li> <p>Vue\u6846\u67b6\u5e95\u5c42\u5b83\u4f7f\u7528vm._data\u8fd9\u4e2a\u5c5e\u6027\u5e72\u5565\u5462\uff1f</p> </li> <li> <p>vm._data\u662f\u5565\uff1f</p> JavaScript<pre><code>vm._data \u662f\uff1a\n{\n    name : 'jackson',\n    age : 35\n}\n</code></pre> </li> <li> <p>vm._data \u8fd9\u4e2a\u5c5e\u6027\u76f4\u63a5\u6307\u5411\u4e86\u5e95\u5c42\u771f\u5b9e\u7684data\u5bf9\u8c61\u3002\u901a\u8fc7_data\u8bbf\u95ee\u7684name\u548cage\u662f\u4e0d\u4f1a\u8d70\u6570\u636e\u4ee3\u7406\u673a\u5236\u7684\u3002\u901a\u8fc7vm._data\u65b9\u5f0f\u83b7\u53d6name\u548cage\u7684\u65f6\u5019\uff0c\u662f\u4e0d\u4f1a\u8d70getter\u548csetter\u65b9\u6cd5\u7684\u3002</p> </li> <li>\u6ce8\u610f\uff1a\u5bf9\u4e8eVue\u5b9e\u4f8bvm\u6765\u8bf4\uff0c\u4e0d\u4ec5\u6709_data\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8fd8\u6709\u4e00\u4e2a$data\u8fd9\u4e2a\u5c5e\u6027\u3002<ol> <li>_data \u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\uff0c\u53ef\u4ee5\u770b\u505a\u79c1\u6709\u7684\u3002</li> <li>$data \u8fd9\u662fVue\u6846\u67b6\u5bf9\u5916\u516c\u5f00\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u662f\u7ed9\u6211\u4eec\u7a0b\u5e8f\u5458\u4f7f\u7528\u3002</li> </ol> </li> </ol> </li> </ol> </li> <li> <p>\u91cd\u70b9\u51fd\u6570\uff1a</p> JavaScript<pre><code>function isReserved(str) {\n    var c = (str + '').charCodeAt(0);\n    return c === 0x24 || c === 0x5f;\n}\n</code></pre> <ol> <li>\u8fd9\u4e2a\u51fd\u6570\u662f\u7528\u6765\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4ee5 _ \u548c $ \u5f00\u59cb\u7684\u3002<ol> <li>true\u8868\u793a\u4ee5_\u6216$\u5f00\u59cb\u7684\u3002</li> <li>false\u8868\u793a\u4e0d\u662f\u4ee5_\u6216$\u5f00\u59cb\u7684\u3002</li> </ol> </li> </ol> JavaScript<pre><code>proxy(vm, \"_data\", key);\n</code></pre> <ol> <li>\u901a\u8fc7\u8fd9\u884c\u4ee3\u7801\u76f4\u63a5\u8fdb\u5165\u4ee3\u7406\u673a\u5236\uff08\u6570\u636e\u4ee3\u7406\uff09\u3002</li> </ol> JavaScript<pre><code>function proxy(target, sourceKey, key) { // target\u662fvm\uff0csourceKey\u662f\"_data\"\uff0ckey\u662f\"age\"\n    sharedPropertyDefinition.get = function proxyGetter() {\n        return this[\"_data\"][\"age\"];\n    };\n    sharedPropertyDefinition.set = function proxySetter(val) {\n        this[\"_data\"][\"age\"] = val;\n    };\n    Object.defineProperty(vm, 'age', sharedPropertyDefinition);\n}\n</code></pre> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#data_1","title":"data\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570","text":"JavaScript<pre><code>// data : {\n//     msg : 'Hello Vue!'\n// }\n// data functions should return an object\uff1adata\u51fd\u6570\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002\n\n// data \u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\u3002\n// \u5982\u679c\u662f\u51fd\u6570\u7684\u8bdd\uff0c\u5fc5\u987b\u4f7f\u7528return\u8bed\u53e5\u8fd4\u56de{}\u5bf9\u8c61\u3002\n// data\u53ef\u4ee5\u662f\u76f4\u63a5\u7684\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u76f4\u63a5\u7684\u5bf9\u8c61\uff1f\u4ec0\u4e48\u65f6\u5019\u4f7f\u7528\u51fd\u6570\u5462\uff1f\uff08\u7b49\u4f60\u5b66\u5230\u7ec4\u4ef6\u7684\u65f6\u5019\u81ea\u7136\u5c31\u660e\u767d\u4e86\u3002\uff09\n// data : function(){\n//     return {\n//         msg : 'Hello Vue!'\n//     }\n// }\n\n// \u5728\u5bf9\u8c61\u5f53\u4e2d\uff0c\u51fd\u6570\u7684 :function \u53ef\u4ee5\u7701\u7565\ndata(){\n    return {\n        msg : 'Hello Zhangsan!'\n    }\n}\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_6","title":"\u4e8b\u4ef6\u4fee\u9970\u7b26","text":"<p>Vue\u5f53\u4e2d\u63d0\u4f9b\u7684\u4e8b\u4ef6\u4fee\u9970\u7b26\uff1a         .stop \uff1a \u505c\u6b62\u4e8b\u4ef6\u5192\u6ce1\uff0c\u7b49\u540c\u4e8e event.stopPropagation()\u3002         .prevent \uff1a \u7b49\u540c\u4e8e event.preventDefault() \u963b\u6b62\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002         .capture \uff1a\u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u5668\u65f6\u4f7f\u7528\u4e8b\u4ef6\u6355\u83b7\u6a21\u5f0f                     \u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u5668\u5305\u62ec\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\uff1a                         \u4e00\u79cd\u662f\u4ece\u5185\u5230\u5916\u6dfb\u52a0\u3002\uff08\u4e8b\u4ef6\u5192\u6ce1\u6a21\u5f0f\uff09                         \u4e00\u79cd\u662f\u4ece\u5916\u5230\u5185\u6dfb\u52a0\u3002\uff08\u4e8b\u4ef6\u6355\u83b7\u6a21\u5f0f\uff09         .self \uff1a\u8fd9\u4e2a\u4e8b\u4ef6\u5982\u679c\u662f\u201c\u6211\u81ea\u5df1\u5143\u7d20\u201d\u4e0a\u53d1\u751f\u7684\u4e8b\u4ef6\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u4e0d\u662f\u522b\u4eba\u7ed9\u6211\u4f20\u9012\u8fc7\u6765\u7684\u4e8b\u4ef6\uff0c\u5219\u6267\u884c\u5bf9\u5e94\u7684\u7a0b\u5e8f\u3002         .once \uff1a \u4e8b\u4ef6\u53ea\u53d1\u751f\u4e00\u6b21         .passive \uff1apassive\u7ffb\u8bd1\u4e3a\u987a\u4ece/\u4e0d\u62b5\u6297\u3002\u65e0\u9700\u7b49\u5f85\uff0c\u76f4\u63a5\u7ee7\u7eed\uff08\u7acb\u5373\uff09\u6267\u884c\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002                     .passive \u548c .prevent \u4fee\u9970\u7b26\u662f\u5bf9\u7acb\u7684\u3002\u4e0d\u53ef\u4ee5\u5171\u5b58\u3002\uff08\u5982\u679c\u4e00\u8d77\u7528\uff0c\u5c31\u4f1a\u62a5\u9519\u3002\uff09                     .prevent\uff1a\u963b\u6b62\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002                     .passive\uff1a\u89e3\u9664\u963b\u6b62\u3002</p> <p>\u793a\u4f8b\u4ee3\u7801    /\u8bfe\u5802\u793a\u4f8b\u6e90\u7801/\u57fa\u7840\u90e8\u5206/02-Vue\u6838\u5fc3\u6280\u672f/16-\u4e8b\u4ef6\u4fee\u9970\u7b26.html</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_7","title":"\u6309\u952e\u4fee\u9970\u7b26","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_8","title":"\u662f\u4ec0\u4e48\uff1f","text":"<p>\u7528\u6765\u8868\u793a\u952e\u76d8\u6309\u952e\u7684\u503c\uff0c\u6709\u4e24\u79cd\u8868\u793a\u65b9\u5f0f\uff1a\u952e\u503c\uff0c\u540d\u79f0\uff0c\u81ea\u5b9a\u4e49\u540d\u79f0</p> <p>\u5982\uff1a\u56de\u8f66\u952e   13  enter</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_9","title":"\u4f5c\u7528\uff1f","text":"<p>\u8ddf\u5728keyup\uff08\u6309\u952e\u6309\u4e0b\u5e76\u62ac\u8d77\uff09\uff0ckeydown\uff08\u6309\u952e\u6309\u4e0b\u672a\u62ac\u8d77\uff09\u540e\u9762\uff0c\u6355\u83b7\u7279\u5b9a\u6309\u952e\uff0c\u6267\u884c\u7279\u5b9a\u7684\u64cd\u4f5c</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_10","title":"\u5e38\u7528\u7684\u6309\u952e\u4fee\u9970\u7b26","text":"Text Only<pre><code>.enter\n.tab \uff08\u5fc5\u987b\u914d\u5408keydown\u4e8b\u4ef6\u4f7f\u7528\u3002\uff09\n.delete (\u6355\u83b7\u201c\u5220\u9664\u201d\u548c\u201c\u9000\u683c\u201d\u952e)\n.esc\n.space\n.up\n.down\n.left\n.right\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_11","title":"\u600e\u4e48\u83b7\u53d6\u67d0\u4e2a\u952e\u7684\u6309\u952e\u4fee\u9970\u7b26\uff1f","text":"<ol> <li>\u901a\u8fc7event.key\u83b7\u53d6\u8fd9\u4e2a\u952e\u7684\u771f\u5b9e\u540d\u5b57\u3002</li> <li>\u7b2c\u4e8c\u6b65\uff1a\u5c06\u8fd9\u4e2a\u771f\u5b9e\u540d\u5b57\u4ee5kebab-case\u98ce\u683c\u8fdb\u884c\u547d\u540d\u3002<ol> <li>PageDown\u662f\u771f\u5b9e\u540d\u5b57\u3002\u7ecf\u8fc7\u547d\u540d\u4e4b\u540e\uff1apage-down</li> </ol> </li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_12","title":"\u81ea\u5b9a\u4e49\u6309\u952e\u4fee\u9970\u7b26","text":"<p>\u901a\u8fc7Vue\u7684\u5168\u5c40\u914d\u7f6e\u5bf9\u8c61config\u6765\u8fdb\u884c\u6309\u952e\u4fee\u9970\u7b26\u7684\u81ea\u5b9a\u4e49\u3002</p> <p><code>Vue.config.keyCodes.\u81ea\u5b9a\u4e49\u6309\u952e\u540d = \u952e\u503c</code></p> <p><code>Vue.config.keyCodes.huiche = 13</code></p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_13","title":"\u7cfb\u7edf\u4fee\u9970\u952e","text":"<p>ctrl\u3001alt\u3001shift\u3001meta</p> <p>\u5bf9\u4e8ekeydown\u4e8b\u4ef6\u6765\u8bf4\uff1a\u53ea\u8981\u6309\u4e0bctrl\u952e\uff0ckeydown\u4e8b\u4ef6\u5c31\u4f1a\u89e6\u53d1\u3002</p> <p>\u5bf9\u4e8ekeyup\u4e8b\u4ef6\u6765\u8bf4\uff1a\u9700\u8981\u6309\u4e0bctrl\u952e\uff0c\u5e76\u4e14\u52a0\u4e0a\u6309\u4e0b\u7ec4\u5408\u952e\uff0c\u7136\u540e\u677e\u5f00\u7ec4\u5408\u952e\u4e4b\u540e\uff0ckeyup\u4e8b\u4ef6\u624d\u80fd\u89e6\u53d1\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_14","title":"\u793a\u4f8b","text":"HTML<pre><code>&lt;div id=\"app\"&gt;\n    \u56de\u8f66\u952e\uff08\u539f\u59cb\u51fd\u6570\u5224\u65ad\uff09\uff1a&lt;input type=\"text\" @keyup=\"printValue1\"&gt;&lt;br&gt;\n    \u56de\u8f66\u952e\uff08\u63cf\u8ff0\u7b26\uff09\uff1a&lt;input type=\"text\" @keyup.enter=\"printValue\"&gt;&lt;br&gt;\n    \u56de\u8f66\u952e\uff08\u952e\u503c\uff09\uff1a&lt;input type=\"text\" @keyup.13=\"printValue\"&gt;&lt;br&gt;\n    ctrl\uff08keydown\uff09\uff1a&lt;input type=\"text\" @keydown.ctrl=\"printValue\"&gt;&lt;br&gt;\n    ctrl\uff08keyup\uff09\uff1a&lt;input type=\"text\" @keyup.ctrl=\"printValue\"&gt;&lt;br&gt;\n    ctrl\uff08+i\uff09\uff1a&lt;input type=\"text\" @keyup.ctrl.i=\"printValue\"&gt;&lt;br&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    const vm = new Vue({\n        el : '#app',\n        data : {\n        },\n        methods : {\n            printValue(event) {\n                console.log(event.target.value);\n            },\n            printValue1(event) {\n                if (event.keyCode === 13) {\n                    console.log(event.target.value);\n                }\n            }\n        }\n    })\n&lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_15","title":"\u53cd\u8f6c\u5b57\u7b26\u4e32","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_16","title":"\u76f4\u63a5\u5728\u5dee\u503c\u8868\u8fbe\u5f0f\u4e2d\u5199\u51fa","text":"HTML<pre><code>\u6b63\u5e8f\u5b57\u7b26\u4e32\uff1a&lt;input type=\"text\" v-model=\"str\"&gt;&lt;br&gt; &lt;!-- \u4f7f\u7528\u53cc\u5411\u7ed1\u5b9a\uff0c\u5c06\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u4f20\u7ed9Vue\u5bf9\u8c61 --&gt;\n\u53cd\u8f6c\u5b57\u7b26\u4e32\uff1a{{str.split('').reverse().join('')}}&lt;br&gt;\n</code></pre> <p>\u4e09\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u53ef\u8bfb\u6027\u5dee\u3002</li> <li>\u4ee3\u7801\u6ca1\u6709\u5f97\u5230\u590d\u7528\u3002</li> <li>\u96be\u4ee5\u7ef4\u62a4\u3002</li> </ol>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#methods","title":"\u5728methods\u4e2d\u5199\u65b9\u6cd5","text":"JavaScript<pre><code>&lt;div id=\"app\"&gt;\n    &lt;h1&gt;{{msg}}&lt;/h1&gt;\n    \u8f93\u5165\u7684\u4fe1\u606f\uff1a&lt;input type=\"text\" v-model=\"info\"&gt; &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{strResverse()}} &lt;br&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    const vm = new Vue({\n        el : '#app',\n        data : {\n            msg : '\u8ba1\u7b97\u5c5e\u6027-\u53cd\u8f6c\u5b57\u7b26\u4e32\u6848\u4f8b',\n            info : ''\n        },\n        methods : {\n            strResverse() {\n                console.log('@');\n                return this.info.split('').reverse().join('')\n            }\n        }\n    })\n&lt;/script&gt;\n</code></pre> <p>\u95ee\u9898\uff1a</p> <p>\u5982\u679c\u6709\u591a\u5904\u8c03\u7528\u8be5\u51fd\u6570\u7684\u8bdd\uff0c\u6bcf\u6b21\u90fd\u9700\u8981\u91cd\u65b0\u6267\u884c\uff0c\u62d6\u6162\u6027\u80fd</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_17","title":"\u8ba1\u7b97\u5c5e\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_18","title":"\u8ba1\u7b97\u5c5e\u6027","text":""},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_19","title":"\u4ec0\u4e48\u662f\u8ba1\u7b97\u5c5e\u6027\uff1f","text":"<p>\u4f7f\u7528Vue\u7684\u539f\u6709\u5c5e\u6027\uff0c\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u8fd0\u7b97/\u8ba1\u7b97\uff0c\u6700\u7ec8\u5f97\u5230\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u5c5e\u6027\uff0c\u53eb\u505a\u8ba1\u7b97\u5c5e\u6027\u3002</p> <ul> <li> <p>Vue\u7684\u539f\u6709\u5c5e\u6027: data\u5bf9\u8c61\u5f53\u4e2d\u7684\u5c5e\u6027\u53ef\u4ee5\u53eb\u505aVue\u7684\u539f\u6709\u5c5e\u6027\u3002</p> </li> <li> <p>\u5168\u65b0\u7684\u5c5e\u6027: \u8868\u793a\u751f\u6210\u4e86\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\uff0c\u548cdata\u4e2d\u7684\u5c5e\u6027\u65e0\u5173\u4e86\uff0c\u65b0\u7684\u5c5e\u6027\u4e5f\u6709\u81ea\u5df1\u7684\u5c5e\u6027\u540d\u548c\u5c5e\u6027\u503c\u3002</p> </li> </ul>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_20","title":"\u8ba1\u7b97\u5c5e\u6027\u600e\u4e48\u7528\uff1f","text":"<p>\u8bed\u6cd5\u683c\u5f0f\uff1a\u9700\u8981\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u9879 computed</p> Text Only<pre><code>computed : {\n    // \u8fd9\u662f\u4e00\u4e2a\u8ba1\u7b97\u5c5e\u6027\n    \u8ba1\u7b97\u5c5e\u60271 : {\n        // setter \u548c getter\u65b9\u6cd5\u3002\n        // \u5f53\u8bfb\u53d6\u8ba1\u7b97\u5c5e\u60271\u7684\u503c\u7684\u65f6\u5019\uff0cgetter\u65b9\u6cd5\u88ab\u81ea\u52a8\u8c03\u7528\u3002\n        get(){\n\n        },\n        // \u5f53\u4fee\u6539\u8ba1\u7b97\u5c5e\u60271\u7684\u503c\u7684\u65f6\u5019\uff0csetter\u65b9\u6cd5\u88ab\u81ea\u52a8\u8c03\u7528\u3002\n        set(val){\n\n        }\n    },\n    // \u8fd9\u662f\u53e6\u4e00\u4e2a\u8ba1\u7b97\u5c5e\u6027\n    \u8ba1\u7b97\u5c5e\u60272 : {},\n}\n</code></pre> <p>\u8c03\u7528\u8ba1\u7b97\u5c5e\u6027\u7684\u65f6\u5019\uff0c\u4f1a\u6267\u884cget\u65b9\u6cd5\uff0c\u5f53\u5df2\u7ecf\u6267\u884c\u8fc7\u4e00\u6b21get\u65b9\u6cd5\u4e4b\u540e\uff0c\u518d\u6b21\u8c03\u7528\u8ba1\u7b97\u5c5e\u6027\u65f6\uff0c\u4f1a\u4ece\u7f13\u5b58\u5f53\u4e2d\u83b7\u53d6\u8ba1\u7b97\u5c5e\u6027\u7684\u503c\u3002</p> <p>\u8fd9\u5c31\u5f15\u51fa\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u66f4\u6539\u8ba1\u7b97\u5c5e\u6027\u7684\u503c\u540e\uff0c\u7a0b\u5e8f\u8fd8\u662f\u4f1a\u4ece\u7f13\u5b58\u5f53\u4e2d\u83b7\u53d6\u503c\uff0c\u800c\u4e0d\u662f\u901a\u8fc7get\u65b9\u6cd5\u83b7\u53d6\u3002</p> <p>\u8fd9\u4e2a\u95ee\u9898\uff0cVue\u7684\u5f00\u53d1\u8005\u5f53\u7136\u60f3\u5230\u4e86\uff0c\u6211\u4eec\u6765\u7814\u7a76\u4e00\u4e0bget\u65b9\u6cd5\u88ab\u6267\u884c\u7684\u89e6\u53d1\u65f6\u673a</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#get","title":"get\u65b9\u6cd5\u88ab\u6267\u884c\u7684\u89e6\u53d1\u65f6\u673a","text":"<p>\u7b2c\u4e00\u4e2a\u65f6\u673a\uff1a\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8fd9\u4e2a\u5c5e\u6027\u7684\u65f6\u5019\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u65f6\u673a\uff1a\u8be5\u8ba1\u7b97\u5c5e\u6027\u6240\u5173\u8054\u7684Vue\u539f\u6709\u5c5e\u6027\u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\uff0cgetter\u65b9\u6cd5\u4f1a\u88ab\u91cd\u65b0\u8c03\u7528\u4e00\u6b21\u3002</p>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_21","title":"\u793a\u4f8b","text":"HTML<pre><code>&lt;div id=\"app\"&gt;\n    &lt;h1&gt;{{msg}}&lt;/h1&gt;\n    \u8f93\u5165\u7684\u4fe1\u606f\uff1a&lt;input type=\"text\" v-model=\"info\"&gt; &lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{reversedInfo}}&lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{reversedInfo}}&lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{reversedInfo}}&lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{reversedInfo}}&lt;br&gt;\n    \u53cd\u8f6c\u7684\u4fe1\u606f\uff1a{{reversedInfo}}&lt;br&gt;\n    {{hehe}} &lt;br&gt;\n    {{hehe}} &lt;br&gt;\n    {{hehe}} &lt;br&gt;\n    {{hehe}} &lt;br&gt;\n    {{hehe}} &lt;br&gt;\n    {{hello()}} &lt;br&gt;\n    {{hello()}} &lt;br&gt;\n    {{hello()}} &lt;br&gt;\n    {{hello()}} &lt;br&gt;\n    {{hello()}} &lt;br&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    const vm = new Vue({\n        el : '#app',\n        data : {\n            msg : '\u8ba1\u7b97\u5c5e\u6027-\u53cd\u8f6c\u5b57\u7b26\u4e32\u6848\u4f8b',\n            info : ''\n        },\n        methods : {\n            hello(){\n                console.log('hello\u65b9\u6cd5\u6267\u884c\u4e86')\n                return 'hello'\n            }\n        },\n        computed : {\n            // \u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u8ba1\u7b97\u5c5e\u6027\n            hehe : {\n                // get\u65b9\u6cd5\u7684\u8c03\u7528\u65f6\u673a\u5305\u62ec\u4e24\u4e2a\n                // \u7b2c\u4e00\u4e2a\u65f6\u673a\uff1a\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8fd9\u4e2a\u5c5e\u6027\u7684\u65f6\u5019\u3002\n                // \u7b2c\u4e8c\u4e2a\u65f6\u673a\uff1a\u8be5\u8ba1\u7b97\u5c5e\u6027\u6240\u5173\u8054\u7684Vue\u539f\u6709\u5c5e\u6027\u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\uff0cgetter\u65b9\u6cd5\u4f1a\u88ab\u91cd\u65b0\u8c03\u7528\u4e00\u6b21\u3002\n                get(){\n                    console.log('getter\u65b9\u6cd5\u8c03\u7528\u4e86')\n                    //console.log(this === vm)\n                    return 'haha' + this.info\n                },\n                // \u4e0d\u80fd\u4f7f\u7528\u7bad\u5934\u51fd\u6570\uff0c\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u4f1a\u5bfc\u81f4this\u7684\u6307\u5411\u662f\uff1awindow\n                // get:()=&gt;{\n                //     console.log('getter\u65b9\u6cd5\u8c03\u7528\u4e86')\n                //     console.log(this === vm)\n                //     return 'haha'\n                // },\n                set(val){\n                    console.log('setter\u65b9\u6cd5\u8c03\u7528\u4e86')\n                    //console.log(this === vm)\n                }\n            },\n            // \u5b8c\u6574\u5199\u6cd5\n            /* reversedInfo : {\n                get(){\n                    return this.info.split('').reverse().join('')\n                },\n                // \u5f53\u4fee\u6539\u8ba1\u7b97\u5c5e\u6027\u7684\u65f6\u5019\uff0cset\u65b9\u6cd5\u88ab\u81ea\u52a8\u8c03\u7528\u3002\n                set(val){\n                    //console.log('setter\u65b9\u6cd5\u88ab\u8c03\u7528\u4e86\u3002')\n                    // \u4e0d\u80fd\u8fd9\u4e48\u505a\uff0c\u8fd9\u6837\u505a\u5c31\u9012\u5f52\u4e86\u3002\n                    //this.reversedInfo = val\n                    // \u600e\u4e48\u4fee\u6539\u8ba1\u7b97\u5c5e\u6027\u5462\uff1f\u539f\u7406\uff1a\u8ba1\u7b97\u5c5e\u6027\u7684\u503c\u53d8\u8fd8\u662f\u4e0d\u53d8\uff0c\u53d6\u51b3\u4e8e\u8ba1\u7b97\u5c5e\u6027\u5173\u8054\u7684Vue\u539f\u59cb\u5c5e\u6027\u7684\u503c\u3002\n                    // \u4e5f\u5c31\u662f\u8bf4\uff1areversedInfo\u53d8\u8fd8\u662f\u4e0d\u53d8\uff0c\u53d6\u51b3\u4e8einfo\u5c5e\u6027\u7684\u503c\u53d8\u4e0d\u53d8\u3002\n                    // \u672c\u8d28\u4e0a\uff1a\u4fee\u6539\u8ba1\u7b97\u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u901a\u8fc7\u4fee\u6539Vue\u7684\u539f\u59cb\u5c5e\u6027\u6765\u5b9e\u73b0\u7684\u3002\n                    this.info = val.split('').reverse().join('')\n                }\n            } */\n\n            // \u7b80\u5199\u5f62\u5f0f\uff1aset\u4e0d\u9700\u8981\u7684\u65f6\u5019\u3002\n            reversedInfo(){\n                return this.info.split('').reverse().join('')\n            }\n        }\n    })\n&lt;/script&gt;\n</code></pre>"},{"location":"%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%89%8D%E7%AB%AF/Vue/#_22","title":"\u8ba1\u7b97\u5c5e\u6027\u7684\u7b80\u5199","text":"<p>\u5f53\u8be5\u8ba1\u7b97\u5c5e\u6027\u53ea\u9700\u8981get\u65b9\u6cd5\u65f6\u53ef\u4ee5\u7531</p> JavaScript<pre><code>reversedInfo : {\n    get(){\n        return this.info.split('').reverse().join('')\n    },\n    set(val){\n        this.info = val.split('').reverse().join('')\n    }\n}\n</code></pre> <p>\u7b80\u5316\u4e3a</p> JavaScript<pre><code>reversedInfo(){\n    return this.info.split('').reverse().join('')\n}\n</code></pre>"}]}